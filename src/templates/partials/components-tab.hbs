<div class="fabricate-components">
    <p>
        Components are the items that are consumed and produced by the crafting activities in your system.
    </p>
    <div class="fabricate-drop-zone fabricate-wide" data-drop-trigger="createComponent">
        <i class="fa-solid fa-plus" style="pointer-events: none"></i> Drop an item here to create a component
    </div>
    <table class="fabricate-item-table">
        <thead class="fabricate-item-table-header">
            <tr>
                <th></th>
                <th>Name</th>
                <th>Essences</th>
                <th>Salvage</th>
                <th></th>
            </tr>
        </thead>
        <tbody class="fabricate-item-table-body">
            {{#each system.components}}
                <tr class="fabricate-item-table-row">
                    <td class="fabricate-item-image">
                        <img src="{{imageUrl}}">
                    </td>
                    <td class="fabricate-item-name">
                        {{name}}
                    </td>
                    <td>
                        <div class="fabricate-essence-list">
                            {{#each essences.units}}
                                <span class="fabricate-essence-preview">
                                    {{quantity}} <i class="{{part.iconCode}}" data-tooltip="{{part.tooltip}}"></i>
                                </span>
                            {{else}}
                                <span class="fabricate-essence-preview">
                                    <!-- todo: localize -->
                                    <i class="fa-solid fa-ellipsis" data-tooltip="No essences"></i>
                                </span>
                            {{/each}}
                        </div>
                    </td>
                    <td>
                        <div class="fabricate-inline-part-list">
                            {{#each salvage.units}}
                                <div class="fabricate-component" data-tooltip="{{part.name}}">
                                    <img src="{{part.imageUrl}}">
                                    <div class="fabricate-info">
                                        <span class="fabricate-detail">{{quantity}}</span>
                                    </div>
                                </div>
                            {{else}}
                                <span class="fabricate-no-salvage">
                                    <i class="fa-solid fa-ellipsis" data-tooltip="No salvage"></i>
                                </span>
                            {{/each}}
                        </div>
                    </td>
                    <td>
                        <div class="fabricate-edit-item">
                            <button type="button" data-action="editComponent" data-component-id="{{id}}" data-tooltip="Edit component">
                                <i class="fa-solid fa-pen-to-square" style="pointer-events: none"></i>
                            </button>
                            <button type="button" data-action="removeComponent" data-component-id="{{id}}" data-tooltip="Remove component">
                                <i class="fa-solid fa-trash" style="pointer-events: none"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            {{/each}}
        </tbody>
    </table>
</div>