/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "E:\\Projects\\Foundry Development\\dev-modules\\fabricate\\module\\scripts";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/scripts/module.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/webpack-stream/node_modules/node-libs-browser/mock/empty.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/webpack-stream/node_modules/node-libs-browser/mock/empty.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy93ZWJwYWNrLXN0cmVhbS9ub2RlX21vZHVsZXMvbm9kZS1saWJzLWJyb3dzZXIvbW9jay9lbXB0eS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack-stream/node_modules/node-libs-browser/mock/empty.js\n");

/***/ }),

/***/ "./src/scripts/Properties.ts":
/*!***********************************!*\
  !*** ./src/scripts/Properties.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n\r\nconst Properties = {\r\n    module: {\r\n        name: 'fabricate',\r\n        label: 'Fabricate',\r\n        templates: {\r\n            recipeTab: 'modules/fabricate/templates/recipe-tab.html',\r\n            craftingTab: 'modules/fabricate/templates/crafting-tab.html'\r\n        }\r\n    },\r\n    types: {\r\n        recipe: _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].RECIPE,\r\n        component: _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT,\r\n        allowableItems: ['consumable', 'loot', 'scroll', 'trinket']\r\n    },\r\n    flagKeys: {\r\n        actor: {\r\n            selectedCraftingSystem: 'crafting.selectedSystemId',\r\n            hopperForSystem: (systemId) => `crafting.${systemId}.hopper`,\r\n            knownRecipesForSystem: (systemId) => `crafting.${systemId}.knownRecipes`,\r\n        },\r\n        item: {\r\n            identity: 'identity',\r\n            partId: 'identity.partId',\r\n            systemId: 'identity.systemId',\r\n            fabricateItemType: 'type',\r\n        }\r\n    },\r\n    settingsKeys: {\r\n        craftingSystem: {\r\n            enabled: (systemId) => `${systemId}.enabled`\r\n        }\r\n    }\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Properties);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzPzkwMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF3RDtBQUV4RCxNQUFNLFVBQVUsR0FBRztJQUNmLE1BQU0sRUFBRTtRQUNKLElBQUksRUFBRSxXQUFXO1FBQ2pCLEtBQUssRUFBRSxXQUFXO1FBQ2xCLFNBQVMsRUFBRTtZQUNQLFNBQVMsRUFBRSw2Q0FBNkM7WUFDeEQsV0FBVyxFQUFFLCtDQUErQztTQUMvRDtLQUNKO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsTUFBTSxFQUFFLHNFQUFpQixDQUFDLE1BQU07UUFDaEMsU0FBUyxFQUFFLHNFQUFpQixDQUFDLFNBQVM7UUFDdEMsY0FBYyxFQUFFLENBQUMsWUFBWSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDO0tBQzlEO0lBQ0QsUUFBUSxFQUFFO1FBQ04sS0FBSyxFQUFFO1lBQ0gsc0JBQXNCLEVBQUUsMkJBQTJCO1lBQ25ELGVBQWUsRUFBRSxDQUFDLFFBQWdCLEVBQUUsRUFBRSxDQUFDLFlBQVksUUFBUSxTQUFTO1lBQ3BFLHFCQUFxQixFQUFFLENBQUMsUUFBZ0IsRUFBRSxFQUFFLENBQUMsWUFBWSxRQUFRLGVBQWU7U0FDbkY7UUFDRCxJQUFJLEVBQUU7WUFDRixRQUFRLEVBQUUsVUFBVTtZQUNwQixNQUFNLEVBQUUsaUJBQWlCO1lBQ3pCLFFBQVEsRUFBRSxtQkFBbUI7WUFDN0IsaUJBQWlCLEVBQUUsTUFBTTtTQUM1QjtLQUNKO0lBQ0QsWUFBWSxFQUFFO1FBQ1YsY0FBYyxFQUFFO1lBQ1osT0FBTyxFQUFFLENBQUMsUUFBZ0IsRUFBRSxFQUFFLENBQUMsR0FBRyxRQUFRLFVBQVU7U0FDdkQ7S0FDSjtDQUNKLENBQUM7QUFFYSx5RUFBVSxFQUFDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvUHJvcGVydGllcy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuL2dhbWUvQ29tcGVuZGl1bURhdGFcIjtcclxuXHJcbmNvbnN0IFByb3BlcnRpZXMgPSB7XHJcbiAgICBtb2R1bGU6IHtcclxuICAgICAgICBuYW1lOiAnZmFicmljYXRlJyxcclxuICAgICAgICBsYWJlbDogJ0ZhYnJpY2F0ZScsXHJcbiAgICAgICAgdGVtcGxhdGVzOiB7XHJcbiAgICAgICAgICAgIHJlY2lwZVRhYjogJ21vZHVsZXMvZmFicmljYXRlL3RlbXBsYXRlcy9yZWNpcGUtdGFiLmh0bWwnLFxyXG4gICAgICAgICAgICBjcmFmdGluZ1RhYjogJ21vZHVsZXMvZmFicmljYXRlL3RlbXBsYXRlcy9jcmFmdGluZy10YWIuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdHlwZXM6IHtcclxuICAgICAgICByZWNpcGU6IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSxcclxuICAgICAgICBjb21wb25lbnQ6IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVCxcclxuICAgICAgICBhbGxvd2FibGVJdGVtczogWydjb25zdW1hYmxlJywgJ2xvb3QnLCAnc2Nyb2xsJywgJ3RyaW5rZXQnXVxyXG4gICAgfSxcclxuICAgIGZsYWdLZXlzOiB7XHJcbiAgICAgICAgYWN0b3I6IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRDcmFmdGluZ1N5c3RlbTogJ2NyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtSWQnLFxyXG4gICAgICAgICAgICBob3BwZXJGb3JTeXN0ZW06IChzeXN0ZW1JZDogc3RyaW5nKSA9PiBgY3JhZnRpbmcuJHtzeXN0ZW1JZH0uaG9wcGVyYCxcclxuICAgICAgICAgICAga25vd25SZWNpcGVzRm9yU3lzdGVtOiAoc3lzdGVtSWQ6IHN0cmluZykgPT4gYGNyYWZ0aW5nLiR7c3lzdGVtSWR9Lmtub3duUmVjaXBlc2AsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpdGVtOiB7XHJcbiAgICAgICAgICAgIGlkZW50aXR5OiAnaWRlbnRpdHknLFxyXG4gICAgICAgICAgICBwYXJ0SWQ6ICdpZGVudGl0eS5wYXJ0SWQnLFxyXG4gICAgICAgICAgICBzeXN0ZW1JZDogJ2lkZW50aXR5LnN5c3RlbUlkJyxcclxuICAgICAgICAgICAgZmFicmljYXRlSXRlbVR5cGU6ICd0eXBlJyxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0dGluZ3NLZXlzOiB7XHJcbiAgICAgICAgY3JhZnRpbmdTeXN0ZW06IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogKHN5c3RlbUlkOiBzdHJpbmcpID0+IGAke3N5c3RlbUlkfS5lbmFibGVkYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb3BlcnRpZXM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/Properties.ts\n");

/***/ }),

/***/ "./src/scripts/application/FabricateApplication.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/application/FabricateApplication.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\n\r\n\r\nclass FabricateApplication {\r\n    constructor() {\r\n        this._inventories = new _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_0__[\"InventoryRegistry\"]();\r\n        this._systems = new _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_1__[\"CraftingSystemRegistry\"]();\r\n    }\r\n    get inventories() {\r\n        return this._inventories;\r\n    }\r\n    get systems() {\r\n        return this._systems;\r\n    }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (new FabricateApplication());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvbi50cz83NzE2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFrRTtBQUNVO0FBRTVFLE1BQU0sb0JBQW9CO0lBS3RCO1FBQ0ksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLCtFQUFpQixFQUFFLENBQUM7UUFDNUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLHlGQUFzQixFQUFFLENBQUM7SUFDakQsQ0FBQztJQUVELElBQUksV0FBVztRQUNYLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7Q0FFSjtBQUVjLG1FQUFJLG9CQUFvQixFQUFFLEVBQUMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW52ZW50b3J5UmVnaXN0cnl9IGZyb20gXCIuLi9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0gZnJvbSBcIi4uL3JlZ2lzdHJpZXMvQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeVwiO1xyXG5cclxuY2xhc3MgRmFicmljYXRlQXBwbGljYXRpb24ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludmVudG9yaWVzOiBJbnZlbnRvcnlSZWdpc3RyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3N5c3RlbXM6IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5faW52ZW50b3JpZXMgPSBuZXcgSW52ZW50b3J5UmVnaXN0cnkoKTtcclxuICAgICAgICB0aGlzLl9zeXN0ZW1zID0gbmV3IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW52ZW50b3JpZXMoKTogSW52ZW50b3J5UmVnaXN0cnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZlbnRvcmllcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3lzdGVtcygpOiBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3lzdGVtcztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBGYWJyaWNhdGVBcHBsaWNhdGlvbigpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/application/FabricateApplication.ts\n");

/***/ }),

/***/ "./src/scripts/application/FabricateLifecycle.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/application/FabricateLifecycle.ts ***!
  \*******************************************************/
/*! exports provided: FabricateLifecycle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateLifecycle\", function() { return FabricateLifecycle; });\n/* harmony import */ var _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interface/ItemRecipeTab */ \"./src/scripts/interface/ItemRecipeTab.ts\");\n/* harmony import */ var _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interface/CraftingTab */ \"./src/scripts/interface/CraftingTab.ts\");\n/* harmony import */ var _core_EssenceType__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/EssenceType */ \"./src/scripts/core/EssenceType.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _FabricateApplication__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass FabricateLifecycle {\r\n    static init() {\r\n        this.registerHandlebarsHelperFunctions();\r\n        this.registerItemRecipeTab();\r\n        this.registerActorCraftingTab();\r\n        this.registerApplicationListeners();\r\n    }\r\n    static registerHandlebarsHelperFunctions() {\r\n        Handlebars.registerHelper('ifEquals', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return (arg1 == arg2) ? options.fn(this) : options.inverse(this);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIcon', function (arg1) {\r\n            // @ts-ignore\r\n            return _core_EssenceType__WEBPACK_IMPORTED_MODULE_2__[\"EssenceTypeIconConverter\"].convertToIconMarkup(arg1);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIconSeries', function (arg1) {\r\n            // @ts-ignore\r\n            return _core_EssenceType__WEBPACK_IMPORTED_MODULE_2__[\"EssenceTypeIconConverter\"].convertSeriesToIconMarkup(arg1);\r\n        });\r\n    }\r\n    static registerActorCraftingTab() {\r\n        Hooks.on('renderActorSheet5e', (sheetData, sheetHtml, eventData) => {\r\n            _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__[\"CraftingTab\"].bind(sheetData, sheetHtml, eventData);\r\n        });\r\n    }\r\n    static registerItemRecipeTab() {\r\n        Hooks.on('renderItemSheet5e', (sheetData, sheetHtml) => {\r\n            _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__[\"ItemRecipeTab\"].bind(sheetData, sheetHtml);\r\n        });\r\n    }\r\n    static registerApplicationListeners() {\r\n        Hooks.on('createOwnedItem', (actor) => {\r\n            const inventory = _FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inventories.getFor(actor.id);\r\n            if (inventory) {\r\n                inventory.update();\r\n            }\r\n        });\r\n        Hooks.on('deleteOwnedItem', (actor) => {\r\n            const inventory = _FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inventories.getFor(actor.id);\r\n            if (inventory) {\r\n                inventory.update();\r\n            }\r\n        });\r\n        Hooks.on('updateOwnedItem', (actor, item, update) => __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inventories.getFor(actor.id);\r\n            if (inventory) {\r\n                if (typeof update.data !== 'undefined') {\r\n                    yield inventory.updateQuantityFor(item);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    static registerCraftingSystemSettings(systemSpec) {\r\n        game.settings.register(_Properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].settingsKeys.craftingSystem.enabled(systemSpec.compendiumPackKey), {\r\n            name: systemSpec.name,\r\n            hint: systemSpec.enableHint,\r\n            scope: \"world\",\r\n            type: Boolean,\r\n            default: true,\r\n            config: true,\r\n            onChange: (enabled) => { _FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].systems.getSystemByCompendiumPackKey(systemSpec.compendiumPackKey).enabled = enabled; }\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVMaWZlY3ljbGUudHM/OTA0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0o7QUFFUTtBQUV0QjtBQUNtQjtBQUUxRCxNQUFNLGtCQUFrQjtJQUViLE1BQU0sQ0FBQyxJQUFJO1FBQ2QsSUFBSSxDQUFDLGlDQUFpQyxFQUFFLENBQUM7UUFDekMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLHdCQUF3QixFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLDRCQUE0QixFQUFFO0lBQ3ZDLENBQUM7SUFFTyxNQUFNLENBQUMsaUNBQWlDO1FBRTVDLFVBQVUsQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUFFLFVBQVMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPO1lBQzlELGFBQWE7WUFDYixPQUFPLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JFLENBQUMsQ0FBQyxDQUFDO1FBRUgsYUFBYTtRQUNiLFVBQVUsQ0FBQyxjQUFjLENBQUMsYUFBYSxFQUFFLFVBQVMsSUFBSTtZQUNsRCxhQUFhO1lBQ2IsT0FBTywwRUFBd0IsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxDQUFDLENBQUMsQ0FBQztRQUVILGFBQWE7UUFDYixVQUFVLENBQUMsY0FBYyxDQUFDLG1CQUFtQixFQUFFLFVBQVMsSUFBSTtZQUN4RCxhQUFhO1lBQ2IsT0FBTywwRUFBd0IsQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwRSxDQUFDLENBQUMsQ0FBQztJQUVQLENBQUM7SUFFTyxNQUFNLENBQUMsd0JBQXdCO1FBRW5DLEtBQUssQ0FBQyxFQUFFLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxTQUFvQixFQUFFLFNBQWMsRUFBRSxTQUFjLEVBQUUsRUFBRTtZQUNwRixrRUFBVyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLE1BQU0sQ0FBQyxxQkFBcUI7UUFFaEMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLFNBQW9CLEVBQUUsU0FBYyxFQUFFLEVBQUU7WUFDbkUsc0VBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLE1BQU0sQ0FBQyw0QkFBNEI7UUFFdkMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLEtBQVUsRUFBRSxFQUFFO1lBQ3ZDLE1BQU0sU0FBUyxHQUFHLDZEQUFvQixDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3BFLElBQUksU0FBUyxFQUFFO2dCQUNYLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUN0QjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLEtBQVUsRUFBRSxFQUFFO1lBQ3ZDLE1BQU0sU0FBUyxHQUFHLDZEQUFvQixDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3BFLElBQUksU0FBUyxFQUFFO2dCQUNYLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUN0QjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFPLEtBQVUsRUFBRSxJQUFTLEVBQUUsTUFBVyxFQUFFLEVBQUU7WUFDckUsTUFBTSxTQUFTLEdBQWMsNkRBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDL0UsSUFBSSxTQUFTLEVBQUU7Z0JBQ1gsSUFBSSxPQUFPLE1BQU0sQ0FBQyxJQUFJLEtBQUssV0FBVyxFQUFFO29CQUNwQyxNQUFNLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztpQkFDM0M7YUFDSjtRQUNMLENBQUMsRUFBQyxDQUFDO0lBRVAsQ0FBQztJQUVNLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQyxVQUF1QztRQUNoRixJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsbURBQVUsQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsRUFBRTtZQUN6SCxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7WUFDckIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxVQUFVO1lBQzNCLEtBQUssRUFBRSxPQUFPO1lBQ2QsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsSUFBSTtZQUNiLE1BQU0sRUFBRSxJQUFJO1lBQ1osUUFBUSxFQUFFLENBQUMsT0FBZ0IsRUFBRSxFQUFFLEdBQUUsNkRBQW9CLENBQUMsT0FBTyxDQUFDLDRCQUE0QixDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ2hKLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FDSjtBQUUwQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2FwcGxpY2F0aW9uL0ZhYnJpY2F0ZUxpZmVjeWNsZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SXRlbVJlY2lwZVRhYn0gZnJvbSBcIi4uL2ludGVyZmFjZS9JdGVtUmVjaXBlVGFiXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdUYWJ9IGZyb20gXCIuLi9pbnRlcmZhY2UvQ3JhZnRpbmdUYWJcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9nYW1lL0ludmVudG9yeVwiO1xyXG5pbXBvcnQge0Vzc2VuY2VUeXBlSWNvbkNvbnZlcnRlcn0gZnJvbSBcIi4uL2NvcmUvRXNzZW5jZVR5cGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb259IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvblwiO1xyXG5pbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQgRmFicmljYXRlQXBwbGljYXRpb24gZnJvbSBcIi4vRmFicmljYXRlQXBwbGljYXRpb25cIjtcclxuXHJcbmNsYXNzIEZhYnJpY2F0ZUxpZmVjeWNsZSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlckl0ZW1SZWNpcGVUYWIoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyQWN0b3JDcmFmdGluZ1RhYigpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJBcHBsaWNhdGlvbkxpc3RlbmVycygpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyRnVuY3Rpb25zKCkge1xyXG5cclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZkVxdWFscycsIGZ1bmN0aW9uKGFyZzEsIGFyZzIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gKGFyZzEgPT0gYXJnMikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZXNzZW5jZUljb24nLCBmdW5jdGlvbihhcmcxKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmV0dXJuIEVzc2VuY2VUeXBlSWNvbkNvbnZlcnRlci5jb252ZXJ0VG9JY29uTWFya3VwKGFyZzEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZXNzZW5jZUljb25TZXJpZXMnLCBmdW5jdGlvbihhcmcxKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmV0dXJuIEVzc2VuY2VUeXBlSWNvbkNvbnZlcnRlci5jb252ZXJ0U2VyaWVzVG9JY29uTWFya3VwKGFyZzEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWdpc3RlckFjdG9yQ3JhZnRpbmdUYWIoKSB7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0NWUnLCAoc2hlZXREYXRhOiBJdGVtU2hlZXQsIHNoZWV0SHRtbDogYW55LCBldmVudERhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBDcmFmdGluZ1RhYi5iaW5kKHNoZWV0RGF0YSwgc2hlZXRIdG1sLCBldmVudERhdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWdpc3Rlckl0ZW1SZWNpcGVUYWIoKSB7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCdyZW5kZXJJdGVtU2hlZXQ1ZScsIChzaGVldERhdGE6IEl0ZW1TaGVldCwgc2hlZXRIdG1sOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgSXRlbVJlY2lwZVRhYi5iaW5kKHNoZWV0RGF0YSwgc2hlZXRIdG1sKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJBcHBsaWNhdGlvbkxpc3RlbmVycygpIHtcclxuXHJcbiAgICAgICAgSG9va3Mub24oJ2NyZWF0ZU93bmVkSXRlbScsIChhY3RvcjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmdldEZvcihhY3Rvci5pZCk7XHJcbiAgICAgICAgICAgIGlmIChpbnZlbnRvcnkpIHtcclxuICAgICAgICAgICAgICAgIGludmVudG9yeS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBIb29rcy5vbignZGVsZXRlT3duZWRJdGVtJywgKGFjdG9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5ID0gRmFicmljYXRlQXBwbGljYXRpb24uaW52ZW50b3JpZXMuZ2V0Rm9yKGFjdG9yLmlkKTtcclxuICAgICAgICAgICAgaWYgKGludmVudG9yeSkge1xyXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCd1cGRhdGVPd25lZEl0ZW0nLCBhc3luYyAoYWN0b3I6IGFueSwgaXRlbTogYW55LCB1cGRhdGU6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnk6IEludmVudG9yeSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmdldEZvcihhY3Rvci5pZCk7XHJcbiAgICAgICAgICAgIGlmIChpbnZlbnRvcnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXBkYXRlLmRhdGEgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW52ZW50b3J5LnVwZGF0ZVF1YW50aXR5Rm9yKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVnaXN0ZXJDcmFmdGluZ1N5c3RlbVNldHRpbmdzKHN5c3RlbVNwZWM6IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbikge1xyXG4gICAgICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5zZXR0aW5nc0tleXMuY3JhZnRpbmdTeXN0ZW0uZW5hYmxlZChzeXN0ZW1TcGVjLmNvbXBlbmRpdW1QYWNrS2V5KSwge1xyXG4gICAgICAgICAgICBuYW1lOiBzeXN0ZW1TcGVjLm5hbWUsXHJcbiAgICAgICAgICAgIGhpbnQ6IHN5c3RlbVNwZWMuZW5hYmxlSGludCxcclxuICAgICAgICAgICAgc2NvcGU6IFwid29ybGRcIixcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlnOiB0cnVlLFxyXG4gICAgICAgICAgICBvbkNoYW5nZTogKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHtGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSkuZW5hYmxlZCA9IGVuYWJsZWQ7IH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtGYWJyaWNhdGVMaWZlY3ljbGV9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/application/FabricateLifecycle.ts\n");

/***/ }),

/***/ "./src/scripts/core/ActionType.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/ActionType.ts ***!
  \****************************************/
/*! exports provided: ActionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionType\", function() { return ActionType; });\nvar ActionType;\r\n(function (ActionType) {\r\n    ActionType[\"ADD\"] = \"ADD\";\r\n    ActionType[\"REMOVE\"] = \"REMOVE\";\r\n})(ActionType || (ActionType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0FjdGlvblR5cGUudHM/NGFiZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsSUFBWSxVQUdYO0FBSEQsV0FBWSxVQUFVO0lBQ2xCLHlCQUFXO0lBQ1gsK0JBQWlCO0FBQ3JCLENBQUMsRUFIVyxVQUFVLEtBQVYsVUFBVSxRQUdyQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQWN0aW9uVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEFjdGlvblR5cGUge1xyXG4gICAgQUREID0gJ0FERCcsXHJcbiAgICBSRU1PVkUgPSAnUkVNT1ZFJ1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/ActionType.ts\n");

/***/ }),

/***/ "./src/scripts/core/AlchemicalResultSet.ts":
/*!*************************************************!*\
  !*** ./src/scripts/core/AlchemicalResultSet.ts ***!
  \*************************************************/
/*! exports provided: AlchemicalResultSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlchemicalResultSet\", function() { return AlchemicalResultSet; });\n/* harmony import */ var _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricationHelper */ \"./src/scripts/core/FabricationHelper.ts\");\n\r\nclass AlchemicalResultSet {\r\n    constructor(builder) {\r\n        this._resultsByCombinationIdentity = new Map();\r\n        this._essenceIdentities = new Map();\r\n        const alchemicalResults = builder.results;\r\n        const uniqueEssences = alchemicalResults.map((result) => result.essenceCombination)\r\n            .reduce((left, right) => left.concat(right), [])\r\n            .filter((essence, index, collection) => collection.indexOf(essence) === index);\r\n        this._essenceIdentities = _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__[\"FabricationHelper\"].assignEssenceIdentities(uniqueEssences);\r\n        alchemicalResults.forEach((result) => {\r\n            const essenceCombinationIdentity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__[\"FabricationHelper\"].essenceCombinationIdentity(result.essenceCombination, this._essenceIdentities);\r\n            if (this._resultsByCombinationIdentity.has(essenceCombinationIdentity)) {\r\n                throw new Error(`The combination ${(result.essenceCombination)} was duplicated. Each essence combination must map to a unique effect.`);\r\n            }\r\n            this._resultsByCombinationIdentity.set(essenceCombinationIdentity, result);\r\n        });\r\n    }\r\n    static builder() {\r\n        return new AlchemicalResultSet.Builder();\r\n    }\r\n    getByEssenceCombination(essenceCombination) {\r\n        const identity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__[\"FabricationHelper\"].essenceCombinationIdentity(essenceCombination, this._essenceIdentities);\r\n        return this._resultsByCombinationIdentity.get(identity);\r\n    }\r\n}\r\n(function (AlchemicalResultSet) {\r\n    class Builder {\r\n        constructor() {\r\n            this.results = [];\r\n        }\r\n        withResult(value) {\r\n            this.results.push(value);\r\n            return this;\r\n        }\r\n        withResults(value) {\r\n            this.results.push(...value);\r\n            return this;\r\n        }\r\n        build() {\r\n            return new AlchemicalResultSet(this);\r\n        }\r\n    }\r\n    AlchemicalResultSet.Builder = Builder;\r\n})(AlchemicalResultSet || (AlchemicalResultSet = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0FsY2hlbWljYWxSZXN1bHRTZXQudHM/MDBmMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBc0Q7QUFzQnRELE1BQU0sbUJBQW1CO0lBSXJCLFlBQVksT0FBdUM7UUFIbEMsa0NBQTZCLEdBQXFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDNUUsdUJBQWtCLEdBQXdCLElBQUksR0FBRyxFQUFFLENBQUM7UUFHakUsTUFBTSxpQkFBaUIsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQzFDLE1BQU0sY0FBYyxHQUFhLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQTJCLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQzthQUM3RyxNQUFNLENBQUMsQ0FBQyxJQUFjLEVBQUUsS0FBZSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQzthQUNuRSxNQUFNLENBQUMsQ0FBQyxPQUFlLEVBQUUsS0FBYSxFQUFFLFVBQW9CLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUM7UUFDN0csSUFBSSxDQUFDLGtCQUFrQixHQUFHLG9FQUFpQixDQUFDLHVCQUF1QixDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3BGLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQTJCLEVBQUUsRUFBRTtZQUN0RCxNQUFNLDBCQUEwQixHQUFHLG9FQUFpQixDQUFDLDBCQUEwQixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztZQUNwSSxJQUFJLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLENBQUMsRUFBRTtnQkFDcEUsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLENBQUMsd0VBQXdFLENBQUMsQ0FBQzthQUMzSTtZQUNELElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDL0UsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLG1CQUFtQixDQUFDLE9BQU8sRUFBSyxDQUFDO0lBQ2hELENBQUM7SUFFTSx1QkFBdUIsQ0FBQyxrQkFBNEI7UUFDdkQsTUFBTSxRQUFRLEdBQUcsb0VBQWlCLENBQUMsMEJBQTBCLENBQUMsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDM0csT0FBTyxJQUFJLENBQUMsNkJBQTZCLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVELENBQUM7Q0FDSjtBQUVELFdBQVUsbUJBQW1CO0lBRXpCLE1BQWEsT0FBTztRQUFwQjtZQUVXLFlBQU8sR0FBMEIsRUFBRSxDQUFDO1FBZ0IvQyxDQUFDO1FBZFUsVUFBVSxDQUFDLEtBQTBCO1lBQ3hDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxXQUFXLENBQUMsS0FBNEI7WUFDM0MsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sS0FBSztZQUNSLE9BQU8sSUFBSSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxDQUFDO0tBRUo7SUFsQlksMkJBQU8sVUFrQm5CO0FBRUwsQ0FBQyxFQXRCUyxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBc0I1QjtBQUU2RSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQWxjaGVtaWNhbFJlc3VsdFNldC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRpb25IZWxwZXJ9IGZyb20gXCIuL0ZhYnJpY2F0aW9uSGVscGVyXCI7XHJcblxyXG5pbnRlcmZhY2UgSXRlbUVmZmVjdDxUPiB7XHJcbiAgICBhcHBseVRvKGl0ZW1EYXRhOiBUKTogdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIEl0ZW1FZmZlY3RNb2RpZmllcjxUPiB7XHJcbiAgICB0cmFuc2Zvcm0oaXRlbUVmZmVjdDogSXRlbUVmZmVjdDxUPik6IEl0ZW1FZmZlY3Q8VD47XHJcbiAgICBtYXRjaGVzKGl0ZW1FZmZlY3Q6IEl0ZW1FZmZlY3Q8VD4pOiBib29sZWFuO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQWxjaGVtaWNhbFJlc3VsdDxUPiB7XHJcbiAgICBlc3NlbmNlQ29tYmluYXRpb246IHN0cmluZ1tdO1xyXG4gICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uUGFydHM6IHN0cmluZ1tdO1xyXG4gICAgYXNJdGVtRGF0YSgpOiBUO1xyXG4gICAgY29tYmluZVdpdGgob3RoZXI6IEFsY2hlbWljYWxSZXN1bHQ8VD4pOiBBbGNoZW1pY2FsUmVzdWx0PFQ+O1xyXG4gICAgZWZmZWN0czogSXRlbUVmZmVjdDxUPltdO1xyXG4gICAgZWZmZWN0TW9kaWZpZXJzOiBJdGVtRWZmZWN0TW9kaWZpZXI8VD5bXTtcclxuICAgIGR1cGxpY2F0ZSgpOiBBbGNoZW1pY2FsUmVzdWx0PFQ+O1xyXG59XHJcblxyXG5jbGFzcyBBbGNoZW1pY2FsUmVzdWx0U2V0PFQ+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHk6IE1hcDxudW1iZXIsIEFsY2hlbWljYWxSZXN1bHQ8VD4+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUlkZW50aXRpZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQWxjaGVtaWNhbFJlc3VsdFNldC5CdWlsZGVyPFQ+KSB7XHJcbiAgICAgICAgY29uc3QgYWxjaGVtaWNhbFJlc3VsdHMgPSBidWlsZGVyLnJlc3VsdHM7XHJcbiAgICAgICAgY29uc3QgdW5pcXVlRXNzZW5jZXM6IHN0cmluZ1tdID0gYWxjaGVtaWNhbFJlc3VsdHMubWFwKChyZXN1bHQ6IEFsY2hlbWljYWxSZXN1bHQ8VD4pID0+IHJlc3VsdC5lc3NlbmNlQ29tYmluYXRpb24pXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IHN0cmluZ1tdLCByaWdodDogc3RyaW5nW10pID0+IGxlZnQuY29uY2F0KHJpZ2h0KSwgW10pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGVzc2VuY2U6IHN0cmluZywgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogc3RyaW5nW10pID0+IGNvbGxlY3Rpb24uaW5kZXhPZihlc3NlbmNlKSA9PT0gaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VJZGVudGl0aWVzID0gRmFicmljYXRpb25IZWxwZXIuYXNzaWduRXNzZW5jZUlkZW50aXRpZXModW5pcXVlRXNzZW5jZXMpO1xyXG4gICAgICAgIGFsY2hlbWljYWxSZXN1bHRzLmZvckVhY2goKHJlc3VsdDogQWxjaGVtaWNhbFJlc3VsdDxUPikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eSA9IEZhYnJpY2F0aW9uSGVscGVyLmVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5KHJlc3VsdC5lc3NlbmNlQ29tYmluYXRpb24sIHRoaXMuX2Vzc2VuY2VJZGVudGl0aWVzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHkuaGFzKGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29tYmluYXRpb24gJHsocmVzdWx0LmVzc2VuY2VDb21iaW5hdGlvbil9IHdhcyBkdXBsaWNhdGVkLiBFYWNoIGVzc2VuY2UgY29tYmluYXRpb24gbXVzdCBtYXAgdG8gYSB1bmlxdWUgZWZmZWN0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHkuc2V0KGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5LCByZXN1bHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRlcjxUPigpOkFsY2hlbWljYWxSZXN1bHRTZXQuQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbGNoZW1pY2FsUmVzdWx0U2V0LkJ1aWxkZXI8VD4oKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnlFc3NlbmNlQ29tYmluYXRpb24oZXNzZW5jZUNvbWJpbmF0aW9uOiBzdHJpbmdbXSk6IEFsY2hlbWljYWxSZXN1bHQ8VD4ge1xyXG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gRmFicmljYXRpb25IZWxwZXIuZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkoZXNzZW5jZUNvbWJpbmF0aW9uLCB0aGlzLl9lc3NlbmNlSWRlbnRpdGllcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHkuZ2V0KGlkZW50aXR5KTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIEFsY2hlbWljYWxSZXN1bHRTZXQge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyPFQ+IHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3VsdHM6IEFsY2hlbWljYWxSZXN1bHQ8VD5bXSA9IFtdO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFJlc3VsdCh2YWx1ZTogQWxjaGVtaWNhbFJlc3VsdDxUPik6IEJ1aWxkZXI8VD4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhSZXN1bHRzKHZhbHVlOiBBbGNoZW1pY2FsUmVzdWx0PFQ+W10pOiBCdWlsZGVyPFQ+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHRzLnB1c2goLi4udmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBBbGNoZW1pY2FsUmVzdWx0U2V0PFQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbGNoZW1pY2FsUmVzdWx0U2V0KHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0FsY2hlbWljYWxSZXN1bHRTZXQsIEl0ZW1FZmZlY3QsIEl0ZW1FZmZlY3RNb2RpZmllciwgQWxjaGVtaWNhbFJlc3VsdH0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/AlchemicalResultSet.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingComponent.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/CraftingComponent.ts ***!
  \***********************************************/
/*! exports provided: CraftingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingComponent\", function() { return CraftingComponent; });\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\nclass CraftingComponent extends _FabricateItem__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.systemId, builder.partId, builder.imageUrl, builder.name);\r\n        this._essences = builder.essences;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    static builder() {\r\n        return new CraftingComponent.Builder();\r\n    }\r\n    static fromFlags(fabricateFlags, name, imageUrl) {\r\n        if (fabricateFlags.type !== _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Crafting Component from ${fabricateFlags.type} data. `);\r\n        }\r\n        return CraftingComponent.builder()\r\n            .withName(name)\r\n            .withSystemId(fabricateFlags.identity.systemId)\r\n            .withPartId(fabricateFlags.identity.partId)\r\n            .withEssences(fabricateFlags.component.essences)\r\n            .withImageUrl(imageUrl)\r\n            .build();\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.sharesType(other)\r\n            && other.name === this.name\r\n            && other.imageUrl === this.imageUrl\r\n            && other.essences.length === this.essences.length\r\n            && other.essences.every((essence) => this.essences.includes(essence));\r\n    }\r\n    isValid() {\r\n        return (this.name != null && this.name.length > 0)\r\n            && (this.essences != null)\r\n            && super.isValid();\r\n    }\r\n}\r\n(function (CraftingComponent) {\r\n    class Builder {\r\n        constructor() {\r\n            this.essences = [];\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withSystemId(value) {\r\n            this.systemId = value;\r\n            return this;\r\n        }\r\n        withPartId(value) {\r\n            this.partId = value;\r\n            return this;\r\n        }\r\n        withEssences(value) {\r\n            this.essences = value;\r\n            return this;\r\n        }\r\n        withEssence(value) {\r\n            this.essences.push(value);\r\n            return this;\r\n        }\r\n        withImageUrl(value) {\r\n            this.imageUrl = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingComponent(this);\r\n        }\r\n    }\r\n    CraftingComponent.Builder = Builder;\r\n})(CraftingComponent || (CraftingComponent = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50LnRzPzlhZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBbUc7QUFDckQ7QUFFOUMsTUFBTSxpQkFBa0IsU0FBUSw0REFBYTtJQUd6QyxZQUFZLE9BQWtDO1FBQzFDLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEUsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO0lBQ3RDLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUF1QyxFQUFFLElBQVksRUFBRSxRQUFnQjtRQUMzRixJQUFJLGNBQWMsQ0FBQyxJQUFJLEtBQUssc0VBQWlCLENBQUMsU0FBUyxFQUFFO1lBQ3JELE1BQU0sSUFBSSxLQUFLLENBQUMsdUVBQXVFLGNBQWMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDO1NBQ3hIO1FBQ0QsT0FBTyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUU7YUFDN0IsUUFBUSxDQUFDLElBQUksQ0FBQzthQUNkLFlBQVksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQzthQUM5QyxVQUFVLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7YUFDMUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2FBQy9DLFlBQVksQ0FBQyxRQUFRLENBQUM7YUFDdEIsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUF3QjtRQUNsQyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO2VBQ3RCLEtBQUssQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUk7ZUFDeEIsS0FBSyxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsUUFBUTtlQUNoQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU07ZUFDOUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFlLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDdEYsQ0FBQztJQUVNLE9BQU87UUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2VBQzNDLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUM7ZUFDdkIsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNCLENBQUM7Q0FFSjtBQUVELFdBQVUsaUJBQWlCO0lBQ3ZCLE1BQWEsT0FBTztRQUFwQjtZQUdXLGFBQVEsR0FBYSxFQUFFLENBQUM7UUF1Q25DLENBQUM7UUFsQ1UsUUFBUSxDQUFDLEtBQWE7WUFDekIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7WUFDbEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFlBQVksQ0FBQyxLQUFhO1lBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxVQUFVLENBQUMsS0FBYTtZQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNwQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sWUFBWSxDQUFDLEtBQWU7WUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFdBQVcsQ0FBQyxLQUFhO1lBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzFCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxZQUFZLENBQUMsS0FBYTtZQUN0QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sS0FBSztZQUNSLE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN2QyxDQUFDO0tBRUo7SUExQ1kseUJBQU8sVUEwQ25CO0FBQ0wsQ0FBQyxFQTVDUyxpQkFBaUIsS0FBakIsaUJBQWlCLFFBNEMxQjtBQUV5QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQ3JhZnRpbmdDb21wb25lbnQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBlbmRpdW1FbnRyeSwgRmFicmljYXRlQ29tcGVuZGl1bURhdGEsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nQ29tcG9uZW50IGV4dGVuZHMgRmFicmljYXRlSXRlbSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lc3NlbmNlczogc3RyaW5nW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQ3JhZnRpbmdDb21wb25lbnQuQnVpbGRlcikge1xyXG4gICAgICAgIHN1cGVyKGJ1aWxkZXIuc3lzdGVtSWQsIGJ1aWxkZXIucGFydElkLCBidWlsZGVyLmltYWdlVXJsLCBidWlsZGVyLm5hbWUpO1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VzID0gYnVpbGRlci5lc3NlbmNlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lc3NlbmNlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NvbXBvbmVudC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmFicmljYXRlRmxhZ3M6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBuYW1lOiBzdHJpbmcsIGltYWdlVXJsOiBzdHJpbmcpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgaWYgKGZhYnJpY2F0ZUZsYWdzLnR5cGUgIT09IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGF0dGVtcHRpbmcgdG8gaW5zdGFudGlhdGUgYSBGYWJyaWNhdGUgQ3JhZnRpbmcgQ29tcG9uZW50IGZyb20gJHtmYWJyaWNhdGVGbGFncy50eXBlfSBkYXRhLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIENyYWZ0aW5nQ29tcG9uZW50LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAud2l0aE5hbWUobmFtZSlcclxuICAgICAgICAgICAgLndpdGhTeXN0ZW1JZChmYWJyaWNhdGVGbGFncy5pZGVudGl0eS5zeXN0ZW1JZClcclxuICAgICAgICAgICAgLndpdGhQYXJ0SWQoZmFicmljYXRlRmxhZ3MuaWRlbnRpdHkucGFydElkKVxyXG4gICAgICAgICAgICAud2l0aEVzc2VuY2VzKGZhYnJpY2F0ZUZsYWdzLmNvbXBvbmVudC5lc3NlbmNlcylcclxuICAgICAgICAgICAgLndpdGhJbWFnZVVybChpbWFnZVVybClcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvdGhlcjogQ3JhZnRpbmdDb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoIW90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcmVzVHlwZShvdGhlcilcclxuICAgICAgICAgICAgJiYgb3RoZXIubmFtZSA9PT0gdGhpcy5uYW1lXHJcbiAgICAgICAgICAgICYmIG90aGVyLmltYWdlVXJsID09PSB0aGlzLmltYWdlVXJsXHJcbiAgICAgICAgICAgICYmIG90aGVyLmVzc2VuY2VzLmxlbmd0aCA9PT0gdGhpcy5lc3NlbmNlcy5sZW5ndGhcclxuICAgICAgICAgICAgJiYgb3RoZXIuZXNzZW5jZXMuZXZlcnkoKGVzc2VuY2U6IHN0cmluZykgPT4gdGhpcy5lc3NlbmNlcy5pbmNsdWRlcyhlc3NlbmNlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLm5hbWUgIT0gbnVsbCAmJiB0aGlzLm5hbWUubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgJiYgKHRoaXMuZXNzZW5jZXMgIT0gbnVsbClcclxuICAgICAgICAgICAgJiYgc3VwZXIuaXNWYWxpZCgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29tcGVuZGl1bUVudHJ5ITogQ29tcGVuZGl1bUVudHJ5O1xyXG4gICAgICAgIHB1YmxpYyBlc3NlbmNlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgaW1hZ2VVcmw6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgc3lzdGVtSWQ6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgcGFydElkOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoTmFtZSh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoU3lzdGVtSWQodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbUlkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhQYXJ0SWQodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRXNzZW5jZXModmFsdWU6IHN0cmluZ1tdKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEVzc2VuY2UodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVzc2VuY2VzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhJbWFnZVVybCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nQ29tcG9uZW50KHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingComponent.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingSystem.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingSystem.ts ***!
  \********************************************/
/*! exports provided: CraftingSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystem\", function() { return CraftingSystem; });\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass CraftingSystem {\r\n    constructor(builder) {\r\n        this._recipesById = new Map();\r\n        this._componentsById = new Map();\r\n        this._supportedGameSystems = [];\r\n        this._name = builder.name;\r\n        this._compendiumPackKey = builder.compendiumPackKey;\r\n        this._fabricator = builder.fabricator;\r\n        this._recipesById = new Map(builder.recipes.map((recipe) => [recipe.partId, recipe]));\r\n        this._componentsById = builder.componentDictionary;\r\n        this._supportedGameSystems = builder.supportedGameSystems;\r\n        this._enabled = builder.enabled;\r\n        this._enableHint = builder.enableHint;\r\n        this._description = builder.description;\r\n    }\r\n    static builder() {\r\n        return new CraftingSystem.Builder();\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n    set enabled(value) {\r\n        this._enabled = value;\r\n    }\r\n    get enableHint() {\r\n        return this._enableHint;\r\n    }\r\n    get description() {\r\n        return this._description;\r\n    }\r\n    craft(actorId, recipeId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_0__[\"default\"].inventories.getFor(actorId);\r\n            const recipe = this.getRecipeByPartId(recipeId);\r\n            const missingIngredients = [];\r\n            recipe.ingredients.forEach((ingredient) => {\r\n                if (!inventory.containsIngredient(ingredient)) {\r\n                    missingIngredients.push(ingredient);\r\n                }\r\n            });\r\n            if (missingIngredients.length > 0) {\r\n                const message = missingIngredients.map((ingredient) => ingredient.quantity + ':' + ingredient.component.name).join(',');\r\n                throw new Error(`Unable to craft recipe ${recipe.name}. The following ingredients were missing: ${message}`);\r\n            }\r\n            const actor = game.actors.get(actorId);\r\n            const fabricationOutcome = yield this.fabricator.fabricateFromRecipe(actor, recipe);\r\n            return fabricationOutcome;\r\n        });\r\n    }\r\n    craftWithComponents(actorId, components) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_0__[\"default\"].inventories.getFor(actorId);\r\n            if (!inventory.hasAllComponents(components)) {\r\n                throw new Error(`There are insufficient crafting components of the specified type in the inventory of Actor ID ${actorId}`);\r\n            }\r\n            const actor = game.actors.get(actorId);\r\n            const fabricationOutcome = yield this.fabricator.fabricateFromComponents(actor, components);\r\n            return fabricationOutcome;\r\n        });\r\n    }\r\n    get compendiumPackKey() {\r\n        return this._compendiumPackKey;\r\n    }\r\n    get fabricator() {\r\n        return this._fabricator;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get recipes() {\r\n        return Array.from(this._recipesById.values());\r\n    }\r\n    get components() {\r\n        return Array.from(this._componentsById.values());\r\n    }\r\n    getComponentByPartId(entryId) {\r\n        return this._componentsById.get(entryId);\r\n    }\r\n    supports(gameSystem) {\r\n        if (!this._supportedGameSystems || this._supportedGameSystems.length == 0) {\r\n            return true;\r\n        }\r\n        return this._supportedGameSystems.indexOf(gameSystem) > -1;\r\n    }\r\n    getRecipeByPartId(partId) {\r\n        return this._recipesById.get(partId);\r\n    }\r\n}\r\n(function (CraftingSystem) {\r\n    class Builder {\r\n        constructor() {\r\n            this.supportedGameSystems = [];\r\n            this.recipes = [];\r\n            this.componentDictionary = new Map();\r\n        }\r\n        build() {\r\n            return new CraftingSystem(this);\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumPackKey(value) {\r\n            this.compendiumPackKey = value;\r\n            return this;\r\n        }\r\n        withFabricator(value) {\r\n            this.fabricator = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystems(value) {\r\n            this.supportedGameSystems = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystem(value) {\r\n            this.supportedGameSystems.push(value);\r\n            return this;\r\n        }\r\n        withRecipes(value) {\r\n            this.recipes = value;\r\n            return this;\r\n        }\r\n        withRecipe(value) {\r\n            this.recipes.push(value);\r\n            return this;\r\n        }\r\n        withComponents(value) {\r\n            value.forEach(this.withComponent);\r\n            return this;\r\n        }\r\n        withComponent(value) {\r\n            this.componentDictionary.set(value.partId, value);\r\n            return this;\r\n        }\r\n        withComponentDictionary(value) {\r\n            this.componentDictionary = value;\r\n            return this;\r\n        }\r\n        isEnabled(value) {\r\n            this.enabled = value;\r\n            return this;\r\n        }\r\n        withEnableHint(value) {\r\n            this.enableHint = value;\r\n            return this;\r\n        }\r\n        withDescription(value) {\r\n            this.description = value;\r\n            return this;\r\n        }\r\n    }\r\n    CraftingSystem.Builder = Builder;\r\n})(CraftingSystem || (CraftingSystem = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nU3lzdGVtLnRzPzQ2ZGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBTXVFO0FBRXZFLE1BQU0sY0FBYztJQVdoQixZQUFZLE9BQStCO1FBUDFCLGlCQUFZLEdBQXdCLElBQUksR0FBRyxFQUFFLENBQUM7UUFDOUMsb0JBQWUsR0FBbUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUM1RCwwQkFBcUIsR0FBYSxFQUFFLENBQUM7UUFNbEQsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUM7UUFDcEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFjLEVBQUUsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUYsSUFBSSxDQUFDLGVBQWUsR0FBRyxPQUFPLENBQUMsbUJBQW1CLENBQUM7UUFDbkQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQztRQUMxRCxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDaEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztJQUM1QyxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMs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Q0FBQztZQUN4QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsZUFBZSxDQUFDLEtBQWE7WUFDekIsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7WUFDekIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztLQUNKO0lBL0VZLHNCQUFPLFVBK0VuQjtBQUNMLENBQUMsRUFqRlMsY0FBYyxLQUFkLGNBQWMsUUFpRnZCO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ1N5c3RlbS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRvcn0gZnJvbSBcIi4vRmFicmljYXRvclwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4vUmVjaXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtJbmdyZWRpZW50fSBmcm9tIFwiLi9JbmdyZWRpZW50XCI7XHJcbmltcG9ydCB7RmFicmljYXRpb25PdXRjb21lfSBmcm9tIFwiLi9GYWJyaWNhdGlvbk91dGNvbWVcIjtcclxuaW1wb3J0IEZhYnJpY2F0ZUFwcGxpY2F0aW9uIGZyb20gXCIuLi9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvblwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29tcGVuZGl1bVBhY2tLZXk6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZhYnJpY2F0b3I6IEZhYnJpY2F0b3I7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGVzQnlJZDogTWFwPHN0cmluZywgUmVjaXBlPiA9IG5ldyBNYXAoKTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudHNCeUlkOiBNYXA8c3RyaW5nLCBDcmFmdGluZ0NvbXBvbmVudD4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zdXBwb3J0ZWRHYW1lU3lzdGVtczogc3RyaW5nW10gPSBbXTtcclxuICAgIHByaXZhdGUgX2VuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lbmFibGVIaW50OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kZXNjcmlwdGlvbjogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gYnVpbGRlci5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2NvbXBlbmRpdW1QYWNrS2V5ID0gYnVpbGRlci5jb21wZW5kaXVtUGFja0tleTtcclxuICAgICAgICB0aGlzLl9mYWJyaWNhdG9yID0gYnVpbGRlci5mYWJyaWNhdG9yO1xyXG4gICAgICAgIHRoaXMuX3JlY2lwZXNCeUlkID0gbmV3IE1hcChidWlsZGVyLnJlY2lwZXMubWFwKChyZWNpcGU6IFJlY2lwZSkgPT4gW3JlY2lwZS5wYXJ0SWQsIHJlY2lwZV0pKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzQnlJZCA9IGJ1aWxkZXIuY29tcG9uZW50RGljdGlvbmFyeTtcclxuICAgICAgICB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IGJ1aWxkZXIuc3VwcG9ydGVkR2FtZVN5c3RlbXM7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGJ1aWxkZXIuZW5hYmxlZDtcclxuICAgICAgICB0aGlzLl9lbmFibGVIaW50ID0gYnVpbGRlci5lbmFibGVIaW50O1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gYnVpbGRlci5kZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5hYmxlSGludCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVIaW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY3JhZnQoYWN0b3JJZDogc3RyaW5nLCByZWNpcGVJZDogc3RyaW5nKTogUHJvbWlzZTxGYWJyaWNhdGlvbk91dGNvbWU+IHtcclxuICAgICAgICBjb25zdCBpbnZlbnRvcnk6IEludmVudG9yeSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmdldEZvcihhY3RvcklkKTtcclxuICAgICAgICBjb25zdCByZWNpcGU6IFJlY2lwZSA9IHRoaXMuZ2V0UmVjaXBlQnlQYXJ0SWQocmVjaXBlSWQpO1xyXG5cclxuICAgICAgICBjb25zdCBtaXNzaW5nSW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXSA9IFtdO1xyXG4gICAgICAgIHJlY2lwZS5pbmdyZWRpZW50cy5mb3JFYWNoKChpbmdyZWRpZW50OiBJbmdyZWRpZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaW52ZW50b3J5LmNvbnRhaW5zSW5ncmVkaWVudChpbmdyZWRpZW50KSkge1xyXG4gICAgICAgICAgICAgICAgbWlzc2luZ0luZ3JlZGllbnRzLnB1c2goaW5ncmVkaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAobWlzc2luZ0luZ3JlZGllbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1pc3NpbmdJbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IGluZ3JlZGllbnQucXVhbnRpdHkgKyAnOicgKyBpbmdyZWRpZW50LmNvbXBvbmVudC5uYW1lKS5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyYWZ0IHJlY2lwZSAke3JlY2lwZS5uYW1lfS4gVGhlIGZvbGxvd2luZyBpbmdyZWRpZW50cyB3ZXJlIG1pc3Npbmc6ICR7bWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFjdG9yOiBBY3RvciA9IGdhbWUuYWN0b3JzLmdldChhY3RvcklkKTtcclxuICAgICAgICBjb25zdCBmYWJyaWNhdGlvbk91dGNvbWUgPSBhd2FpdCB0aGlzLmZhYnJpY2F0b3IuZmFicmljYXRlRnJvbVJlY2lwZShhY3RvciwgcmVjaXBlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhYnJpY2F0aW9uT3V0Y29tZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgY3JhZnRXaXRoQ29tcG9uZW50cyhhY3RvcklkOiBzdHJpbmcsIGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBQcm9taXNlPEZhYnJpY2F0aW9uT3V0Y29tZT4ge1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeTogSW52ZW50b3J5ID0gRmFicmljYXRlQXBwbGljYXRpb24uaW52ZW50b3JpZXMuZ2V0Rm9yKGFjdG9ySWQpO1xyXG5cclxuICAgICAgICBpZiAoIWludmVudG9yeS5oYXNBbGxDb21wb25lbnRzKGNvbXBvbmVudHMpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgYXJlIGluc3VmZmljaWVudCBjcmFmdGluZyBjb21wb25lbnRzIG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBpbiB0aGUgaW52ZW50b3J5IG9mIEFjdG9yIElEICR7YWN0b3JJZH1gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWN0b3I6IEFjdG9yID0gZ2FtZS5hY3RvcnMuZ2V0KGFjdG9ySWQpO1xyXG4gICAgICAgIGNvbnN0IGZhYnJpY2F0aW9uT3V0Y29tZTogRmFicmljYXRpb25PdXRjb21lID0gYXdhaXQgdGhpcy5mYWJyaWNhdG9yLmZhYnJpY2F0ZUZyb21Db21wb25lbnRzKGFjdG9yLCBjb21wb25lbnRzKTtcclxuICAgICAgICByZXR1cm4gZmFicmljYXRpb25PdXRjb21lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wZW5kaXVtUGFja0tleSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wZW5kaXVtUGFja0tleTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmFicmljYXRvcigpOiBGYWJyaWNhdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmFicmljYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3VwcG9ydGVkR2FtZVN5c3RlbXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVjaXBlcygpOiBSZWNpcGVbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fcmVjaXBlc0J5SWQudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IENyYWZ0aW5nQ29tcG9uZW50W10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2NvbXBvbmVudHNCeUlkLnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29tcG9uZW50QnlQYXJ0SWQoZW50cnlJZDogc3RyaW5nKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzQnlJZC5nZXQoZW50cnlJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN1cHBvcnRzKGdhbWVTeXN0ZW06IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMgfHwgdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcy5pbmRleE9mKGdhbWVTeXN0ZW0pID4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVjaXBlQnlQYXJ0SWQocGFydElkOiBzdHJpbmcpOiBSZWNpcGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNpcGVzQnlJZC5nZXQocGFydElkKTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nU3lzdGVtIHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29tcGVuZGl1bVBhY2tLZXkhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGZhYnJpY2F0b3IhOiBGYWJyaWNhdG9yO1xyXG4gICAgICAgIHB1YmxpYyBzdXBwb3J0ZWRHYW1lU3lzdGVtczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgcmVjaXBlczogUmVjaXBlW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgY29tcG9uZW50RGljdGlvbmFyeTogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHB1YmxpYyBlbmFibGVkOiBib29sZWFuO1xyXG4gICAgICAgIHB1YmxpYyBlbmFibGVIaW50OiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpIDogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nU3lzdGVtKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhDb21wZW5kaXVtUGFja0tleSh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGVuZGl1bVBhY2tLZXkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEZhYnJpY2F0b3IodmFsdWU6IEZhYnJpY2F0b3IpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5mYWJyaWNhdG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhTdXBwb3J0ZWRHYW1lU3lzdGVtcyh2YWx1ZTogc3RyaW5nW10pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoU3VwcG9ydGVkR2FtZVN5c3RlbSh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkR2FtZVN5c3RlbXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhSZWNpcGVzKHZhbHVlOiBSZWNpcGVbXSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2lwZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFJlY2lwZSh2YWx1ZTogUmVjaXBlKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBvbmVudHModmFsdWU6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaCh0aGlzLndpdGhDb21wb25lbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQ29tcG9uZW50KHZhbHVlOiBDcmFmdGluZ0NvbXBvbmVudCk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudERpY3Rpb25hcnkuc2V0KHZhbHVlLnBhcnRJZCwgdmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQ29tcG9uZW50RGljdGlvbmFyeSh2YWx1ZTogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+KTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50RGljdGlvbmFyeSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFbmFibGVIaW50KHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVIaW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aERlc2NyaXB0aW9uKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IENyYWZ0aW5nU3lzdGVtIH07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingSystem.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingSystemFactory.ts":
/*!***************************************************!*\
  !*** ./src/scripts/core/CraftingSystemFactory.ts ***!
  \***************************************************/
/*! exports provided: FileReadingCraftingSystemFactory, CompendiumImportingCraftingSystemFactory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FileReadingCraftingSystemFactory\", function() { return FileReadingCraftingSystemFactory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CompendiumImportingCraftingSystemFactory\", function() { return CompendiumImportingCraftingSystemFactory; });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"./node_modules/webpack-stream/node_modules/node-libs-browser/mock/empty.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _CraftingSystem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CraftingSystem */ \"./src/scripts/core/CraftingSystem.ts\");\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _Recipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _Ingredient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Ingredient */ \"./src/scripts/core/Ingredient.ts\");\n/* harmony import */ var _FabricationAction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FabricationAction */ \"./src/scripts/core/FabricationAction.ts\");\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass AbstractCraftingSystemFactory {\r\n    constructor(systemSpecification) {\r\n        this._systemSpecification = systemSpecification;\r\n    }\r\n    get systemSpecification() {\r\n        return this._systemSpecification;\r\n    }\r\n    make() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const basicSystemData = yield this.prepare();\r\n            const componentErrors = [];\r\n            basicSystemData.components.forEach((craftingComponent) => {\r\n                if (!craftingComponent.isValid()) {\r\n                    componentErrors.push(`Crafting Component ${craftingComponent.compendiumEntry} is invalid. `);\r\n                }\r\n            });\r\n            if (componentErrors.length > 0) {\r\n                throw new Error(`Unable to build Crafting System ${this.systemSpecification.name}. There were one or more issues with reading Crafting Components: ${componentErrors}. `);\r\n            }\r\n            const componentDictionary = new Map(basicSystemData.components.map((component) => [component.partId, component]));\r\n            const recipeErrors = [];\r\n            const populatedRecipes = basicSystemData.recipes.map((recipe) => {\r\n                const populatedIngredients = recipe.ingredients.map((ingredient) => {\r\n                    const craftingComponent = componentDictionary.get(ingredient.partId);\r\n                    if (!craftingComponent) {\r\n                        throw new Error(`Recipe ${recipe.name} with ID ${recipe.partId} specified an Ingredient that was not found in the Crafting System: ${ingredient.compendiumEntry}.`);\r\n                    }\r\n                    return _Ingredient__WEBPACK_IMPORTED_MODULE_4__[\"Ingredient\"].builder()\r\n                        .withComponent(craftingComponent)\r\n                        .withQuantity(ingredient.quantity)\r\n                        .isConsumed(ingredient.consumed)\r\n                        .build();\r\n                });\r\n                const populatedCraftingResults = recipe.results.map((result) => {\r\n                    const craftingComponent = componentDictionary.get(result.partId);\r\n                    if (!craftingComponent) {\r\n                        throw new Error(`Recipe ${recipe.name} with ID ${recipe.partId} specified a Result that was not found in the Crafting System: ${result.compendiumEntry}.`);\r\n                    }\r\n                    return _FabricationAction__WEBPACK_IMPORTED_MODULE_5__[\"FabricationAction\"].builder()\r\n                        .withAction(result.type)\r\n                        .withComponent(craftingComponent)\r\n                        .withQuantity(result.quantity)\r\n                        .withCustomData(result.customData)\r\n                        .build();\r\n                });\r\n                return _Recipe__WEBPACK_IMPORTED_MODULE_3__[\"Recipe\"].builder()\r\n                    .withName(recipe.name)\r\n                    .withPartId(recipe.partId)\r\n                    .withEssences(recipe.essences)\r\n                    .withSystemId(recipe.systemId)\r\n                    .withIngredients(populatedIngredients)\r\n                    .withResults(populatedCraftingResults)\r\n                    .build();\r\n            });\r\n            populatedRecipes.forEach((recipe) => {\r\n                if (!recipe.isValid()) {\r\n                    recipeErrors.push(`Recipe ${recipe.compendiumEntry} is invalid. `);\r\n                }\r\n            });\r\n            if (recipeErrors.length > 0) {\r\n                throw new Error(`Unable to build Crafting System ${this.systemSpecification.name}. There were one or more issues with reading populating Recipes: ${recipeErrors}. `);\r\n            }\r\n            return _CraftingSystem__WEBPACK_IMPORTED_MODULE_1__[\"CraftingSystem\"].builder()\r\n                .withRecipes(populatedRecipes)\r\n                .withName(this.systemSpecification.name)\r\n                .withComponentDictionary(componentDictionary)\r\n                .withEnableHint(this.systemSpecification.enableHint)\r\n                .withFabricator(this.systemSpecification.fabricator)\r\n                .withDescription(this.systemSpecification.description)\r\n                .withCompendiumPackKey(this.systemSpecification.compendiumPackKey)\r\n                .withSupportedGameSystems(this.systemSpecification.supportedGameSystems)\r\n                .build();\r\n        });\r\n    }\r\n}\r\nclass CompendiumImportingCraftingSystemFactory extends AbstractCraftingSystemFactory {\r\n    prepare() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let systemPack = game.packs.get(this.systemSpecification.compendiumPackKey);\r\n            let content = yield this.loadCompendiumContent(systemPack, 10);\r\n            const systemData = {\r\n                recipes: [],\r\n                components: []\r\n            };\r\n            content.forEach((item) => {\r\n                let itemConfig = item.data.flags.fabricate;\r\n                switch (itemConfig.type) {\r\n                    case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_6__[\"FabricateItemType\"].COMPONENT:\r\n                        systemData.components.push(_CraftingComponent__WEBPACK_IMPORTED_MODULE_2__[\"CraftingComponent\"].fromFlags(itemConfig, item.name, item.img));\r\n                        break;\r\n                    case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_6__[\"FabricateItemType\"].RECIPE:\r\n                        systemData.recipes.push(_Recipe__WEBPACK_IMPORTED_MODULE_3__[\"Recipe\"].fromFlags(itemConfig, item.name, item.img));\r\n                        break;\r\n                    default:\r\n                        throw new Error(`${_Properties__WEBPACK_IMPORTED_MODULE_7__[\"default\"].module.label} | Unable to load item ${item.id}. Could not determine Fabricate Entity Type. `);\r\n                }\r\n            });\r\n            return systemData;\r\n        });\r\n    }\r\n    /**\r\n     * Fallback awaiter for loading compendium content, as this was observed to be unreliable during development after the\r\n     * game 'ready' Hook was fired\r\n     *\r\n     * @param compendium The Compendium from which to reliably load the Content\r\n     * @param maxAttempts The maximum number of times to attempt loading Compendium Content\r\n     * */\r\n    loadCompendiumContent(compendium, maxAttempts) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let content = yield compendium.getContent();\r\n            let attempts = 0;\r\n            while ((!content || (content.length === 0)) && (attempts <= maxAttempts)) {\r\n                console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_7__[\"default\"].module.label} | Waiting for content in Compendium Pack ${compendium.id} (Attempt ${attempts} of ${maxAttempts}. `);\r\n                yield this.wait(1000);\r\n                attempts++;\r\n                content = yield compendium.getContent();\r\n            }\r\n            return content;\r\n        });\r\n    }\r\n    /**\r\n     * Simple async awaiter delay function\r\n     *\r\n     * @param delay The number of millis to wait before resolving\r\n     * @return a promise that resolves once the delay period has elapsed\r\n     * */\r\n    wait(delay) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise(resolve => setTimeout(resolve, delay));\r\n        });\r\n    }\r\n}\r\nclass FileReadingCraftingSystemFactory extends AbstractCraftingSystemFactory {\r\n    constructor(systemSpecification, filePath) {\r\n        super(systemSpecification);\r\n        this._fileErrorsByLineNumber = new Map();\r\n        this._filePath = filePath;\r\n    }\r\n    get filePath() {\r\n        return this._filePath;\r\n    }\r\n    get fileErrorsByLineNumber() {\r\n        return this._fileErrorsByLineNumber;\r\n    }\r\n    prepare() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const lines = yield this.readFile(this.filePath);\r\n            return this.parseFileData(lines);\r\n        });\r\n    }\r\n    readFile(path) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const contents = yield fs__WEBPACK_IMPORTED_MODULE_0__[\"promises\"].readFile(path, 'utf-8');\r\n            return contents.split('\\n');\r\n        });\r\n    }\r\n    recordError(lineNumber, error) {\r\n        if (this._fileErrorsByLineNumber.has(lineNumber)) {\r\n            this._fileErrorsByLineNumber.get(lineNumber).push(error);\r\n        }\r\n        this._fileErrorsByLineNumber.set(lineNumber, [error]);\r\n    }\r\n    parseFileData(lines) {\r\n        const systemData = {\r\n            recipes: [],\r\n            components: []\r\n        };\r\n        lines.forEach((line, index) => {\r\n            const lineNumber = index + 1;\r\n            let json;\r\n            try {\r\n                json = JSON.parse(line);\r\n            }\r\n            catch (err) {\r\n                this.recordError(lineNumber, `Line is not valid JSON. `);\r\n                return;\r\n            }\r\n            if (!json.flags) {\r\n                this.recordError(lineNumber, `No flag data was present. `);\r\n                return;\r\n            }\r\n            const fabricateFlags = json.flags.fabricate;\r\n            if (!fabricateFlags) {\r\n                this.recordError(lineNumber, `Flag data was present, but no Fabricate flags were set. `);\r\n                return;\r\n            }\r\n            if (!fabricateFlags.identity) {\r\n                this.recordError(lineNumber, `Flag data was present, but no Fabricate Item identity was set. `);\r\n                return;\r\n            }\r\n            if (!fabricateFlags.identity.partId || !fabricateFlags.identity.systemId) {\r\n                this.recordError(lineNumber, `An invalid Fabricate Item identity was set with Part ID '${fabricateFlags.identity.partId}' and System ID '${fabricateFlags.identity.systemId}' `);\r\n                return;\r\n            }\r\n            let fabricateItem;\r\n            switch (fabricateFlags.type) {\r\n                case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_6__[\"FabricateItemType\"].COMPONENT:\r\n                    if (!fabricateFlags.component) {\r\n                        this.recordError(lineNumber, `No Component definition was provided. `);\r\n                        return;\r\n                    }\r\n                    const craftingComponent = _CraftingComponent__WEBPACK_IMPORTED_MODULE_2__[\"CraftingComponent\"].fromFlags(fabricateFlags, json.name, json.img);\r\n                    fabricateItem = craftingComponent;\r\n                    systemData.components.push(craftingComponent);\r\n                    break;\r\n                case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_6__[\"FabricateItemType\"].RECIPE:\r\n                    if (!fabricateFlags.recipe) {\r\n                        this.recordError(lineNumber, `No Recipe definition was provided. `);\r\n                        return;\r\n                    }\r\n                    const recipe = _Recipe__WEBPACK_IMPORTED_MODULE_3__[\"Recipe\"].fromFlags(fabricateFlags, json.name, json.img);\r\n                    fabricateItem = recipe;\r\n                    systemData.recipes.push(recipe);\r\n                    break;\r\n                default:\r\n                    this.recordError(lineNumber, `The Fabricate Item type ${fabricateFlags.type} was not \r\n                        recognized. Allowable values are COMPONENT or RECIPE`);\r\n                    return;\r\n            }\r\n            if (fabricateItem.partId !== json._id) {\r\n                this.recordError(lineNumber, `${fabricateFlags.type} part ID '${fabricateItem.partId}' did not match Compendium Entity ID '${json._id}. '`);\r\n            }\r\n            if (fabricateItem.name !== json.name) {\r\n                this.recordError(lineNumber, `${fabricateFlags.type} name '${fabricateItem.name}' did not match Compendium Entity name '${json.name}. '`);\r\n            }\r\n            if (fabricateItem.imageUrl !== json.img) {\r\n                this.recordError(lineNumber, `${fabricateFlags.type} image URL '${fabricateItem.imageUrl}' did not match Compendium Entity image URL '${json.img}. '`);\r\n            }\r\n        });\r\n        if (this.fileErrorsByLineNumber.size === 0) {\r\n            return systemData;\r\n        }\r\n        const lineErrorDetails = [];\r\n        this.fileErrorsByLineNumber.forEach((errors, line) => lineErrorDetails.push(`Line ${line}: ${errors.join(', ')} \\n`));\r\n        throw new Error(`Encountered ${this.fileErrorsByLineNumber.size} errors when processing file data for system ${this.systemSpecification.compendiumPackKey}. Errors: \\n ${lineErrorDetails}`);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nU3lzdGVtRmFjdG9yeS50cz9lN2YwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF3QjtBQUV3QjtBQUVNO0FBQ3RCO0FBQ1E7QUFDYztBQUM0QjtBQUMzQztBQWF2QyxNQUFlLDZCQUE2QjtJQUd4QyxZQUFZLG1CQUFnRDtRQUN4RCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsbUJBQW1CLENBQUM7SUFDcEQsQ0FBQztJQUVELElBQUksbUJBQW1CO1FBQ25CLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDO0lBQ3JDLENBQUM7SUFFSyxJQUFJOztZQUNOLE1BQU0sZUFBZSxHQUFHLE1BQU0sSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzdDLE1BQU0sZUFBZSxHQUFhLEVBQUUsQ0FBQztZQUNyQyxlQUFlLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLGlCQUFvQyxFQUFFLEVBQUU7Z0JBQ3hFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsRUFBRTtvQkFDOUIsZUFBZSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsaUJBQWlCLENBQUMsZUFBZSxlQUFlLENBQUMsQ0FBQztpQkFDaEc7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksZUFBZSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQzVCLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLHFFQUFxRSxlQUFlLElBQUksQ0FBQyxDQUFDO2FBQzdLO1lBQ0QsTUFBTSxtQkFBbUIsR0FBbUMsSUFBSSxHQUFHLENBQUMsZUFBZSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JLLE1BQU0sWUFBWSxHQUFhLEVBQUUsQ0FBQztZQUNsQyxNQUFNLGdCQUFnQixHQUFhLGVBQWUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUU7Z0JBQzlFLE1BQU0sb0JBQW9CLEdBQWlCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFO29CQUN6RixNQUFNLGlCQUFpQixHQUFHLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ3JFLElBQUksQ0FBQyxpQkFBaUIsRUFBRTt3QkFDcEIsTUFBTSxJQUFJLEtBQUssQ0FBQyxVQUFVLE1BQU0sQ0FBQyxJQUFJLFlBQVksTUFBTSxDQUFDLE1BQU0sdUVBQXVFLFVBQVUsQ0FBQyxlQUFlLEdBQUcsQ0FBQyxDQUFDO3FCQUN2SztvQkFDRCxPQUFPLHNEQUFVLENBQUMsT0FBTyxFQUFFO3lCQUN0QixhQUFhLENBQUMsaUJBQWlCLENBQUM7eUJBQ2hDLFlBQVksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO3lCQUNqQyxVQUFVLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQzt5QkFDL0IsS0FBSyxFQUFFLENBQUM7Z0JBQ2pCLENBQUMsQ0FBQyxDQUFDO2dCQUNILE1BQU0sd0JBQXdCLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUF5QixFQUFFLEVBQUU7b0JBQzlFLE1BQU0saUJBQWlCLEdBQUcsbUJBQW1CLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztvQkFDakUsSUFBSSxDQUFDLGlCQUFpQixFQUFFO3dCQUNwQixNQUFNLElBQUksS0FBSyxDQUFDLFVBQVUsTUFBTSxDQUFDLElBQUksWUFBWSxNQUFNLENBQUMsTUFBTSxrRUFBa0UsTUFBTSxDQUFDLGVBQWUsR0FBRyxDQUFDLENBQUM7cUJBQzlKO29CQUNELE9BQU8sb0VBQWlCLENBQUMsT0FBTyxFQUFFO3lCQUM3QixVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQzt5QkFDdkIsYUFBYSxDQUFDLGlCQUFpQixDQUFDO3lCQUNoQyxZQUFZLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQzt5QkFDN0IsY0FBYyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7eUJBQ2pDLEtBQUssRUFBRSxDQUFDO2dCQUNqQixDQUFDLENBQUMsQ0FBQztnQkFDSCxPQUFPLDhDQUFNLENBQUMsT0FBTyxFQUFFO3FCQUNsQixRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztxQkFDckIsVUFBVSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7cUJBQ3pCLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO3FCQUM3QixZQUFZLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztxQkFDN0IsZUFBZSxDQUFDLG9CQUFvQixDQUFDO3FCQUNyQyxXQUFXLENBQUMsd0JBQXdCLENBQUM7cUJBQ3JDLEtBQUssRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQUU7b0JBQ25CLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxNQUFNLENBQUMsZUFBZSxlQUFlLENBQUMsQ0FBQztpQkFDdEU7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksWUFBWSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQ3pCLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLG9FQUFvRSxZQUFZLElBQUksQ0FBQyxDQUFDO2FBQ3pLO1lBQ0QsT0FBTyw4REFBYyxDQUFDLE9BQU8sRUFBRTtpQkFDMUIsV0FBVyxDQUFDLGdCQUFnQixDQUFDO2lCQUM3QixRQUFRLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQztpQkFDdkMsdUJBQXVCLENBQUMsbUJBQW1CLENBQUM7aUJBQzVDLGNBQWMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDO2lCQUNuRCxjQUFjLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFVBQVUsQ0FBQztpQkFDbkQsZUFBZSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUM7aUJBQ3JELHFCQUFxQixDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxpQkFBaUIsQ0FBQztpQkFDakUsd0JBQXdCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLG9CQUFvQixDQUFDO2lCQUN2RSxLQUFLLEVBQUUsQ0FBQztRQUNqQixDQUFDO0tBQUE7Q0FJSjtBQUVELE1BQU0sd0NBQXlDLFNBQVEsNkJBQTZCO0lBRTFFLE9BQU87O1lBQ1QsSUFBSSxVQUFVLEdBQWUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDeEYsSUFBSSxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMscUJBQXFCLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQy9ELE1BQU0sVUFBVSxHQUFvQjtnQkFDaEMsT0FBTyxFQUFFLEVBQUU7Z0JBQ1gsVUFBVSxFQUFFLEVBQUU7YUFDakIsQ0FBQztZQUNGLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRTtnQkFDMUIsSUFBSSxVQUFVLEdBQTRCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztnQkFDcEUsUUFBUSxVQUFVLENBQUMsSUFBSSxFQUFFO29CQUNyQixLQUFLLHNFQUFpQixDQUFDLFNBQVM7d0JBQzVCLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLG9FQUFpQixDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDekYsTUFBTTtvQkFDVixLQUFLLHNFQUFpQixDQUFDLE1BQU07d0JBQ3pCLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLDhDQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO3dCQUMzRSxNQUFNO29CQUNWO3dCQUNJLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLDBCQUEwQixJQUFJLENBQUMsRUFBRSwrQ0FBK0MsQ0FBQyxDQUFDO2lCQUNuSTtZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxVQUFVLENBQUM7UUFDdEIsQ0FBQztLQUFBO0lBRUQ7Ozs7OztTQU1LO0lBQ1MscUJBQXFCLENBQUMsVUFBc0IsRUFBRSxXQUFtQjs7WUFDM0UsSUFBSSxPQUFPLEdBQWEsTUFBTSxVQUFVLENBQUMsVUFBVSxFQUFFLENBQUM7WUFDdEQsSUFBSSxRQUFRLEdBQVcsQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxXQUFXLENBQUMsRUFBRTtnQkFDdEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLG1EQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssNkNBQTZDLFVBQVUsQ0FBQyxFQUFFLGFBQWEsUUFBUSxPQUFPLFdBQVcsSUFBSSxDQUFDLENBQUM7Z0JBQzdJLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDdEIsUUFBUSxFQUFFLENBQUM7Z0JBQ1gsT0FBTyxHQUFHLE1BQU0sVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQzNDO1lBQ0QsT0FBTyxPQUFPLENBQUM7UUFDbkIsQ0FBQztLQUFBO0lBRUQ7Ozs7O1NBS0s7SUFDUyxJQUFJLENBQUMsS0FBYTs7WUFDNUIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUM5RCxDQUFDO0tBQUE7Q0FFSjtBQUVELE1BQU0sZ0NBQWlDLFNBQVEsNkJBQTZCO0lBS3hFLFlBQVksbUJBQWdELEVBQUUsUUFBZ0I7UUFDMUUsS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFIZCw0QkFBdUIsR0FBMEIsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUl4RSxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLHNCQUFzQjtRQUN0QixPQUFPLElBQUksQ0FBQyx1QkFBdUIsQ0FBQztJQUN4QyxDQUFDO0lBRUssT0FBTzs7WUFDVCxNQUFNLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2pELE9BQU8sSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxDQUFDO0tBQUE7SUFFYSxRQUFRLENBQUMsSUFBWTs7WUFDL0IsTUFBTSxRQUFRLEdBQUcsTUFBTSwyQ0FBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDM0QsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLENBQUM7S0FBQTtJQUVPLFdBQVcsQ0FBQyxVQUFrQixFQUFFLEtBQWE7UUFDakQsSUFBSSxJQUFJLENBQUMsdUJBQXVCLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1lBQzlDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVEO1FBQ0QsSUFBSSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRCxhQUFhLENBQUMsS0FBZTtRQUN6QixNQUFNLFVBQVUsR0FBb0I7WUFDaEMsT0FBTyxFQUFFLEVBQUU7WUFDWCxVQUFVLEVBQUUsRUFBRTtTQUNqQixDQUFDO1FBQ0YsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVksRUFBRSxLQUFhLEVBQUUsRUFBRTtZQUMxQyxNQUFNLFVBQVUsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQzdCLElBQUksSUFBUyxDQUFDO1lBQ2QsSUFBSTtnQkFDQSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUMzQjtZQUFDLE9BQU8sR0FBRyxFQUFFO2dCQUNWLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLDBCQUEwQixDQUFDLENBQUM7Z0JBQ3pELE9BQU87YUFDVjtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUNiLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLDRCQUE0QixDQUFDLENBQUM7Z0JBQzNELE9BQU87YUFDVjtZQUNELE1BQU0sY0FBYyxHQUE0QixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztZQUNyRSxJQUFJLENBQUMsY0FBYyxFQUFFO2dCQUNqQixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSwwREFBMEQsQ0FBQyxDQUFDO2dCQUN6RixPQUFPO2FBQ1Y7WUFDRCxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsaUVBQWlFLENBQUMsQ0FBQztnQkFDaEcsT0FBTzthQUNWO1lBQ0QsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsTUFBTSxJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUU7Z0JBQ3RFLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLDREQUE0RCxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sb0JBQW9CLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQztnQkFDakwsT0FBTzthQUNWO1lBQ0QsSUFBSSxhQUE0QixDQUFDO1lBQ2pDLFFBQVEsY0FBYyxDQUFDLElBQUksRUFBRTtnQkFDekIsS0FBSyxzRUFBaUIsQ0FBQyxTQUFTO29CQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRTt3QkFDM0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsd0NBQXdDLENBQUMsQ0FBQzt3QkFDdkUsT0FBTztxQkFDVjtvQkFDRCxNQUFNLGlCQUFpQixHQUFzQixvRUFBaUIsQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO29CQUM5RyxhQUFhLEdBQUcsaUJBQWlCLENBQUM7b0JBQ2xDLFVBQVUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7b0JBQzlDLE1BQU07Z0JBQ1YsS0FBSyxzRUFBaUIsQ0FBQyxNQUFNO29CQUN6QixJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRTt3QkFDeEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUscUNBQXFDLENBQUMsQ0FBQzt3QkFDcEUsT0FBTztxQkFDVjtvQkFDRCxNQUFNLE1BQU0sR0FBVyw4Q0FBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBQzdFLGFBQWEsR0FBRyxNQUFNLENBQUM7b0JBQ3ZCLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO29CQUNoQyxNQUFNO2dCQUNWO29CQUNJLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLDJCQUEyQixjQUFjLENBQUMsSUFBSTs2RUFDbEIsQ0FBQyxDQUFDO29CQUMzRCxPQUFPO2FBQ2Q7WUFDRCxJQUFJLGFBQWEsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxVQUFVLEVBQUUsR0FBRyxjQUFjLENBQUMsSUFBSSxhQUFhLGFBQWEsQ0FBQyxNQUFNLHlDQUF5QyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQzthQUMvSTtZQUNELElBQUksYUFBYSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFO2dCQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxHQUFHLGNBQWMsQ0FBQyxJQUFJLFVBQVUsYUFBYSxDQUFDLElBQUksMkNBQTJDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDO2FBQzdJO1lBQ0QsSUFBSSxhQUFhLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLEdBQUcsY0FBYyxDQUFDLElBQUksZUFBZSxhQUFhLENBQUMsUUFBUSxnREFBZ0QsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7YUFDMUo7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksS0FBSyxDQUFDLEVBQUU7WUFDeEMsT0FBTyxVQUFVLENBQUM7U0FDckI7UUFDRCxNQUFNLGdCQUFnQixHQUFhLEVBQUUsQ0FBQztRQUN0QyxJQUFJLENBQUMsc0JBQXNCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBZ0IsRUFBRSxJQUFZLEVBQUUsRUFBRSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksS0FBSyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBQ3hJLE1BQU0sSUFBSSxLQUFLLENBQUMsZUFBZSxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxnREFBZ0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixnQkFBZ0IsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO0lBQ2pNLENBQUM7Q0FFSjtBQUV5RyIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQ3JhZnRpbmdTeXN0ZW1GYWN0b3J5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZnMgZnJvbSAnZnMnXHJcblxyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi9DcmFmdGluZ1N5c3RlbVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbn0gZnJvbSBcIi4vQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi9SZWNpcGVcIjtcclxuaW1wb3J0IHtJbmdyZWRpZW50fSBmcm9tIFwiLi9JbmdyZWRpZW50XCI7XHJcbmltcG9ydCB7RmFicmljYXRpb25BY3Rpb259IGZyb20gXCIuL0ZhYnJpY2F0aW9uQWN0aW9uXCI7XHJcbmltcG9ydCB7RmFicmljYXRlQ29tcGVuZGl1bURhdGEsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmludGVyZmFjZSBDcmFmdGluZ1N5c3RlbUZhY3Rvcnkge1xyXG4gICAgc3lzdGVtU3BlY2lmaWNhdGlvbjogQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uO1xyXG4gICAgbWFrZSgpOiBQcm9taXNlPENyYWZ0aW5nU3lzdGVtPjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEJhc2ljU3lzdGVtRGF0YSB7XHJcbiAgICByZWNpcGVzOiBSZWNpcGVbXTtcclxuICAgIGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W107XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIEFic3RyYWN0Q3JhZnRpbmdTeXN0ZW1GYWN0b3J5IGltcGxlbWVudHMgQ3JhZnRpbmdTeXN0ZW1GYWN0b3J5IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3N5c3RlbVNwZWNpZmljYXRpb246IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW1TcGVjaWZpY2F0aW9uOiBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24pIHtcclxuICAgICAgICB0aGlzLl9zeXN0ZW1TcGVjaWZpY2F0aW9uID0gc3lzdGVtU3BlY2lmaWNhdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3lzdGVtU3BlY2lmaWNhdGlvbigpOiBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zeXN0ZW1TcGVjaWZpY2F0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIG1ha2UoKTogUHJvbWlzZTxDcmFmdGluZ1N5c3RlbT4ge1xyXG4gICAgICAgIGNvbnN0IGJhc2ljU3lzdGVtRGF0YSA9IGF3YWl0IHRoaXMucHJlcGFyZSgpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBiYXNpY1N5c3RlbURhdGEuY29tcG9uZW50cy5mb3JFYWNoKChjcmFmdGluZ0NvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjcmFmdGluZ0NvbXBvbmVudC5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudEVycm9ycy5wdXNoKGBDcmFmdGluZyBDb21wb25lbnQgJHtjcmFmdGluZ0NvbXBvbmVudC5jb21wZW5kaXVtRW50cnl9IGlzIGludmFsaWQuIGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudEVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGJ1aWxkIENyYWZ0aW5nIFN5c3RlbSAke3RoaXMuc3lzdGVtU3BlY2lmaWNhdGlvbi5uYW1lfS4gVGhlcmUgd2VyZSBvbmUgb3IgbW9yZSBpc3N1ZXMgd2l0aCByZWFkaW5nIENyYWZ0aW5nIENvbXBvbmVudHM6ICR7Y29tcG9uZW50RXJyb3JzfS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudERpY3Rpb25hcnk6IE1hcDxzdHJpbmcsIENyYWZ0aW5nQ29tcG9uZW50PiA9IG5ldyBNYXAoYmFzaWNTeXN0ZW1EYXRhLmNvbXBvbmVudHMubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiBbY29tcG9uZW50LnBhcnRJZCwgY29tcG9uZW50XSkpO1xyXG4gICAgICAgIGNvbnN0IHJlY2lwZUVycm9yczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBjb25zdCBwb3B1bGF0ZWRSZWNpcGVzOiBSZWNpcGVbXSA9IGJhc2ljU3lzdGVtRGF0YS5yZWNpcGVzLm1hcCgocmVjaXBlOiBSZWNpcGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcG9wdWxhdGVkSW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXSA9IHJlY2lwZS5pbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nQ29tcG9uZW50ID0gY29tcG9uZW50RGljdGlvbmFyeS5nZXQoaW5ncmVkaWVudC5wYXJ0SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjcmFmdGluZ0NvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVjaXBlICR7cmVjaXBlLm5hbWV9IHdpdGggSUQgJHtyZWNpcGUucGFydElkfSBzcGVjaWZpZWQgYW4gSW5ncmVkaWVudCB0aGF0IHdhcyBub3QgZm91bmQgaW4gdGhlIENyYWZ0aW5nIFN5c3RlbTogJHtpbmdyZWRpZW50LmNvbXBlbmRpdW1FbnRyeX0uYCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gSW5ncmVkaWVudC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgICAgICAud2l0aENvbXBvbmVudChjcmFmdGluZ0NvbXBvbmVudClcclxuICAgICAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KGluZ3JlZGllbnQucXVhbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmlzQ29uc3VtZWQoaW5ncmVkaWVudC5jb25zdW1lZClcclxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcHVsYXRlZENyYWZ0aW5nUmVzdWx0cyA9IHJlY2lwZS5yZXN1bHRzLm1hcCgocmVzdWx0OiBGYWJyaWNhdGlvbkFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdDb21wb25lbnQgPSBjb21wb25lbnREaWN0aW9uYXJ5LmdldChyZXN1bHQucGFydElkKTtcclxuICAgICAgICAgICAgICAgIGlmICghY3JhZnRpbmdDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlY2lwZSAke3JlY2lwZS5uYW1lfSB3aXRoIElEICR7cmVjaXBlLnBhcnRJZH0gc3BlY2lmaWVkIGEgUmVzdWx0IHRoYXQgd2FzIG5vdCBmb3VuZCBpbiB0aGUgQ3JhZnRpbmcgU3lzdGVtOiAke3Jlc3VsdC5jb21wZW5kaXVtRW50cnl9LmApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEZhYnJpY2F0aW9uQWN0aW9uLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQWN0aW9uKHJlc3VsdC50eXBlKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQ29tcG9uZW50KGNyYWZ0aW5nQ29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkocmVzdWx0LnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQ3VzdG9tRGF0YShyZXN1bHQuY3VzdG9tRGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBSZWNpcGUuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aE5hbWUocmVjaXBlLm5hbWUpXHJcbiAgICAgICAgICAgICAgICAud2l0aFBhcnRJZChyZWNpcGUucGFydElkKVxyXG4gICAgICAgICAgICAgICAgLndpdGhFc3NlbmNlcyhyZWNpcGUuZXNzZW5jZXMpXHJcbiAgICAgICAgICAgICAgICAud2l0aFN5c3RlbUlkKHJlY2lwZS5zeXN0ZW1JZClcclxuICAgICAgICAgICAgICAgIC53aXRoSW5ncmVkaWVudHMocG9wdWxhdGVkSW5ncmVkaWVudHMpXHJcbiAgICAgICAgICAgICAgICAud2l0aFJlc3VsdHMocG9wdWxhdGVkQ3JhZnRpbmdSZXN1bHRzKVxyXG4gICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcG9wdWxhdGVkUmVjaXBlcy5mb3JFYWNoKChyZWNpcGU6IFJlY2lwZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXJlY2lwZS5pc1ZhbGlkKCkpIHtcclxuICAgICAgICAgICAgICAgIHJlY2lwZUVycm9ycy5wdXNoKGBSZWNpcGUgJHtyZWNpcGUuY29tcGVuZGl1bUVudHJ5fSBpcyBpbnZhbGlkLiBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZWNpcGVFcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBidWlsZCBDcmFmdGluZyBTeXN0ZW0gJHt0aGlzLnN5c3RlbVNwZWNpZmljYXRpb24ubmFtZX0uIFRoZXJlIHdlcmUgb25lIG9yIG1vcmUgaXNzdWVzIHdpdGggcmVhZGluZyBwb3B1bGF0aW5nIFJlY2lwZXM6ICR7cmVjaXBlRXJyb3JzfS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDcmFmdGluZ1N5c3RlbS5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhSZWNpcGVzKHBvcHVsYXRlZFJlY2lwZXMpXHJcbiAgICAgICAgICAgIC53aXRoTmFtZSh0aGlzLnN5c3RlbVNwZWNpZmljYXRpb24ubmFtZSlcclxuICAgICAgICAgICAgLndpdGhDb21wb25lbnREaWN0aW9uYXJ5KGNvbXBvbmVudERpY3Rpb25hcnkpXHJcbiAgICAgICAgICAgIC53aXRoRW5hYmxlSGludCh0aGlzLnN5c3RlbVNwZWNpZmljYXRpb24uZW5hYmxlSGludClcclxuICAgICAgICAgICAgLndpdGhGYWJyaWNhdG9yKHRoaXMuc3lzdGVtU3BlY2lmaWNhdGlvbi5mYWJyaWNhdG9yKVxyXG4gICAgICAgICAgICAud2l0aERlc2NyaXB0aW9uKHRoaXMuc3lzdGVtU3BlY2lmaWNhdGlvbi5kZXNjcmlwdGlvbilcclxuICAgICAgICAgICAgLndpdGhDb21wZW5kaXVtUGFja0tleSh0aGlzLnN5c3RlbVNwZWNpZmljYXRpb24uY29tcGVuZGl1bVBhY2tLZXkpXHJcbiAgICAgICAgICAgIC53aXRoU3VwcG9ydGVkR2FtZVN5c3RlbXModGhpcy5zeXN0ZW1TcGVjaWZpY2F0aW9uLnN1cHBvcnRlZEdhbWVTeXN0ZW1zKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBwcmVwYXJlKCk6IFByb21pc2U8QmFzaWNTeXN0ZW1EYXRhPjtcclxuXHJcbn1cclxuXHJcbmNsYXNzIENvbXBlbmRpdW1JbXBvcnRpbmdDcmFmdGluZ1N5c3RlbUZhY3RvcnkgZXh0ZW5kcyBBYnN0cmFjdENyYWZ0aW5nU3lzdGVtRmFjdG9yeSB7XHJcblxyXG4gICAgYXN5bmMgcHJlcGFyZSgpOiBQcm9taXNlPEJhc2ljU3lzdGVtRGF0YT4ge1xyXG4gICAgICAgIGxldCBzeXN0ZW1QYWNrOiBDb21wZW5kaXVtID0gZ2FtZS5wYWNrcy5nZXQodGhpcy5zeXN0ZW1TcGVjaWZpY2F0aW9uLmNvbXBlbmRpdW1QYWNrS2V5KTtcclxuICAgICAgICBsZXQgY29udGVudCA9IGF3YWl0IHRoaXMubG9hZENvbXBlbmRpdW1Db250ZW50KHN5c3RlbVBhY2ssIDEwKTtcclxuICAgICAgICBjb25zdCBzeXN0ZW1EYXRhOiBCYXNpY1N5c3RlbURhdGEgPSB7XHJcbiAgICAgICAgICAgIHJlY2lwZXM6IFtdLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29udGVudC5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW1Db25maWc6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhID0gaXRlbS5kYXRhLmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICAgICAgc3dpdGNoIChpdGVtQ29uZmlnLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UOlxyXG4gICAgICAgICAgICAgICAgICAgIHN5c3RlbURhdGEuY29tcG9uZW50cy5wdXNoKENyYWZ0aW5nQ29tcG9uZW50LmZyb21GbGFncyhpdGVtQ29uZmlnLCBpdGVtLm5hbWUsIGl0ZW0uaW1nKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRTpcclxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW1EYXRhLnJlY2lwZXMucHVzaChSZWNpcGUuZnJvbUZsYWdzKGl0ZW1Db25maWcsIGl0ZW0ubmFtZSwgaXRlbS5pbWcpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IFVuYWJsZSB0byBsb2FkIGl0ZW0gJHtpdGVtLmlkfS4gQ291bGQgbm90IGRldGVybWluZSBGYWJyaWNhdGUgRW50aXR5IFR5cGUuIGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHN5c3RlbURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGYWxsYmFjayBhd2FpdGVyIGZvciBsb2FkaW5nIGNvbXBlbmRpdW0gY29udGVudCwgYXMgdGhpcyB3YXMgb2JzZXJ2ZWQgdG8gYmUgdW5yZWxpYWJsZSBkdXJpbmcgZGV2ZWxvcG1lbnQgYWZ0ZXIgdGhlXHJcbiAgICAgKiBnYW1lICdyZWFkeScgSG9vayB3YXMgZmlyZWRcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29tcGVuZGl1bSBUaGUgQ29tcGVuZGl1bSBmcm9tIHdoaWNoIHRvIHJlbGlhYmx5IGxvYWQgdGhlIENvbnRlbnRcclxuICAgICAqIEBwYXJhbSBtYXhBdHRlbXB0cyBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gYXR0ZW1wdCBsb2FkaW5nIENvbXBlbmRpdW0gQ29udGVudFxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgYXN5bmMgbG9hZENvbXBlbmRpdW1Db250ZW50KGNvbXBlbmRpdW06IENvbXBlbmRpdW0sIG1heEF0dGVtcHRzOiBudW1iZXIpOiBQcm9taXNlPEVudGl0eVtdPiB7XHJcbiAgICAgICAgbGV0IGNvbnRlbnQ6IEVudGl0eVtdID0gYXdhaXQgY29tcGVuZGl1bS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgbGV0IGF0dGVtcHRzOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlICgoIWNvbnRlbnQgfHwgKGNvbnRlbnQubGVuZ3RoID09PSAwKSkgJiYgKGF0dGVtcHRzIDw9IG1heEF0dGVtcHRzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBXYWl0aW5nIGZvciBjb250ZW50IGluIENvbXBlbmRpdW0gUGFjayAke2NvbXBlbmRpdW0uaWR9IChBdHRlbXB0ICR7YXR0ZW1wdHN9IG9mICR7bWF4QXR0ZW1wdHN9LiBgKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0KDEwMDApO1xyXG4gICAgICAgICAgICBhdHRlbXB0cysrO1xyXG4gICAgICAgICAgICBjb250ZW50ID0gYXdhaXQgY29tcGVuZGl1bS5nZXRDb250ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2ltcGxlIGFzeW5jIGF3YWl0ZXIgZGVsYXkgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVsYXkgVGhlIG51bWJlciBvZiBtaWxsaXMgdG8gd2FpdCBiZWZvcmUgcmVzb2x2aW5nXHJcbiAgICAgKiBAcmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIGRlbGF5IHBlcmlvZCBoYXMgZWxhcHNlZFxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgYXN5bmMgd2FpdChkZWxheTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgRmlsZVJlYWRpbmdDcmFmdGluZ1N5c3RlbUZhY3RvcnkgZXh0ZW5kcyBBYnN0cmFjdENyYWZ0aW5nU3lzdGVtRmFjdG9yeSB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZmlsZVBhdGg6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZpbGVFcnJvcnNCeUxpbmVOdW1iZXI6IE1hcDxudW1iZXIsIHN0cmluZ1tdPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzeXN0ZW1TcGVjaWZpY2F0aW9uOiBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24sIGZpbGVQYXRoOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihzeXN0ZW1TcGVjaWZpY2F0aW9uKTtcclxuICAgICAgICB0aGlzLl9maWxlUGF0aCA9IGZpbGVQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmaWxlUGF0aCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maWxlUGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmlsZUVycm9yc0J5TGluZU51bWJlcigpOiBNYXA8bnVtYmVyLCBzdHJpbmdbXT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maWxlRXJyb3JzQnlMaW5lTnVtYmVyO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHByZXBhcmUoKTogUHJvbWlzZTxCYXNpY1N5c3RlbURhdGE+IHtcclxuICAgICAgICBjb25zdCBsaW5lcyA9IGF3YWl0IHRoaXMucmVhZEZpbGUodGhpcy5maWxlUGF0aCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VGaWxlRGF0YShsaW5lcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyByZWFkRmlsZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZ1tdPiB7XHJcbiAgICAgICAgY29uc3QgY29udGVudHMgPSBhd2FpdCBmcy5wcm9taXNlcy5yZWFkRmlsZShwYXRoLCAndXRmLTgnKTtcclxuICAgICAgICByZXR1cm4gY29udGVudHMuc3BsaXQoJ1xcbicpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVjb3JkRXJyb3IobGluZU51bWJlcjogbnVtYmVyLCBlcnJvcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2ZpbGVFcnJvcnNCeUxpbmVOdW1iZXIuaGFzKGxpbmVOdW1iZXIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpbGVFcnJvcnNCeUxpbmVOdW1iZXIuZ2V0KGxpbmVOdW1iZXIpLnB1c2goZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9maWxlRXJyb3JzQnlMaW5lTnVtYmVyLnNldChsaW5lTnVtYmVyLFtlcnJvcl0pO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlRmlsZURhdGEobGluZXM6IHN0cmluZ1tdKTogQmFzaWNTeXN0ZW1EYXRhIHtcclxuICAgICAgICBjb25zdCBzeXN0ZW1EYXRhOiBCYXNpY1N5c3RlbURhdGEgPSB7XHJcbiAgICAgICAgICAgIHJlY2lwZXM6IFtdLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBbXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGluZXMuZm9yRWFjaCgobGluZTogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVOdW1iZXIgPSBpbmRleCArIDE7XHJcbiAgICAgICAgICAgIGxldCBqc29uOiBhbnk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShsaW5lKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZEVycm9yKGxpbmVOdW1iZXIsIGBMaW5lIGlzIG5vdCB2YWxpZCBKU09OLiBgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWpzb24uZmxhZ3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkRXJyb3IobGluZU51bWJlciwgYE5vIGZsYWcgZGF0YSB3YXMgcHJlc2VudC4gYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZmFicmljYXRlRmxhZ3M6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhID0ganNvbi5mbGFncy5mYWJyaWNhdGU7XHJcbiAgICAgICAgICAgIGlmICghZmFicmljYXRlRmxhZ3MpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkRXJyb3IobGluZU51bWJlciwgYEZsYWcgZGF0YSB3YXMgcHJlc2VudCwgYnV0IG5vIEZhYnJpY2F0ZSBmbGFncyB3ZXJlIHNldC4gYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFmYWJyaWNhdGVGbGFncy5pZGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRFcnJvcihsaW5lTnVtYmVyLCBgRmxhZyBkYXRhIHdhcyBwcmVzZW50LCBidXQgbm8gRmFicmljYXRlIEl0ZW0gaWRlbnRpdHkgd2FzIHNldC4gYCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFmYWJyaWNhdGVGbGFncy5pZGVudGl0eS5wYXJ0SWQgfHwgIWZhYnJpY2F0ZUZsYWdzLmlkZW50aXR5LnN5c3RlbUlkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZEVycm9yKGxpbmVOdW1iZXIsIGBBbiBpbnZhbGlkIEZhYnJpY2F0ZSBJdGVtIGlkZW50aXR5IHdhcyBzZXQgd2l0aCBQYXJ0IElEICcke2ZhYnJpY2F0ZUZsYWdzLmlkZW50aXR5LnBhcnRJZH0nIGFuZCBTeXN0ZW0gSUQgJyR7ZmFicmljYXRlRmxhZ3MuaWRlbnRpdHkuc3lzdGVtSWR9JyBgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgZmFicmljYXRlSXRlbTogRmFicmljYXRlSXRlbTtcclxuICAgICAgICAgICAgc3dpdGNoIChmYWJyaWNhdGVGbGFncy50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWZhYnJpY2F0ZUZsYWdzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY29yZEVycm9yKGxpbmVOdW1iZXIsIGBObyBDb21wb25lbnQgZGVmaW5pdGlvbiB3YXMgcHJvdmlkZWQuIGApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nQ29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCA9IENyYWZ0aW5nQ29tcG9uZW50LmZyb21GbGFncyhmYWJyaWNhdGVGbGFncywganNvbi5uYW1lLCBqc29uLmltZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmFicmljYXRlSXRlbSA9IGNyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHN5c3RlbURhdGEuY29tcG9uZW50cy5wdXNoKGNyYWZ0aW5nQ29tcG9uZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZmFicmljYXRlRmxhZ3MucmVjaXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkRXJyb3IobGluZU51bWJlciwgYE5vIFJlY2lwZSBkZWZpbml0aW9uIHdhcyBwcm92aWRlZC4gYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjaXBlOiBSZWNpcGUgPSBSZWNpcGUuZnJvbUZsYWdzKGZhYnJpY2F0ZUZsYWdzLCBqc29uLm5hbWUsIGpzb24uaW1nKTtcclxuICAgICAgICAgICAgICAgICAgICBmYWJyaWNhdGVJdGVtID0gcmVjaXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN5c3RlbURhdGEucmVjaXBlcy5wdXNoKHJlY2lwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkRXJyb3IobGluZU51bWJlciwgYFRoZSBGYWJyaWNhdGUgSXRlbSB0eXBlICR7ZmFicmljYXRlRmxhZ3MudHlwZX0gd2FzIG5vdCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplZC4gQWxsb3dhYmxlIHZhbHVlcyBhcmUgQ09NUE9ORU5UIG9yIFJFQ0lQRWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmFicmljYXRlSXRlbS5wYXJ0SWQgIT09IGpzb24uX2lkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZEVycm9yKGxpbmVOdW1iZXIsIGAke2ZhYnJpY2F0ZUZsYWdzLnR5cGV9IHBhcnQgSUQgJyR7ZmFicmljYXRlSXRlbS5wYXJ0SWR9JyBkaWQgbm90IG1hdGNoIENvbXBlbmRpdW0gRW50aXR5IElEICcke2pzb24uX2lkfS4gJ2ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmYWJyaWNhdGVJdGVtLm5hbWUgIT09IGpzb24ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRFcnJvcihsaW5lTnVtYmVyLCBgJHtmYWJyaWNhdGVGbGFncy50eXBlfSBuYW1lICcke2ZhYnJpY2F0ZUl0ZW0ubmFtZX0nIGRpZCBub3QgbWF0Y2ggQ29tcGVuZGl1bSBFbnRpdHkgbmFtZSAnJHtqc29uLm5hbWV9LiAnYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGZhYnJpY2F0ZUl0ZW0uaW1hZ2VVcmwgIT09IGpzb24uaW1nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29yZEVycm9yKGxpbmVOdW1iZXIsIGAke2ZhYnJpY2F0ZUZsYWdzLnR5cGV9IGltYWdlIFVSTCAnJHtmYWJyaWNhdGVJdGVtLmltYWdlVXJsfScgZGlkIG5vdCBtYXRjaCBDb21wZW5kaXVtIEVudGl0eSBpbWFnZSBVUkwgJyR7anNvbi5pbWd9LiAnYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAodGhpcy5maWxlRXJyb3JzQnlMaW5lTnVtYmVyLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN5c3RlbURhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGxpbmVFcnJvckRldGFpbHM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgdGhpcy5maWxlRXJyb3JzQnlMaW5lTnVtYmVyLmZvckVhY2goKGVycm9yczogc3RyaW5nW10sIGxpbmU6IG51bWJlcikgPT4gbGluZUVycm9yRGV0YWlscy5wdXNoKGBMaW5lICR7bGluZX06ICR7ZXJyb3JzLmpvaW4oJywgJyl9IFxcbmApKTtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVuY291bnRlcmVkICR7dGhpcy5maWxlRXJyb3JzQnlMaW5lTnVtYmVyLnNpemV9IGVycm9ycyB3aGVuIHByb2Nlc3NpbmcgZmlsZSBkYXRhIGZvciBzeXN0ZW0gJHt0aGlzLnN5c3RlbVNwZWNpZmljYXRpb24uY29tcGVuZGl1bVBhY2tLZXl9LiBFcnJvcnM6IFxcbiAke2xpbmVFcnJvckRldGFpbHN9YCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nU3lzdGVtRmFjdG9yeSwgRmlsZVJlYWRpbmdDcmFmdGluZ1N5c3RlbUZhY3RvcnksIENvbXBlbmRpdW1JbXBvcnRpbmdDcmFmdGluZ1N5c3RlbUZhY3Rvcnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingSystemFactory.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingSystemSpecification.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/core/CraftingSystemSpecification.ts ***!
  \*********************************************************/
/*! exports provided: CraftingSystemSpecification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystemSpecification\", function() { return CraftingSystemSpecification; });\nclass CraftingSystemSpecification {\r\n    constructor(builder) {\r\n        this._supportedGameSystems = [];\r\n        this._compendiumPackKey = builder.compendiumPackKey;\r\n        this._name = builder.name;\r\n        this._description = builder.description;\r\n        this._enableHint = builder.enableHint;\r\n        this._enabled = builder.enabled;\r\n        this._supportedGameSystems = builder.supportedGameSystems;\r\n        this._fabricator = builder.fabricator;\r\n    }\r\n    get compendiumPackKey() {\r\n        return this._compendiumPackKey;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get description() {\r\n        return this._description;\r\n    }\r\n    get enableHint() {\r\n        return this._enableHint;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get fabricator() {\r\n        return this._fabricator;\r\n    }\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n    static builder() {\r\n        return new CraftingSystemSpecification.Builder();\r\n    }\r\n}\r\n(function (CraftingSystemSpecification) {\r\n    class Builder {\r\n        constructor() {\r\n            this.supportedGameSystems = [];\r\n        }\r\n        build() {\r\n            return new CraftingSystemSpecification(this);\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumPackKey(value) {\r\n            this.compendiumPackKey = value;\r\n            return this;\r\n        }\r\n        withFabricator(value) {\r\n            this.fabricator = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystems(value) {\r\n            this.supportedGameSystems = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystem(value) {\r\n            this.supportedGameSystems.push(value);\r\n            return this;\r\n        }\r\n        withEnableHint(value) {\r\n            this.enableHint = value;\r\n            return this;\r\n        }\r\n        isEnabled(value) {\r\n            this.enabled = value;\r\n            return this;\r\n        }\r\n        withDescription(value) {\r\n            this.description = value;\r\n            return this;\r\n        }\r\n    }\r\n    CraftingSystemSpecification.Builder = Builder;\r\n})(CraftingSystemSpecification || (CraftingSystemSpecification = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbi50cz9mNTI1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQSxNQUFNLDJCQUEyQjtJQVM3QixZQUFZLE9BQTRDO1FBSHZDLDBCQUFxQixHQUFhLEVBQUUsQ0FBQztRQUlsRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1FBQ3BELElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7UUFDeEMsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztRQUNoQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDO1FBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUMxQyxDQUFDO0lBRUQsSUFBSSxpQkFBaUI7UUFDakIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDbkMsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksb0JBQW9CO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDO0lBQ3RDLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLDJCQUEyQixDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3JELENBQUM7Q0FFSjtBQUVELFdBQVUsMkJBQTJCO0lBRWpDLE1BQWEsT0FBTztRQUFwQjtZQU9XLHlCQUFvQixHQUFhLEVBQUUsQ0FBQztRQThDL0MsQ0FBQztRQTNDVSxLQUFLO1lBQ1IsT0FBTyxJQUFJLDJCQUEyQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFFTSxRQUFRLENBQUMsS0FBYTtZQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztZQUNsQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0scUJBQXFCLENBQUMsS0FBYTtZQUN0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1lBQy9CLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxjQUFjLENBQUMsS0FBaUI7WUFDbkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHdCQUF3QixDQUFDLEtBQWU7WUFDM0MsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztZQUNsQyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sdUJBQXVCLENBQUMsS0FBYTtZQUN4QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RDLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxjQUFjLENBQUMsS0FBYTtZQUMvQixJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUN4QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sU0FBUyxDQUFDLEtBQWM7WUFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELGVBQWUsQ0FBQyxLQUFhO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7S0FDSjtJQXJEWSxtQ0FBTyxVQXFEbkI7QUFFTCxDQUFDLEVBekRTLDJCQUEyQixLQUEzQiwyQkFBMkIsUUF5RHBDO0FBRW1DIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZhYnJpY2F0b3J9IGZyb20gXCIuL0ZhYnJpY2F0b3JcIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wZW5kaXVtUGFja0tleTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VuYWJsZUhpbnQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VuYWJsZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9zdXBwb3J0ZWRHYW1lU3lzdGVtczogc3RyaW5nW10gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZhYnJpY2F0b3I6IEZhYnJpY2F0b3I7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uLkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9jb21wZW5kaXVtUGFja0tleSA9IGJ1aWxkZXIuY29tcGVuZGl1bVBhY2tLZXk7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGJ1aWxkZXIubmFtZTtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGJ1aWxkZXIuZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlSGludCA9IGJ1aWxkZXIuZW5hYmxlSGludDtcclxuICAgICAgICB0aGlzLl9lbmFibGVkID0gYnVpbGRlci5lbmFibGVkO1xyXG4gICAgICAgIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zID0gYnVpbGRlci5zdXBwb3J0ZWRHYW1lU3lzdGVtcztcclxuICAgICAgICB0aGlzLl9mYWJyaWNhdG9yID0gYnVpbGRlci5mYWJyaWNhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wZW5kaXVtUGFja0tleSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wZW5kaXVtUGFja0tleTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5hYmxlSGludCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVIaW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdXBwb3J0ZWRHYW1lU3lzdGVtcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmYWJyaWNhdG9yKCk6IEZhYnJpY2F0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWJyaWNhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRlcigpOiBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24uQnVpbGRlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24uQnVpbGRlcigpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbiB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG5cclxuICAgICAgICBwdWJsaWMgY29tcGVuZGl1bVBhY2tLZXkhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIG5hbWUhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGRlc2NyaXB0aW9uITogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBlbmFibGVIaW50ITogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBlbmFibGVkITogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgc3VwcG9ydGVkR2FtZVN5c3RlbXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIGZhYnJpY2F0b3IhOiBGYWJyaWNhdG9yO1xyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKSA6IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhDb21wZW5kaXVtUGFja0tleSh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGVuZGl1bVBhY2tLZXkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEZhYnJpY2F0b3IodmFsdWU6IEZhYnJpY2F0b3IpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5mYWJyaWNhdG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhTdXBwb3J0ZWRHYW1lU3lzdGVtcyh2YWx1ZTogc3RyaW5nW10pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoU3VwcG9ydGVkR2FtZVN5c3RlbSh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkR2FtZVN5c3RlbXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFbmFibGVIaW50KHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVIaW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGlzRW5hYmxlZCh2YWx1ZTogYm9vbGVhbik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVuYWJsZWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoRGVzY3JpcHRpb24odmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9ufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingSystemSpecification.ts\n");

/***/ }),

/***/ "./src/scripts/core/EssenceCombiner.ts":
/*!*********************************************!*\
  !*** ./src/scripts/core/EssenceCombiner.ts ***!
  \*********************************************/
/*! exports provided: AlchemicalResult, AbstractEssenceCombiner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AbstractEssenceCombiner\", function() { return AbstractEssenceCombiner; });\n/* harmony import */ var _AlchemicalResultSet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlchemicalResultSet */ \"./src/scripts/core/AlchemicalResultSet.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AlchemicalResult\", function() { return _AlchemicalResultSet__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult\"]; });\n\n\r\nclass AbstractEssenceCombiner {\r\n    constructor(maxComponents, maxEssences, availableResults, resultantItem) {\r\n        this._maxComponents = maxComponents;\r\n        this._maxEssences = maxEssences;\r\n        this._availableResults = availableResults;\r\n        this._resultantItem = resultantItem;\r\n    }\r\n    get maxComponents() {\r\n        return this._maxComponents;\r\n    }\r\n    get maxEssences() {\r\n        return this._maxEssences;\r\n    }\r\n    get resultantItem() {\r\n        return this._resultantItem;\r\n    }\r\n    combine(components) {\r\n        this.validate(components);\r\n        const effects = this.getAlchemicalResultsForComponents(components);\r\n        return this.combineAlchemicalResults(effects);\r\n    }\r\n    validate(components) {\r\n        if ((this._maxComponents > 0) && (this._maxComponents < components.length)) {\r\n            throw new Error(`The Essence Combiner for this system supports a maximum of ${this._maxComponents} components. `);\r\n        }\r\n        if (this._maxEssences > 0) {\r\n            const essenceCount = components.map((component) => component.essences.length)\r\n                .reduce((left, right) => left + right, 0);\r\n            if (essenceCount > this._maxEssences) {\r\n                throw new Error(`The Essence Combiner for this system supports a maximum of ${this._maxEssences} essences. `);\r\n            }\r\n        }\r\n    }\r\n    getAlchemicalResultsForComponents(components) {\r\n        return components.map((component) => this._availableResults.getByEssenceCombination(component.essences));\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VDb21iaW5lci50cz8xOTQxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNEU7QUFVNUUsTUFBZSx1QkFBdUI7SUFNbEMsWUFBc0IsYUFBcUIsRUFBRSxXQUFtQixFQUFFLGdCQUF3QyxFQUFFLGFBQWdDO1FBQ3hJLElBQUksQ0FBQyxjQUFjLEdBQUcsYUFBYSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztRQUMxQyxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLFdBQVc7UUFDWCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUMvQixDQUFDO0lBRUQsT0FBTyxDQUFDLFVBQStCO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDMUIsTUFBTSxPQUFPLEdBQTBCLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMxRixPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRVMsUUFBUSxDQUFDLFVBQStCO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDeEUsTUFBTSxJQUFJLEtBQUssQ0FBQyw4REFBOEQsSUFBSSxDQUFDLGNBQWMsZUFBZSxDQUFDLENBQUM7U0FDckg7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztpQkFDM0YsTUFBTSxDQUFDLENBQUMsSUFBWSxFQUFFLEtBQWEsRUFBRSxFQUFFLENBQUMsSUFBSSxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM5RCxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLDhEQUE4RCxJQUFJLENBQUMsWUFBWSxhQUFhLENBQUMsQ0FBQzthQUNqSDtTQUNKO0lBQ0wsQ0FBQztJQUlELGlDQUFpQyxDQUFDLFVBQStCO1FBQzdELE9BQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQTRCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNoSSxDQUFDO0NBRUo7QUFFa0UiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VDb21iaW5lci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWxjaGVtaWNhbFJlc3VsdCwgQWxjaGVtaWNhbFJlc3VsdFNldH0gZnJvbSBcIi4vQWxjaGVtaWNhbFJlc3VsdFNldFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuaW50ZXJmYWNlIEVzc2VuY2VDb21iaW5lcjxUPiB7XHJcbiAgICBtYXhDb21wb25lbnRzOiBudW1iZXI7XHJcbiAgICBtYXhFc3NlbmNlczogbnVtYmVyO1xyXG4gICAgcmVzdWx0YW50SXRlbTogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICBjb21iaW5lKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBBbGNoZW1pY2FsUmVzdWx0PFQ+O1xyXG59XHJcblxyXG5hYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEVzc2VuY2VDb21iaW5lcjxUPiBpbXBsZW1lbnRzIEVzc2VuY2VDb21iaW5lcjxUPiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9tYXhDb21wb25lbnRzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9tYXhFc3NlbmNlczogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYXZhaWxhYmxlUmVzdWx0czogQWxjaGVtaWNhbFJlc3VsdFNldDxUPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdGFudEl0ZW06IENyYWZ0aW5nQ29tcG9uZW50O1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihtYXhDb21wb25lbnRzOiBudW1iZXIsIG1heEVzc2VuY2VzOiBudW1iZXIsIGF2YWlsYWJsZVJlc3VsdHM6IEFsY2hlbWljYWxSZXN1bHRTZXQ8VD4sIHJlc3VsdGFudEl0ZW06IENyYWZ0aW5nQ29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5fbWF4Q29tcG9uZW50cyA9IG1heENvbXBvbmVudHM7XHJcbiAgICAgICAgdGhpcy5fbWF4RXNzZW5jZXMgPSBtYXhFc3NlbmNlcztcclxuICAgICAgICB0aGlzLl9hdmFpbGFibGVSZXN1bHRzID0gYXZhaWxhYmxlUmVzdWx0cztcclxuICAgICAgICB0aGlzLl9yZXN1bHRhbnRJdGVtID0gcmVzdWx0YW50SXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWF4Q29tcG9uZW50cygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhDb21wb25lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtYXhFc3NlbmNlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhFc3NlbmNlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVzdWx0YW50SXRlbSgpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdGFudEl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgY29tYmluZShjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQWxjaGVtaWNhbFJlc3VsdDxUPiB7XHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZShjb21wb25lbnRzKTtcclxuICAgICAgICBjb25zdCBlZmZlY3RzOiBBbGNoZW1pY2FsUmVzdWx0PFQ+W10gPSB0aGlzLmdldEFsY2hlbWljYWxSZXN1bHRzRm9yQ29tcG9uZW50cyhjb21wb25lbnRzKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21iaW5lQWxjaGVtaWNhbFJlc3VsdHMoZWZmZWN0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIHZhbGlkYXRlKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pIHtcclxuICAgICAgICBpZiAoKHRoaXMuX21heENvbXBvbmVudHMgPiAwKSAmJiAodGhpcy5fbWF4Q29tcG9uZW50cyA8IGNvbXBvbmVudHMubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBFc3NlbmNlIENvbWJpbmVyIGZvciB0aGlzIHN5c3RlbSBzdXBwb3J0cyBhIG1heGltdW0gb2YgJHt0aGlzLl9tYXhDb21wb25lbnRzfSBjb21wb25lbnRzLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX21heEVzc2VuY2VzID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBlc3NlbmNlQ291bnQgPSBjb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50LmVzc2VuY2VzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcikgPT4gbGVmdCArIHJpZ2h0LCAwKTtcclxuICAgICAgICAgICAgaWYgKGVzc2VuY2VDb3VudCA+IHRoaXMuX21heEVzc2VuY2VzKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBFc3NlbmNlIENvbWJpbmVyIGZvciB0aGlzIHN5c3RlbSBzdXBwb3J0cyBhIG1heGltdW0gb2YgJHt0aGlzLl9tYXhFc3NlbmNlc30gZXNzZW5jZXMuIGApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGNvbWJpbmVBbGNoZW1pY2FsUmVzdWx0cyhlZmZlY3RzOiBBbGNoZW1pY2FsUmVzdWx0PFQ+W10pOiBBbGNoZW1pY2FsUmVzdWx0PFQ+O1xyXG5cclxuICAgIGdldEFsY2hlbWljYWxSZXN1bHRzRm9yQ29tcG9uZW50cyhjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQWxjaGVtaWNhbFJlc3VsdDxUPltdIHtcclxuICAgICAgICByZXR1cm4gY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHRoaXMuX2F2YWlsYWJsZVJlc3VsdHMuZ2V0QnlFc3NlbmNlQ29tYmluYXRpb24oY29tcG9uZW50LmVzc2VuY2VzKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0Vzc2VuY2VDb21iaW5lciwgQWxjaGVtaWNhbFJlc3VsdCwgQWJzdHJhY3RFc3NlbmNlQ29tYmluZXJ9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/EssenceCombiner.ts\n");

/***/ }),

/***/ "./src/scripts/core/EssenceType.ts":
/*!*****************************************!*\
  !*** ./src/scripts/core/EssenceType.ts ***!
  \*****************************************/
/*! exports provided: EssenceType, EssenceTypeIconConverter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceType\", function() { return EssenceType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceTypeIconConverter\", function() { return EssenceTypeIconConverter; });\nvar EssenceType;\r\n(function (EssenceType) {\r\n    EssenceType[\"EARTH\"] = \"EARTH\";\r\n    EssenceType[\"AIR\"] = \"AIR\";\r\n    EssenceType[\"WATER\"] = \"WATER\";\r\n    EssenceType[\"FIRE\"] = \"FIRE\";\r\n    EssenceType[\"POSITIVE_ENERGY\"] = \"POSITIVE_ENERGY\";\r\n    EssenceType[\"NEGATIVE_ENERGY\"] = \"NEGATIVE_ENERGY\";\r\n})(EssenceType || (EssenceType = {}));\r\nclass EssenceTypeIconConverter {\r\n    static convertToIconMarkup(essenceType) {\r\n        const iconMarkup = this._registeredIcons.get(essenceType);\r\n        if (iconMarkup && iconMarkup.length > 0) {\r\n            return iconMarkup;\r\n        }\r\n        return essenceType;\r\n    }\r\n    static convertSeriesToIconMarkup(essenceTypes) {\r\n        const essenceFrequencies = new Map();\r\n        essenceTypes.forEach((essence) => {\r\n            if (essenceFrequencies.has(essence)) {\r\n                const currentCount = essenceFrequencies.get(essence);\r\n                essenceFrequencies.set(essence, currentCount + 1);\r\n            }\r\n            else {\r\n                essenceFrequencies.set(essence, 1);\r\n            }\r\n        });\r\n        const parts = [];\r\n        essenceFrequencies.forEach((amount, essenceType) => {\r\n            parts.push(`${this.convertToIconMarkup(essenceType)} x${amount}`);\r\n        });\r\n        return parts.join(', ');\r\n    }\r\n}\r\nEssenceTypeIconConverter._registeredIcons = new Map([\r\n    [EssenceType.NEGATIVE_ENERGY, '<i class=\"fas fa-moon\" title=\"Negative Energy\"></i>'],\r\n    [EssenceType.POSITIVE_ENERGY, '<i class=\"fas fa-sun\" title=\"Positive Energy\"></i>'],\r\n    [EssenceType.AIR, '<i class=\"fas fa-wind\" title=\"Air\"></i>'],\r\n    [EssenceType.EARTH, '<i class=\"fas fa-mountain\" title=\"Earth\"></i>'],\r\n    [EssenceType.WATER, '<i class=\"fas fa-tint\" title=\"Water\"></i>'],\r\n    [EssenceType.FIRE, '<i class=\"fas fa-fire\" title=\"Fire\"></i>']\r\n]);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VUeXBlLnRzPzQzYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUEsSUFBSyxXQU9KO0FBUEQsV0FBSyxXQUFXO0lBQ1osOEJBQWU7SUFDZiwwQkFBVztJQUNYLDhCQUFlO0lBQ2YsNEJBQWE7SUFDYixrREFBbUM7SUFDbkMsa0RBQW1DO0FBQ3ZDLENBQUMsRUFQSSxXQUFXLEtBQVgsV0FBVyxRQU9mO0FBRUQsTUFBTSx3QkFBd0I7SUFXbkIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFdBQXdCO1FBRXRELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUQsSUFBSSxVQUFVLElBQUksVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDckMsT0FBTyxVQUFVLENBQUM7U0FDckI7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUV2QixDQUFDO0lBRU0sTUFBTSxDQUFDLHlCQUF5QixDQUFDLFlBQTJCO1FBQy9ELE1BQU0sa0JBQWtCLEdBQTZCLElBQUksR0FBRyxFQUFFLENBQUM7UUFDL0QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQW9CLEVBQUUsRUFBRTtZQUMxQyxJQUFJLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDakMsTUFBTSxZQUFZLEdBQVcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM3RCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQzthQUNyRDtpQkFBTTtnQkFDSCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ3RDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLEtBQUssR0FBYSxFQUFFLENBQUM7UUFDM0Isa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBYyxFQUFFLFdBQXdCLEVBQUUsRUFBRTtZQUNwRSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxLQUFLLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQzs7QUFsQ3VCLHlDQUFnQixHQUE2QixJQUFJLEdBQUcsQ0FBQztJQUN6RSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUscURBQXFELENBQUM7SUFDcEYsQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLG9EQUFvRCxDQUFDO0lBQ25GLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSx5Q0FBeUMsQ0FBQztJQUM1RCxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsK0NBQStDLENBQUM7SUFDcEUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDJDQUEyQyxDQUFDO0lBQ2hFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSwwQ0FBMEMsQ0FBQztDQUNqRSxDQUFDLENBQUM7QUErQnVDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9Fc3NlbmNlVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImVudW0gRXNzZW5jZVR5cGUge1xyXG4gICAgRUFSVEggPSAnRUFSVEgnLFxyXG4gICAgQUlSID0gJ0FJUicsXHJcbiAgICBXQVRFUiA9ICdXQVRFUicsXHJcbiAgICBGSVJFID0gJ0ZJUkUnLFxyXG4gICAgUE9TSVRJVkVfRU5FUkdZID0gJ1BPU0lUSVZFX0VORVJHWScsXHJcbiAgICBORUdBVElWRV9FTkVSR1kgPSAnTkVHQVRJVkVfRU5FUkdZJ1xyXG59XHJcblxyXG5jbGFzcyBFc3NlbmNlVHlwZUljb25Db252ZXJ0ZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9yZWdpc3RlcmVkSWNvbnM6IE1hcDxFc3NlbmNlVHlwZSwgc3RyaW5nPiA9IG5ldyBNYXAoW1xyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5ORUdBVElWRV9FTkVSR1ksICc8aSBjbGFzcz1cImZhcyBmYS1tb29uXCIgdGl0bGU9XCJOZWdhdGl2ZSBFbmVyZ3lcIj48L2k+J10sXHJcbiAgICAgICAgW0Vzc2VuY2VUeXBlLlBPU0lUSVZFX0VORVJHWSwgJzxpIGNsYXNzPVwiZmFzIGZhLXN1blwiIHRpdGxlPVwiUG9zaXRpdmUgRW5lcmd5XCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5BSVIsICc8aSBjbGFzcz1cImZhcyBmYS13aW5kXCIgdGl0bGU9XCJBaXJcIj48L2k+J10sXHJcbiAgICAgICAgW0Vzc2VuY2VUeXBlLkVBUlRILCAnPGkgY2xhc3M9XCJmYXMgZmEtbW91bnRhaW5cIiB0aXRsZT1cIkVhcnRoXCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5XQVRFUiwgJzxpIGNsYXNzPVwiZmFzIGZhLXRpbnRcIiB0aXRsZT1cIldhdGVyXCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5GSVJFLCAnPGkgY2xhc3M9XCJmYXMgZmEtZmlyZVwiIHRpdGxlPVwiRmlyZVwiPjwvaT4nXVxyXG4gICAgXSk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9JY29uTWFya3VwKGVzc2VuY2VUeXBlOiBFc3NlbmNlVHlwZSk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb25NYXJrdXAgPSB0aGlzLl9yZWdpc3RlcmVkSWNvbnMuZ2V0KGVzc2VuY2VUeXBlKTtcclxuICAgICAgICBpZiAoaWNvbk1hcmt1cCAmJiBpY29uTWFya3VwLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGljb25NYXJrdXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlc3NlbmNlVHlwZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb252ZXJ0U2VyaWVzVG9JY29uTWFya3VwKGVzc2VuY2VUeXBlczogRXNzZW5jZVR5cGVbXSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZUZyZXF1ZW5jaWVzOiBNYXA8RXNzZW5jZVR5cGUsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZXNzZW5jZVR5cGVzLmZvckVhY2goKGVzc2VuY2U6IEVzc2VuY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlc3NlbmNlRnJlcXVlbmNpZXMuaGFzKGVzc2VuY2UpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQ6IG51bWJlciA9IGVzc2VuY2VGcmVxdWVuY2llcy5nZXQoZXNzZW5jZSk7XHJcbiAgICAgICAgICAgICAgICBlc3NlbmNlRnJlcXVlbmNpZXMuc2V0KGVzc2VuY2UsIGN1cnJlbnRDb3VudCArIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXNzZW5jZUZyZXF1ZW5jaWVzLnNldChlc3NlbmNlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGVzc2VuY2VGcmVxdWVuY2llcy5mb3JFYWNoKChhbW91bnQ6IG51bWJlciwgZXNzZW5jZVR5cGU6IEVzc2VuY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goYCR7dGhpcy5jb252ZXJ0VG9JY29uTWFya3VwKGVzc2VuY2VUeXBlKX0geCR7YW1vdW50fWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcsICcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtFc3NlbmNlVHlwZSwgRXNzZW5jZVR5cGVJY29uQ29udmVydGVyfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/EssenceType.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricateItem.ts":
/*!*******************************************!*\
  !*** ./src/scripts/core/FabricateItem.ts ***!
  \*******************************************/
/*! exports provided: FabricateItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateItem\", function() { return FabricateItem; });\nclass FabricateItem {\r\n    constructor(systemId, partId, imageUrl, name) {\r\n        this._systemId = systemId;\r\n        this._partId = partId;\r\n        this._imageUrl = imageUrl;\r\n        this._name = name;\r\n    }\r\n    get partId() {\r\n        return this._partId;\r\n    }\r\n    get systemId() {\r\n        return this._systemId;\r\n    }\r\n    get compendiumEntry() {\r\n        return `${this.systemId}.${this.partId}`;\r\n    }\r\n    get imageUrl() {\r\n        return this._imageUrl;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    sharesType(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.partId === other.partId\r\n            && this.systemId === other.systemId;\r\n    }\r\n    isValid() {\r\n        return this.partId && this.partId.length > 0\r\n            && this.systemId && this.systemId.length > 0\r\n            && this.imageUrl != null && this.imageUrl.length > 0\r\n            && this.name != null && this.name.length > 0;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0ZUl0ZW0udHM/YzkxZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsTUFBZSxhQUFhO0lBTXhCLFlBQXNCLFFBQWdCLEVBQUUsTUFBYyxFQUFFLFFBQWdCLEVBQUUsSUFBWTtRQUNsRixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksZUFBZTtRQUNmLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDNUMsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBb0I7UUFDM0IsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNSLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBQ0QsT0FBTyxJQUFJLENBQUMsTUFBTSxLQUFLLEtBQUssQ0FBQyxNQUFNO2VBQzVCLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxDQUFDLFFBQVEsQ0FBQztJQUM1QyxDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDO2VBQ3JDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQztlQUN6QyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDO2VBQ2pELElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNyRCxDQUFDO0NBQ0o7QUFFcUIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0ZUl0ZW0udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhYnN0cmFjdCBjbGFzcyBGYWJyaWNhdGVJdGVtIHtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfc3lzdGVtSWQ6IHN0cmluZztcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfcGFydElkOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbWFnZVVybDogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihzeXN0ZW1JZDogc3RyaW5nLCBwYXJ0SWQ6IHN0cmluZywgaW1hZ2VVcmw6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fc3lzdGVtSWQgPSBzeXN0ZW1JZDtcclxuICAgICAgICB0aGlzLl9wYXJ0SWQgPSBwYXJ0SWQ7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBpbWFnZVVybDtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFydElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3lzdGVtSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3lzdGVtSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBlbmRpdW1FbnRyeSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnN5c3RlbUlkfS4ke3RoaXMucGFydElkfWBcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW1hZ2VVcmwoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1hZ2VVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBzaGFyZXNUeXBlKG90aGVyOiBGYWJyaWNhdGVJdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRJZCA9PT0gb3RoZXIucGFydElkXHJcbiAgICAgICAgICAgICYmIHRoaXMuc3lzdGVtSWQgPT09IG90aGVyLnN5c3RlbUlkO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFydElkICYmIHRoaXMucGFydElkLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgJiYgdGhpcy5zeXN0ZW1JZCAmJiB0aGlzLnN5c3RlbUlkLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgJiYgdGhpcy5pbWFnZVVybCAhPSBudWxsICYmIHRoaXMuaW1hZ2VVcmwubGVuZ3RoID4gMFxyXG4gICAgICAgICAgICAmJiB0aGlzLm5hbWUgIT0gbnVsbCAmJiB0aGlzLm5hbWUubGVuZ3RoID4gMDtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtGYWJyaWNhdGVJdGVtfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricateItem.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricationAction.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/FabricationAction.ts ***!
  \***********************************************/
/*! exports provided: FabricationAction */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricationAction\", function() { return FabricationAction; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\n\r\nclass FabricationAction extends _FabricateItem__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.component.systemId, builder.component.partId, builder.component.imageUrl, builder.component.name);\r\n        this._component = builder.component;\r\n        this._quantity = builder.quantity;\r\n        this._type = builder.action;\r\n        this._customData = builder.customData;\r\n    }\r\n    static builder() {\r\n        return new FabricationAction.Builder();\r\n    }\r\n    describe() {\r\n        const actionDescription = this._type === _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD ? 'Added' : 'Removed';\r\n        return `${actionDescription} ${this._quantity} ${this._component.name}`;\r\n    }\r\n    get component() {\r\n        return this._component;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    get customData() {\r\n        return this._customData;\r\n    }\r\n    static fromFlags(flags, systemId) {\r\n        return this.builder()\r\n            .withAction(flags.action)\r\n            .withQuantity(flags.quantity)\r\n            .withComponent(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].builder()\r\n            .withSystemId(systemId)\r\n            .withPartId(flags.partId)\r\n            .build())\r\n            .build();\r\n    }\r\n    static manyFromFlags(flags, systemId) {\r\n        return flags.map((flagData) => FabricationAction.fromFlags(flagData, systemId));\r\n    }\r\n    isValid() {\r\n        return (this.quantity != null && this.quantity > 0)\r\n            && (this.type != null)\r\n            && (this.type == _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD || this.type == _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE)\r\n            && this.component.isValid()\r\n            && super.isValid();\r\n    }\r\n}\r\n(function (FabricationAction) {\r\n    class Builder {\r\n        withComponent(value) {\r\n            this.component = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        withAction(value) {\r\n            this.action = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new FabricationAction(this);\r\n        }\r\n        withCustomData(value) {\r\n            this.customData = value;\r\n            return this;\r\n        }\r\n    }\r\n    FabricationAction.Builder = Builder;\r\n})(FabricationAction || (FabricationAction = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0aW9uQWN0aW9uLnRzP2YzZDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRDtBQUNkO0FBRU07QUFFOUMsTUFBTSxpQkFBa0IsU0FBUSw0REFBYTtJQU16QyxZQUFZLE9BQWtDO1FBQzFDLEtBQUssQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hILElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztRQUNwQyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7UUFDbEMsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUMxQyxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFTSxRQUFRO1FBQ1gsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsS0FBSyxLQUFLLHNEQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUM5RSxPQUFPLEdBQUcsaUJBQWlCLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzVFLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7SUFDM0IsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBMkIsRUFBRSxRQUFnQjtRQUNqRSxPQUFPLElBQUksQ0FBQyxPQUFPLEVBQUU7YUFDaEIsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7YUFDeEIsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDNUIsYUFBYSxDQUFDLG9FQUFpQixDQUFDLE9BQU8sRUFBRTthQUNyQyxZQUFZLENBQUMsUUFBUSxDQUFDO2FBQ3RCLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2FBQ3hCLEtBQUssRUFBRSxDQUFDO2FBQ1osS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBNkIsRUFBRSxRQUFnQjtRQUN2RSxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNwRixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztlQUM1QyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDO2VBQ25CLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxzREFBVSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBSSxJQUFJLHNEQUFVLENBQUMsTUFBTSxDQUFDO2VBQy9ELElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFO2VBQ3hCLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMzQixDQUFDO0NBQ0o7QUFFRCxXQUFVLGlCQUFpQjtJQUN2QixNQUFhLE9BQU87UUFNVCxhQUFhLENBQUMsS0FBd0I7WUFDekMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDdkIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFlBQVksQ0FBQyxLQUFhO1lBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxVQUFVLENBQUMsS0FBaUI7WUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDcEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsQ0FBQztRQUVELGNBQWMsQ0FBQyxLQUFVO1lBQ3JCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1lBQ3hCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7S0FDSjtJQTdCWSx5QkFBTyxVQTZCbkI7QUFDTCxDQUFDLEVBL0JTLGlCQUFpQixLQUFqQixpQkFBaUIsUUErQjFCO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9GYWJyaWNhdGlvbkFjdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7QWN0aW9uVHlwZX0gZnJvbSBcIi4vQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZVJlc3VsdEZsYWdzfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIEZhYnJpY2F0aW9uQWN0aW9uIGV4dGVuZHMgRmFicmljYXRlSXRlbSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcXVhbnRpdHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3R5cGU6IEFjdGlvblR5cGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jdXN0b21EYXRhOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogRmFicmljYXRpb25BY3Rpb24uQnVpbGRlcikge1xyXG4gICAgICAgIHN1cGVyKGJ1aWxkZXIuY29tcG9uZW50LnN5c3RlbUlkLCBidWlsZGVyLmNvbXBvbmVudC5wYXJ0SWQsIGJ1aWxkZXIuY29tcG9uZW50LmltYWdlVXJsLCBidWlsZGVyLmNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnQgPSBidWlsZGVyLmNvbXBvbmVudDtcclxuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IGJ1aWxkZXIucXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fdHlwZSA9IGJ1aWxkZXIuYWN0aW9uO1xyXG4gICAgICAgIHRoaXMuX2N1c3RvbURhdGEgPSBidWlsZGVyLmN1c3RvbURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCk6IEZhYnJpY2F0aW9uQWN0aW9uLkJ1aWxkZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgRmFicmljYXRpb25BY3Rpb24uQnVpbGRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXNjcmliZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGFjdGlvbkRlc2NyaXB0aW9uID0gdGhpcy5fdHlwZSA9PT0gQWN0aW9uVHlwZS5BREQgPyAnQWRkZWQnIDogJ1JlbW92ZWQnO1xyXG4gICAgICAgIHJldHVybiBgJHthY3Rpb25EZXNjcmlwdGlvbn0gJHt0aGlzLl9xdWFudGl0eX0gJHt0aGlzLl9jb21wb25lbnQubmFtZX1gO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnQoKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0eXBlKCk6IEFjdGlvblR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjdXN0b21EYXRhKCk6IGFueSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZVJlc3VsdEZsYWdzLCBzeXN0ZW1JZDogc3RyaW5nKTogRmFicmljYXRpb25BY3Rpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAud2l0aEFjdGlvbihmbGFncy5hY3Rpb24pXHJcbiAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoZmxhZ3MucXVhbnRpdHkpXHJcbiAgICAgICAgICAgIC53aXRoQ29tcG9uZW50KENyYWZ0aW5nQ29tcG9uZW50LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhTeXN0ZW1JZChzeXN0ZW1JZClcclxuICAgICAgICAgICAgICAgIC53aXRoUGFydElkKGZsYWdzLnBhcnRJZClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hbnlGcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZVJlc3VsdEZsYWdzW10sIHN5c3RlbUlkOiBzdHJpbmcpOiBGYWJyaWNhdGlvbkFjdGlvbltdIHtcclxuICAgICAgICByZXR1cm4gZmxhZ3MubWFwKChmbGFnRGF0YSkgPT4gRmFicmljYXRpb25BY3Rpb24uZnJvbUZsYWdzKGZsYWdEYXRhLCBzeXN0ZW1JZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnF1YW50aXR5ICE9IG51bGwgJiYgdGhpcy5xdWFudGl0eSA+IDApXHJcbiAgICAgICAgICAgICYmICh0aGlzLnR5cGUgIT0gbnVsbClcclxuICAgICAgICAgICAgJiYgKHRoaXMudHlwZSA9PSBBY3Rpb25UeXBlLkFERCB8fCB0aGlzLnR5cGUgPT0gQWN0aW9uVHlwZS5SRU1PVkUpXHJcbiAgICAgICAgICAgICYmIHRoaXMuY29tcG9uZW50LmlzVmFsaWQoKVxyXG4gICAgICAgICAgICAmJiBzdXBlci5pc1ZhbGlkKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBGYWJyaWNhdGlvbkFjdGlvbiB7XHJcbiAgICBleHBvcnQgY2xhc3MgQnVpbGRlciB7XHJcbiAgICAgICAgcHVibGljIGNvbXBvbmVudCE6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgIHB1YmxpYyBxdWFudGl0eSE6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMgYWN0aW9uITogQWN0aW9uVHlwZTtcclxuICAgICAgICBwdWJsaWMgY3VzdG9tRGF0YTogYW55O1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBvbmVudCh2YWx1ZTogQ3JhZnRpbmdDb21wb25lbnQpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFF1YW50aXR5KHZhbHVlOiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5xdWFudGl0eSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQWN0aW9uKHZhbHVlOiBBY3Rpb25UeXBlKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCk6IEZhYnJpY2F0aW9uQWN0aW9uIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGYWJyaWNhdGlvbkFjdGlvbih0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhDdXN0b21EYXRhKHZhbHVlOiBhbnkpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXN0b21EYXRhID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtGYWJyaWNhdGlvbkFjdGlvbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricationAction.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricationHelper.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/FabricationHelper.ts ***!
  \***********************************************/
/*! exports provided: FabricationHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricationHelper\", function() { return FabricationHelper; });\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _FabricationAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricationAction */ \"./src/scripts/core/FabricationAction.ts\");\n/* harmony import */ var _FabricationOutcome__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FabricationOutcome */ \"./src/scripts/core/FabricationOutcome.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass FabricationHelper {\r\n    static additiveItemModificationsFrom(modifications) {\r\n        return modifications.filter((modification) => modification.action === _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].ADD)\r\n            .map((additiveChange) => additiveChange.changedItems)\r\n            .reduce((left, right) => left.concat(right), []);\r\n    }\r\n    static takeActionsForOutcome(inventory, fabricationActions, outcome) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventoryModifications = yield FabricationHelper.applyResults(fabricationActions, inventory);\r\n            const addedItems = FabricationHelper.additiveItemModificationsFrom(inventoryModifications);\r\n            const description = fabricationActions.map((action) => action.describe()).join(', ');\r\n            return new _FabricationOutcome__WEBPACK_IMPORTED_MODULE_2__[\"FabricationOutcome\"](outcome, description, fabricationActions, addedItems);\r\n        });\r\n    }\r\n    static asCraftingResults(components, action) {\r\n        const componentsById = new Map();\r\n        components.forEach((component) => {\r\n            const identicalComponents = componentsById.get(component.partId);\r\n            if (!identicalComponents) {\r\n                componentsById.set(component.partId, [component]);\r\n            }\r\n            else {\r\n                identicalComponents.push(component);\r\n            }\r\n        });\r\n        if (Object.keys(componentsById).length === components.length) {\r\n            return components.map((component) => {\r\n                return _FabricationAction__WEBPACK_IMPORTED_MODULE_1__[\"FabricationAction\"].builder()\r\n                    .withComponent(component)\r\n                    .withQuantity(1)\r\n                    .withAction(action)\r\n                    .build();\r\n            });\r\n        }\r\n        const results = [];\r\n        componentsById.forEach((componentsOfType) => {\r\n            const craftingResult = _FabricationAction__WEBPACK_IMPORTED_MODULE_1__[\"FabricationAction\"].builder()\r\n                .withComponent(componentsOfType[0])\r\n                .withQuantity(componentsOfType.length)\r\n                .withAction(action)\r\n                .build();\r\n            results.push(craftingResult);\r\n        });\r\n        return results;\r\n    }\r\n    ;\r\n    static essenceCombinationIdentity(essences, essenceIdentities) {\r\n        return essences.map((essence) => essenceIdentities.get(essence))\r\n            .reduce((left, right) => left * right);\r\n    }\r\n    static assignEssenceIdentities(essences) {\r\n        const uniqueEssences = essences.filter((essence, index, collection) => collection.indexOf(essence) === index);\r\n        const primes = this.generatePrimes(uniqueEssences.length);\r\n        const essenceIdentities = new Map();\r\n        uniqueEssences.forEach((value, index) => essenceIdentities.set(value, primes[index]));\r\n        return essenceIdentities;\r\n    }\r\n    static generatePrimes(quantity) {\r\n        if (quantity <= FabricationHelper.primes.length) {\r\n            return FabricationHelper.primes.slice(0, quantity);\r\n        }\r\n        let candidate = 98;\r\n        while (FabricationHelper.primes.length < quantity) {\r\n            if (FabricationHelper.primes.every((p) => candidate % p)) {\r\n                FabricationHelper.primes.push(candidate);\r\n            }\r\n            candidate++;\r\n        }\r\n        return FabricationHelper.primes;\r\n    }\r\n    static combinationHistogram(components) {\r\n        const combinations = [];\r\n        const iterations = Math.pow(2, components.length);\r\n        for (let i = 0; i < iterations; i++) {\r\n            const combination = [];\r\n            for (let j = 0; j < components.length; j++) {\r\n                if (i & Math.pow(2, j)) {\r\n                    combination.push(components[j]);\r\n                }\r\n            }\r\n            if (combination.length > 0) {\r\n                combinations.push(combination);\r\n            }\r\n        }\r\n        return combinations.sort((left, right) => left.length - right.length);\r\n    }\r\n    static applyResults(craftingResults, inventory) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventoryModifications = [];\r\n            for (const craftingResult of craftingResults) {\r\n                switch (craftingResult.type) {\r\n                    case _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].ADD:\r\n                        if (craftingResult.customData) {\r\n                            const inventoryModification = yield inventory.addComponent(craftingResult.component, craftingResult.quantity, craftingResult.customData);\r\n                            inventoryModifications.push(inventoryModification);\r\n                        }\r\n                        else {\r\n                            const inventoryModification = yield inventory.addComponent(craftingResult.component, craftingResult.quantity);\r\n                            inventoryModifications.push(inventoryModification);\r\n                        }\r\n                        break;\r\n                    case _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].REMOVE:\r\n                        const inventoryModification = yield inventory.removeComponent(craftingResult.component, craftingResult.quantity);\r\n                        inventoryModifications.push(inventoryModification);\r\n                        break;\r\n                    default:\r\n                        throw new Error(`The Crafting Action Type ${craftingResult.type} is not supported. Allowable values are: ADD, REMOVE. `);\r\n                }\r\n            }\r\n            return inventoryModifications;\r\n        });\r\n    }\r\n}\r\nFabricationHelper.primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97];\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0aW9uSGVscGVyLnRzPzQyZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDd0M7QUFDYztBQUVlO0FBRXJFLE1BQU0saUJBQWlCO0lBSVgsTUFBTSxDQUFDLDZCQUE2QixDQUFDLGFBQXlEO1FBQ2xHLE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFlBQXNELEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxNQUFNLEtBQUssc0RBQVUsQ0FBQyxHQUFHLENBQUM7YUFDMUgsR0FBRyxDQUFDLENBQUMsY0FBd0QsRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQzthQUM5RixNQUFNLENBQUMsQ0FBQyxJQUFZLEVBQUUsS0FBYSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFFTSxNQUFNLENBQU8scUJBQXFCLENBQUMsU0FBb0IsRUFBRSxrQkFBdUMsRUFBRSxPQUFvQjs7WUFDekgsTUFBTSxzQkFBc0IsR0FBK0MsTUFBTSxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDL0ksTUFBTSxVQUFVLEdBQVcsaUJBQWlCLENBQUMsNkJBQTZCLENBQUMsc0JBQXNCLENBQUMsQ0FBQztZQUNuRyxNQUFNLFdBQVcsR0FBVyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUF5QixFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEgsT0FBTyxJQUFJLHNFQUFrQixDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDeEYsQ0FBQztLQUFBO0lBRU0sTUFBTSxDQUFDLGlCQUFpQixDQUFDLFVB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SjtZQUNELE9BQU8sc0JBQXNCLENBQUM7UUFDbEMsQ0FBQztLQUFBOztBQWpIdUIsd0JBQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBcUg1RyIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvRmFicmljYXRpb25IZWxwZXIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuL0FjdGlvblR5cGVcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGlvbkFjdGlvbn0gZnJvbSBcIi4vRmFicmljYXRpb25BY3Rpb25cIjtcclxuaW1wb3J0IHtJbnZlbnRvcnksIEludmVudG9yeU1vZGlmaWNhdGlvbn0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7RmFicmljYXRpb25PdXRjb21lLCBPdXRjb21lVHlwZX0gZnJvbSBcIi4vRmFicmljYXRpb25PdXRjb21lXCI7XHJcblxyXG5jbGFzcyBGYWJyaWNhdGlvbkhlbHBlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgcHJpbWVzID0gWzIsIDMsIDUsIDcsIDExLCAxMywgMTcsIDE5LCAyMywgMjksIDMxLCAzNywgNDEsIDQzLCA0NywgNTMsIDU5LCA2MSwgNjcsIDcxLCA3MywgNzksIDgzLCA4OSwgOTddO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGFkZGl0aXZlSXRlbU1vZGlmaWNhdGlvbnNGcm9tKG1vZGlmaWNhdGlvbnM6IEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD5bXSk6IEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGlmaWNhdGlvbnMuZmlsdGVyKChtb2RpZmljYXRpb246IEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4pID0+IG1vZGlmaWNhdGlvbi5hY3Rpb24gPT09IEFjdGlvblR5cGUuQUREKVxyXG4gICAgICAgICAgICAubWFwKChhZGRpdGl2ZUNoYW5nZTogSW52ZW50b3J5TW9kaWZpY2F0aW9uPENyYWZ0aW5nQ29tcG9uZW50PikgPT4gYWRkaXRpdmVDaGFuZ2UuY2hhbmdlZEl0ZW1zKVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0OiBJdGVtW10sIHJpZ2h0OiBJdGVtW10pID0+IGxlZnQuY29uY2F0KHJpZ2h0KSwgW10pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgdGFrZUFjdGlvbnNGb3JPdXRjb21lKGludmVudG9yeTogSW52ZW50b3J5LCBmYWJyaWNhdGlvbkFjdGlvbnM6IEZhYnJpY2F0aW9uQWN0aW9uW10sIG91dGNvbWU6IE91dGNvbWVUeXBlKTogUHJvbWlzZTxGYWJyaWNhdGlvbk91dGNvbWU+IHtcclxuICAgICAgICBjb25zdCBpbnZlbnRvcnlNb2RpZmljYXRpb25zOiBJbnZlbnRvcnlNb2RpZmljYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+W10gPSBhd2FpdCBGYWJyaWNhdGlvbkhlbHBlci5hcHBseVJlc3VsdHMoZmFicmljYXRpb25BY3Rpb25zLCBpbnZlbnRvcnkpO1xyXG4gICAgICAgIGNvbnN0IGFkZGVkSXRlbXM6IEl0ZW1bXSA9IEZhYnJpY2F0aW9uSGVscGVyLmFkZGl0aXZlSXRlbU1vZGlmaWNhdGlvbnNGcm9tKGludmVudG9yeU1vZGlmaWNhdGlvbnMpO1xyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uOiBzdHJpbmcgPSBmYWJyaWNhdGlvbkFjdGlvbnMubWFwKChhY3Rpb246IEZhYnJpY2F0aW9uQWN0aW9uKSA9PiBhY3Rpb24uZGVzY3JpYmUoKSkuam9pbignLCAnKTtcclxuICAgICAgICByZXR1cm4gbmV3IEZhYnJpY2F0aW9uT3V0Y29tZShvdXRjb21lLCBkZXNjcmlwdGlvbiwgZmFicmljYXRpb25BY3Rpb25zLCBhZGRlZEl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzQ3JhZnRpbmdSZXN1bHRzKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10sIGFjdGlvbjogQWN0aW9uVHlwZSk6IEZhYnJpY2F0aW9uQWN0aW9uW10ge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHNCeUlkOiBNYXA8c3RyaW5nLCBDcmFmdGluZ0NvbXBvbmVudFtdPiA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaWRlbnRpY2FsQ29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSA9IGNvbXBvbmVudHNCeUlkLmdldChjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICAgICAgaWYgKCFpZGVudGljYWxDb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzQnlJZC5zZXQoY29tcG9uZW50LnBhcnRJZCwgW2NvbXBvbmVudF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWRlbnRpY2FsQ29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoY29tcG9uZW50c0J5SWQpLmxlbmd0aCA9PT0gY29tcG9uZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudHMubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRmFicmljYXRpb25BY3Rpb24uYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhDb21wb25lbnQoY29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoMSlcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEFjdGlvbihhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHRzOiBGYWJyaWNhdGlvbkFjdGlvbltdID0gW107XHJcbiAgICAgICAgY29tcG9uZW50c0J5SWQuZm9yRWFjaCgoY29tcG9uZW50c09mVHlwZTogQ3JhZnRpbmdDb21wb25lbnRbXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1Jlc3VsdCA9IEZhYnJpY2F0aW9uQWN0aW9uLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhDb21wb25lbnQoY29tcG9uZW50c09mVHlwZVswXSlcclxuICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoY29tcG9uZW50c09mVHlwZS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAud2l0aEFjdGlvbihhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGNyYWZ0aW5nUmVzdWx0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBlc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eShlc3NlbmNlczogc3RyaW5nW10sIGVzc2VuY2VJZGVudGl0aWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+KTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gZXNzZW5jZXMubWFwKChlc3NlbmNlOiBzdHJpbmcpID0+IGVzc2VuY2VJZGVudGl0aWVzLmdldChlc3NlbmNlKSlcclxuICAgICAgICAgICAgLnJlZHVjZSgobGVmdCwgcmlnaHQpID0+IGxlZnQgKiByaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhc3NpZ25Fc3NlbmNlSWRlbnRpdGllcyhlc3NlbmNlczogc3RyaW5nW10pOiBNYXA8c3RyaW5nLCBudW1iZXI+IHtcclxuICAgICAgICBjb25zdCB1bmlxdWVFc3NlbmNlcyA9IGVzc2VuY2VzLmZpbHRlcigoZXNzZW5jZTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBjb2xsZWN0aW9uOiBzdHJpbmdbXSkgPT4gY29sbGVjdGlvbi5pbmRleE9mKGVzc2VuY2UpID09PSBpbmRleCk7XHJcbiAgICAgICAgY29uc3QgcHJpbWVzID0gdGhpcy5nZW5lcmF0ZVByaW1lcyh1bmlxdWVFc3NlbmNlcy5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VJZGVudGl0aWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHVuaXF1ZUVzc2VuY2VzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gZXNzZW5jZUlkZW50aXRpZXMuc2V0KHZhbHVlLCBwcmltZXNbaW5kZXhdKSk7XHJcbiAgICAgICAgcmV0dXJuIGVzc2VuY2VJZGVudGl0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2VuZXJhdGVQcmltZXMocXVhbnRpdHk6IG51bWJlcik6IG51bWJlcltdIHtcclxuICAgICAgICBpZiAocXVhbnRpdHkgPD0gRmFicmljYXRpb25IZWxwZXIucHJpbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRmFicmljYXRpb25IZWxwZXIucHJpbWVzLnNsaWNlKDAsIHF1YW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNhbmRpZGF0ZSA9IDk4O1xyXG4gICAgICAgIHdoaWxlIChGYWJyaWNhdGlvbkhlbHBlci5wcmltZXMubGVuZ3RoIDwgcXVhbnRpdHkpIHtcclxuICAgICAgICAgICAgaWYgKEZhYnJpY2F0aW9uSGVscGVyLnByaW1lcy5ldmVyeSgocCkgPT4gY2FuZGlkYXRlICUgcCkpIHtcclxuICAgICAgICAgICAgICAgIEZhYnJpY2F0aW9uSGVscGVyLnByaW1lcy5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FuZGlkYXRlKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGlvbkhlbHBlci5wcmltZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb21iaW5hdGlvbkhpc3RvZ3JhbShjb21wb25lbnRzOiAgQ3JhZnRpbmdDb21wb25lbnRbXSk6IENyYWZ0aW5nQ29tcG9uZW50W11bXSB7XHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25zOiBDcmFmdGluZ0NvbXBvbmVudFtdW10gPSBbXTtcclxuICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gTWF0aC5wb3coMiwgY29tcG9uZW50cy5sZW5ndGgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb21iaW5hdGlvbjogQ3JhZnRpbmdDb21wb25lbnRbXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbXBvbmVudHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICYgTWF0aC5wb3coMiwgaikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iaW5hdGlvbi5wdXNoKGNvbXBvbmVudHNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb21iaW5hdGlvbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb21iaW5hdGlvbnMucHVzaChjb21iaW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9ucy5zb3J0KChsZWZ0LCByaWdodCkgPT4gbGVmdC5sZW5ndGggLSByaWdodC5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXN5bmMgYXBwbHlSZXN1bHRzKGNyYWZ0aW5nUmVzdWx0czogRmFicmljYXRpb25BY3Rpb25bXSwgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiBQcm9taXNlPEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD5bXT4ge1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeU1vZGlmaWNhdGlvbnM6IEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD5bXSA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgY3JhZnRpbmdSZXN1bHQgb2YgY3JhZnRpbmdSZXN1bHRzKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY3JhZnRpbmdSZXN1bHQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkFERDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JhZnRpbmdSZXN1bHQuY3VzdG9tRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlNb2RpZmljYXRpb246IEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4gPSBhd2FpdCBpbnZlbnRvcnkuYWRkQ29tcG9uZW50KGNyYWZ0aW5nUmVzdWx0LmNvbXBvbmVudCwgY3JhZnRpbmdSZXN1bHQucXVhbnRpdHksIGNyYWZ0aW5nUmVzdWx0LmN1c3RvbURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlNb2RpZmljYXRpb25zLnB1c2goaW52ZW50b3J5TW9kaWZpY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlNb2RpZmljYXRpb246IEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4gPSBhd2FpdCBpbnZlbnRvcnkuYWRkQ29tcG9uZW50KGNyYWZ0aW5nUmVzdWx0LmNvbXBvbmVudCwgY3JhZnRpbmdSZXN1bHQucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlNb2RpZmljYXRpb25zLnB1c2goaW52ZW50b3J5TW9kaWZpY2F0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuUkVNT1ZFOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGludmVudG9yeU1vZGlmaWNhdGlvbjogSW52ZW50b3J5TW9kaWZpY2F0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiA9IGF3YWl0IGludmVudG9yeS5yZW1vdmVDb21wb25lbnQoY3JhZnRpbmdSZXN1bHQuY29tcG9uZW50LCBjcmFmdGluZ1Jlc3VsdC5xdWFudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW52ZW50b3J5TW9kaWZpY2F0aW9ucy5wdXNoKGludmVudG9yeU1vZGlmaWNhdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIENyYWZ0aW5nIEFjdGlvbiBUeXBlICR7Y3JhZnRpbmdSZXN1bHQudHlwZX0gaXMgbm90IHN1cHBvcnRlZC4gQWxsb3dhYmxlIHZhbHVlcyBhcmU6IEFERCwgUkVNT1ZFLiBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW52ZW50b3J5TW9kaWZpY2F0aW9ucztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRpb25IZWxwZXJ9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricationHelper.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricationOutcome.ts":
/*!************************************************!*\
  !*** ./src/scripts/core/FabricationOutcome.ts ***!
  \************************************************/
/*! exports provided: FabricationOutcome, OutcomeType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricationOutcome\", function() { return FabricationOutcome; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OutcomeType\", function() { return OutcomeType; });\nvar OutcomeType;\r\n(function (OutcomeType) {\r\n    OutcomeType[\"SUCCESS\"] = \"SUCCESS\";\r\n    OutcomeType[\"FAILURE\"] = \"FAILURE\";\r\n})(OutcomeType || (OutcomeType = {}));\r\nclass FabricationOutcome {\r\n    constructor(outcome, userMessage, fabricationActions, displayItems = []) {\r\n        this._type = outcome;\r\n        this._userMessage = userMessage;\r\n        this._actions = fabricationActions;\r\n        this._displayItems = displayItems;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    get userMessage() {\r\n        return this._userMessage;\r\n    }\r\n    get displayItems() {\r\n        return this._displayItems;\r\n    }\r\n    get actions() {\r\n        return this._actions;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0aW9uT3V0Y29tZS50cz9jMDEwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBLElBQUssV0FHSjtBQUhELFdBQUssV0FBVztJQUNaLGtDQUFtQjtJQUNuQixrQ0FBbUI7QUFDdkIsQ0FBQyxFQUhJLFdBQVcsS0FBWCxXQUFXLFFBR2Y7QUFFRCxNQUFNLGtCQUFrQjtJQU1wQixZQUFZLE9BQW9CLEVBQUUsV0FBbUIsRUFBRSxrQkFBdUMsRUFBRSxlQUF1QixFQUFFO1FBQ3JILElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsa0JBQWtCLENBQUM7UUFDbkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDOUIsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0NBRUo7QUFFdUMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0aW9uT3V0Y29tZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRpb25BY3Rpb259IGZyb20gXCIuL0ZhYnJpY2F0aW9uQWN0aW9uXCI7XHJcblxyXG5lbnVtIE91dGNvbWVUeXBlIHtcclxuICAgIFNVQ0NFU1MgPSAnU1VDQ0VTUycsXHJcbiAgICBGQUlMVVJFID0gJ0ZBSUxVUkUnXHJcbn1cclxuXHJcbmNsYXNzIEZhYnJpY2F0aW9uT3V0Y29tZSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90eXBlOiBPdXRjb21lVHlwZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3VzZXJNZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3Rpb25zOiBGYWJyaWNhdGlvbkFjdGlvbltdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGlzcGxheUl0ZW1zOiBJdGVtW107XHJcblxyXG4gICAgY29uc3RydWN0b3Iob3V0Y29tZTogT3V0Y29tZVR5cGUsIHVzZXJNZXNzYWdlOiBzdHJpbmcsIGZhYnJpY2F0aW9uQWN0aW9uczogRmFicmljYXRpb25BY3Rpb25bXSwgZGlzcGxheUl0ZW1zOiBJdGVtW10gPSBbXSkge1xyXG4gICAgICAgIHRoaXMuX3R5cGUgPSBvdXRjb21lO1xyXG4gICAgICAgIHRoaXMuX3VzZXJNZXNzYWdlID0gdXNlck1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5fYWN0aW9ucyA9IGZhYnJpY2F0aW9uQWN0aW9ucztcclxuICAgICAgICB0aGlzLl9kaXNwbGF5SXRlbXMgPSBkaXNwbGF5SXRlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHR5cGUoKTogT3V0Y29tZVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB1c2VyTWVzc2FnZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyTWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGlzcGxheUl0ZW1zKCk6IEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXlJdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aW9ucygpOiBGYWJyaWNhdGlvbkFjdGlvbltdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aW9ucztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRpb25PdXRjb21lLCBPdXRjb21lVHlwZX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricationOutcome.ts\n");

/***/ }),

/***/ "./src/scripts/core/Fabricator.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Fabricator.ts ***!
  \****************************************/
/*! exports provided: DefaultFabricator, EssenceCombiningFabricator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultFabricator\", function() { return DefaultFabricator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceCombiningFabricator\", function() { return EssenceCombiningFabricator; });\n/* harmony import */ var _FabricationAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricationAction */ \"./src/scripts/core/FabricationAction.ts\");\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FabricationHelper */ \"./src/scripts/core/FabricationHelper.ts\");\n/* harmony import */ var _FabricationOutcome__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FabricationOutcome */ \"./src/scripts/core/FabricationOutcome.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass DefaultFabricator {\r\n    fabricateFromRecipe(actor, recipe) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let input = recipe.ingredients.map((component) => {\r\n                return _FabricationAction__WEBPACK_IMPORTED_MODULE_0__[\"FabricationAction\"].builder()\r\n                    .withComponent(component.component)\r\n                    .withQuantity(component.quantity)\r\n                    .withAction(component.consumed ? _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE : _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                    .build();\r\n            });\r\n            let output = recipe.results.map((result) => {\r\n                return _FabricationAction__WEBPACK_IMPORTED_MODULE_0__[\"FabricationAction\"].builder()\r\n                    .withComponent(result.component)\r\n                    .withAction(_ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                    .withQuantity(result.quantity)\r\n                    .build();\r\n            });\r\n            const fabricationActions = input.concat(output);\r\n            const inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inventories.getFor(actor.id);\r\n            return _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].takeActionsForOutcome(inventory, fabricationActions, _FabricationOutcome__WEBPACK_IMPORTED_MODULE_3__[\"OutcomeType\"].SUCCESS);\r\n        });\r\n    }\r\n    fabricateFromComponents() {\r\n        throw new Error(`The Default Fabricator requires a Recipe and one was not provided. `);\r\n    }\r\n}\r\nclass EssenceCombiningFabricator {\r\n    constructor(essenceCombiner) {\r\n        this._essenceCombiner = essenceCombiner;\r\n    }\r\n    fabricateFromComponents(actor, components) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this._essenceCombiner) {\r\n                throw new Error(`No Essence Combiner has been provided for this system. You may only craft from Recipes. `);\r\n            }\r\n            const alchemicalResult = this._essenceCombiner.combine(components);\r\n            const resultantItem = this._essenceCombiner.resultantItem;\r\n            const addedComponent = _FabricationAction__WEBPACK_IMPORTED_MODULE_0__[\"FabricationAction\"].builder()\r\n                .withAction(_ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                .withQuantity(1)\r\n                .withCustomData(alchemicalResult.asItemData())\r\n                .withComponent(resultantItem)\r\n                .build();\r\n            const fabricationActions = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].asCraftingResults(components, _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE);\r\n            fabricationActions.push(addedComponent);\r\n            const inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inventories.getFor(actor.id);\r\n            return _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].takeActionsForOutcome(inventory, fabricationActions, _FabricationOutcome__WEBPACK_IMPORTED_MODULE_3__[\"OutcomeType\"].SUCCESS);\r\n        });\r\n    }\r\n    fabricateFromRecipe(actor, recipe) {\r\n        const inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_4__[\"default\"].inventories.getFor(actor.id);\r\n        const craftingComponents = inventory.denormalizedContainedComponents().filter((component) => component.systemId === recipe.systemId);\r\n        if (!craftingComponents || craftingComponents.length === 0) {\r\n            throw new Error(`Essence Combining Fabricators require components to Fabricate Recipes. `);\r\n        }\r\n        const craftingComponentCombinations = this.analyzeCombinationsForRecipe(craftingComponents, recipe);\r\n        const selectedCombination = this.selectBestCombinationFrom(recipe, craftingComponentCombinations);\r\n        if (!selectedCombination || selectedCombination.length === 0) {\r\n            throw new Error(`There are insufficient components available to craft Recipe ${recipe.partId}. `);\r\n        }\r\n        const fabricationActions = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].asCraftingResults(selectedCombination, _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE).concat(recipe.results);\r\n        return _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].takeActionsForOutcome(inventory, fabricationActions, _FabricationOutcome__WEBPACK_IMPORTED_MODULE_3__[\"OutcomeType\"].SUCCESS);\r\n    }\r\n    analyzeCombinationsForRecipe(components, recipe) {\r\n        const essenceIdentities = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].assignEssenceIdentities(recipe.essences);\r\n        const usableComponents = components.filter((component) => component.essences.filter((essence) => recipe.essences.includes(essence)).length > 0);\r\n        const recipeIdentity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].essenceCombinationIdentity(recipe.essences, essenceIdentities);\r\n        const componentEssenceIdentity = new Map();\r\n        usableComponents.forEach((component) => {\r\n            if (!componentEssenceIdentity.has(component.partId)) {\r\n                componentEssenceIdentity.set(component.partId, _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].essenceCombinationIdentity(component.essences, essenceIdentities));\r\n            }\r\n        });\r\n        return _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].combinationHistogram(usableComponents).map((combination) => {\r\n            const essenceCombinationIdentity = combination.map((component) => componentEssenceIdentity.get(component.partId))\r\n                .reduce((left, right) => left * right, 1);\r\n            const craftableRecipes = [];\r\n            if (this.isCraftableFromEssencesIn(recipe, combination)) {\r\n                craftableRecipes.push(recipe);\r\n            }\r\n            const essenceIdentityMatchForRecipes = [];\r\n            if (essenceCombinationIdentity === recipeIdentity) {\r\n                essenceIdentityMatchForRecipes.push(recipe);\r\n            }\r\n            return new CraftingComponentCombination(combination, craftableRecipes, essenceCombinationIdentity, essenceIdentityMatchForRecipes);\r\n        });\r\n    }\r\n    isCraftableFromEssencesIn(recipe, components) {\r\n        const essences = components.map((component) => component.essences)\r\n            .reduce((left, right) => left.concat(right), []);\r\n        return essences.every((essence) => recipe.essences.includes(essence)\r\n            && (essences.filter((essence) => essence === essence).length >= recipe.essences.filter((essence) => essence === essence).length));\r\n    }\r\n    filterCraftableRecipesFor(craftingComponents, recipes) {\r\n        return recipes.filter((recipe) => this.isCraftableFromEssencesIn(recipe, craftingComponents));\r\n    }\r\n    selectBestCombinationFrom(recipe, combinations) {\r\n        const exactMatches = [];\r\n        const supersets = [];\r\n        combinations.forEach((combination) => {\r\n            if (combination.essenceIdentityMatches.find((match) => match.partId === recipe.partId)) {\r\n                exactMatches.push(combination);\r\n            }\r\n            if (combination.craftableRecipes.find((craftable) => craftable.partId === recipe.partId)) {\r\n                supersets.push(combination);\r\n            }\r\n        });\r\n        const selectFewestComponents = (combinations) => {\r\n            return combinations.sort((left, right) => left.components.length - right.components.length)\r\n                .find(() => true)\r\n                .components;\r\n        };\r\n        if (exactMatches.length === 1) {\r\n            return exactMatches[0].components;\r\n        }\r\n        else if (exactMatches.length > 1) {\r\n            return selectFewestComponents(exactMatches);\r\n        }\r\n        else if (supersets.length === 1) {\r\n            return supersets[0].components;\r\n        }\r\n        else if (supersets.length > 1) {\r\n            return selectFewestComponents(supersets);\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n}\r\nclass CraftingComponentCombination {\r\n    constructor(components, craftableRecipes, essenceIdentity, essencceIdentityMatches) {\r\n        this._components = components;\r\n        this._craftableRecipes = craftableRecipes;\r\n        this._essenceIdentity = essenceIdentity;\r\n        this._essenceIdentityMatches = essencceIdentityMatches;\r\n    }\r\n    get components() {\r\n        return this._components;\r\n    }\r\n    get craftableRecipes() {\r\n        return this._craftableRecipes;\r\n    }\r\n    get essenceIdentity() {\r\n        return this._essenceIdentity;\r\n    }\r\n    get essenceIdentityMatches() {\r\n        return this._essenceIdentityMatches;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0b3IudHM/Zjk1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNzRDtBQUNkO0FBRWM7QUFFZTtBQUVFO0FBU3ZFLE1BQU0saUJBQWlCO0lBRU4sbUJBQW1CLENBQUMsS0FBWSxFQUFFLE1BQWM7O1lBRXpELElBQUksS0FBSyxHQUF3QixNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFO2dCQUNsRSxPQUFPLG9FQUFpQixDQUFDLE9BQU8sRUFBRTtxQkFDN0IsYUFBYSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7cUJBQ2xDLFlBQVksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO3FCQUNoQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsc0RBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLHNEQUFVLENBQUMsR0FBRyxDQUFDO3FCQUNuRSxLQUFLLEVBQUUsQ0FBQztZQUNqQixDQUFDLENBQUMsQ0FBQztZQUVILElBQUksTUFBTSxHQUF3QixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO2dCQUM1RCxPQUFPLG9FQUFpQixDQUFDLE9BQU8sRUFBRTtxQkFDN0IsYUFBYSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7cUJBQy9CLFVBQVUsQ0FBQyxzREFBVSxDQUFDLEdBQUcsQ0FBQztxQkFDMUIsWUFBWSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7cUJBQzdCLEtBQUssRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDO1lBRUgsTUFBTSxrQkFBa0IsR0FBd0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNyRSxNQUFNLFNBQVMsR0FBYyx5RUFBb0IsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFF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LHNCQUFzQjtRQUN0QixPQUFPLElBQUksQ0FBQyx1QkFBdUIsQ0FBQztJQUN4QyxDQUFDO0NBQ0o7QUFFa0UiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0b3IudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4vUmVjaXBlXCI7XHJcbmltcG9ydCB7RmFicmljYXRpb25BY3Rpb259IGZyb20gXCIuL0ZhYnJpY2F0aW9uQWN0aW9uXCI7XHJcbmltcG9ydCB7QWN0aW9uVHlwZX0gZnJvbSBcIi4vQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0aW9uSGVscGVyfSBmcm9tIFwiLi9GYWJyaWNhdGlvbkhlbHBlclwiO1xyXG5pbXBvcnQge0FsY2hlbWljYWxSZXN1bHQsIEVzc2VuY2VDb21iaW5lcn0gZnJvbSBcIi4vRXNzZW5jZUNvbWJpbmVyXCI7XHJcbmltcG9ydCB7RmFicmljYXRpb25PdXRjb21lLCBPdXRjb21lVHlwZX0gZnJvbSBcIi4vRmFicmljYXRpb25PdXRjb21lXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IEZhYnJpY2F0ZUFwcGxpY2F0aW9uIGZyb20gXCIuLi9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvblwiO1xyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0b3Ige1xyXG5cclxuICAgIGZhYnJpY2F0ZUZyb21SZWNpcGUoYWN0b3I6IEFjdG9yLCByZWNpcGU6IFJlY2lwZSk6IFByb21pc2U8RmFicmljYXRpb25PdXRjb21lPjtcclxuICAgIGZhYnJpY2F0ZUZyb21Db21wb25lbnRzKGFjdG9yOiBBY3RvciwgY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSk6IFByb21pc2U8RmFicmljYXRpb25PdXRjb21lPjtcclxuXHJcbn1cclxuXHJcbmNsYXNzIERlZmF1bHRGYWJyaWNhdG9yIGltcGxlbWVudHMgRmFicmljYXRvciB7XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGZhYnJpY2F0ZUZyb21SZWNpcGUoYWN0b3I6IEFjdG9yLCByZWNpcGU6IFJlY2lwZSk6IFByb21pc2U8RmFicmljYXRpb25PdXRjb21lPiB7XHJcblxyXG4gICAgICAgIGxldCBpbnB1dDogRmFicmljYXRpb25BY3Rpb25bXSA9IHJlY2lwZS5pbmdyZWRpZW50cy5tYXAoKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gRmFicmljYXRpb25BY3Rpb24uYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aENvbXBvbmVudChjb21wb25lbnQuY29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgLndpdGhRdWFudGl0eShjb21wb25lbnQucXVhbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAud2l0aEFjdGlvbihjb21wb25lbnQuY29uc3VtZWQgPyBBY3Rpb25UeXBlLlJFTU9WRSA6IEFjdGlvblR5cGUuQUREKVxyXG4gICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBvdXRwdXQ6IEZhYnJpY2F0aW9uQWN0aW9uW10gPSByZWNpcGUucmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gRmFicmljYXRpb25BY3Rpb24uYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aENvbXBvbmVudChyZXN1bHQuY29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rpb24oQWN0aW9uVHlwZS5BREQpXHJcbiAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KHJlc3VsdC5xdWFudGl0eSlcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBmYWJyaWNhdGlvbkFjdGlvbnM6IEZhYnJpY2F0aW9uQWN0aW9uW10gPSBpbnB1dC5jb25jYXQob3V0cHV0KTtcclxuICAgICAgICBjb25zdCBpbnZlbnRvcnk6IEludmVudG9yeSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmdldEZvcihhY3Rvci5pZCk7XHJcbiAgICAgICAgcmV0dXJuIEZhYnJpY2F0aW9uSGVscGVyLnRha2VBY3Rpb25zRm9yT3V0Y29tZShpbnZlbnRvcnksIGZhYnJpY2F0aW9uQWN0aW9ucywgT3V0Y29tZVR5cGUuU1VDQ0VTUyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZhYnJpY2F0ZUZyb21Db21wb25lbnRzKCk6IFByb21pc2U8RmFicmljYXRpb25PdXRjb21lPiB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgRGVmYXVsdCBGYWJyaWNhdG9yIHJlcXVpcmVzIGEgUmVjaXBlIGFuZCBvbmUgd2FzIG5vdCBwcm92aWRlZC4gYCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBFc3NlbmNlQ29tYmluaW5nRmFicmljYXRvcjxUPiBpbXBsZW1lbnRzIEZhYnJpY2F0b3Ige1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUNvbWJpbmVyOiBFc3NlbmNlQ29tYmluZXI8VD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXNzZW5jZUNvbWJpbmVyPzogRXNzZW5jZUNvbWJpbmVyPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUNvbWJpbmVyID0gZXNzZW5jZUNvbWJpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBmYWJyaWNhdGVGcm9tQ29tcG9uZW50cyhhY3RvcjogQWN0b3IsIGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBQcm9taXNlPEZhYnJpY2F0aW9uT3V0Y29tZT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5fZXNzZW5jZUNvbWJpbmVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gRXNzZW5jZSBDb21iaW5lciBoYXMgYmVlbiBwcm92aWRlZCBmb3IgdGhpcyBzeXN0ZW0uIFlvdSBtYXkgb25seSBjcmFmdCBmcm9tIFJlY2lwZXMuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhbGNoZW1pY2FsUmVzdWx0OkFsY2hlbWljYWxSZXN1bHQ8VD4gPSB0aGlzLl9lc3NlbmNlQ29tYmluZXIuY29tYmluZShjb21wb25lbnRzKTtcclxuICAgICAgICBjb25zdCByZXN1bHRhbnRJdGVtOiBDcmFmdGluZ0NvbXBvbmVudCA9IHRoaXMuX2Vzc2VuY2VDb21iaW5lci5yZXN1bHRhbnRJdGVtO1xyXG4gICAgICAgIGNvbnN0IGFkZGVkQ29tcG9uZW50OiBGYWJyaWNhdGlvbkFjdGlvbiA9IEZhYnJpY2F0aW9uQWN0aW9uLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAud2l0aEFjdGlvbihBY3Rpb25UeXBlLkFERClcclxuICAgICAgICAgICAgLndpdGhRdWFudGl0eSgxKVxyXG4gICAgICAgICAgICAud2l0aEN1c3RvbURhdGEoYWxjaGVtaWNhbFJlc3VsdC5hc0l0ZW1EYXRhKCkpXHJcbiAgICAgICAgICAgIC53aXRoQ29tcG9uZW50KHJlc3VsdGFudEl0ZW0pXHJcbiAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIGNvbnN0IGZhYnJpY2F0aW9uQWN0aW9uczogRmFicmljYXRpb25BY3Rpb25bXSA9IEZhYnJpY2F0aW9uSGVscGVyLmFzQ3JhZnRpbmdSZXN1bHRzKGNvbXBvbmVudHMsIEFjdGlvblR5cGUuUkVNT1ZFKTtcclxuICAgICAgICBmYWJyaWNhdGlvbkFjdGlvbnMucHVzaChhZGRlZENvbXBvbmVudCk7XHJcbiAgICAgICAgY29uc3QgaW52ZW50b3J5OiBJbnZlbnRvcnkgPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5pbnZlbnRvcmllcy5nZXRGb3IoYWN0b3IuaWQpO1xyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGlvbkhlbHBlci50YWtlQWN0aW9uc0Zvck91dGNvbWUoaW52ZW50b3J5LCBmYWJyaWNhdGlvbkFjdGlvbnMsIE91dGNvbWVUeXBlLlNVQ0NFU1MpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmYWJyaWNhdGVGcm9tUmVjaXBlKGFjdG9yOiBBY3RvciwgcmVjaXBlOiBSZWNpcGUpOiBQcm9taXNlPEZhYnJpY2F0aW9uT3V0Y29tZT4ge1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeTogSW52ZW50b3J5ID0gRmFicmljYXRlQXBwbGljYXRpb24uaW52ZW50b3JpZXMuZ2V0Rm9yKGFjdG9yLmlkKTtcclxuICAgICAgICBjb25zdCBjcmFmdGluZ0NvbXBvbmVudHMgPSBpbnZlbnRvcnkuZGVub3JtYWxpemVkQ29udGFpbmVkQ29tcG9uZW50cygpLmZpbHRlcigoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50LnN5c3RlbUlkID09PSByZWNpcGUuc3lzdGVtSWQpO1xyXG4gICAgICAgIGlmICghY3JhZnRpbmdDb21wb25lbnRzIHx8IGNyYWZ0aW5nQ29tcG9uZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFc3NlbmNlIENvbWJpbmluZyBGYWJyaWNhdG9ycyByZXF1aXJlIGNvbXBvbmVudHMgdG8gRmFicmljYXRlIFJlY2lwZXMuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9ucyA9IHRoaXMuYW5hbHl6ZUNvbWJpbmF0aW9uc0ZvclJlY2lwZShjcmFmdGluZ0NvbXBvbmVudHMsIHJlY2lwZSk7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDb21iaW5hdGlvbjogQ3JhZnRpbmdDb21wb25lbnRbXSA9IHRoaXMuc2VsZWN0QmVzdENvbWJpbmF0aW9uRnJvbShyZWNpcGUsIGNyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb25zKTtcclxuICAgICAgICBpZiAoIXNlbGVjdGVkQ29tYmluYXRpb24gfHxzZWxlY3RlZENvbWJpbmF0aW9uLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGFyZSBpbnN1ZmZpY2llbnQgY29tcG9uZW50cyBhdmFpbGFibGUgdG8gY3JhZnQgUmVjaXBlICR7cmVjaXBlLnBhcnRJZH0uIGApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZhYnJpY2F0aW9uQWN0aW9ucyA9IEZhYnJpY2F0aW9uSGVscGVyLmFzQ3JhZnRpbmdSZXN1bHRzKHNlbGVjdGVkQ29tYmluYXRpb24sIEFjdGlvblR5cGUuUkVNT1ZFKS5jb25jYXQocmVjaXBlLnJlc3VsdHMpO1xyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGlvbkhlbHBlci50YWtlQWN0aW9uc0Zvck91dGNvbWUoaW52ZW50b3J5LCBmYWJyaWNhdGlvbkFjdGlvbnMsIE91dGNvbWVUeXBlLlNVQ0NFU1MpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5hbHl6ZUNvbWJpbmF0aW9uc0ZvclJlY2lwZShjb21wb25lbnRzOiAgQ3JhZnRpbmdDb21wb25lbnRbXSwgcmVjaXBlOiBSZWNpcGUpOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uW10ge1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VJZGVudGl0aWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gRmFicmljYXRpb25IZWxwZXIuYXNzaWduRXNzZW5jZUlkZW50aXRpZXMocmVjaXBlLmVzc2VuY2VzKTtcclxuICAgICAgICBjb25zdCB1c2FibGVDb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdID0gY29tcG9uZW50cy5maWx0ZXIoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IGNvbXBvbmVudC5lc3NlbmNlcy5maWx0ZXIoKGVzc2VuY2U6IHN0cmluZykgPT4gcmVjaXBlLmVzc2VuY2VzLmluY2x1ZGVzKGVzc2VuY2UpKS5sZW5ndGggPiAwKTtcclxuICAgICAgICBjb25zdCByZWNpcGVJZGVudGl0eSA9IEZhYnJpY2F0aW9uSGVscGVyLmVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5KHJlY2lwZS5lc3NlbmNlcywgZXNzZW5jZUlkZW50aXRpZXMpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudEVzc2VuY2VJZGVudGl0eTogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgICAgICB1c2FibGVDb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFjb21wb25lbnRFc3NlbmNlSWRlbnRpdHkuaGFzKGNvbXBvbmVudC5wYXJ0SWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRFc3NlbmNlSWRlbnRpdHkuc2V0KGNvbXBvbmVudC5wYXJ0SWQsIEZhYnJpY2F0aW9uSGVscGVyLmVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5KGNvbXBvbmVudC5lc3NlbmNlcywgZXNzZW5jZUlkZW50aXRpZXMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGlvbkhlbHBlci5jb21iaW5hdGlvbkhpc3RvZ3JhbSh1c2FibGVDb21wb25lbnRzKS5tYXAoKGNvbWJpbmF0aW9uOiBDcmFmdGluZ0NvbXBvbmVudFtdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5ID0gY29tYmluYXRpb24ubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiBjb21wb25lbnRFc3NlbmNlSWRlbnRpdHkuZ2V0KGNvbXBvbmVudC5wYXJ0SWQpKVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgobGVmdDogbnVtYmVyLCByaWdodDogbnVtYmVyKSA9PiBsZWZ0ICogcmlnaHQsIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGFibGVSZWNpcGVzOiBSZWNpcGVbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NyYWZ0YWJsZUZyb21Fc3NlbmNlc0luKHJlY2lwZSwgY29tYmluYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBjcmFmdGFibGVSZWNpcGVzLnB1c2gocmVjaXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBlc3NlbmNlSWRlbnRpdHlNYXRjaEZvclJlY2lwZXM6IFJlY2lwZVtdID0gW107XHJcbiAgICAgICAgICAgIGlmIChlc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eSA9PT0gcmVjaXBlSWRlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIGVzc2VuY2VJZGVudGl0eU1hdGNoRm9yUmVjaXBlcy5wdXNoKHJlY2lwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uKGNvbWJpbmF0aW9uLCBjcmFmdGFibGVSZWNpcGVzLCBlc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eSwgZXNzZW5jZUlkZW50aXR5TWF0Y2hGb3JSZWNpcGVzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzQ3JhZnRhYmxlRnJvbUVzc2VuY2VzSW4ocmVjaXBlOiBSZWNpcGUsIGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBlc3NlbmNlcyA9IGNvbXBvbmVudHMubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiBjb21wb25lbnQuZXNzZW5jZXMpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IHN0cmluZ1tdLCByaWdodDogc3RyaW5nW10pID0+IGxlZnQuY29uY2F0KHJpZ2h0KSwgW10pO1xyXG4gICAgICAgIHJldHVybiBlc3NlbmNlcy5ldmVyeSgoZXNzZW5jZTogc3RyaW5nKSA9PiByZWNpcGUuZXNzZW5jZXMuaW5jbHVkZXMoZXNzZW5jZSlcclxuICAgICAgICAgICAgJiYgIChlc3NlbmNlcy5maWx0ZXIoKGVzc2VuY2U6c3RyaW5nKSA9PiBlc3NlbmNlID09PSBlc3NlbmNlKS5sZW5ndGggPj0gcmVjaXBlLmVzc2VuY2VzLmZpbHRlcigoZXNzZW5jZTpzdHJpbmcpID0+IGVzc2VuY2UgPT09IGVzc2VuY2UpLmxlbmd0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmaWx0ZXJDcmFmdGFibGVSZWNpcGVzRm9yKGNyYWZ0aW5nQ29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSwgcmVjaXBlczogUmVjaXBlW10pIHtcclxuICAgICAgICByZXR1cm4gcmVjaXBlcy5maWx0ZXIoKHJlY2lwZTogUmVjaXBlKSA9PiB0aGlzLmlzQ3JhZnRhYmxlRnJvbUVzc2VuY2VzSW4ocmVjaXBlLCBjcmFmdGluZ0NvbXBvbmVudHMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbGVjdEJlc3RDb21iaW5hdGlvbkZyb20ocmVjaXBlOiBSZWNpcGUsIGNvbWJpbmF0aW9uczogQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbltdKTogQ3JhZnRpbmdDb21wb25lbnRbXSB7XHJcbiAgICAgICAgY29uc3QgZXhhY3RNYXRjaGVzOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uW10gPSBbXTtcclxuICAgICAgICBjb25zdCBzdXBlcnNldHM6IENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb25bXSA9IFtdO1xyXG4gICAgICAgIGNvbWJpbmF0aW9ucy5mb3JFYWNoKChjb21iaW5hdGlvbjogQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29tYmluYXRpb24uZXNzZW5jZUlkZW50aXR5TWF0Y2hlcy5maW5kKChtYXRjaDogUmVjaXBlKSA9PiBtYXRjaC5wYXJ0SWQgPT09IHJlY2lwZS5wYXJ0SWQpKSB7XHJcbiAgICAgICAgICAgICAgICBleGFjdE1hdGNoZXMucHVzaChjb21iaW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbWJpbmF0aW9uLmNyYWZ0YWJsZVJlY2lwZXMuZmluZCgoY3JhZnRhYmxlOiBSZWNpcGUpID0+IGNyYWZ0YWJsZS5wYXJ0SWQgPT09IHJlY2lwZS5wYXJ0SWQpKSB7XHJcbiAgICAgICAgICAgICAgICBzdXBlcnNldHMucHVzaChjb21iaW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBzZWxlY3RGZXdlc3RDb21wb25lbnRzID0gKGNvbWJpbmF0aW9uczogQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbltdKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21iaW5hdGlvbnMuc29ydCgobGVmdCwgcmlnaHQpID0+IGxlZnQuY29tcG9uZW50cy5sZW5ndGggLSByaWdodC5jb21wb25lbnRzLmxlbmd0aClcclxuICAgICAgICAgICAgICAgIC5maW5kKCgpID0+IHRydWUpXHJcbiAgICAgICAgICAgICAgICAuY29tcG9uZW50cztcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICggZXhhY3RNYXRjaGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhhY3RNYXRjaGVzWzBdLmNvbXBvbmVudHM7XHJcbiAgICAgICAgfSBlbHNlIGlmICggZXhhY3RNYXRjaGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdEZld2VzdENvbXBvbmVudHMoZXhhY3RNYXRjaGVzKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHN1cGVyc2V0cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyc2V0c1swXS5jb21wb25lbnRzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwZXJzZXRzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdEZld2VzdENvbXBvbmVudHMoc3VwZXJzZXRzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY3JhZnRhYmxlUmVjaXBlczogUmVjaXBlW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lc3NlbmNlSWRlbnRpdHlNYXRjaGVzOiBSZWNpcGVbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VJZGVudGl0eTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10sIGNyYWZ0YWJsZVJlY2lwZXM6IFJlY2lwZVtdLCBlc3NlbmNlSWRlbnRpdHk6IG51bWJlciwgZXNzZW5jY2VJZGVudGl0eU1hdGNoZXM6IFJlY2lwZVtdKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IGNvbXBvbmVudHM7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRhYmxlUmVjaXBlcyA9IGNyYWZ0YWJsZVJlY2lwZXM7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUlkZW50aXR5ID0gZXNzZW5jZUlkZW50aXR5O1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VJZGVudGl0eU1hdGNoZXMgPSBlc3NlbmNjZUlkZW50aXR5TWF0Y2hlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JhZnRhYmxlUmVjaXBlcygpOiBSZWNpcGVbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyYWZ0YWJsZVJlY2lwZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VJZGVudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lc3NlbmNlSWRlbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VJZGVudGl0eU1hdGNoZXMoKTogUmVjaXBlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lc3NlbmNlSWRlbnRpdHlNYXRjaGVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0ZhYnJpY2F0b3IsIERlZmF1bHRGYWJyaWNhdG9yLCBFc3NlbmNlQ29tYmluaW5nRmFicmljYXRvcn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/Fabricator.ts\n");

/***/ }),

/***/ "./src/scripts/core/GameSystemType.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/GameSystemType.ts ***!
  \********************************************/
/*! exports provided: GameSystemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameSystemType\", function() { return GameSystemType; });\nvar GameSystemType;\r\n(function (GameSystemType) {\r\n    GameSystemType[\"DND5E\"] = \"dnd5e\";\r\n})(GameSystemType || (GameSystemType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0dhbWVTeXN0ZW1UeXBlLnRzPzdkODciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLElBQVksY0FFWDtBQUZELFdBQVksY0FBYztJQUN0QixpQ0FBZTtBQUNuQixDQUFDLEVBRlcsY0FBYyxLQUFkLGNBQWMsUUFFekIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0dhbWVTeXN0ZW1UeXBlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gR2FtZVN5c3RlbVR5cGUge1xyXG4gICAgRE5ENUUgPSAnZG5kNWUnXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/GameSystemType.ts\n");

/***/ }),

/***/ "./src/scripts/core/Ingredient.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Ingredient.ts ***!
  \****************************************/
/*! exports provided: Ingredient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Ingredient\", function() { return Ingredient; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\nclass Ingredient extends _FabricateItem__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.component.systemId, builder.component.partId, builder.component.imageUrl, builder.component.name);\r\n        this._component = builder.component;\r\n        this._quantity = builder.quantity;\r\n        this._consumed = builder.consumed;\r\n    }\r\n    static builder() {\r\n        return new Ingredient.Builder();\r\n    }\r\n    get component() {\r\n        return this._component;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.sharesType(other)\r\n            && (this.quantity === other.quantity)\r\n            && (this.consumed === other.consumed);\r\n    }\r\n    static fromFlags(flags, systemId) {\r\n        return this.builder()\r\n            .isConsumed(flags.consumed)\r\n            .withQuantity(flags.quantity)\r\n            .withComponent(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].builder()\r\n            .withSystemId(systemId)\r\n            .withPartId(flags.partId)\r\n            .build())\r\n            .build();\r\n    }\r\n    static manyFromFlags(flags, systemId) {\r\n        return flags.map((flagData) => Ingredient.fromFlags(flagData, systemId));\r\n    }\r\n    isValid() {\r\n        return (this.quantity != null && this.quantity > 0)\r\n            && this.component.isValid();\r\n    }\r\n}\r\n(function (Ingredient) {\r\n    class Builder {\r\n        withComponent(value) {\r\n            this.component = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        isConsumed(value) {\r\n            this.consumed = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new Ingredient(this);\r\n        }\r\n    }\r\n    Ingredient.Builder = Builder;\r\n})(Ingredient || (Ingredient = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0luZ3JlZGllbnQudHM/N2JjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRDtBQUVSO0FBRTlDLE1BQU0sVUFBVyxTQUFRLDREQUFhO0lBS2xDLFlBQVksT0FBMkI7UUFDbkMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEgsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztRQUNsQyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDdEMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVELElBQUksU0FBUztRQUNULE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFpQjtRQUMzQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO2VBQ3RCLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDO2VBQ2xDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBK0IsRUFBRSxRQUFnQjtRQUNyRSxPQUFPLElBQUksQ0FBQyxPQUFPLEVBQUU7YUFDaEIsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDMUIsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDNUIsYUFBYSxDQUFDLG9FQUFpQixDQUFDLE9BQU8sRUFBRTthQUNyQyxZQUFZLENBQUMsUUFBUSxDQUFDO2FBQ3RCLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2FBQ3hCLEtBQUssRUFBRSxDQUFDO2FBQ1osS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBaUMsRUFBRSxRQUFnQjtRQUMzRSxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUVELE9BQU87UUFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBRyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7ZUFDL0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0NBQ0o7QUFFRCxXQUFVLFVBQVU7SUFDaEIsTUFBYSxPQUFPO1FBS1QsYUFBYSxDQUFDLEtBQXdCO1lBQ3pDLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBYTtZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sVUFBVSxDQUFDLEtBQWM7WUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLENBQUM7S0FDSjtJQXZCWSxrQkFBTyxVQXVCbkI7QUFDTCxDQUFDLEVBekJTLFVBQVUsS0FBVixVQUFVLFFBeUJuQjtBQUVxQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvSW5ncmVkaWVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7RmFicmljYXRlSW5ncmVkaWVudEZsYWdzfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIEluZ3JlZGllbnQgZXh0ZW5kcyBGYWJyaWNhdGVJdGVtIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9xdWFudGl0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29uc3VtZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogSW5ncmVkaWVudC5CdWlsZGVyKSB7XHJcbiAgICAgICAgc3VwZXIoYnVpbGRlci5jb21wb25lbnQuc3lzdGVtSWQsIGJ1aWxkZXIuY29tcG9uZW50LnBhcnRJZCwgYnVpbGRlci5jb21wb25lbnQuaW1hZ2VVcmwsIGJ1aWxkZXIuY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudCA9IGJ1aWxkZXIuY29tcG9uZW50O1xyXG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gYnVpbGRlci5xdWFudGl0eTtcclxuICAgICAgICB0aGlzLl9jb25zdW1lZCA9IGJ1aWxkZXIuY29uc3VtZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW5ncmVkaWVudC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudCgpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnN1bWVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb25zdW1lZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZXF1YWxzKG90aGVyOiBJbmdyZWRpZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNoYXJlc1R5cGUob3RoZXIpXHJcbiAgICAgICAgICAgICYmICh0aGlzLnF1YW50aXR5ID09PSBvdGhlci5xdWFudGl0eSlcclxuICAgICAgICAgICAgJiYgKHRoaXMuY29uc3VtZWQgPT09IG90aGVyLmNvbnN1bWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21GbGFncyhmbGFnczogRmFicmljYXRlSW5ncmVkaWVudEZsYWdzLCBzeXN0ZW1JZDogc3RyaW5nKTogSW5ncmVkaWVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRlcigpXHJcbiAgICAgICAgICAgIC5pc0NvbnN1bWVkKGZsYWdzLmNvbnN1bWVkKVxyXG4gICAgICAgICAgICAud2l0aFF1YW50aXR5KGZsYWdzLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAud2l0aENvbXBvbmVudChDcmFmdGluZ0NvbXBvbmVudC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgIC53aXRoU3lzdGVtSWQoc3lzdGVtSWQpXHJcbiAgICAgICAgICAgICAgICAud2l0aFBhcnRJZChmbGFncy5wYXJ0SWQpXHJcbiAgICAgICAgICAgICAgICAuYnVpbGQoKSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBtYW55RnJvbUZsYWdzKGZsYWdzOiBGYWJyaWNhdGVJbmdyZWRpZW50RmxhZ3NbXSwgc3lzdGVtSWQ6IHN0cmluZyk6IEluZ3JlZGllbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIGZsYWdzLm1hcCgoZmxhZ0RhdGEpID0+IEluZ3JlZGllbnQuZnJvbUZsYWdzKGZsYWdEYXRhLCBzeXN0ZW1JZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnF1YW50aXR5IT0gbnVsbCAmJiB0aGlzLnF1YW50aXR5ID4gMClcclxuICAgICAgICAmJiB0aGlzLmNvbXBvbmVudC5pc1ZhbGlkKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBJbmdyZWRpZW50IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgY29tcG9uZW50ITogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICAgICAgcHVibGljIHF1YW50aXR5ITogbnVtYmVyO1xyXG4gICAgICAgIHB1YmxpYyBjb25zdW1lZCE6IGJvb2xlYW47XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQ29tcG9uZW50KHZhbHVlOiBDcmFmdGluZ0NvbXBvbmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUXVhbnRpdHkodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGlzQ29uc3VtZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgdGhpcy5jb25zdW1lZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbmdyZWRpZW50KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgSW5ncmVkaWVudCB9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/Ingredient.ts\n");

/***/ }),

/***/ "./src/scripts/core/Recipe.ts":
/*!************************************!*\
  !*** ./src/scripts/core/Recipe.ts ***!
  \************************************/
/*! exports provided: Recipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Recipe\", function() { return Recipe; });\n/* harmony import */ var _Ingredient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ingredient */ \"./src/scripts/core/Ingredient.ts\");\n/* harmony import */ var _FabricationAction__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricationAction */ \"./src/scripts/core/FabricationAction.ts\");\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\n\r\n\r\nclass Recipe extends _FabricateItem__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.systemId, builder.partId, builder.imageUrl, builder.name);\r\n        this._ingredients = builder.ingredients;\r\n        this._essences = builder.essences;\r\n        this._results = builder.results;\r\n    }\r\n    static fromFlags(flags, name, imageUrl) {\r\n        if (flags.type !== _game_CompendiumData__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItemType\"].RECIPE) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Recipe from ${flags.type} data. `);\r\n        }\r\n        return Recipe.builder()\r\n            .withName(name)\r\n            .withImageUrl(imageUrl)\r\n            .withPartId(flags.identity.partId)\r\n            .withEssences(flags.recipe.essences)\r\n            .withSystemId(flags.identity.systemId)\r\n            .withResults(_FabricationAction__WEBPACK_IMPORTED_MODULE_1__[\"FabricationAction\"].manyFromFlags(flags.recipe.results, flags.identity.systemId))\r\n            .withIngredients(_Ingredient__WEBPACK_IMPORTED_MODULE_0__[\"Ingredient\"].manyFromFlags(flags.recipe.ingredients, flags.identity.systemId))\r\n            .build();\r\n    }\r\n    get ingredients() {\r\n        return this._ingredients;\r\n    }\r\n    get results() {\r\n        return this._results;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    static builder() {\r\n        return new Recipe.Builder();\r\n    }\r\n    isValid() {\r\n        const nameValid = this.name != null && this.name.length > 0;\r\n        const idValid = this.partId && this.systemId;\r\n        let ingredientsValid = true;\r\n        this.ingredients.forEach((ingredient) => {\r\n            if (!ingredient.isValid()) {\r\n                ingredientsValid = false;\r\n            }\r\n        });\r\n        let resultsValid = true;\r\n        this.results.forEach((result) => {\r\n            if (!result.isValid()) {\r\n                resultsValid = false;\r\n            }\r\n        });\r\n        const essencesValid = this.essences !== null;\r\n        const hasInputSpecified = this.essences.length > 0 || this.ingredients.length > 0;\r\n        return nameValid && idValid && ingredientsValid && resultsValid && essencesValid && hasInputSpecified;\r\n    }\r\n}\r\n(function (Recipe) {\r\n    class Builder {\r\n        constructor() {\r\n            this.ingredients = [];\r\n            this.essences = [];\r\n            this.results = [];\r\n        }\r\n        build() {\r\n            return new Recipe(this);\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withIngredient(value) {\r\n            this.ingredients.push(value);\r\n            return this;\r\n        }\r\n        withIngredients(value) {\r\n            this.ingredients.push(...value);\r\n            return this;\r\n        }\r\n        withEssence(value) {\r\n            this.essences.push(value);\r\n            return this;\r\n        }\r\n        withEssences(values) {\r\n            this.essences.push(...values);\r\n            return this;\r\n        }\r\n        withResult(value) {\r\n            this.results.push(value);\r\n            return this;\r\n        }\r\n        withResults(value) {\r\n            this.results = value;\r\n            return this;\r\n        }\r\n        withSystemId(value) {\r\n            this.systemId = value;\r\n            return this;\r\n        }\r\n        withPartId(value) {\r\n            this.partId = value;\r\n            return this;\r\n        }\r\n        withImageUrl(value) {\r\n            this.imageUrl = value;\r\n            return this;\r\n        }\r\n    }\r\n    Recipe.Builder = Builder;\r\n})(Recipe || (Recipe = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL1JlY2lwZS50cz81N2VkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3QztBQUNjO0FBQzRCO0FBQ3BDO0FBRTlDLE1BQU0sTUFBTyxTQUFRLDREQUFhO0lBSzlCLFlBQVksT0FBdUI7UUFDL0IsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUM7UUFDeEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUNwQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUE4QixFQUFFLElBQVksRUFBRSxRQUFnQjtRQUNsRixJQUFJLEtBQUssQ0FBQyxJQUFJLEtBQUssc0VBQWlCLENBQUMsTUFBTSxFQUFFO1lBQ3pDLE1BQU0sSUFBSSxLQUFLLENBQUMsMkRBQTJELEtBQUssQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDO1NBQ25HO1FBQ0QsT0FBTyxNQUFNLENBQUMsT0FBTyxFQUFFO2FBQ2xCLFFBQVEsQ0FBQyxJQUFJLENBQUM7YUFDZCxZQUFZLENBQUMsUUFBUSxDQUFDO2FBQ3RCLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQzthQUNqQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7YUFDbkMsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2FBQ3JDLFdBQVcsQ0FBQyxvRUFBaUIsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVB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SUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztZQUM5QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsVUFBVSxDQUFDLEtBQXdCO1lBQy9CLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxXQUFXLENBQUMsS0FBMEI7WUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELFlBQVksQ0FBQyxLQUFhO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsVUFBVSxDQUFDLEtBQWE7WUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLO1lBQ25CLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxZQUFZLENBQUMsS0FBYTtZQUN0QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUs7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztLQUVKO0lBaEVZLGNBQU8sVUFnRW5CO0FBQ0wsQ0FBQyxFQW5FUyxNQUFNLEtBQU4sTUFBTSxRQW1FZjtBQUVlIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9SZWNpcGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0luZ3JlZGllbnR9IGZyb20gXCIuL0luZ3JlZGllbnRcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGlvbkFjdGlvbn0gZnJvbSBcIi4vRmFicmljYXRpb25BY3Rpb25cIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgRmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuLi9nYW1lL0NvbXBlbmRpdW1EYXRhXCI7XHJcbmltcG9ydCB7RmFicmljYXRlSXRlbX0gZnJvbSBcIi4vRmFicmljYXRlSXRlbVwiO1xyXG5cclxuY2xhc3MgUmVjaXBlIGV4dGVuZHMgRmFicmljYXRlSXRlbSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbmdyZWRpZW50czogSW5ncmVkaWVudFtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZXM6IHN0cmluZ1tdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVzdWx0czogRmFicmljYXRpb25BY3Rpb25bXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyOiBSZWNpcGUuQnVpbGRlcikge1xyXG4gICAgICAgIHN1cGVyKGJ1aWxkZXIuc3lzdGVtSWQsIGJ1aWxkZXIucGFydElkLCBidWlsZGVyLmltYWdlVXJsLCBidWlsZGVyLm5hbWUpO1xyXG4gICAgICAgIHRoaXMuX2luZ3JlZGllbnRzID0gYnVpbGRlci5pbmdyZWRpZW50cztcclxuICAgICAgICB0aGlzLl9lc3NlbmNlcyA9IGJ1aWxkZXIuZXNzZW5jZXM7XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IGJ1aWxkZXIucmVzdWx0cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21GbGFncyhmbGFnczogRmFicmljYXRlQ29tcGVuZGl1bURhdGEsIG5hbWU6IHN0cmluZywgaW1hZ2VVcmw6IHN0cmluZyk6IFJlY2lwZSB7XHJcbiAgICAgICAgaWYgKGZsYWdzLnR5cGUgIT09IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGF0dGVtcHRpbmcgdG8gaW5zdGFudGlhdGUgYSBGYWJyaWNhdGUgUmVjaXBlIGZyb20gJHtmbGFncy50eXBlfSBkYXRhLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFJlY2lwZS5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhOYW1lKG5hbWUpXHJcbiAgICAgICAgICAgIC53aXRoSW1hZ2VVcmwoaW1hZ2VVcmwpXHJcbiAgICAgICAgICAgIC53aXRoUGFydElkKGZsYWdzLmlkZW50aXR5LnBhcnRJZClcclxuICAgICAgICAgICAgLndpdGhFc3NlbmNlcyhmbGFncy5yZWNpcGUuZXNzZW5jZXMpXHJcbiAgICAgICAgICAgIC53aXRoU3lzdGVtSWQoZmxhZ3MuaWRlbnRpdHkuc3lzdGVtSWQpXHJcbiAgICAgICAgICAgIC53aXRoUmVzdWx0cyhGYWJyaWNhdGlvbkFjdGlvbi5tYW55RnJvbUZsYWdzKGZsYWdzLnJlY2lwZS5yZXN1bHRzLCBmbGFncy5pZGVudGl0eS5zeXN0ZW1JZCkpXHJcbiAgICAgICAgICAgIC53aXRoSW5ncmVkaWVudHMoSW5ncmVkaWVudC5tYW55RnJvbUZsYWdzKGZsYWdzLnJlY2lwZS5pbmdyZWRpZW50cywgZmxhZ3MuaWRlbnRpdHkuc3lzdGVtSWQpKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5ncmVkaWVudHMoKTogSW5ncmVkaWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5ncmVkaWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc3VsdHMoKTogRmFicmljYXRpb25BY3Rpb25bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVjaXBlLkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IG5hbWVWYWxpZCA9IHRoaXMubmFtZSAhPSBudWxsICYmIHRoaXMubmFtZS5sZW5ndGggPiAwO1xyXG4gICAgICAgIGNvbnN0IGlkVmFsaWQgPSB0aGlzLnBhcnRJZCAmJiB0aGlzLnN5c3RlbUlkO1xyXG4gICAgICAgIGxldCBpbmdyZWRpZW50c1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbmdyZWRpZW50LmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgaW5ncmVkaWVudHNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdHNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRzLmZvckVhY2goKHJlc3VsdDogRmFicmljYXRpb25BY3Rpb24pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VzVmFsaWQ6IGJvb2xlYW4gPSB0aGlzLmVzc2VuY2VzICE9PSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGhhc0lucHV0U3BlY2lmaWVkOiBib29sZWFuID0gdGhpcy5lc3NlbmNlcy5sZW5ndGggPiAwIHx8IHRoaXMuaW5ncmVkaWVudHMubGVuZ3RoID4gMDtcclxuICAgICAgICByZXR1cm4gbmFtZVZhbGlkICYmIGlkVmFsaWQgJiYgaW5ncmVkaWVudHNWYWxpZCAmJiByZXN1bHRzVmFsaWQgJiYgZXNzZW5jZXNWYWxpZCAmJiBoYXNJbnB1dFNwZWNpZmllZDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm5hbWVzcGFjZSBSZWNpcGUge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuXHJcbiAgICAgICAgcHVibGljIGluZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZXNzZW5jZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlc3VsdHM6IEZhYnJpY2F0aW9uQWN0aW9uW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgc3lzdGVtSWQhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIHBhcnRJZCE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgaW1hZ2VVcmw6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY2lwZSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEluZ3JlZGllbnQodmFsdWU6IEluZ3JlZGllbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmdyZWRpZW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoSW5ncmVkaWVudHModmFsdWU6IEluZ3JlZGllbnRbXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluZ3JlZGllbnRzLnB1c2goLi4udmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhFc3NlbmNlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5lc3NlbmNlcy5wdXNoKHZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhFc3NlbmNlcyh2YWx1ZXM6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZXMucHVzaCguLi52YWx1ZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhSZXN1bHQodmFsdWU6IEZhYnJpY2F0aW9uQWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUmVzdWx0cyh2YWx1ZTogRmFicmljYXRpb25BY3Rpb25bXSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoU3lzdGVtSWQodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbUlkID0gdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUGFydElkKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0SWQgPSB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhJbWFnZVVybCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1JlY2lwZX07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/Recipe.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/AlchemicalResult5E.ts":
/*!*************************************************!*\
  !*** ./src/scripts/dnd5e/AlchemicalResult5E.ts ***!
  \*************************************************/
/*! exports provided: AlchemicalResult5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlchemicalResult5E\", function() { return AlchemicalResult5E; });\nconst AoETypeValues = ['cone', 'cube', 'cylinder', 'line', 'radius', 'sphere', 'square'];\r\nclass DamageEffect5E {\r\n    constructor(method, type, die, bonus, amount) {\r\n        this.method = method;\r\n        this.type = type;\r\n        this.die = die;\r\n        this.bonus = bonus;\r\n        this.amount = amount;\r\n    }\r\n    static rolledDamage(type, dice, bonus) {\r\n        return new DamageEffect5E('ROLLED', type, dice, bonus);\r\n    }\r\n    static fixedDamage(type, amount, bonus) {\r\n        return new DamageEffect5E('FIXED', type, null, bonus, amount);\r\n    }\r\n    applyTo(itemData) {\r\n        if (!itemData.damage) {\r\n            itemData.damage = {\r\n                parts: [],\r\n                versatile: '',\r\n            };\r\n        }\r\n        let damageExpression = '';\r\n        if (this.method === 'ROLLED') {\r\n            damageExpression = this.die.amount + 'd' + this.die.faces;\r\n        }\r\n        else if (this.method === 'FIXED') {\r\n            damageExpression = String(this.amount);\r\n        }\r\n        if (this.bonus) {\r\n            damageExpression += ' + ' + String(this.bonus);\r\n        }\r\n        itemData.damage.parts.push([damageExpression, this.type]);\r\n    }\r\n}\r\nclass EffectDuration5E {\r\n    constructor(units, value) {\r\n        this.units = units;\r\n        this.value = value;\r\n    }\r\n    applyTo(itemData) {\r\n        itemData.duration = {\r\n            units: this.units,\r\n            value: this.value\r\n        };\r\n    }\r\n}\r\nclass SavingThrowEffect5E {\r\n    constructor(ability, dc, scaling) {\r\n        this.scaling = 'flat';\r\n        this.ability = ability;\r\n        this.dc = dc;\r\n        this.scaling = scaling;\r\n    }\r\n    applyTo(itemData) {\r\n        itemData.save = {\r\n            dc: this.dc,\r\n            scaling: this.scaling,\r\n            ability: this.ability\r\n        };\r\n    }\r\n}\r\nclass EffectTarget5E {\r\n    constructor(units, value, type) {\r\n        this.units = units;\r\n        this.value = value;\r\n        this.type = type;\r\n    }\r\n    applyTo(itemData) {\r\n        itemData.target = {\r\n            value: this.value,\r\n            units: this.units,\r\n            type: this.type\r\n        };\r\n    }\r\n}\r\nclass AoEExtender5E {\r\n    constructor(mode, amount, areaType) {\r\n        this.mode = mode;\r\n        this.amount = amount;\r\n        this.areaType = areaType;\r\n    }\r\n    transform(itemEffect) {\r\n        if (!this.matches(itemEffect)) {\r\n            throw new Error('An AoEExtender5E can only be applied to an EffectTarget5E');\r\n        }\r\n        const source = itemEffect;\r\n        let value = source.value;\r\n        switch (this.mode) {\r\n            case 'ADD':\r\n                if (AoETypeValues.indexOf(source.type) < 0) {\r\n                    value = this.amount;\r\n                }\r\n                else {\r\n                    value = source.value + this.amount;\r\n                }\r\n                break;\r\n            case 'MULTIPLY':\r\n                value = source.value * this.amount;\r\n                break;\r\n        }\r\n        const units = 'ft';\r\n        const type = this.areaType;\r\n        const target = new EffectTarget5E(units, value, type);\r\n        return target;\r\n    }\r\n    matches(itemEffect) {\r\n        return itemEffect instanceof EffectTarget5E;\r\n    }\r\n}\r\nclass DamageModifier5E {\r\n    constructor(mode, amount) {\r\n        this.mode = mode;\r\n        this.amount = amount;\r\n    }\r\n    transform(itemEffect) {\r\n        if (!this.matches(itemEffect)) {\r\n            throw new Error('A DamageModifier5E can only be applied to a DamageEffect5E');\r\n        }\r\n        const source = itemEffect;\r\n        const die = {\r\n            faces: source.die.faces,\r\n            amount: source.die.amount\r\n        };\r\n        // todo - implement properly for fixed damage\r\n        switch (this.mode) {\r\n            case 'ADD':\r\n                die.amount = source.die.amount + this.amount;\r\n                break;\r\n            case 'MULTIPLY':\r\n                die.amount = source.die.amount * this.amount;\r\n                break;\r\n        }\r\n        switch (source.method) {\r\n            case \"FIXED\":\r\n                return DamageEffect5E.fixedDamage(source.type, source.amount, source.bonus);\r\n                break;\r\n            case \"ROLLED\":\r\n                return DamageEffect5E.rolledDamage(source.type, die, source.bonus);\r\n                break;\r\n        }\r\n    }\r\n    matches(itemEffect) {\r\n        return itemEffect instanceof DamageEffect5E;\r\n    }\r\n}\r\nclass SavingThrowModifier5E {\r\n    constructor(mode, value) {\r\n        this.mode = mode;\r\n        this.value = value;\r\n    }\r\n    transform(itemEffect) {\r\n        if (!this.matches(itemEffect)) {\r\n            throw new Error('A SavingThrowModifier5E can only be applied to a SavingThrowEffect5E');\r\n        }\r\n        const source = itemEffect;\r\n        let dc;\r\n        switch (this.mode) {\r\n            case 'ADD':\r\n                dc = source.dc + this.value;\r\n                break;\r\n            case 'MULTIPLY':\r\n                dc = source.dc * this.value;\r\n                break;\r\n        }\r\n        return new SavingThrowEffect5E(source.ability, dc, source.scaling);\r\n    }\r\n    matches(itemEffect) {\r\n        return itemEffect instanceof SavingThrowEffect5E;\r\n    }\r\n}\r\nclass AlchemicalResult5E {\r\n    constructor(builder) {\r\n        this._descriptionParts = [];\r\n        this._essenceCombination = [];\r\n        this._effects = [];\r\n        this._effectModifiers = [];\r\n        if (builder) {\r\n            this._descriptionParts = builder.description;\r\n            this._essenceCombination = builder.essenceCombination;\r\n            this._effects = builder.effects;\r\n            this._effectModifiers = builder.effectModifiers;\r\n        }\r\n    }\r\n    duplicate() {\r\n        const other = new AlchemicalResult5E();\r\n        this._descriptionParts.forEach((value) => other.descriptionParts.push(value));\r\n        this._essenceCombination.forEach((value) => other.essenceCombination.push(value));\r\n        this._effects.forEach((value) => other.effects.push(value));\r\n        this._effectModifiers.forEach((value) => other.effectModifiers.push(value));\r\n        return other;\r\n    }\r\n    get description() {\r\n        return this._descriptionParts.join(' ');\r\n    }\r\n    get essenceCombination() {\r\n        return this._essenceCombination;\r\n    }\r\n    get effects() {\r\n        return this._effects;\r\n    }\r\n    get effectModifiers() {\r\n        return this._effectModifiers;\r\n    }\r\n    get descriptionParts() {\r\n        return this._descriptionParts;\r\n    }\r\n    asItemData() {\r\n        const result = {};\r\n        result.description = {\r\n            value: this._descriptionParts.map((descriptionPart) => `<p>${descriptionPart}</p>`).join('\\n'),\r\n            chat: '',\r\n            unidentified: ''\r\n        };\r\n        let modifiedEffects = [];\r\n        this._effects.forEach((effect) => {\r\n            let result = effect;\r\n            this._effectModifiers.forEach((modifier) => {\r\n                if (modifier.matches(effect)) {\r\n                    result = modifier.transform(effect);\r\n                }\r\n            });\r\n            modifiedEffects.push(result);\r\n        });\r\n        modifiedEffects.forEach((effect) => effect.applyTo(result));\r\n        return result;\r\n    }\r\n    combineWith(source) {\r\n        const self = this.duplicate();\r\n        const other = source.duplicate();\r\n        self.essenceCombination.push(...other.essenceCombination);\r\n        self.descriptionParts.push(other.description);\r\n        self.effects.push(...other.effects);\r\n        self.effectModifiers.push(...other.effectModifiers);\r\n        return self;\r\n    }\r\n    static builder() {\r\n        return new AlchemicalResult5E.Builder();\r\n    }\r\n}\r\n(function (AlchemicalResult5E) {\r\n    class Builder {\r\n        constructor() {\r\n            this.description = [];\r\n            this.essenceCombination = [];\r\n            this.effects = [];\r\n            this.effectModifiers = [];\r\n        }\r\n        withDescription(value) {\r\n            this.description.push(value);\r\n            return this;\r\n        }\r\n        withEssenceCombination(value) {\r\n            this.essenceCombination = value;\r\n            return this;\r\n        }\r\n        withResultantItem(compendiumKey, entryId) {\r\n            this.resultantItem = { systemId: compendiumKey, partId: entryId };\r\n            return this;\r\n        }\r\n        withRolledDamage(dice, type, bonus) {\r\n            this.effects.push(DamageEffect5E.rolledDamage(type, dice, bonus));\r\n            return this;\r\n        }\r\n        withFixedDamage(amount, type, bonus) {\r\n            this.effects.push(DamageEffect5E.fixedDamage(type, amount, bonus));\r\n            return this;\r\n        }\r\n        withSavingThrow(ability, dc, scaling) {\r\n            this.effects.push(new SavingThrowEffect5E(ability, dc, scaling));\r\n            return this;\r\n        }\r\n        withDuration(units, value) {\r\n            this.effects.push(new EffectDuration5E(units, value));\r\n            return this;\r\n        }\r\n        withAoEExtender(mode, value, areaType) {\r\n            this.effectModifiers.push(new AoEExtender5E(mode, value, areaType));\r\n            return this;\r\n        }\r\n        withDamageModifier(mode, value) {\r\n            this.effectModifiers.push(new DamageModifier5E(mode, value));\r\n            return this;\r\n        }\r\n        withSavingThrowModifier(mode, value) {\r\n            this.effectModifiers.push(new SavingThrowModifier5E(mode, value));\r\n            return this;\r\n        }\r\n        withTarget(units, value, type) {\r\n            this.effects.push(new EffectTarget5E(units, value, type));\r\n            return this;\r\n        }\r\n        build() {\r\n            return new AlchemicalResult5E(this);\r\n        }\r\n    }\r\n    AlchemicalResult5E.Builder = Builder;\r\n})(AlchemicalResult5E || (AlchemicalResult5E = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9BbGNoZW1pY2FsUmVzdWx0NUUudHM/NjRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtBQUFBO0FBQUEsTUFBTSxhQUFhLEdBQWEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFHLFVBQVUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztBQVFwRyxNQUFNLGNBQWM7SUFPaEIsWUFBb0IsTUFBb0IsRUFBRSxJQUFrQixFQUFFLEdBQVUsRUFBRSxLQUFjLEVBQUUsTUFBZTtRQUNyRyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFTSxNQUFNLENBQUMsWUFBWSxDQUFDLElBQWtCLEVBQUUsSUFBVSxFQUFFLEtBQWM7UUFDckUsT0FBTyxJQUFJLGNBQWMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFrQixFQUFFLE1BQWMsRUFBRSxLQUFjO1FBQ3hFLE9BQU8sSUFBSSxjQUFjLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxPQUFPLENBQUMsUUFBb0I7UUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDbEIsUUFBUSxDQUFDLE1BQU0sR0FBRztnQkFDZCxLQUFLLEVBQUUsRUFBRTtnQkFDVCxTQUFTLEVBQUUsRUFBRTthQUNoQixDQUFDO1NBQ0w7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LEtBQWEsRUFBRSxJQUFrQjtZQUNqRSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLGNBQWMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDMUQsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEMsQ0FBQztLQUVKO0lBbkVZLDBCQUFPLFVBbUVuQjtBQUVMLENBQUMsRUF2RVMsa0JBQWtCLEtBQWxCLGtCQUFrQixRQXVFM0I7QUFFMEIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9kbmQ1ZS9BbGNoZW1pY2FsUmVzdWx0NUUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBlbmRpdW1FbnRyeX0gZnJvbSBcIi4uL2dhbWUvQ29tcGVuZGl1bURhdGFcIjtcclxuaW1wb3J0IHtBbGNoZW1pY2FsUmVzdWx0LCBJdGVtRWZmZWN0LCBJdGVtRWZmZWN0TW9kaWZpZXJ9IGZyb20gXCIuLi9jb3JlL0FsY2hlbWljYWxSZXN1bHRTZXRcIjtcclxuXHJcbnR5cGUgRGFtYWdlTWV0aG9kID0gJ1JPTExFRCcgfCAnRklYRUQnO1xyXG5jb25zdCBBb0VUeXBlVmFsdWVzOiBzdHJpbmdbXSA9IFsnY29uZScsICdjdWJlJyAsICdjeWxpbmRlcicsICdsaW5lJywgJ3JhZGl1cycsICdzcGhlcmUnLCAnc3F1YXJlJ107XHJcbnR5cGUgQW9FVHlwZSA9ICdjb25lJyB8ICdjdWJlJyAgfCAnY3lsaW5kZXInIHwgJ2xpbmUnIHwgJ3JhZGl1cycgfCAnc3BoZXJlJyB8ICdzcXVhcmUnO1xyXG50eXBlIERpY2UgPSB7XHJcbiAgICBmYWNlczogNCB8IDYgfCA4IHwgMTAgfCAxMiB8IDIwIHwgMTAwO1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcbn07XHJcbnR5cGUgTW9kaWZpY2F0aW9uTWV0aG9kID0gJ0FERCcgfCAnTVVMVElQTFknO1xyXG5cclxuY2xhc3MgRGFtYWdlRWZmZWN0NUUgaW1wbGVtZW50cyBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgIG1ldGhvZDogRGFtYWdlTWV0aG9kO1xyXG4gICAgdHlwZTogRGFtYWdlVHlwZTVFO1xyXG4gICAgZGllPzogRGljZTtcclxuICAgIGFtb3VudD86IG51bWJlcjtcclxuICAgIGJvbnVzPzogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IobWV0aG9kOiBEYW1hZ2VNZXRob2QsIHR5cGU6IERhbWFnZVR5cGU1RSwgZGllPzogRGljZSwgYm9udXM/OiBudW1iZXIsIGFtb3VudD86IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5kaWUgPSBkaWU7XHJcbiAgICAgICAgdGhpcy5ib251cyA9IGJvbnVzO1xyXG4gICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcm9sbGVkRGFtYWdlKHR5cGU6IERhbWFnZVR5cGU1RSwgZGljZTogRGljZSwgYm9udXM/OiBudW1iZXIpOiBEYW1hZ2VFZmZlY3Q1RSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYW1hZ2VFZmZlY3Q1RSgnUk9MTEVEJywgdHlwZSwgZGljZSwgYm9udXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZml4ZWREYW1hZ2UodHlwZTogRGFtYWdlVHlwZTVFLCBhbW91bnQ6IG51bWJlciwgYm9udXM/OiBudW1iZXIpOiBEYW1hZ2VFZmZlY3Q1RSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYW1hZ2VFZmZlY3Q1RSgnRklYRUQnLCB0eXBlLCBudWxsLCBib251cywgYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRvKGl0ZW1EYXRhOiBJdGVtRGF0YTVlKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtRGF0YS5kYW1hZ2UpIHtcclxuICAgICAgICAgICAgaXRlbURhdGEuZGFtYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgcGFydHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgdmVyc2F0aWxlOiAnJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRhbWFnZUV4cHJlc3Npb24gPSAnJztcclxuICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09ICdST0xMRUQnKSB7XHJcbiAgICAgICAgICAgIGRhbWFnZUV4cHJlc3Npb24gPSB0aGlzLmRpZS5hbW91bnQgKyAnZCcgKyB0aGlzLmRpZS5mYWNlcztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWV0aG9kID09PSAnRklYRUQnKSB7XHJcbiAgICAgICAgICAgIGRhbWFnZUV4cHJlc3Npb24gPSBTdHJpbmcodGhpcy5hbW91bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ib251cykge1xyXG4gICAgICAgICAgICBkYW1hZ2VFeHByZXNzaW9uICs9ICcgKyAnICsgU3RyaW5nKHRoaXMuYm9udXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpdGVtRGF0YS5kYW1hZ2UucGFydHMucHVzaChbZGFtYWdlRXhwcmVzc2lvbiwgdGhpcy50eXBlXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVmZmVjdER1cmF0aW9uNUUgaW1wbGVtZW50cyBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgIHZhbHVlPzogbnVtYmVyO1xyXG4gICAgdW5pdHM6IER1cmF0aW9uVHlwZTVlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVuaXRzOiBEdXJhdGlvblR5cGU1ZSwgdmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudW5pdHMgPSB1bml0cztcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlUbyhpdGVtRGF0YTogSXRlbURhdGE1ZSk6IHZvaWQge1xyXG4gICAgICAgIGl0ZW1EYXRhLmR1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICB1bml0czogdGhpcy51bml0cyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTYXZpbmdUaHJvd0VmZmVjdDVFIGltcGxlbWVudHMgSXRlbUVmZmVjdDxJdGVtRGF0YTVlPiB7XHJcbiAgICBhYmlsaXR5OiBBYmlsaXR5VHlwZTVFO1xyXG4gICAgZGM6IG51bWJlcjtcclxuICAgIHNjYWxpbmc6ICdmbGF0JyA9ICdmbGF0JztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhYmlsaXR5OiBBYmlsaXR5VHlwZTVFLCBkYzogbnVtYmVyLCBzY2FsaW5nOiAnZmxhdCcpIHtcclxuICAgICAgICB0aGlzLmFiaWxpdHkgPSBhYmlsaXR5O1xyXG4gICAgICAgIHRoaXMuZGMgPSBkYztcclxuICAgICAgICB0aGlzLnNjYWxpbmcgPSBzY2FsaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5VG8oaXRlbURhdGE6IEl0ZW1EYXRhNWUpOiB2b2lkIHtcclxuICAgICAgICBpdGVtRGF0YS5zYXZlID0ge1xyXG4gICAgICAgICAgICBkYzogdGhpcy5kYyxcclxuICAgICAgICAgICAgc2NhbGluZzogdGhpcy5zY2FsaW5nLFxyXG4gICAgICAgICAgICBhYmlsaXR5OiB0aGlzLmFiaWxpdHlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBFZmZlY3RUYXJnZXQ1RSBpbXBsZW1lbnRzIEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4ge1xyXG4gICAgdW5pdHM6IFRhcmdldFVuaXRUeXBlNWU7XHJcbiAgICB2YWx1ZTogbnVtYmVyO1xyXG4gICAgdHlwZTogVGFyZ2V0VHlwZTVlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVuaXRzOiBUYXJnZXRVbml0VHlwZTVlLCB2YWx1ZTogbnVtYmVyLCB0eXBlOiBUYXJnZXRUeXBlNWUpIHtcclxuICAgICAgICB0aGlzLnVuaXRzID0gdW5pdHM7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlUbyhpdGVtRGF0YTogSXRlbURhdGE1ZSk6IHZvaWQge1xyXG4gICAgICAgIGl0ZW1EYXRhLnRhcmdldCA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgIHVuaXRzOiB0aGlzLnVuaXRzLFxyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBb0VFeHRlbmRlcjVFIGltcGxlbWVudHMgSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+IHtcclxuICAgIG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZDtcclxuICAgIGFyZWFUeXBlOiBBb0VUeXBlO1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kLCBhbW91bnQ6IG51bWJlciwgYXJlYVR5cGU6IEFvRVR5cGUpIHtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xyXG4gICAgICAgIHRoaXMuYXJlYVR5cGUgPSBhcmVhVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm0oaXRlbUVmZmVjdDogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPik6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5tYXRjaGVzKGl0ZW1FZmZlY3QpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW4gQW9FRXh0ZW5kZXI1RSBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGFuIEVmZmVjdFRhcmdldDVFJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNvdXJjZTogRWZmZWN0VGFyZ2V0NUUgPSA8RWZmZWN0VGFyZ2V0NUU+aXRlbUVmZmVjdDtcclxuICAgICAgICBsZXQgdmFsdWU6IG51bWJlciA9IHNvdXJjZS52YWx1ZTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdBREQnOlxyXG4gICAgICAgICAgICAgICAgaWYgKEFvRVR5cGVWYWx1ZXMuaW5kZXhPZihzb3VyY2UudHlwZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHNvdXJjZS52YWx1ZSArIHRoaXMuYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ01VTFRJUExZJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gc291cmNlLnZhbHVlICogdGhpcy5hbW91bnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5pdHM6IFRhcmdldFVuaXRUeXBlNWUgPSAnZnQnO1xyXG4gICAgICAgIGNvbnN0IHR5cGU6IFRhcmdldFR5cGU1ZSA9IHRoaXMuYXJlYVR5cGU7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0OiBFZmZlY3RUYXJnZXQ1RSA9IG5ldyBFZmZlY3RUYXJnZXQ1RSh1bml0cywgdmFsdWUsIHR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbWF0Y2hlcyhpdGVtRWZmZWN0OiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FZmZlY3QgaW5zdGFuY2VvZiBFZmZlY3RUYXJnZXQ1RTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIERhbWFnZU1vZGlmaWVyNUUgaW1wbGVtZW50cyBJdGVtRWZmZWN0TW9kaWZpZXI8SXRlbURhdGE1ZT4ge1xyXG4gICAgbW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kO1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kLCBhbW91bnQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKGl0ZW1FZmZlY3Q6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4pOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0Y2hlcyhpdGVtRWZmZWN0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgRGFtYWdlTW9kaWZpZXI1RSBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGEgRGFtYWdlRWZmZWN0NUUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc291cmNlOiBEYW1hZ2VFZmZlY3Q1RSA9IDxEYW1hZ2VFZmZlY3Q1RT5pdGVtRWZmZWN0O1xyXG4gICAgICAgIGNvbnN0IGRpZTogRGljZSA9IHtcclxuICAgICAgICAgICAgZmFjZXM6IHNvdXJjZS5kaWUuZmFjZXMsXHJcbiAgICAgICAgICAgIGFtb3VudDogc291cmNlLmRpZS5hbW91bnRcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRvZG8gLSBpbXBsZW1lbnQgcHJvcGVybHkgZm9yIGZpeGVkIGRhbWFnZVxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0FERCc6XHJcbiAgICAgICAgICAgICAgICBkaWUuYW1vdW50ID0gc291cmNlLmRpZS5hbW91bnQgKyB0aGlzLmFtb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdNVUxUSVBMWSc6XHJcbiAgICAgICAgICAgICAgICBkaWUuYW1vdW50ID0gc291cmNlLmRpZS5hbW91bnQgKiB0aGlzLmFtb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHNvdXJjZS5tZXRob2QpIHtcclxuICAgICAgICAgICAgY2FzZSBcIkZJWEVEXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRGFtYWdlRWZmZWN0NUUuZml4ZWREYW1hZ2Uoc291cmNlLnR5cGUsIHNvdXJjZS5hbW91bnQsIHNvdXJjZS5ib251cyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlJPTExFRFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERhbWFnZUVmZmVjdDVFLnJvbGxlZERhbWFnZShzb3VyY2UudHlwZSwgZGllLCBzb3VyY2UuYm9udXMpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWF0Y2hlcyhpdGVtRWZmZWN0OiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FZmZlY3QgaW5zdGFuY2VvZiBEYW1hZ2VFZmZlY3Q1RTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2F2aW5nVGhyb3dNb2RpZmllcjVFIGltcGxlbWVudHMgSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+IHtcclxuICAgIG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZDtcclxuICAgIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kLCB2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKGl0ZW1FZmZlY3Q6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4pOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0Y2hlcyhpdGVtRWZmZWN0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgU2F2aW5nVGhyb3dNb2RpZmllcjVFIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gYSBTYXZpbmdUaHJvd0VmZmVjdDVFJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNvdXJjZTogU2F2aW5nVGhyb3dFZmZlY3Q1RSA9IDxTYXZpbmdUaHJvd0VmZmVjdDVFPml0ZW1FZmZlY3Q7XHJcbiAgICAgICAgbGV0IGRjOiBudW1iZXI7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnQUREJzpcclxuICAgICAgICAgICAgICAgIGRjID0gc291cmNlLmRjICsgdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdNVUxUSVBMWSc6XHJcbiAgICAgICAgICAgICAgICBkYyA9IHNvdXJjZS5kYyAqIHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTYXZpbmdUaHJvd0VmZmVjdDVFKHNvdXJjZS5hYmlsaXR5LCBkYywgc291cmNlLnNjYWxpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdGNoZXMoaXRlbUVmZmVjdDogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBpdGVtRWZmZWN0IGluc3RhbmNlb2YgU2F2aW5nVGhyb3dFZmZlY3Q1RTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQWxjaGVtaWNhbFJlc3VsdDVFIGltcGxlbWVudHMgQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzY3JpcHRpb25QYXJ0czogc3RyaW5nW10gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VDb21iaW5hdGlvbjogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lZmZlY3RzOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VmZmVjdE1vZGlmaWVyczogSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyPzogQWxjaGVtaWNhbFJlc3VsdDVFLkJ1aWxkZXIpIHtcclxuICAgICAgICBpZiAoYnVpbGRlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXNjcmlwdGlvblBhcnRzID0gYnVpbGRlci5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5fZXNzZW5jZUNvbWJpbmF0aW9uID0gYnVpbGRlci5lc3NlbmNlQ29tYmluYXRpb247XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMgPSBidWlsZGVyLmVmZmVjdHM7XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdE1vZGlmaWVycyA9IGJ1aWxkZXIuZWZmZWN0TW9kaWZpZXJzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHVwbGljYXRlKCk6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4ge1xyXG4gICAgICAgIGNvbnN0IG90aGVyID0gbmV3IEFsY2hlbWljYWxSZXN1bHQ1RSgpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uUGFydHMuZm9yRWFjaCgodmFsdWU6IHN0cmluZykgPT4gb3RoZXIuZGVzY3JpcHRpb25QYXJ0cy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUNvbWJpbmF0aW9uLmZvckVhY2goKHZhbHVlOiBzdHJpbmcpID0+IG90aGVyLmVzc2VuY2VDb21iaW5hdGlvbi5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5fZWZmZWN0cy5mb3JFYWNoKCh2YWx1ZTogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPikgPT4gb3RoZXIuZWZmZWN0cy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5fZWZmZWN0TW9kaWZpZXJzLmZvckVhY2goKHZhbHVlOiBJdGVtRWZmZWN0TW9kaWZpZXI8SXRlbURhdGE1ZT4pID0+IG90aGVyLmVmZmVjdE1vZGlmaWVycy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvblBhcnRzLmpvaW4oJyAnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZUNvbWJpbmF0aW9uKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZUNvbWJpbmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlZmZlY3RzKCk6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT5bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VmZmVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVmZmVjdE1vZGlmaWVycygpOiBJdGVtRWZmZWN0TW9kaWZpZXI8SXRlbURhdGE1ZT5bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VmZmVjdE1vZGlmaWVycztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVzY3JpcHRpb25QYXJ0cygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uUGFydHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXNJdGVtRGF0YSgpOiBJdGVtRGF0YTVlIHtcclxuICAgICAgICBjb25zdCByZXN1bHQ6IEl0ZW1EYXRhNWUgPSB7fTtcclxuICAgICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9kZXNjcmlwdGlvblBhcnRzLm1hcCgoZGVzY3JpcHRpb25QYXJ0OiBzdHJpbmcpID0+IGA8cD4ke2Rlc2NyaXB0aW9uUGFydH08L3A+YCkuam9pbignXFxuJyksXHJcbiAgICAgICAgICAgIGNoYXQ6ICcnLFxyXG4gICAgICAgICAgICB1bmlkZW50aWZpZWQ6ICcnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgbW9kaWZpZWRFZmZlY3RzOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuICAgICAgICB0aGlzLl9lZmZlY3RzLmZvckVhY2goKGVmZmVjdDogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gZWZmZWN0O1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RNb2RpZmllcnMuZm9yRWFjaCgobW9kaWZpZXI6IEl0ZW1FZmZlY3RNb2RpZmllcjxJdGVtRGF0YTVlPikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyLm1hdGNoZXMoZWZmZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG1vZGlmaWVyLnRyYW5zZm9ybShlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbW9kaWZpZWRFZmZlY3RzLnB1c2gocmVzdWx0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtb2RpZmllZEVmZmVjdHMuZm9yRWFjaCgoZWZmZWN0OiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+KSA9PiBlZmZlY3QuYXBwbHlUbyhyZXN1bHQpKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbWJpbmVXaXRoKHNvdXJjZTogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPik6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGY6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSB0aGlzLmR1cGxpY2F0ZSgpO1xyXG4gICAgICAgIGNvbnN0IG90aGVyOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gc291cmNlLmR1cGxpY2F0ZSgpO1xyXG4gICAgICAgIHNlbGYuZXNzZW5jZUNvbWJpbmF0aW9uLnB1c2goLi4ub3RoZXIuZXNzZW5jZUNvbWJpbmF0aW9uKVxyXG4gICAgICAgIHNlbGYuZGVzY3JpcHRpb25QYXJ0cy5wdXNoKG90aGVyLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICBzZWxmLmVmZmVjdHMucHVzaCguLi5vdGhlci5lZmZlY3RzKTtcclxuICAgICAgICBzZWxmLmVmZmVjdE1vZGlmaWVycy5wdXNoKC4uLm90aGVyLmVmZmVjdE1vZGlmaWVycyk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCk6IEFsY2hlbWljYWxSZXN1bHQ1RS5CdWlsZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxSZXN1bHQ1RS5CdWlsZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBBbGNoZW1pY2FsUmVzdWx0NUUge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuXHJcbiAgICAgICAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBlc3NlbmNlQ29tYmluYXRpb246IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlc3VsdGFudEl0ZW06IENvbXBlbmRpdW1FbnRyeTtcclxuICAgICAgICBwdWJsaWMgZWZmZWN0czogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPltdID0gW107XHJcbiAgICAgICAgcHVibGljIGVmZmVjdE1vZGlmaWVyczogSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhEZXNjcmlwdGlvbih2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFc3NlbmNlQ29tYmluYXRpb24odmFsdWU6IHN0cmluZ1tdKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZUNvbWJpbmF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhSZXN1bHRhbnRJdGVtKGNvbXBlbmRpdW1LZXk6IHN0cmluZywgZW50cnlJZDogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0YW50SXRlbSA9IHtzeXN0ZW1JZDogY29tcGVuZGl1bUtleSwgcGFydElkOiBlbnRyeUlkfTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUm9sbGVkRGFtYWdlKGRpY2U6IERpY2UsIHR5cGU6IERhbWFnZVR5cGU1RSwgYm9udXM/OiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2goRGFtYWdlRWZmZWN0NUUucm9sbGVkRGFtYWdlKHR5cGUsIGRpY2UsIGJvbnVzKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEZpeGVkRGFtYWdlKGFtb3VudDogbnVtYmVyLCB0eXBlOiBEYW1hZ2VUeXBlNUUsIGJvbnVzPzogbnVtYmVyKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKERhbWFnZUVmZmVjdDVFLmZpeGVkRGFtYWdlKHR5cGUsIGFtb3VudCwgYm9udXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoU2F2aW5nVGhyb3coYWJpbGl0eTogQWJpbGl0eVR5cGU1RSwgZGM6IG51bWJlciwgc2NhbGluZzogJ2ZsYXQnKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBTYXZpbmdUaHJvd0VmZmVjdDVFKGFiaWxpdHksIGRjLCBzY2FsaW5nKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aER1cmF0aW9uKHVuaXRzOiBEdXJhdGlvblR5cGU1ZSwgdmFsdWU/OiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IEVmZmVjdER1cmF0aW9uNUUodW5pdHMsIHZhbHVlKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEFvRUV4dGVuZGVyKG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZCwgdmFsdWU6IG51bWJlciwgYXJlYVR5cGU6QW9FVHlwZSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdE1vZGlmaWVycy5wdXNoKG5ldyBBb0VFeHRlbmRlcjVFKG1vZGUsIHZhbHVlLCBhcmVhVHlwZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhEYW1hZ2VNb2RpZmllcihtb2RlOiBNb2RpZmljYXRpb25NZXRob2QsIHZhbHVlOiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RNb2RpZmllcnMucHVzaChuZXcgRGFtYWdlTW9kaWZpZXI1RShtb2RlLCB2YWx1ZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhTYXZpbmdUaHJvd01vZGlmaWVyKG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZCwgdmFsdWU6IG51bWJlcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdE1vZGlmaWVycy5wdXNoKG5ldyBTYXZpbmdUaHJvd01vZGlmaWVyNUUobW9kZSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoVGFyZ2V0KHVuaXRzOiBUYXJnZXRVbml0VHlwZTVlLCB2YWx1ZTogbnVtYmVyLCB0eXBlOiBUYXJnZXRUeXBlNWUpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IEVmZmVjdFRhcmdldDVFKHVuaXRzLCB2YWx1ZSwgdHlwZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBBbGNoZW1pY2FsUmVzdWx0NUUge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxSZXN1bHQ1RSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtBbGNoZW1pY2FsUmVzdWx0NUV9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/AlchemicalResult5E.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts ***!
  \*******************************************************/
/*! exports provided: DefaultEssenceCombiner5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultEssenceCombiner5E\", function() { return DefaultEssenceCombiner5E; });\n/* harmony import */ var _core_EssenceCombiner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/EssenceCombiner */ \"./src/scripts/core/EssenceCombiner.ts\");\n\r\nclass DefaultEssenceCombiner5E extends _core_EssenceCombiner__WEBPACK_IMPORTED_MODULE_0__[\"AbstractEssenceCombiner\"] {\r\n    constructor(builder) {\r\n        super(builder.maxComponents, builder.maxEssences, builder.knownAlchemicalResults, builder.resultantItem);\r\n    }\r\n    static builder() {\r\n        return new DefaultEssenceCombiner5E.Builder();\r\n    }\r\n    combineAlchemicalResults(effects) {\r\n        return effects.reduce((left, right) => left.combineWith(right));\r\n    }\r\n}\r\n(function (DefaultEssenceCombiner5E) {\r\n    class Builder {\r\n        withMaxEssences(value) {\r\n            this.maxEssences = value;\r\n            return this;\r\n        }\r\n        withMaxComponents(value) {\r\n            this.maxComponents = value;\r\n            return this;\r\n        }\r\n        withKnownAlchemicalResults(value) {\r\n            this.knownAlchemicalResults = value;\r\n            return this;\r\n        }\r\n        withResultantItem(resultantItem) {\r\n            this.resultantItem = resultantItem;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new DefaultEssenceCombiner5E(this);\r\n        }\r\n    }\r\n    DefaultEssenceCombiner5E.Builder = Builder;\r\n})(DefaultEssenceCombiner5E || (DefaultEssenceCombiner5E = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9EZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUudHM/MDM2MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBa0Y7QUFJbEYsTUFBTSx3QkFBeUIsU0FBUSw2RUFBbUM7SUFFdEUsWUFBWSxPQUF5QztRQUNqRCxLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxzQkFBc0IsRUFBRSxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDN0csQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSx3QkFBd0IsQ0FBQyxPQUFPLEVBQUU7SUFDakQsQ0FBQztJQUVELHdCQUF3QixDQUFDLE9BQXVDO1FBQzVELE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0NBRUo7QUFFRCxXQUFVLHdCQUF3QjtJQUU5QixNQUFhLE9BQU87UUFNVCxlQUFlLENBQUMsS0FBYTtZQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztZQUN6QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUJBQWlCLENBQUMsS0FBYTtZQUNsQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMzQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sMEJBQTBCLENBQUMsS0FBc0M7WUFDcEUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLEtBQUssQ0FBQztZQUNwQyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUJBQWlCLENBQUMsYUFBZ0M7WUFDckQsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7WUFDbkMsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksd0JBQXdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsQ0FBQztLQUVKO0lBOUJZLGdDQUFPLFVBOEJuQjtBQUVMLENBQUMsRUFsQ1Msd0JBQXdCLEtBQXhCLHdCQUF3QixRQWtDakM7QUFFZ0MiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9kbmQ1ZS9EZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fic3RyYWN0RXNzZW5jZUNvbWJpbmVyLCBBbGNoZW1pY2FsUmVzdWx0fSBmcm9tIFwiLi4vY29yZS9Fc3NlbmNlQ29tYmluZXJcIjtcclxuaW1wb3J0IHtBbGNoZW1pY2FsUmVzdWx0U2V0fSBmcm9tIFwiLi4vY29yZS9BbGNoZW1pY2FsUmVzdWx0U2V0XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcblxyXG5jbGFzcyBEZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUgZXh0ZW5kcyBBYnN0cmFjdEVzc2VuY2VDb21iaW5lcjxJdGVtRGF0YTVlPiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFLkJ1aWxkZXIpIHtcclxuICAgICAgICBzdXBlcihidWlsZGVyLm1heENvbXBvbmVudHMsIGJ1aWxkZXIubWF4RXNzZW5jZXMsIGJ1aWxkZXIua25vd25BbGNoZW1pY2FsUmVzdWx0cywgYnVpbGRlci5yZXN1bHRhbnRJdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKTogRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFLkJ1aWxkZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFLkJ1aWxkZXIoKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbWJpbmVBbGNoZW1pY2FsUmVzdWx0cyhlZmZlY3RzOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+W10pOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+IHtcclxuICAgICAgICByZXR1cm4gZWZmZWN0cy5yZWR1Y2UoKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0LmNvbWJpbmVXaXRoKHJpZ2h0KSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5uYW1lc3BhY2UgRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFIHtcclxuXHJcbiAgICBleHBvcnQgY2xhc3MgQnVpbGRlciB7XHJcbiAgICAgICAgcHVibGljIG1heEVzc2VuY2VzOiBudW1iZXI7XHJcbiAgICAgICAgcHVibGljIG1heENvbXBvbmVudHM6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMga25vd25BbGNoZW1pY2FsUmVzdWx0czogQWxjaGVtaWNhbFJlc3VsdFNldDxJdGVtRGF0YTVlPjtcclxuICAgICAgICBwdWJsaWMgcmVzdWx0YW50SXRlbTogQ3JhZnRpbmdDb21wb25lbnQ7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoTWF4RXNzZW5jZXModmFsdWU6IG51bWJlcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLm1heEVzc2VuY2VzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhNYXhDb21wb25lbnRzKHZhbHVlOiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhDb21wb25lbnRzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhLbm93bkFsY2hlbWljYWxSZXN1bHRzKHZhbHVlOiBBbGNoZW1pY2FsUmVzdWx0U2V0PEl0ZW1EYXRhNWU+KTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMua25vd25BbGNoZW1pY2FsUmVzdWx0cyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUmVzdWx0YW50SXRlbShyZXN1bHRhbnRJdGVtOiBDcmFmdGluZ0NvbXBvbmVudCk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdGFudEl0ZW0gPSByZXN1bHRhbnRJdGVtO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBEZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRFc3NlbmNlQ29tYmluZXI1RSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtEZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUV9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/Inventory5E.ts":
/*!******************************************!*\
  !*** ./src/scripts/dnd5e/Inventory5E.ts ***!
  \******************************************/
/*! exports provided: Inventory5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Inventory5E\", function() { return Inventory5E; });\n/* harmony import */ var _game_CraftingInventory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/CraftingInventory */ \"./src/scripts/game/CraftingInventory.ts\");\n/* harmony import */ var _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../game/InventoryRecord */ \"./src/scripts/game/InventoryRecord.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_Ingredient__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/Ingredient */ \"./src/scripts/core/Ingredient.ts\");\n/* harmony import */ var _game_Inventory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../game/Inventory */ \"./src/scripts/game/Inventory.ts\");\n/* harmony import */ var _core_ActionType__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Inventory5E extends _game_CraftingInventory__WEBPACK_IMPORTED_MODULE_0__[\"CraftingInventory\"] {\r\n    constructor(actor) {\r\n        super(actor);\r\n        this._componentDirectory = new Map();\r\n        this._recipeDirectory = new Map();\r\n        this._supportedGameSystems = [_core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__[\"GameSystemType\"].DND5E];\r\n        this.index();\r\n    }\r\n    index() {\r\n        if (!this._actor) {\r\n            throw new Error(`No Actor was set for this Inventory to index`);\r\n        }\r\n        const items = Array.from(this._actor.items.values());\r\n        this._componentDirectory.clear();\r\n        this._recipeDirectory.clear();\r\n        const candidateItems = items.filter(this.shouldIndex(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].types.allowableItems));\r\n        const uniqueComponentTypes = candidateItems.map((item) => item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.partId))\r\n            .filter((partId, index, partIds) => partIds.indexOf(partId) === index);\r\n        uniqueComponentTypes.forEach((partId) => {\r\n            const inventoryRecord = candidateItems.filter((candidateItem) => candidateItem.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.partId) === partId)\r\n                .map((item) => {\r\n                const fabricateItemType = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.fabricateItemType);\r\n                return _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                    .withItem(item)\r\n                    .withActor(this.actor)\r\n                    .withTotalQuantity(item.data.data.quantity)\r\n                    .withFabricateItemType(fabricateItemType)\r\n                    .withFabricateItem(this.lookUp(item))\r\n                    .build();\r\n            })\r\n                .reduce((left, right) => left.combineWith(right));\r\n            this.applyItemTypeTreatment(inventoryRecord, (record) => this._componentDirectory.set(partId, record), (record) => this._recipeDirectory.set(partId, record));\r\n        });\r\n    }\r\n    lookUp(item) {\r\n        const systemId = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.systemId);\r\n        const craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_9__[\"default\"].systems.getSystemByCompendiumPackKey(systemId);\r\n        if (!craftingSystem) {\r\n            throw new Error(`Unable to look up crafting System '${systemId}' when indexing Item '${item._id}'. `);\r\n        }\r\n        const itemType = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.fabricateItemType);\r\n        const partId = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.partId);\r\n        switch (itemType) {\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE:\r\n                const recipe = craftingSystem.getRecipeByPartId(partId);\r\n                if (recipe) {\r\n                    return recipe;\r\n                }\r\n                throw new Error(`Unable to look up Recipe with Part ID '${partId}' from Crafting System \r\n                    '${craftingSystem.compendiumPackKey}. '`);\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT:\r\n                const craftingComponent = craftingSystem.getComponentByPartId(partId);\r\n                if (craftingComponent) {\r\n                    return craftingComponent;\r\n                }\r\n                throw new Error(`Unable to look up Crafting Component with Part ID '${partId}' from Crafting System \r\n                    '${craftingSystem.compendiumPackKey}. '`);\r\n            default:\r\n                throw new Error(`Unrecognized Fabricate Item Type of '${itemType}' for Item '${item._id}'. \r\n                    The allowable values are 'COMPONENT' and 'RECIPE'. `);\r\n        }\r\n    }\r\n    applyItemTypeTreatment(inventoryRecord, craftingComponentConsumer, recipeConsumer) {\r\n        switch (inventoryRecord.fabricateItemType) {\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT:\r\n                craftingComponentConsumer(inventoryRecord);\r\n                break;\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE:\r\n                recipeConsumer(inventoryRecord);\r\n                break;\r\n            default:\r\n                throw new Error(`Unrecognized Fabricate Item Type '${inventoryRecord.fabricateItemType}' for Inventory \r\n                    Record ${inventoryRecord.fabricateItem.compendiumEntry}. The allowable values are 'COMPONENT' and \r\n                    'RECIPE'. `);\r\n        }\r\n    }\r\n    shouldIndex(allowableItems) {\r\n        return (item) => {\r\n            if (allowableItems.indexOf(item.type) < 0) {\r\n                return false;\r\n            }\r\n            const type = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.fabricateItemType);\r\n            if (!type) {\r\n                return false;\r\n            }\r\n            return type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT || type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE;\r\n        };\r\n    }\r\n    addComponent(component, amountToAdd = 1, customData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (customData) {\r\n                return this.addCustomItem(component, amountToAdd, customData);\r\n            }\r\n            const recordForType = this._componentDirectory.get(component.partId);\r\n            if (!recordForType) {\r\n                const compendium = game.packs.get(component.systemId);\r\n                const item = yield compendium.getEntity(component.partId);\r\n                item.data.data.quantity = amountToAdd;\r\n                const createdItem = yield this._actor.createEmbeddedEntity('OwnedItem', item);\r\n                const inventoryRecord = _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                    .withActor(this._actor)\r\n                    .withItem(createdItem)\r\n                    .withTotalQuantity(createdItem.data.data.quantity)\r\n                    .withFabricateItem(component)\r\n                    .build();\r\n                this._componentDirectory.set(component.partId, inventoryRecord);\r\n                return new _game_Inventory__WEBPACK_IMPORTED_MODULE_7__[\"InventoryModification\"]([createdItem], _core_ActionType__WEBPACK_IMPORTED_MODULE_8__[\"ActionType\"].ADD, inventoryRecord);\r\n            }\r\n            else {\r\n                recordForType.itemsOfType.sort((left, right) => left.data.data.quantity - right.data.data.quantity);\r\n                const item = recordForType.itemsOfType[0];\r\n                const updatedQuantityForItem = item.data.data.quantity + amountToAdd;\r\n                // @ts-ignore\r\n                const updatedItem = yield this.actor.updateEmbeddedEntity('OwnedItem', { _id: item.id, data: { quantity: updatedQuantityForItem } });\r\n                recordForType.totalQuantity = recordForType.totalQuantity + amountToAdd;\r\n                return new _game_Inventory__WEBPACK_IMPORTED_MODULE_7__[\"InventoryModification\"]([updatedItem], _core_ActionType__WEBPACK_IMPORTED_MODULE_8__[\"ActionType\"].ADD, recordForType);\r\n            }\r\n        });\r\n    }\r\n    addCustomItem(component, amountToAdd, customData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const compendium = game.packs.get(component.systemId);\r\n            const item = yield compendium.getEntity(component.partId);\r\n            item.data.data.quantity = amountToAdd;\r\n            const data = duplicate(item.data);\r\n            mergeObject(data.data, customData);\r\n            const recordForType = this._componentDirectory.get(component.partId);\r\n            const createdItem = yield this._actor.createEmbeddedEntity('OwnedItem', data);\r\n            if (recordForType) {\r\n                recordForType.totalQuantity = recordForType.totalQuantity + amountToAdd;\r\n                return new _game_Inventory__WEBPACK_IMPORTED_MODULE_7__[\"InventoryModification\"]([createdItem], _core_ActionType__WEBPACK_IMPORTED_MODULE_8__[\"ActionType\"].ADD, recordForType);\r\n            }\r\n            else {\r\n                const inventoryRecord = _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                    .withActor(this._actor)\r\n                    .withItem(createdItem)\r\n                    .withTotalQuantity(createdItem.data.data.quantity)\r\n                    .withFabricateItem(component)\r\n                    .build();\r\n                this._componentDirectory.set(component.partId, inventoryRecord);\r\n                return new _game_Inventory__WEBPACK_IMPORTED_MODULE_7__[\"InventoryModification\"]([createdItem], _core_ActionType__WEBPACK_IMPORTED_MODULE_8__[\"ActionType\"].ADD, inventoryRecord);\r\n            }\r\n        });\r\n    }\r\n    get contents() {\r\n        const recipes = this.recipes;\r\n        const components = this.components;\r\n        return recipes.concat(components);\r\n    }\r\n    removeComponent(component, amountToRemove = 1) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.containsIngredient(_core_Ingredient__WEBPACK_IMPORTED_MODULE_6__[\"Ingredient\"].builder().withQuantity(amountToRemove).withComponent(component).build())) {\r\n                throw new Error(`Cannot remove ${amountToRemove} ${component.name} from Inventory for Actor ${this.actorId} - \r\n                there is not enough of the component in their inventory! `);\r\n            }\r\n            const recordForType = this._componentDirectory.get(component.partId);\r\n            recordForType.itemsOfType = recordForType.itemsOfType.sort((left, right) => left.data.data.quantity - right.data.data.quantity);\r\n            let removed = 0;\r\n            let currentItemIndex = 0;\r\n            const modifiedItems = [];\r\n            while (removed < amountToRemove) {\r\n                const thisItem = recordForType.itemsOfType[currentItemIndex];\r\n                modifiedItems.push(thisItem);\r\n                const remaining = amountToRemove - removed;\r\n                if (remaining < thisItem.data.data.quantity) {\r\n                    const updatedQuantity = thisItem.data.data.quantity - remaining;\r\n                    // @ts-ignore\r\n                    yield this.actor.updateEmbeddedEntity('OwnedItem', {\r\n                        _id: thisItem.id,\r\n                        data: { quantity: updatedQuantity }\r\n                    });\r\n                    recordForType.totalQuantity = updatedQuantity;\r\n                    removed += amountToRemove;\r\n                }\r\n                else {\r\n                    const amountRemoved = thisItem.data.data.quantity;\r\n                    // @ts-ignore\r\n                    yield this.actor.deleteEmbeddedEntity('OwnedItem', thisItem.id);\r\n                    removed += amountRemoved;\r\n                    recordForType.totalQuantity = recordForType.totalQuantity - amountRemoved;\r\n                }\r\n                currentItemIndex++;\r\n            }\r\n            const remainingItems = recordForType.itemsOfType.filter((item) => item.data.data.quantity > 0);\r\n            recordForType.itemsOfType = remainingItems;\r\n            if (remainingItems.length === 0) {\r\n                this._componentDirectory.delete(component.partId);\r\n            }\r\n            return new _game_Inventory__WEBPACK_IMPORTED_MODULE_7__[\"InventoryModification\"](modifiedItems, _core_ActionType__WEBPACK_IMPORTED_MODULE_8__[\"ActionType\"].REMOVE, recordForType);\r\n        });\r\n    }\r\n    updateQuantityFor(item) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!item) {\r\n                throw new Error('Unable to update Inventory quantity for null Item. ');\r\n            }\r\n            const fabricateFlags = item.flags.fabricate;\r\n            if (!fabricateFlags) {\r\n                return false; // Not a Fabricate Item\r\n            }\r\n            const partId = fabricateFlags.identity.partId;\r\n            if (!partId) {\r\n                throw new Error(`Unable to update Inventory quantity for Item ${item._id} with no Fabricate Part ID set in flag data. `);\r\n            }\r\n            let inventoryRecordForType;\r\n            if (fabricateFlags.type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT) {\r\n                inventoryRecordForType = this._componentDirectory.get(partId);\r\n            }\r\n            else if (fabricateFlags.type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE) {\r\n                inventoryRecordForType = this._recipeDirectory.get(partId);\r\n            }\r\n            if (!inventoryRecordForType) {\r\n                yield this.update();\r\n                return true;\r\n            }\r\n            if (inventoryRecordForType.itemsOfType.length === 1) {\r\n                inventoryRecordForType.totalQuantity = item.data.quantity;\r\n                return true;\r\n            }\r\n            const totalExcludingChanged = inventoryRecordForType.itemsOfType.filter((managedItem) => managedItem.id !== item._id)\r\n                .map((managedItem) => managedItem.data.data.quantity)\r\n                .reduce((left, right) => left + right, 0);\r\n            inventoryRecordForType.totalQuantity = totalExcludingChanged + item.data.quantity;\r\n            return true;\r\n        });\r\n    }\r\n    denormalizedContainedComponents() {\r\n        return Array.from(this._componentDirectory.values()).map((record) => {\r\n            const denormalizedComponents = [];\r\n            for (let i = 0; i < record.totalQuantity; i++) {\r\n                denormalizedComponents.push(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__[\"CraftingComponent\"].builder()\r\n                    .withName(record.fabricateItem.name)\r\n                    .withEssences(record.fabricateItem.essences)\r\n                    .withPartId(record.fabricateItem.partId)\r\n                    .withSystemId(record.fabricateItem.systemId)\r\n                    .withImageUrl(record.fabricateItem.imageUrl)\r\n                    .build());\r\n            }\r\n            return denormalizedComponents;\r\n        }).reduce((left, right) => left.concat(right), []);\r\n    }\r\n    update() {\r\n        this.index();\r\n    }\r\n    get components() {\r\n        return Array.from(this._componentDirectory.values());\r\n    }\r\n    get recipes() {\r\n        return Array.from(this._recipeDirectory.values());\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9JbnZlbnRvcnk1RS50cz9iMzcxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0RDtBQUNKO0FBQ2pCO0FBQzJDO0FBQ3RCO0FBQ047QUFDUjtBQUdVO0FBQ1Y7QUFDeUI7QUFLdkUsTUFBTSxXQUFZLFNBQVEseUVBQWlCO0lBSXZDLFlBQVksS0FBVTtRQUNsQixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFKQSx3QkFBbUIsR0FBb0QsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNqRixxQkFBZ0IsR0FBeUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUloRixJQUFJLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxtRUFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRU8sS0FBSztRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO1NBQ25FO1FBQ0QsTUFBTSxLQUFLLEdBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFOUIsTUFBTSxjQUFjLEdBQVcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG1EQUFVLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDL0YsTUFBTSxvQkFBb0IsR0FBYSxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBVSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLG1EQUFVLENBQUMs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c291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDcmFmdGluZ0ludmVudG9yeX0gZnJvbSBcIi4uL2dhbWUvQ3JhZnRpbmdJbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnlSZWNvcmR9IGZyb20gXCIuLi9nYW1lL0ludmVudG9yeVJlY29yZFwiO1xyXG5pbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4uL2dhbWUvQ29tcGVuZGl1bURhdGFcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvcmUvQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtHYW1lU3lzdGVtVHlwZX0gZnJvbSBcIi4uL2NvcmUvR2FtZVN5c3RlbVR5cGVcIjtcclxuaW1wb3J0IHtJbmdyZWRpZW50fSBmcm9tIFwiLi4vY29yZS9JbmdyZWRpZW50XCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY29yZS9SZWNpcGVcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVJdGVtfSBmcm9tIFwiLi4vY29yZS9GYWJyaWNhdGVJdGVtXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5TW9kaWZpY2F0aW9ufSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtBY3Rpb25UeXBlfSBmcm9tIFwiLi4vY29yZS9BY3Rpb25UeXBlXCI7XHJcbmltcG9ydCBGYWJyaWNhdGVBcHBsaWNhdGlvbiBmcm9tIFwiLi4vYXBwbGljYXRpb24vRmFicmljYXRlQXBwbGljYXRpb25cIjtcclxuXHJcbnR5cGUgUmVjaXBlQ29uc3VtZXIgPSAoZmFicmljYXRlSXRlbTogSW52ZW50b3J5UmVjb3JkPFJlY2lwZT4pID0+IHZvaWQ7XHJcbnR5cGUgQ3JhZnRpbmdDb21wb25lbnRDb25zdW1lciA9IChmYWJyaWNhdGVJdGVtOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiB2b2lkO1xyXG5cclxuY2xhc3MgSW52ZW50b3J5NUUgZXh0ZW5kcyBDcmFmdGluZ0ludmVudG9yeSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnREaXJlY3Rvcnk6IE1hcDxzdHJpbmcsIEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlRGlyZWN0b3J5OiBNYXA8c3RyaW5nLCBJbnZlbnRvcnlSZWNvcmQ8UmVjaXBlPj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYWN0b3I6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKGFjdG9yKTtcclxuICAgICAgICB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IFtHYW1lU3lzdGVtVHlwZS5ETkQ1RV07XHJcbiAgICAgICAgdGhpcy5pbmRleCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5kZXgoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9hY3Rvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIEFjdG9yIHdhcyBzZXQgZm9yIHRoaXMgSW52ZW50b3J5IHRvIGluZGV4YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGl0ZW1zOiBhbnkgPSBBcnJheS5mcm9tKHRoaXMuX2FjdG9yLml0ZW1zLnZhbHVlcygpKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnREaXJlY3RvcnkuY2xlYXIoKTtcclxuICAgICAgICB0aGlzLl9yZWNpcGVEaXJlY3RvcnkuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FuZGlkYXRlSXRlbXM6IEl0ZW1bXSA9IGl0ZW1zLmZpbHRlcih0aGlzLnNob3VsZEluZGV4KFByb3BlcnRpZXMudHlwZXMuYWxsb3dhYmxlSXRlbXMpKTtcclxuICAgICAgICBjb25zdCB1bmlxdWVDb21wb25lbnRUeXBlczogc3RyaW5nW10gPSBjYW5kaWRhdGVJdGVtcy5tYXAoKGl0ZW06IEl0ZW0pID0+IGl0ZW0uZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLml0ZW0ucGFydElkKSlcclxuICAgICAgICAgICAgLmZpbHRlcigocGFydElkOiBzdHJpbmcsIGluZGV4OiBudW1iZXIsIHBhcnRJZHM6IHN0cmluZ1tdKSA9PiBwYXJ0SWRzLmluZGV4T2YocGFydElkKSA9PT0gaW5kZXgpO1xyXG5cclxuICAgICAgICB1bmlxdWVDb21wb25lbnRUeXBlcy5mb3JFYWNoKChwYXJ0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxGYWJyaWNhdGVJdGVtPiA9IGNhbmRpZGF0ZUl0ZW1zLmZpbHRlcigoY2FuZGlkYXRlSXRlbTogSXRlbSkgPT4gY2FuZGlkYXRlSXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5wYXJ0SWQpID09PSBwYXJ0SWQpXHJcbiAgICAgICAgICAgICAgICAubWFwKChpdGVtOiBJdGVtPEl0ZW1EYXRhNWU+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmFicmljYXRlSXRlbVR5cGUgPSBpdGVtLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5pdGVtLmZhYnJpY2F0ZUl0ZW1UeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5UmVjb3JkLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAud2l0aEl0ZW0oaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLndpdGhBY3Rvcih0aGlzLmFjdG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAud2l0aFRvdGFsUXVhbnRpdHkoaXRlbS5kYXRhLmRhdGEucXVhbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC53aXRoRmFicmljYXRlSXRlbVR5cGUoZmFicmljYXRlSXRlbVR5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC53aXRoRmFicmljYXRlSXRlbSh0aGlzLmxvb2tVcChpdGVtKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgobGVmdDogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+LCByaWdodDogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+KSA9PiBsZWZ0LmNvbWJpbmVXaXRoKHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlJdGVtVHlwZVRyZWF0bWVudChpbnZlbnRvcnlSZWNvcmQsXHJcbiAgICAgICAgICAgICAgICAocmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiB0aGlzLl9jb21wb25lbnREaXJlY3Rvcnkuc2V0KHBhcnRJZCwgcmVjb3JkKSxcclxuICAgICAgICAgICAgICAgIChyZWNvcmQ6IEludmVudG9yeVJlY29yZDxSZWNpcGU+KSA9PiB0aGlzLl9yZWNpcGVEaXJlY3Rvcnkuc2V0KHBhcnRJZCwgcmVjb3JkKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb29rVXAoaXRlbTogSXRlbSk6IEZhYnJpY2F0ZUl0ZW0ge1xyXG4gICAgICAgIGNvbnN0IHN5c3RlbUlkID0gaXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5zeXN0ZW1JZCk7XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW0gPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoc3lzdGVtSWQpO1xyXG4gICAgICAgIGlmICghY3JhZnRpbmdTeXN0ZW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9vayB1cCBjcmFmdGluZyBTeXN0ZW0gJyR7c3lzdGVtSWR9JyB3aGVuIGluZGV4aW5nIEl0ZW0gJyR7aXRlbS5faWR9Jy4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGl0ZW1UeXBlOiBGYWJyaWNhdGVJdGVtVHlwZSA9IGl0ZW0uZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLml0ZW0uZmFicmljYXRlSXRlbVR5cGUpO1xyXG4gICAgICAgIGNvbnN0IHBhcnRJZDogc3RyaW5nID0gaXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5wYXJ0SWQpO1xyXG4gICAgICAgIHN3aXRjaCAoaXRlbVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGYWJyaWNhdGVJdGVtVHlwZS5SRUNJUEU6XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNpcGU6IFJlY2lwZSA9IGNyYWZ0aW5nU3lzdGVtLmdldFJlY2lwZUJ5UGFydElkKHBhcnRJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjaXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY2lwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvb2sgdXAgUmVjaXBlIHdpdGggUGFydCBJRCAnJHtwYXJ0SWR9JyBmcm9tIENyYWZ0aW5nIFN5c3RlbSBcclxuICAgICAgICAgICAgICAgICAgICAnJHtjcmFmdGluZ1N5c3RlbS5jb21wZW5kaXVtUGFja0tleX0uICdgKTtcclxuICAgICAgICAgICAgY2FzZSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQ6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjcmFmdGluZ0NvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQgPSBjcmFmdGluZ1N5c3RlbS5nZXRDb21wb25lbnRCeVBhcnRJZChwYXJ0SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNyYWZ0aW5nQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9vayB1cCBDcmFmdGluZyBDb21wb25lbnQgd2l0aCBQYXJ0IElEICcke3BhcnRJZH0nIGZyb20gQ3JhZnRpbmcgU3lzdGVtIFxyXG4gICAgICAgICAgICAgICAgICAgICcke2NyYWZ0aW5nU3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5fS4gJ2ApO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgRmFicmljYXRlIEl0ZW0gVHlwZSBvZiAnJHtpdGVtVHlwZX0nIGZvciBJdGVtICcke2l0ZW0uX2lkfScuIFxyXG4gICAgICAgICAgICAgICAgICAgIFRoZSBhbGxvd2FibGUgdmFsdWVzIGFyZSAnQ09NUE9ORU5UJyBhbmQgJ1JFQ0lQRScuIGApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwbHlJdGVtVHlwZVRyZWF0bWVudChpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxGYWJyaWNhdGVJdGVtPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmFmdGluZ0NvbXBvbmVudENvbnN1bWVyOiBDcmFmdGluZ0NvbXBvbmVudENvbnN1bWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZUNvbnN1bWVyOiBSZWNpcGVDb25zdW1lcikge1xyXG4gICAgICAgIHN3aXRjaCAoaW52ZW50b3J5UmVjb3JkLmZhYnJpY2F0ZUl0ZW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UOlxyXG4gICAgICAgICAgICAgICAgY3JhZnRpbmdDb21wb25lbnRDb25zdW1lcig8SW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50Pj5pbnZlbnRvcnlSZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFOlxyXG4gICAgICAgICAgICAgICAgcmVjaXBlQ29uc3VtZXIoPEludmVudG9yeVJlY29yZDxSZWNpcGU+PmludmVudG9yeVJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIEZhYnJpY2F0ZSBJdGVtIFR5cGUgJyR7aW52ZW50b3J5UmVjb3JkLmZhYnJpY2F0ZUl0ZW1UeXBlfScgZm9yIEludmVudG9yeSBcclxuICAgICAgICAgICAgICAgICAgICBSZWNvcmQgJHtpbnZlbnRvcnlSZWNvcmQuZmFicmljYXRlSXRlbS5jb21wZW5kaXVtRW50cnl9LiBUaGUgYWxsb3dhYmxlIHZhbHVlcyBhcmUgJ0NPTVBPTkVOVCcgYW5kIFxyXG4gICAgICAgICAgICAgICAgICAgICdSRUNJUEUnLiBgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3VsZEluZGV4KGFsbG93YWJsZUl0ZW1zOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIHJldHVybiAoaXRlbTogSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWxsb3dhYmxlSXRlbXMuaW5kZXhPZihpdGVtLnR5cGUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBpdGVtLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5pdGVtLmZhYnJpY2F0ZUl0ZW1UeXBlKTtcclxuICAgICAgICAgICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVCB8fCB0eXBlID09PSBGYWJyaWNhdGVJdGVtVHlwZS5SRUNJUEU7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhZGRDb21wb25lbnQoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCwgYW1vdW50VG9BZGQ6IG51bWJlciA9IDEsIGN1c3RvbURhdGE/OiBhbnkpOiBQcm9taXNlPEludmVudG9yeU1vZGlmaWNhdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4+IHtcclxuICAgICAgICBpZiAoY3VzdG9tRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRDdXN0b21JdGVtKGNvbXBvbmVudCwgYW1vdW50VG9BZGQsIGN1c3RvbURhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWNvcmRGb3JUeXBlOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+ID0gdGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LmdldChjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICBpZiAoIXJlY29yZEZvclR5cGUpIHtcclxuICAgICAgICAgICAgY29uc3QgY29tcGVuZGl1bTogQ29tcGVuZGl1bSA9IGdhbWUucGFja3MuZ2V0KGNvbXBvbmVudC5zeXN0ZW1JZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW06IEVudGl0eTxJdGVtRGF0YTVlPiA9IGF3YWl0IGNvbXBlbmRpdW0uZ2V0RW50aXR5KGNvbXBvbmVudC5wYXJ0SWQpO1xyXG4gICAgICAgICAgICBpdGVtLmRhdGEuZGF0YS5xdWFudGl0eSA9IGFtb3VudFRvQWRkO1xyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkSXRlbTogSXRlbTxJdGVtRGF0YTVlPiA9IGF3YWl0IHRoaXMuX2FjdG9yLmNyZWF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCBpdGVtKTtcclxuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5UmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+ID0gSW52ZW50b3J5UmVjb3JkLmJ1aWxkZXI8Q3JhZnRpbmdDb21wb25lbnQ+KClcclxuICAgICAgICAgICAgICAgIC53aXRoQWN0b3IodGhpcy5fYWN0b3IpXHJcbiAgICAgICAgICAgICAgICAud2l0aEl0ZW0oY3JlYXRlZEl0ZW0pXHJcbiAgICAgICAgICAgICAgICAud2l0aFRvdGFsUXVhbnRpdHkoY3JlYXRlZEl0ZW0uZGF0YS5kYXRhLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgLndpdGhGYWJyaWNhdGVJdGVtKGNvbXBvbmVudClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnREaXJlY3Rvcnkuc2V0KGNvbXBvbmVudC5wYXJ0SWQsIGludmVudG9yeVJlY29yZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW52ZW50b3J5TW9kaWZpY2F0aW9uKFtjcmVhdGVkSXRlbV0sIEFjdGlvblR5cGUuQURELCBpbnZlbnRvcnlSZWNvcmQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlY29yZEZvclR5cGUuaXRlbXNPZlR5cGUuc29ydCgobGVmdDogSXRlbTxJdGVtRGF0YTVlPiwgcmlnaHQ6IEl0ZW08SXRlbURhdGE1ZT4pID0+IGxlZnQuZGF0YS5kYXRhLnF1YW50aXR5IC0gcmlnaHQuZGF0YS5kYXRhLnF1YW50aXR5KTtcclxuICAgICAgICAgICAgY29uc3QgaXRlbTogYW55ID0gcmVjb3JkRm9yVHlwZS5pdGVtc09mVHlwZVswXTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFF1YW50aXR5Rm9ySXRlbSA9IGl0ZW0uZGF0YS5kYXRhLnF1YW50aXR5ICsgYW1vdW50VG9BZGQ7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEl0ZW06IEl0ZW08SXRlbURhdGE1ZT4gPSBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCB7X2lkOiBpdGVtLmlkLCBkYXRhOiB7cXVhbnRpdHk6IHVwZGF0ZWRRdWFudGl0eUZvckl0ZW19fSk7XHJcbiAgICAgICAgICAgIHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSA9IHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSArIGFtb3VudFRvQWRkO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEludmVudG9yeU1vZGlmaWNhdGlvbihbdXBkYXRlZEl0ZW1dLCBBY3Rpb25UeXBlLkFERCwgcmVjb3JkRm9yVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgYWRkQ3VzdG9tSXRlbShjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBhbW91bnRUb0FkZDogbnVtYmVyLCBjdXN0b21EYXRhOiBJdGVtRGF0YTVlKTogUHJvbWlzZTxJbnZlbnRvcnlNb2RpZmljYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+PiB7XHJcbiAgICAgICAgY29uc3QgY29tcGVuZGl1bTogQ29tcGVuZGl1bSA9IGdhbWUucGFja3MuZ2V0KGNvbXBvbmVudC5zeXN0ZW1JZCk7XHJcbiAgICAgICAgY29uc3QgaXRlbTogRW50aXR5PEl0ZW1EYXRhNWU+ID0gYXdhaXQgY29tcGVuZGl1bS5nZXRFbnRpdHkoY29tcG9uZW50LnBhcnRJZCk7XHJcbiAgICAgICAgaXRlbS5kYXRhLmRhdGEucXVhbnRpdHkgPSBhbW91bnRUb0FkZDtcclxuICAgICAgICBjb25zdCBkYXRhOiBFbnRpdHkuRGF0YTxJdGVtRGF0YTVlPiA9IGR1cGxpY2F0ZShpdGVtLmRhdGEpO1xyXG4gICAgICAgIG1lcmdlT2JqZWN0KGRhdGEuZGF0YSwgY3VzdG9tRGF0YSk7XHJcbiAgICAgICAgY29uc3QgcmVjb3JkRm9yVHlwZTogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PiA9IHRoaXMuX2NvbXBvbmVudERpcmVjdG9yeS5nZXQoY29tcG9uZW50LnBhcnRJZCk7XHJcbiAgICAgICAgY29uc3QgY3JlYXRlZEl0ZW06IEl0ZW08SXRlbURhdGE1ZT4gPSBhd2FpdCB0aGlzLl9hY3Rvci5jcmVhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgZGF0YSk7XHJcbiAgICAgICAgaWYgKHJlY29yZEZvclR5cGUpIHtcclxuICAgICAgICAgICAgcmVjb3JkRm9yVHlwZS50b3RhbFF1YW50aXR5ID0gcmVjb3JkRm9yVHlwZS50b3RhbFF1YW50aXR5ICsgYW1vdW50VG9BZGQ7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW52ZW50b3J5TW9kaWZpY2F0aW9uKFtjcmVhdGVkSXRlbV0sIEFjdGlvblR5cGUuQURELCByZWNvcmRGb3JUeXBlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4gPSBJbnZlbnRvcnlSZWNvcmQuYnVpbGRlcjxDcmFmdGluZ0NvbXBvbmVudD4oKVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rvcih0aGlzLl9hY3RvcilcclxuICAgICAgICAgICAgICAgIC53aXRoSXRlbShjcmVhdGVkSXRlbSlcclxuICAgICAgICAgICAgICAgIC53aXRoVG90YWxRdWFudGl0eShjcmVhdGVkSXRlbS5kYXRhLmRhdGEucXVhbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAud2l0aEZhYnJpY2F0ZUl0ZW0oY29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudERpcmVjdG9yeS5zZXQoY29tcG9uZW50LnBhcnRJZCwgaW52ZW50b3J5UmVjb3JkKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZlbnRvcnlNb2RpZmljYXRpb24oW2NyZWF0ZWRJdGVtXSwgQWN0aW9uVHlwZS5BREQsIGludmVudG9yeVJlY29yZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb250ZW50cygpOiBJbnZlbnRvcnlSZWNvcmQ8RmFicmljYXRlSXRlbT5bXSB7XHJcbiAgICAgICAgY29uc3QgcmVjaXBlczogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+W10gPSB0aGlzLnJlY2lwZXM7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50czogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+W10gPSB0aGlzLmNvbXBvbmVudHM7XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZXMuY29uY2F0KGNvbXBvbmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZUNvbXBvbmVudChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBhbW91bnRUb1JlbW92ZTogbnVtYmVyID0gMSk6IFByb21pc2U8SW52ZW50b3J5TW9kaWZpY2F0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pj4ge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250YWluc0luZ3JlZGllbnQoSW5ncmVkaWVudC5idWlsZGVyKCkud2l0aFF1YW50aXR5KGFtb3VudFRvUmVtb3ZlKS53aXRoQ29tcG9uZW50KGNvbXBvbmVudCkuYnVpbGQoKSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgcmVtb3ZlICR7YW1vdW50VG9SZW1vdmV9ICR7Y29tcG9uZW50Lm5hbWV9IGZyb20gSW52ZW50b3J5IGZvciBBY3RvciAke3RoaXMuYWN0b3JJZH0gLSBcclxuICAgICAgICAgICAgICAgIHRoZXJlIGlzIG5vdCBlbm91Z2ggb2YgdGhlIGNvbXBvbmVudCBpbiB0aGVpciBpbnZlbnRvcnkhIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWNvcmRGb3JUeXBlOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+ID0gdGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LmdldChjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICByZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlID0gcmVjb3JkRm9yVHlwZS5pdGVtc09mVHlwZS5zb3J0KChsZWZ0OiBJdGVtPEl0ZW1EYXRhNWU+LCByaWdodDogSXRlbTxJdGVtRGF0YTVlPikgPT4gbGVmdC5kYXRhLmRhdGEucXVhbnRpdHkgLSByaWdodC5kYXRhLmRhdGEucXVhbnRpdHkpO1xyXG4gICAgICAgIGxldCByZW1vdmVkOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGxldCBjdXJyZW50SXRlbUluZGV4ID0gMDtcclxuICAgICAgICBjb25zdCBtb2RpZmllZEl0ZW1zOiBJdGVtPEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuICAgICAgICB3aGlsZSAocmVtb3ZlZCA8IGFtb3VudFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRoaXNJdGVtOiBhbnkgPSByZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlW2N1cnJlbnRJdGVtSW5kZXhdO1xyXG4gICAgICAgICAgICBtb2RpZmllZEl0ZW1zLnB1c2godGhpc0l0ZW0pO1xyXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmcgPSBhbW91bnRUb1JlbW92ZSAtIHJlbW92ZWQ7XHJcbiAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPCB0aGlzSXRlbS5kYXRhLmRhdGEucXVhbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRRdWFudGl0eSA9IHRoaXNJdGVtLmRhdGEuZGF0YS5xdWFudGl0eSAtIHJlbWFpbmluZztcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWN0b3IudXBkYXRlRW1iZWRkZWRFbnRpdHkoJ093bmVkSXRlbScsIHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IHRoaXNJdGVtLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtxdWFudGl0eTogdXBkYXRlZFF1YW50aXR5fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZWNvcmRGb3JUeXBlLnRvdGFsUXVhbnRpdHkgPSB1cGRhdGVkUXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVkICs9IGFtb3VudFRvUmVtb3ZlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYW1vdW50UmVtb3ZlZDogbnVtYmVyID0gdGhpc0l0ZW0uZGF0YS5kYXRhLnF1YW50aXR5O1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5kZWxldGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgdGhpc0l0ZW0uaWQpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZCArPSBhbW91bnRSZW1vdmVkO1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkRm9yVHlwZS50b3RhbFF1YW50aXR5ID0gcmVjb3JkRm9yVHlwZS50b3RhbFF1YW50aXR5IC0gYW1vdW50UmVtb3ZlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXJyZW50SXRlbUluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0l0ZW1zOiBJdGVtW10gPSByZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlLmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLmRhdGEuZGF0YS5xdWFudGl0eSA+IDApO1xyXG4gICAgICAgIHJlY29yZEZvclR5cGUuaXRlbXNPZlR5cGUgPSByZW1haW5pbmdJdGVtcztcclxuICAgICAgICBpZiAocmVtYWluaW5nSXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBvbmVudERpcmVjdG9yeS5kZWxldGUoY29tcG9uZW50LnBhcnRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgSW52ZW50b3J5TW9kaWZpY2F0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pihtb2RpZmllZEl0ZW1zLCBBY3Rpb25UeXBlLlJFTU9WRSwgcmVjb3JkRm9yVHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZVF1YW50aXR5Rm9yKGl0ZW06IEl0ZW0uRGF0YTxJdGVtRGF0YTVlPik6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB1cGRhdGUgSW52ZW50b3J5IHF1YW50aXR5IGZvciBudWxsIEl0ZW0uICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmYWJyaWNhdGVGbGFnczogRmFicmljYXRlQ29tcGVuZGl1bURhdGEgPSBpdGVtLmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICBpZiAoIWZhYnJpY2F0ZUZsYWdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gTm90IGEgRmFicmljYXRlIEl0ZW1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFydElkOiBzdHJpbmcgPSBmYWJyaWNhdGVGbGFncy5pZGVudGl0eS5wYXJ0SWQ7XHJcbiAgICAgICAgaWYgKCFwYXJ0SWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gdXBkYXRlIEludmVudG9yeSBxdWFudGl0eSBmb3IgSXRlbSAke2l0ZW0uX2lkfSB3aXRoIG5vIEZhYnJpY2F0ZSBQYXJ0IElEIHNldCBpbiBmbGFnIGRhdGEuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW52ZW50b3J5UmVjb3JkRm9yVHlwZTogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+O1xyXG4gICAgICAgIGlmIChmYWJyaWNhdGVGbGFncy50eXBlID09PSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQpIHtcclxuICAgICAgICAgICAgaW52ZW50b3J5UmVjb3JkRm9yVHlwZSA9IHRoaXMuX2NvbXBvbmVudERpcmVjdG9yeS5nZXQocGFydElkKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZhYnJpY2F0ZUZsYWdzLnR5cGUgPT09IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSkge1xyXG4gICAgICAgICAgICBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlID0gdGhpcy5fcmVjaXBlRGlyZWN0b3J5LmdldChwYXJ0SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWludmVudG9yeVJlY29yZEZvclR5cGUpIHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnZlbnRvcnlSZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlLnRvdGFsUXVhbnRpdHkgPSBpdGVtLmRhdGEucXVhbnRpdHk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB0b3RhbEV4Y2x1ZGluZ0NoYW5nZWQgPSBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlLmZpbHRlcigobWFuYWdlZEl0ZW06IEl0ZW08SXRlbURhdGE1ZT4pID0+IG1hbmFnZWRJdGVtLmlkICE9PSBpdGVtLl9pZClcclxuICAgICAgICAgICAgLm1hcCgobWFuYWdlZEl0ZW06IGFueSkgPT4gbWFuYWdlZEl0ZW0uZGF0YS5kYXRhLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0LCByaWdodCkgPT4gbGVmdCArIHJpZ2h0LCAwKTtcclxuICAgICAgICBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlLnRvdGFsUXVhbnRpdHkgPSB0b3RhbEV4Y2x1ZGluZ0NoYW5nZWQgKyBpdGVtLmRhdGEucXVhbnRpdHk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlbm9ybWFsaXplZENvbnRhaW5lZENvbXBvbmVudHMoKTogQ3JhZnRpbmdDb21wb25lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LnZhbHVlcygpKS5tYXAoKHJlY29yZDogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkZW5vcm1hbGl6ZWRDb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVjb3JkLnRvdGFsUXVhbnRpdHk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgZGVub3JtYWxpemVkQ29tcG9uZW50cy5wdXNoKENyYWZ0aW5nQ29tcG9uZW50LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoTmFtZShyZWNvcmQuZmFicmljYXRlSXRlbS5uYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoRXNzZW5jZXMocmVjb3JkLmZhYnJpY2F0ZUl0ZW0uZXNzZW5jZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhQYXJ0SWQocmVjb3JkLmZhYnJpY2F0ZUl0ZW0ucGFydElkKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoU3lzdGVtSWQocmVjb3JkLmZhYnJpY2F0ZUl0ZW0uc3lzdGVtSWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhJbWFnZVVybChyZWNvcmQuZmFicmljYXRlSXRlbS5pbWFnZVVybClcclxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGRlbm9ybWFsaXplZENvbXBvbmVudHM7XHJcbiAgICAgICAgfSkucmVkdWNlKChsZWZ0OiBDcmFmdGluZ0NvbXBvbmVudFtdLCByaWdodDogQ3JhZnRpbmdDb21wb25lbnRbXSkgPT4gbGVmdC5jb25jYXQocmlnaHQpLCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuaW5kZXgoKVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD5bXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVjaXBlcygpOiBJbnZlbnRvcnlSZWNvcmQ8UmVjaXBlPltdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9yZWNpcGVEaXJlY3RvcnkudmFsdWVzKCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0ludmVudG9yeTVFfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/Inventory5E.ts\n");

/***/ }),

/***/ "./src/scripts/game/CompendiumData.ts":
/*!********************************************!*\
  !*** ./src/scripts/game/CompendiumData.ts ***!
  \********************************************/
/*! exports provided: FabricateItemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateItemType\", function() { return FabricateItemType; });\nvar FabricateItemType;\r\n(function (FabricateItemType) {\r\n    FabricateItemType[\"RECIPE\"] = \"RECIPE\";\r\n    FabricateItemType[\"COMPONENT\"] = \"COMPONENT\";\r\n})(FabricateItemType || (FabricateItemType = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0NvbXBlbmRpdW1EYXRhLnRzPzBlMTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBLElBQUssaUJBR0o7QUFIRCxXQUFLLGlCQUFpQjtJQUNsQixzQ0FBaUI7SUFDakIsNENBQXVCO0FBQzNCLENBQUMsRUFISSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBR3JCO0FBa0M0SSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2dhbWUvQ29tcGVuZGl1bURhdGEudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuLi9jb3JlL0FjdGlvblR5cGVcIjtcclxuXHJcbmVudW0gRmFicmljYXRlSXRlbVR5cGUge1xyXG4gICAgUkVDSVBFID0gJ1JFQ0lQRScsXHJcbiAgICBDT01QT05FTlQgPSAnQ09NUE9ORU5UJ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGVuZGl1bUVudHJ5IHtcclxuICAgIHN5c3RlbUlkOiBzdHJpbmc7XHJcbiAgICBwYXJ0SWQ6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZUNvbXBvbmVudEZsYWdzIHtcclxuICAgIGVzc2VuY2VzOiBzdHJpbmdbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZUluZ3JlZGllbnRGbGFncyB7XHJcbiAgICBxdWFudGl0eTogbnVtYmVyLFxyXG4gICAgY29uc3VtZWQ6IGJvb2xlYW4sXHJcbiAgICBwYXJ0SWQ6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZVJlc3VsdEZsYWdzIHtcclxuICAgIGFjdGlvbjogQWN0aW9uVHlwZSxcclxuICAgIHBhcnRJZDogc3RyaW5nLFxyXG4gICAgcXVhbnRpdHk6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgRmFicmljYXRlQ29tcGVuZGl1bURhdGEge1xyXG4gICAgdHlwZTogRmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICBpZGVudGl0eTogQ29tcGVuZGl1bUVudHJ5O1xyXG4gICAgcmVjaXBlPzoge1xyXG4gICAgICAgIGVzc2VuY2VzOiBzdHJpbmdbXSxcclxuICAgICAgICBpbmdyZWRpZW50czogRmFicmljYXRlSW5ncmVkaWVudEZsYWdzW10sXHJcbiAgICAgICAgcmVzdWx0czogRmFicmljYXRlUmVzdWx0RmxhZ3NbXVxyXG4gICAgfTtcclxuICAgIGNvbXBvbmVudD86IEZhYnJpY2F0ZUNvbXBvbmVudEZsYWdzO1xyXG59XHJcblxyXG5leHBvcnQge0ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBGYWJyaWNhdGVJdGVtVHlwZSwgRmFicmljYXRlSW5ncmVkaWVudEZsYWdzLCBGYWJyaWNhdGVSZXN1bHRGbGFncywgRmFicmljYXRlQ29tcG9uZW50RmxhZ3MsIENvbXBlbmRpdW1FbnRyeX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/game/CompendiumData.ts\n");

/***/ }),

/***/ "./src/scripts/game/CraftingInventory.ts":
/*!***********************************************!*\
  !*** ./src/scripts/game/CraftingInventory.ts ***!
  \***********************************************/
/*! exports provided: CraftingInventory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingInventory\", function() { return CraftingInventory; });\nclass CraftingInventory {\r\n    constructor(actor) {\r\n        this._actor = actor;\r\n        this._supportedGameSystems = [];\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get actorId() {\r\n        return this._actor.id;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get size() {\r\n        return this.contents.length;\r\n    }\r\n    supportsGameSystem(gameSystem) {\r\n        return this._supportedGameSystems.some((supported) => supported === gameSystem);\r\n    }\r\n    containsIngredient(ingredient) {\r\n        const quantity = this.components.filter((candidate) => candidate.fabricateItem.sharesType(ingredient))\r\n            .map((candidate) => candidate.totalQuantity)\r\n            .reduce((left, right) => left + right, 0);\r\n        return ingredient.quantity <= quantity;\r\n    }\r\n    hasAllComponents(components) {\r\n        const componentCountById = new Map();\r\n        components.forEach((component) => {\r\n            if (componentCountById.has(component.partId)) {\r\n                const currentCount = componentCountById.get(component.partId);\r\n                componentCountById.set(component.partId, currentCount + 1);\r\n            }\r\n            else {\r\n                componentCountById.set(component.partId, 1);\r\n            }\r\n        });\r\n        componentCountById.forEach((amountRequired, partId) => {\r\n            const inventoryRecordForType = this.components.find((record) => record.fabricateItem.partId === partId);\r\n            if (!inventoryRecordForType || inventoryRecordForType.totalQuantity < amountRequired) {\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    hasAllIngredientsFor(recipe) {\r\n        return this.hasAllNamedIngredients(recipe) && this.hasAllEssences(recipe);\r\n    }\r\n    hasAllEssences(recipe) {\r\n        const outstandingEssencesByType = new Map();\r\n        if (!recipe.essences || recipe.essences.length === 0) {\r\n            return true;\r\n        }\r\n        recipe.essences.forEach((essence) => {\r\n            if (outstandingEssencesByType.has(essence)) {\r\n                outstandingEssencesByType.set(essence, outstandingEssencesByType.get(essence) + 1);\r\n            }\r\n            else {\r\n                outstandingEssencesByType.set(essence, 1);\r\n            }\r\n        });\r\n        for (let i = 0; i < this.components.length; i++) {\r\n            const thisRecord = this.components[i];\r\n            if (thisRecord.fabricateItem.essences) {\r\n                thisRecord.fabricateItem.essences.forEach((essence) => {\r\n                    if (outstandingEssencesByType.has(essence)) {\r\n                        const remaining = outstandingEssencesByType.get(essence);\r\n                        const contribution = thisRecord.totalQuantity;\r\n                        if (remaining <= contribution) {\r\n                            outstandingEssencesByType.delete(essence);\r\n                        }\r\n                        else {\r\n                            outstandingEssencesByType.set(essence, remaining - contribution);\r\n                        }\r\n                    }\r\n                });\r\n                if (outstandingEssencesByType.size === 0) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    hasAllNamedIngredients(recipe) {\r\n        const ingredientsByType = new Map();\r\n        let failedToFind = false;\r\n        let duplicatedIngredient = false;\r\n        recipe.ingredients.forEach((ingredient) => {\r\n            const present = this.containsIngredient(ingredient);\r\n            if (!present) {\r\n                failedToFind = true;\r\n                return;\r\n            }\r\n            const occurrences = ingredientsByType.get(ingredient.component.partId) + 1;\r\n            ingredientsByType.set(ingredient.component.partId, occurrences);\r\n            if (occurrences > 1) {\r\n                duplicatedIngredient = true;\r\n            }\r\n        });\r\n        if (duplicatedIngredient) {\r\n            throw new Error(`One or more ingredients were duplicated in a call to CraftingInventory.containsMany(ingredients: Ingredient[]). \r\n            Recipe[name='${recipe.name}',id='${recipe.partId}'] seems to be mis-configured! Recipes should be specified as \r\n            Ingredient[Mud, 2], not [Ingredient[Mud, 1], Ingredient[Mud 1]]. `);\r\n        }\r\n        return !failedToFind;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0NyYWZ0aW5nSW52ZW50b3J5LnRzP2Q3N2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUE7QUFBQTtBQUFBLE1BQWUsaUJBQWlCO0lBSzVCLFlBQXNCLEtBQVk7UUFDOUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLG9CQUFvQjtRQUNwQixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN0QyxDQUFDO0lBUUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNoQyxDQUFDO0lBRU0sa0JBQWtCLENBQUMsVUFBMEI7UUFDaEQsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBeUIsRUFBRSxFQUFFLENBQUMsU0FBUyxLQUFLLFVBQVUsQ0FBQyxDQUFDO0lBQ3BHLENBQUM7SUFJRCxrQkFBa0IsQ0FBQyxVQUFzQjtRQUNyQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQTZDLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3JJLEdBQUcsQ0FBQyxDQUFDLFNBQXlDLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUM7YUFDM0UsTUFBTSxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMs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TUFBTSxDQUFDLE1BQU07OEVBQ2tCLENBQUMsQ0FBQztTQUN2RTtRQUNELE9BQU8sQ0FBQyxZQUFZLENBQUM7SUFDekIsQ0FBQztDQVVKO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvZ2FtZS9DcmFmdGluZ0ludmVudG9yeS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW52ZW50b3J5LCBJbnZlbnRvcnlNb2RpZmljYXRpb259IGZyb20gXCIuL0ludmVudG9yeVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZH0gZnJvbSBcIi4vSW52ZW50b3J5UmVjb3JkXCI7XHJcbmltcG9ydCB7R2FtZVN5c3RlbVR5cGV9IGZyb20gXCIuLi9jb3JlL0dhbWVTeXN0ZW1UeXBlXCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4uL2NvcmUvSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4uL2NvcmUvUmVjaXBlXCI7XHJcbmltcG9ydCB7RmFicmljYXRlSXRlbX0gZnJvbSBcIi4uL2NvcmUvRmFicmljYXRlSXRlbVwiO1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgQ3JhZnRpbmdJbnZlbnRvcnkgaW1wbGVtZW50cyBJbnZlbnRvcnkge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfYWN0b3I6IGFueTtcclxuICAgIHByb3RlY3RlZCBfc3VwcG9ydGVkR2FtZVN5c3RlbXM6IEdhbWVTeXN0ZW1UeXBlW107XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGFjdG9yOiBBY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2FjdG9yID0gYWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0b3IoKTogQWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0b3JJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rvci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3VwcG9ydGVkR2FtZVN5c3RlbXMoKTogR2FtZVN5c3RlbVR5cGVbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGdldCBjb250ZW50cygpOiBJbnZlbnRvcnlSZWNvcmQ8RmFicmljYXRlSXRlbT5bXTtcclxuXHJcbiAgICBhYnN0cmFjdCBnZXQgY29tcG9uZW50cygpOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+W107XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0IHJlY2lwZXMoKTogSW52ZW50b3J5UmVjb3JkPFJlY2lwZT5bXTtcclxuXHJcbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3VwcG9ydHNHYW1lU3lzdGVtKGdhbWVTeXN0ZW06IEdhbWVTeXN0ZW1UeXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zLnNvbWUoKHN1cHBvcnRlZDogR2FtZVN5c3RlbVR5cGUpID0+IHN1cHBvcnRlZCA9PT0gZ2FtZVN5c3RlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGFkZENvbXBvbmVudChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBxdWFudGl0eT86IG51bWJlcik6IFByb21pc2U8SW52ZW50b3J5TW9kaWZpY2F0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pj47XHJcblxyXG4gICAgY29udGFpbnNJbmdyZWRpZW50KGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBxdWFudGl0eSA9IHRoaXMuY29tcG9uZW50cy5maWx0ZXIoKGNhbmRpZGF0ZTogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PikgPT4gY2FuZGlkYXRlLmZhYnJpY2F0ZUl0ZW0uc2hhcmVzVHlwZShpbmdyZWRpZW50KSlcclxuICAgICAgICAgICAgLm1hcCgoY2FuZGlkYXRlOiBJbnZlbnRvcnlSZWNvcmQ8RmFicmljYXRlSXRlbT4pID0+IGNhbmRpZGF0ZS50b3RhbFF1YW50aXR5KVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0LCByaWdodCkgPT4gbGVmdCArIHJpZ2h0LCAwKTtcclxuICAgICAgICByZXR1cm4gaW5ncmVkaWVudC5xdWFudGl0eSA8PSBxdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBoYXNBbGxDb21wb25lbnRzKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRDb3VudEJ5SWQ6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50Q291bnRCeUlkLmhhcyhjb21wb25lbnQucGFydElkKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gY29tcG9uZW50Q291bnRCeUlkLmdldChjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudENvdW50QnlJZC5zZXQoY29tcG9uZW50LnBhcnRJZCwgY3VycmVudENvdW50ICsgMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDb3VudEJ5SWQuc2V0KGNvbXBvbmVudC5wYXJ0SWQsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29tcG9uZW50Q291bnRCeUlkLmZvckVhY2goKGFtb3VudFJlcXVpcmVkOiBudW1iZXIsIHBhcnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeVJlY29yZEZvclR5cGUgPSB0aGlzLmNvbXBvbmVudHMuZmluZCgocmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiByZWNvcmQuZmFicmljYXRlSXRlbS5wYXJ0SWQgPT09IHBhcnRJZCk7XHJcbiAgICAgICAgICAgIGlmICghaW52ZW50b3J5UmVjb3JkRm9yVHlwZSB8fCBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlLnRvdGFsUXVhbnRpdHkgPCBhbW91bnRSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaGFzQWxsSW5ncmVkaWVudHNGb3IocmVjaXBlOiBSZWNpcGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNBbGxOYW1lZEluZ3JlZGllbnRzKHJlY2lwZSkgJiYgdGhpcy5oYXNBbGxFc3NlbmNlcyhyZWNpcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFzQWxsRXNzZW5jZXMocmVjaXBlOiBSZWNpcGUpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICAgICAgICBpZiAoIXJlY2lwZS5lc3NlbmNlcyB8fCByZWNpcGUuZXNzZW5jZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWNpcGUuZXNzZW5jZXMuZm9yRWFjaCgoZXNzZW5jZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLmhhcyhlc3NlbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgb3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZS5zZXQoZXNzZW5jZSwgb3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZS5nZXQoZXNzZW5jZSkgKyAxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nRXNzZW5jZXNCeVR5cGUuc2V0KGVzc2VuY2UsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbXBvbmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdGhpc1JlY29yZDogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PiA9IHRoaXMuY29tcG9uZW50c1tpXTtcclxuICAgICAgICAgICAgaWYgKHRoaXNSZWNvcmQuZmFicmljYXRlSXRlbS5lc3NlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgdGhpc1JlY29yZC5mYWJyaWNhdGVJdGVtLmVzc2VuY2VzLmZvckVhY2goKGVzc2VuY2U6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLmhhcyhlc3NlbmNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZW1haW5pbmc6IG51bWJlciA9IG91dHN0YW5kaW5nRXNzZW5jZXNCeVR5cGUuZ2V0KGVzc2VuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cmlidXRpb24gPSB0aGlzUmVjb3JkLnRvdGFsUXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW5pbmcgPD0gY29udHJpYnV0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLmRlbGV0ZShlc3NlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nRXNzZW5jZXNCeVR5cGUuc2V0KGVzc2VuY2UsIHJlbWFpbmluZyAtIGNvbnRyaWJ1dGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYXNBbGxOYW1lZEluZ3JlZGllbnRzKHJlY2lwZTogUmVjaXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgaW5ncmVkaWVudHNCeVR5cGUgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xyXG4gICAgICAgIGxldCBmYWlsZWRUb0ZpbmQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICBsZXQgZHVwbGljYXRlZEluZ3JlZGllbnQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICByZWNpcGUuaW5ncmVkaWVudHMuZm9yRWFjaCgoaW5ncmVkaWVudDogSW5ncmVkaWVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVzZW50OiBib29sZWFuID0gdGhpcy5jb250YWluc0luZ3JlZGllbnQoaW5ncmVkaWVudCk7XHJcbiAgICAgICAgICAgIGlmICghcHJlc2VudCkge1xyXG4gICAgICAgICAgICAgICAgZmFpbGVkVG9GaW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvY2N1cnJlbmNlcyA9IGluZ3JlZGllbnRzQnlUeXBlLmdldChpbmdyZWRpZW50LmNvbXBvbmVudC5wYXJ0SWQpICsgMTtcclxuICAgICAgICAgICAgaW5ncmVkaWVudHNCeVR5cGUuc2V0KGluZ3JlZGllbnQuY29tcG9uZW50LnBhcnRJZCwgb2NjdXJyZW5jZXMpO1xyXG4gICAgICAgICAgICBpZiAob2NjdXJyZW5jZXMgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVkSW5ncmVkaWVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZHVwbGljYXRlZEluZ3JlZGllbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPbmUgb3IgbW9yZSBpbmdyZWRpZW50cyB3ZXJlIGR1cGxpY2F0ZWQgaW4gYSBjYWxsIHRvIENyYWZ0aW5nSW52ZW50b3J5LmNvbnRhaW5zTWFueShpbmdyZWRpZW50czogSW5ncmVkaWVudFtdKS4gXHJcbiAgICAgICAgICAgIFJlY2lwZVtuYW1lPScke3JlY2lwZS5uYW1lfScsaWQ9JyR7cmVjaXBlLnBhcnRJZH0nXSBzZWVtcyB0byBiZSBtaXMtY29uZmlndXJlZCEgUmVjaXBlcyBzaG91bGQgYmUgc3BlY2lmaWVkIGFzIFxyXG4gICAgICAgICAgICBJbmdyZWRpZW50W011ZCwgMl0sIG5vdCBbSW5ncmVkaWVudFtNdWQsIDFdLCBJbmdyZWRpZW50W011ZCAxXV0uIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIWZhaWxlZFRvRmluZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIHF1YW50aXR5PzogbnVtYmVyKTogUHJvbWlzZTxJbnZlbnRvcnlNb2RpZmljYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+PjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZVF1YW50aXR5Rm9yKGl0ZW06IGFueSk6IFByb21pc2U8Ym9vbGVhbj47XHJcblxyXG4gICAgYWJzdHJhY3QgZGVub3JtYWxpemVkQ29udGFpbmVkQ29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0ludmVudG9yeX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/game/CraftingInventory.ts\n");

/***/ }),

/***/ "./src/scripts/game/Inventory.ts":
/*!***************************************!*\
  !*** ./src/scripts/game/Inventory.ts ***!
  \***************************************/
/*! exports provided: InventoryModification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryModification\", function() { return InventoryModification; });\nclass InventoryModification {\r\n    constructor(changedItems, action, updatedRecord) {\r\n        this._changedItems = changedItems;\r\n        this._action = action;\r\n        this._updatedRecord = updatedRecord;\r\n    }\r\n    get changedItems() {\r\n        return this._changedItems;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    get updatedRecord() {\r\n        return this._updatedRecord;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0ludmVudG9yeS50cz8xYTVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVFBO0FBQUE7QUFBQSxNQUFNLHFCQUFxQjtJQUt2QixZQUFZLFlBQW9CLEVBQUUsTUFBa0IsRUFBRSxhQUFpQztRQUNuRixJQUFJLENBQUMsYUFBYSxHQUFHLFlBQVksQ0FBQztRQUNsQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBSSxZQUFZO1FBQ1osT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUMvQixDQUFDO0NBQ0o7QUFvQndDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvZ2FtZS9JbnZlbnRvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0dhbWVTeXN0ZW1UeXBlfSBmcm9tIFwiLi4vY29yZS9HYW1lU3lzdGVtVHlwZVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZH0gZnJvbSBcIi4vSW52ZW50b3J5UmVjb3JkXCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4uL2NvcmUvSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4uL2NvcmUvUmVjaXBlXCI7XHJcbmltcG9ydCB7RmFicmljYXRlSXRlbX0gZnJvbSBcIi4uL2NvcmUvRmFicmljYXRlSXRlbVwiO1xyXG5pbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuLi9jb3JlL0FjdGlvblR5cGVcIjtcclxuXHJcbmNsYXNzIEludmVudG9yeU1vZGlmaWNhdGlvbjxUIGV4dGVuZHMgRmFicmljYXRlSXRlbT4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY2hhbmdlZEl0ZW1zOiBJdGVtW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3Rpb246IEFjdGlvblR5cGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF91cGRhdGVkUmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8VD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY2hhbmdlZEl0ZW1zOiBJdGVtW10sIGFjdGlvbjogQWN0aW9uVHlwZSwgdXBkYXRlZFJlY29yZDogSW52ZW50b3J5UmVjb3JkPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5fY2hhbmdlZEl0ZW1zID0gY2hhbmdlZEl0ZW1zO1xyXG4gICAgICAgIHRoaXMuX2FjdGlvbiA9IGFjdGlvbjtcclxuICAgICAgICB0aGlzLl91cGRhdGVkUmVjb3JkID0gdXBkYXRlZFJlY29yZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hhbmdlZEl0ZW1zKCk6IEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYW5nZWRJdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aW9uKCk6IEFjdGlvblR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVwZGF0ZWRSZWNvcmQoKTogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlZFJlY29yZDtcclxuICAgIH1cclxufVxyXG5cclxuaW50ZXJmYWNlIEludmVudG9yeSB7XHJcbiAgICBhY3RvcjogQWN0b3I7XHJcbiAgICBzdXBwb3J0ZWRHYW1lU3lzdGVtczogR2FtZVN5c3RlbVR5cGVbXTtcclxuICAgIGNvbnRlbnRzOiBJbnZlbnRvcnlSZWNvcmQ8RmFicmljYXRlSXRlbT5bXTtcclxuICAgIGNvbXBvbmVudHM6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD5bXTtcclxuICAgIHJlY2lwZXM6IEludmVudG9yeVJlY29yZDxSZWNpcGU+W107XHJcbiAgICBzaXplOiBudW1iZXI7XHJcbiAgICBzdXBwb3J0c0dhbWVTeXN0ZW0oZ2FtZVN5c3RlbTogR2FtZVN5c3RlbVR5cGUpOiBib29sZWFuO1xyXG4gICAgY29udGFpbnNJbmdyZWRpZW50KGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpOiBib29sZWFuO1xyXG4gICAgZGVub3JtYWxpemVkQ29udGFpbmVkQ29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdO1xyXG4gICAgaGFzQWxsSW5ncmVkaWVudHNGb3IocmVjaXBlOiBSZWNpcGUpOiBib29sZWFuO1xyXG4gICAgYWRkQ29tcG9uZW50KGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIHF1YW50aXR5PzogbnVtYmVyLCBjdXN0b21EYXRhPzogYW55KTogUHJvbWlzZTxJbnZlbnRvcnlNb2RpZmljYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+PjtcclxuICAgIHJlbW92ZUNvbXBvbmVudChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBxdWFudGl0eT86IG51bWJlcik6IFByb21pc2U8SW52ZW50b3J5TW9kaWZpY2F0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pj47XHJcbiAgICB1cGRhdGUoKTogdm9pZDtcclxuICAgIGhhc0FsbENvbXBvbmVudHMoY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSk6IGJvb2xlYW47XHJcbiAgICB1cGRhdGVRdWFudGl0eUZvcihpdGVtOiBhbnkpOiBQcm9taXNlPGJvb2xlYW4+O1xyXG59XHJcblxyXG5leHBvcnQge0ludmVudG9yeSwgSW52ZW50b3J5TW9kaWZpY2F0aW9ufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/game/Inventory.ts\n");

/***/ }),

/***/ "./src/scripts/game/InventoryRecord.ts":
/*!*********************************************!*\
  !*** ./src/scripts/game/InventoryRecord.ts ***!
  \*********************************************/
/*! exports provided: InventoryRecord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRecord\", function() { return InventoryRecord; });\nclass InventoryRecord {\r\n    constructor(builder) {\r\n        this._actor = builder.actor;\r\n        this._itemsOfType = builder.itemsOfType;\r\n        this._totalQuantity = builder.totalQuantity;\r\n        this._fabricateItem = builder.fabricateItem;\r\n        this._fabricateItemType = builder.fabricateItemType;\r\n    }\r\n    static builder() {\r\n        return new InventoryRecord.Builder();\r\n    }\r\n    combineWith(other) {\r\n        if (!this.fabricateItem.sharesType(other.fabricateItem)) {\r\n            throw new Error(`Unable to combine Inventory Records for different Fabricate Item types: ${this.fabricateItem.partId} | ${other.fabricateItem.partId}`);\r\n        }\r\n        if (this.actor.id !== other.actor.id) {\r\n            throw new Error(`Unable to combine inventory records from different Actors: ${this.actor.id} | ${other.actor.id}`);\r\n        }\r\n        return InventoryRecord.builder()\r\n            .withFabricateItem(this.fabricateItem)\r\n            .withFabricateItemType(this.fabricateItemType)\r\n            .withActor(this.actor)\r\n            .withItems(this.itemsOfType)\r\n            .withItems(other.itemsOfType)\r\n            .withTotalQuantity(this.totalQuantity + other.totalQuantity)\r\n            .build();\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get itemsOfType() {\r\n        return this._itemsOfType;\r\n    }\r\n    set itemsOfType(value) {\r\n        this._itemsOfType = value;\r\n    }\r\n    get totalQuantity() {\r\n        return this._totalQuantity;\r\n    }\r\n    set totalQuantity(value) {\r\n        this._totalQuantity = value;\r\n    }\r\n    get fabricateItem() {\r\n        return this._fabricateItem;\r\n    }\r\n    get fabricateItemType() {\r\n        return this._fabricateItemType;\r\n    }\r\n}\r\n(function (InventoryRecord) {\r\n    class Builder {\r\n        constructor() {\r\n            this.itemsOfType = [];\r\n        }\r\n        withActor(value) {\r\n            this.actor = value;\r\n            return this;\r\n        }\r\n        withItem(value) {\r\n            this.itemsOfType.push(value);\r\n            return this;\r\n        }\r\n        withItems(value) {\r\n            this.itemsOfType.push(...value);\r\n            return this;\r\n        }\r\n        withFabricateItem(value) {\r\n            this.fabricateItem = value;\r\n            return this;\r\n        }\r\n        withTotalQuantity(value) {\r\n            this.totalQuantity = value;\r\n            return this;\r\n        }\r\n        withFabricateItemType(value) {\r\n            this.fabricateItemType = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new InventoryRecord(this);\r\n        }\r\n    }\r\n    InventoryRecord.Builder = Builder;\r\n})(InventoryRecord || (InventoryRecord = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0ludmVudG9yeVJlY29yZC50cz9lZDA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0FBQUE7QUFBQSxNQUFNLGVBQWU7SUFPakIsWUFBWSxPQUFtQztRQUMzQyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztRQUM1QyxJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFDNUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztJQUN4RCxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGVBQWUsQ0FBQyxPQUFPLEVBQUssQ0FBQztJQUM1QyxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQXlCO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFDckQsTUFBTSxJQUFJLEtBQUssQ0FBQywyRUFBMkUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLE1BQU0sS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1NBQzNKO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRTtZQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLDhEQUE4RCxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDdEg7UUFDRCxPQUFPLGVBQWUsQ0FBQyxPQUFPLEVBQUs7YUFDOUIsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQzthQUNyQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUM7YUFDN0MsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7YUFDckIsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7YUFDM0IsU0FBUyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUM7YUFDNUIsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDO2FBQzNELEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDTCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQUksV0FBVztRQUNYLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQztJQUM3QixDQUFDO0lBRUQsSUFBSSxXQUFXLENBQUMsS0FBYTtRQUN6QixJQUFJLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLGFBQWEsQ0FBQyxLQUFhO1FBQzNCLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDYixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDL0IsQ0FBQztJQUVELElBQUksaUJBQWlCO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ25DLENBQUM7Q0FDSjtBQUVELFdBQVUsZUFBZTtJQUNyQixNQUFhLE9BQU87UUFBcEI7WUFFVyxnQkFBVyxHQUFXLEVBQUUsQ0FBQztRQXVDcEMsQ0FBQztRQWxDVSxTQUFTLENBQUMsS0FBWTtZQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNuQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sUUFBUSxDQUFDLEtBQVc7WUFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDN0IsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFNBQVMsQ0FBQyxLQUFhO1lBQzFCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDaEMsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGlCQUFpQixDQUFDLEtBQVE7WUFDN0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7WUFDM0IsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGlCQUFpQixDQUFDLEtBQWE7WUFDbEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUM7WUFDM0IsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHFCQUFxQixDQUFDLEtBQXdCO1lBQ2pELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUM7WUFDL0IsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JDLENBQUM7S0FFSjtJQXpDWSx1QkFBTyxVQXlDbkI7QUFDTCxDQUFDLEVBM0NTLGVBQWUsS0FBZixlQUFlLFFBMkN4QjtBQUV1QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2dhbWUvSW52ZW50b3J5UmVjb3JkLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vQ29tcGVuZGl1bURhdGFcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVJdGVtfSBmcm9tIFwiLi4vY29yZS9GYWJyaWNhdGVJdGVtXCI7XHJcblxyXG5jbGFzcyBJbnZlbnRvcnlSZWNvcmQ8VCBleHRlbmRzIEZhYnJpY2F0ZUl0ZW0+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FjdG9yOiBBY3RvcjtcclxuICAgIHByaXZhdGUgX2l0ZW1zT2ZUeXBlOiBJdGVtW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mYWJyaWNhdGVJdGVtOiBUO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZmFicmljYXRlSXRlbVR5cGU6IEZhYnJpY2F0ZUl0ZW1UeXBlO1xyXG4gICAgcHJpdmF0ZSBfdG90YWxRdWFudGl0eTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IEludmVudG9yeVJlY29yZC5CdWlsZGVyPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5fYWN0b3IgPSBidWlsZGVyLmFjdG9yO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zT2ZUeXBlID0gYnVpbGRlci5pdGVtc09mVHlwZTtcclxuICAgICAgICB0aGlzLl90b3RhbFF1YW50aXR5ID0gYnVpbGRlci50b3RhbFF1YW50aXR5O1xyXG4gICAgICAgIHRoaXMuX2ZhYnJpY2F0ZUl0ZW0gPSBidWlsZGVyLmZhYnJpY2F0ZUl0ZW07XHJcbiAgICAgICAgdGhpcy5fZmFicmljYXRlSXRlbVR5cGUgPSBidWlsZGVyLmZhYnJpY2F0ZUl0ZW1UeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRlcjxUIGV4dGVuZHMgRmFicmljYXRlSXRlbT4oKTogSW52ZW50b3J5UmVjb3JkLkJ1aWxkZXI8VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW52ZW50b3J5UmVjb3JkLkJ1aWxkZXI8VD4oKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29tYmluZVdpdGgob3RoZXI6IEludmVudG9yeVJlY29yZDxUPik6IEludmVudG9yeVJlY29yZDxUPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmZhYnJpY2F0ZUl0ZW0uc2hhcmVzVHlwZShvdGhlci5mYWJyaWNhdGVJdGVtKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb21iaW5lIEludmVudG9yeSBSZWNvcmRzIGZvciBkaWZmZXJlbnQgRmFicmljYXRlIEl0ZW0gdHlwZXM6ICR7dGhpcy5mYWJyaWNhdGVJdGVtLnBhcnRJZH0gfCAke290aGVyLmZhYnJpY2F0ZUl0ZW0ucGFydElkfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5hY3Rvci5pZCAhPT0gb3RoZXIuYWN0b3IuaWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY29tYmluZSBpbnZlbnRvcnkgcmVjb3JkcyBmcm9tIGRpZmZlcmVudCBBY3RvcnM6ICR7dGhpcy5hY3Rvci5pZH0gfCAke290aGVyLmFjdG9yLmlkfWApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSW52ZW50b3J5UmVjb3JkLmJ1aWxkZXI8VD4oKVxyXG4gICAgICAgICAgICAud2l0aEZhYnJpY2F0ZUl0ZW0odGhpcy5mYWJyaWNhdGVJdGVtKVxyXG4gICAgICAgICAgICAud2l0aEZhYnJpY2F0ZUl0ZW1UeXBlKHRoaXMuZmFicmljYXRlSXRlbVR5cGUpXHJcbiAgICAgICAgICAgIC53aXRoQWN0b3IodGhpcy5hY3RvcilcclxuICAgICAgICAgICAgLndpdGhJdGVtcyh0aGlzLml0ZW1zT2ZUeXBlKVxyXG4gICAgICAgICAgICAud2l0aEl0ZW1zKG90aGVyLml0ZW1zT2ZUeXBlKVxyXG4gICAgICAgICAgICAud2l0aFRvdGFsUXVhbnRpdHkodGhpcy50b3RhbFF1YW50aXR5ICsgb3RoZXIudG90YWxRdWFudGl0eSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdG9yKCk6IEFjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1zT2ZUeXBlKCk6IEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zT2ZUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBpdGVtc09mVHlwZSh2YWx1ZTogSXRlbVtdKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXNPZlR5cGUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG90YWxRdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3RhbFF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB0b3RhbFF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90b3RhbFF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhYnJpY2F0ZUl0ZW0oKTogVCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhYnJpY2F0ZUl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhYnJpY2F0ZUl0ZW1UeXBlKCk6IEZhYnJpY2F0ZUl0ZW1UeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBJbnZlbnRvcnlSZWNvcmQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXI8VCBleHRlbmRzIEZhYnJpY2F0ZUl0ZW0+IHtcclxuICAgICAgICBwdWJsaWMgYWN0b3IhOiBBY3RvcjtcclxuICAgICAgICBwdWJsaWMgaXRlbXNPZlR5cGU6IEl0ZW1bXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBmYWJyaWNhdGVJdGVtITogVDtcclxuICAgICAgICBwdWJsaWMgdG90YWxRdWFudGl0eSE6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMgZmFicmljYXRlSXRlbVR5cGU6IEZhYnJpY2F0ZUl0ZW1UeXBlO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEFjdG9yKHZhbHVlOiBBY3Rvcik6IEJ1aWxkZXI8VD4ge1xyXG4gICAgICAgICAgICB0aGlzLmFjdG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhJdGVtKHZhbHVlOiBJdGVtKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNPZlR5cGUucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhJdGVtcyh2YWx1ZTogSXRlbVtdKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNPZlR5cGUucHVzaCguLi52YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhGYWJyaWNhdGVJdGVtKHZhbHVlOiBUKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFicmljYXRlSXRlbSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoVG90YWxRdWFudGl0eSh2YWx1ZTogbnVtYmVyKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxRdWFudGl0eSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRmFicmljYXRlSXRlbVR5cGUodmFsdWU6IEZhYnJpY2F0ZUl0ZW1UeXBlKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFicmljYXRlSXRlbVR5cGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogSW52ZW50b3J5UmVjb3JkPFQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZlbnRvcnlSZWNvcmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJbnZlbnRvcnlSZWNvcmR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/game/InventoryRecord.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTab.ts":
/*!**********************************************!*\
  !*** ./src/scripts/interface/CraftingTab.ts ***!
  \**********************************************/
/*! exports provided: CraftingTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingTab\", function() { return CraftingTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _dnd5e_Inventory5E__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dnd5e/Inventory5E */ \"./src/scripts/dnd5e/Inventory5E.ts\");\n/* harmony import */ var _CraftingTabDTO__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CraftingTabDTO */ \"./src/scripts/interface/CraftingTabDTO.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass CraftingTab {\r\n    constructor(actorApplication, actor) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = actorApplication;\r\n        this._actor = actor;\r\n        let inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].inventories.getFor(actor.id);\r\n        if (inventory) {\r\n            this._inventory = inventory;\r\n        }\r\n        else {\r\n            inventory = new _dnd5e_Inventory5E__WEBPACK_IMPORTED_MODULE_1__[\"Inventory5E\"](actor);\r\n            _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].inventories.addFor(actor.id, inventory);\r\n            this._inventory = inventory;\r\n        }\r\n    }\r\n    static bind(actorApplication, sheetHtml, eventData) {\r\n        const actor = game.actors.get(eventData.actor._id);\r\n        if (!game.user.isGM || !actor.owner) {\r\n            return;\r\n        }\r\n        let tab = CraftingTab.tabs.get(actorApplication.id);\r\n        if (!tab) {\r\n            tab = new CraftingTab(actorApplication, actor);\r\n            CraftingTab.tabs.set(actorApplication.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToCharacterSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const craftingTabDTO = new _CraftingTabDTO__WEBPACK_IMPORTED_MODULE_2__[\"CraftingTabDTO\"](_application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].systems.getAllSystems(), this._inventory, this._actor);\r\n            yield craftingTabDTO.init();\r\n            let template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.craftingTab, craftingTabDTO);\r\n            let element = this._sheetHtml.find('.crafting-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-crafting').append(template);\r\n            }\r\n            this.handleActorSheetEvents(craftingTabDTO);\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(CraftingTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToCharacterSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($('<a class=\"item fabricate-crafting\" data-tab=\"fabricate-crafting\">Crafting</a>'));\r\n        $(sheetHtml.find(`.sheet-body`)).append($('<div class=\"tab fabricate-crafting\" data-group=\"primary\" data-tab=\"fabricate-crafting\"></div>'));\r\n    }\r\n    handleActorSheetEvents(craftingTabDTO) {\r\n        this._sheetHtml.find('.add-crafting-component').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const componentId = event.currentTarget.getAttribute('data-component-id');\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            let hopperContentsForSystem = this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            if (!hopperContentsForSystem) {\r\n                hopperContentsForSystem = [];\r\n            }\r\n            const component = hopperContentsForSystem.find((item) => item.entryId === componentId);\r\n            if (!component) {\r\n                const component = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].systems.getSystemByCompendiumPackKey(craftingSystemId).getComponentByPartId(componentId);\r\n                hopperContentsForSystem.push({ name: component.name, quantity: 1, imageUrl: component.imageUrl, entryId: component.partId });\r\n            }\r\n            else {\r\n                component.quantity = component.quantity + 1;\r\n            }\r\n            this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`, hopperContentsForSystem);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.remove-crafting-component').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const componentId = event.currentTarget.getAttribute('data-component-id');\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            let hopperContentsForSystem = this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            const matchingRecord = hopperContentsForSystem.find((recordData) => recordData.entryId === componentId);\r\n            matchingRecord.quantity = matchingRecord.quantity - 1;\r\n            const nonZeroRecords = hopperContentsForSystem.filter((recordData) => recordData.quantity > 0);\r\n            this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`, nonZeroRecords);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.clear-components.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            yield this._actor.unsetFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.craft-from-components.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            const hopperContents = craftingTabDTO.inventory.preparedComponents;\r\n            if (!hopperContents || hopperContents.length === 0) {\r\n                return;\r\n            }\r\n            console.log(`Craft for system ${craftingSystemId} with ${hopperContents.length} components`);\r\n            const craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].systems.getSystemByCompendiumPackKey(craftingSystemId);\r\n            const craftingComponents = hopperContents.map((hopperItem) => craftingSystem.getComponentByPartId(hopperItem.entryId));\r\n            yield this._actor.unsetFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            yield craftingSystem.craftWithComponents(this._actor.id, craftingComponents);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('select[name=\"fabricate.crafting.selectedSystem\"]').change((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const systemIdToActivate = event.target.value;\r\n            yield this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, 'crafting.selectedSystemId', systemIdToActivate);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-crafting[data-tab=\"${CraftingTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nCraftingTab.tabs = new Map();\r\nCraftingTab.tabKey = 'fabricate-crafting';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHM/YzFlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFFVTtBQUNEO0FBSXVCO0FBRXZFLE1BQU0sV0FBVztJQXVCYixZQUFZLGdCQUFxQixFQUFFLEtBQVk7UUFqQnZDLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQWtCdEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksU0FBUyxHQUFHLHlFQUFvQixDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xFLElBQUksU0FBUyxFQUFFO1lBQ1gsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7U0FDL0I7YUFBTTtZQUNILFNBQVMsR0FBRyxJQUFJLDhEQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkMseUVBQW9CLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzdELElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQXhCTSxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFxQixFQUFFLFNBQXNCLEVBQUUsU0FBYztRQUM1RSxNQUFNLEtBQUssR0FBVSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUc7WUFDbEMsT0FBTztTQUNWO1FBQ0QsSUFBSSxHQUFHLEdBQWdCLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVB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QUFDLG1EQUFVLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSwyQkFBMkIsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO1lBRW5HLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDN0IsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sYUFBYTtRQUNqQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLGtDQUFrQyxXQUFXLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEgsQ0FBQzs7QUEzSnVCLGdCQUFJLEdBQTZCLElBQUksR0FBRyxFQUFFLENBQUM7QUFPcEQsa0JBQU0sR0FBVyxvQkFBb0IsQ0FBQztBQXVKckMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ludmVudG9yeX0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7SW52ZW50b3J5NUV9IGZyb20gXCIuLi9kbmQ1ZS9JbnZlbnRvcnk1RVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nVGFiRFRPfSBmcm9tIFwiLi9DcmFmdGluZ1RhYkRUT1wiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ1N5c3RlbVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZERhdGF9IGZyb20gXCIuL0ludGVyZmFjZURhdGFUeXBlc1wiO1xyXG5pbXBvcnQgRmFicmljYXRlQXBwbGljYXRpb24gZnJvbSBcIi4uL2FwcGxpY2F0aW9uL0ZhYnJpY2F0ZUFwcGxpY2F0aW9uXCI7XHJcblxyXG5jbGFzcyBDcmFmdGluZ1RhYiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSB0YWJzOiBNYXA8c3RyaW5nLCBDcmFmdGluZ1RhYj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgcHJpdmF0ZSBfc2hlZXRBcHBsaWNhdGlvbjogYW55O1xyXG4gICAgcHJpdmF0ZSBfc2hlZXRIdG1sOiBhbnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbnZlbnRvcnk6IEludmVudG9yeTtcclxuICAgIHByaXZhdGUgX3N1cHByZXNzZWRJbk5hdjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWN0b3I6IEFjdG9yO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdGFiS2V5OiBzdHJpbmcgPSAnZmFicmljYXRlLWNyYWZ0aW5nJztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJpbmQoYWN0b3JBcHBsaWNhdGlvbjogYW55LCBzaGVldEh0bWw6IEhUTUxFbGVtZW50LCBldmVudERhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGFjdG9yOiBBY3RvciA9IGdhbWUuYWN0b3JzLmdldChldmVudERhdGEuYWN0b3IuX2lkKTtcclxuICAgICAgICBpZiAoIWdhbWUudXNlci5pc0dNIHx8ICFhY3Rvci5vd25lciApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdGFiOiBDcmFmdGluZ1RhYiA9IENyYWZ0aW5nVGFiLnRhYnMuZ2V0KGFjdG9yQXBwbGljYXRpb24uaWQpO1xyXG4gICAgICAgIGlmICghdGFiKSB7XHJcbiAgICAgICAgICAgIHRhYiA9IG5ldyBDcmFmdGluZ1RhYihhY3RvckFwcGxpY2F0aW9uLCBhY3Rvcik7XHJcbiAgICAgICAgICAgIENyYWZ0aW5nVGFiLnRhYnMuc2V0KGFjdG9yQXBwbGljYXRpb24uaWQsIHRhYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYi5pbml0KHNoZWV0SHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoYWN0b3JBcHBsaWNhdGlvbjogYW55LCBhY3RvcjogQWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uID0gYWN0b3JBcHBsaWNhdGlvbjtcclxuICAgICAgICB0aGlzLl9hY3RvciA9IGFjdG9yO1xyXG4gICAgICAgIGxldCBpbnZlbnRvcnkgPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5pbnZlbnRvcmllcy5nZXRGb3IoYWN0b3IuaWQpO1xyXG4gICAgICAgIGlmIChpbnZlbnRvcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5faW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludmVudG9yeSA9IG5ldyBJbnZlbnRvcnk1RShhY3Rvcik7XHJcbiAgICAgICAgICAgIEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmFkZEZvcihhY3Rvci5pZCwgaW52ZW50b3J5KTtcclxuICAgICAgICAgICAgdGhpcy5faW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoc2hlZXRIdG1sOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwgPSBzaGVldEh0bWw7XHJcbiAgICAgICAgdGhpcy5hZGRUYWJUb0NoYXJhY3RlclNoZWV0KHNoZWV0SHRtbCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBjcmFmdGluZ1RhYkRUTyA9IG5ldyBDcmFmdGluZ1RhYkRUTyhGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldEFsbFN5c3RlbXMoKSwgdGhpcy5faW52ZW50b3J5LCB0aGlzLl9hY3Rvcik7XHJcbiAgICAgICAgYXdhaXQgY3JhZnRpbmdUYWJEVE8uaW5pdCgpO1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZTogSFRNTEVsZW1lbnQgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShQcm9wZXJ0aWVzLm1vZHVsZS50ZW1wbGF0ZXMuY3JhZnRpbmdUYWIsIGNyYWZ0aW5nVGFiRFRPKTtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuY3JhZnRpbmctdGFiLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHRlbXBsYXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLnRhYi5mYWJyaWNhdGUtY3JhZnRpbmcnKS5hcHBlbmQodGVtcGxhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYW5kbGVBY3RvclNoZWV0RXZlbnRzKGNyYWZ0aW5nVGFiRFRPKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3N1cHByZXNzZWRJbk5hdiAmJiAhdGhpcy5pc0FjdGl2ZUluTmF2KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hlZXRBcHBsaWNhdGlvbi5fdGFic1swXS5hY3RpdmF0ZShDcmFmdGluZ1RhYi50YWJLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkVGFiVG9DaGFyYWN0ZXJTaGVldChzaGVldEh0bWw6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhYnMgPSBzaGVldEh0bWwuZmluZChgLnRhYnNbZGF0YS1ncm91cD1cInByaW1hcnlcIl1gKTtcclxuICAgICAgICB0YWJzLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJpdGVtIGZhYnJpY2F0ZS1jcmFmdGluZ1wiIGRhdGEtdGFiPVwiZmFicmljYXRlLWNyYWZ0aW5nXCI+Q3JhZnRpbmc8L2E+J1xyXG4gICAgICAgICkpO1xyXG5cclxuICAgICAgICAkKHNoZWV0SHRtbC5maW5kKGAuc2hlZXQtYm9keWApKS5hcHBlbmQoJChcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0YWIgZmFicmljYXRlLWNyYWZ0aW5nXCIgZGF0YS1ncm91cD1cInByaW1hcnlcIiBkYXRhLXRhYj1cImZhYnJpY2F0ZS1jcmFmdGluZ1wiPjwvZGl2PidcclxuICAgICAgICApKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUFjdG9yU2hlZXRFdmVudHMoY3JhZnRpbmdUYWJEVE86IENyYWZ0aW5nVGFiRFRPKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuYWRkLWNyYWZ0aW5nLWNvbXBvbmVudCcpLmNsaWNrKGFzeW5jIChldmVudDogYW55KSA9PiB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvbXBvbmVudC1pZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1N5c3RlbUlkOiBzdHJpbmcgPSBjcmFmdGluZ1RhYkRUTy5jcmFmdGluZy5zZWxlY3RlZFN5c3RlbUlkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtOiBJbnZlbnRvcnlSZWNvcmREYXRhW10gPSB0aGlzLl9hY3Rvci5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIGBjcmFmdGluZy4ke2NyYWZ0aW5nU3lzdGVtSWR9LmhvcHBlcmApO1xyXG4gICAgICAgICAgICBpZiAoIWhvcHBlckNvbnRlbnRzRm9yU3lzdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBob3BwZXJDb250ZW50c0ZvclN5c3RlbSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtLmZpbmQoKGl0ZW06IEludmVudG9yeVJlY29yZERhdGEpID0+IGl0ZW0uZW50cnlJZCA9PT0gY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLnN5c3RlbXMuZ2V0U3lzdGVtQnlDb21wZW5kaXVtUGFja0tleShjcmFmdGluZ1N5c3RlbUlkKS5nZXRDb21wb25lbnRCeVBhcnRJZChjb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgICAgICBob3BwZXJDb250ZW50c0ZvclN5c3RlbS5wdXNoKHtuYW1lOiBjb21wb25lbnQubmFtZSwgcXVhbnRpdHk6IDEsIGltYWdlVXJsOiBjb21wb25lbnQuaW1hZ2VVcmwsIGVudHJ5SWQ6IGNvbXBvbmVudC5wYXJ0SWR9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnF1YW50aXR5ID0gY29tcG9uZW50LnF1YW50aXR5ICsgMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fYWN0b3Iuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBgY3JhZnRpbmcuJHtjcmFmdGluZ1N5c3RlbUlkfS5ob3BwZXJgLCBob3BwZXJDb250ZW50c0ZvclN5c3RlbSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSB0cnVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5yZW1vdmUtY3JhZnRpbmctY29tcG9uZW50JykuY2xpY2soYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcG9uZW50LWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtSWQ6IHN0cmluZyA9IGNyYWZ0aW5nVGFiRFRPLmNyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtSWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgaG9wcGVyQ29udGVudHNGb3JTeXN0ZW06IEludmVudG9yeVJlY29yZERhdGFbXSA9IHRoaXMuX2FjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nUmVjb3JkID0gaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0uZmluZCgocmVjb3JkRGF0YTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4gcmVjb3JkRGF0YS5lbnRyeUlkID09PSBjb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIG1hdGNoaW5nUmVjb3JkLnF1YW50aXR5ID0gbWF0Y2hpbmdSZWNvcmQucXVhbnRpdHkgLSAxO1xyXG4gICAgICAgICAgICBjb25zdCBub25aZXJvUmVjb3JkcyA9IGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtLmZpbHRlcigocmVjb3JkRGF0YTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4gcmVjb3JkRGF0YS5xdWFudGl0eSA+IDApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYWN0b3Iuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBgY3JhZnRpbmcuJHtjcmFmdGluZ1N5c3RlbUlkfS5ob3BwZXJgLCBub25aZXJvUmVjb3Jkcyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSB0cnVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5jbGVhci1jb21wb25lbnRzLmNyYWZ0LWJ1dHRvbicpLmNsaWNrKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1JZDogc3RyaW5nID0gY3JhZnRpbmdUYWJEVE8uY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZDtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWN0b3IudW5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIGBjcmFmdGluZy4ke2NyYWZ0aW5nU3lzdGVtSWR9LmhvcHBlcmApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5jcmFmdC1mcm9tLWNvbXBvbmVudHMuY3JhZnQtYnV0dG9uJykuY2xpY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1N5c3RlbUlkOiBzdHJpbmcgPSBjcmFmdGluZ1RhYkRUTy5jcmFmdGluZy5zZWxlY3RlZFN5c3RlbUlkO1xyXG4gICAgICAgICAgICBjb25zdCBob3BwZXJDb250ZW50czogSW52ZW50b3J5UmVjb3JkRGF0YVtdID0gY3JhZnRpbmdUYWJEVE8uaW52ZW50b3J5LnByZXBhcmVkQ29tcG9uZW50cztcclxuXHJcbiAgICAgICAgICAgIGlmICghaG9wcGVyQ29udGVudHMgfHwgaG9wcGVyQ29udGVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDcmFmdCBmb3Igc3lzdGVtICR7Y3JhZnRpbmdTeXN0ZW1JZH0gd2l0aCAke2hvcHBlckNvbnRlbnRzLmxlbmd0aH0gY29tcG9uZW50c2ApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW06IENyYWZ0aW5nU3lzdGVtID0gRmFicmljYXRlQXBwbGljYXRpb24uc3lzdGVtcy5nZXRTeXN0ZW1CeUNvbXBlbmRpdW1QYWNrS2V5KGNyYWZ0aW5nU3lzdGVtSWQpO1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ0NvbXBvbmVudHMgPSBob3BwZXJDb250ZW50cy5tYXAoKGhvcHBlckl0ZW06IEludmVudG9yeVJlY29yZERhdGEpID0+IGNyYWZ0aW5nU3lzdGVtLmdldENvbXBvbmVudEJ5UGFydElkKGhvcHBlckl0ZW0uZW50cnlJZCkpO1xyXG5cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWN0b3IudW5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIGBjcmFmdGluZy4ke2NyYWZ0aW5nU3lzdGVtSWR9LmhvcHBlcmApO1xyXG4gICAgICAgICAgICBhd2FpdCBjcmFmdGluZ1N5c3RlbS5jcmFmdFdpdGhDb21wb25lbnRzKHRoaXMuX2FjdG9yLmlkLCBjcmFmdGluZ0NvbXBvbmVudHMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJ3NlbGVjdFtuYW1lPVwiZmFicmljYXRlLmNyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtXCJdJykuY2hhbmdlKGFzeW5jIChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUlkVG9BY3RpdmF0ZTogc3RyaW5nID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hY3Rvci5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsICdjcmFmdGluZy5zZWxlY3RlZFN5c3RlbUlkJywgc3lzdGVtSWRUb0FjdGl2YXRlKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBY3RpdmVJbk5hdigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gJCh0aGlzLl9zaGVldEh0bWwpLmZpbmQoYGEuZmFicmljYXRlLWNyYWZ0aW5nW2RhdGEtdGFiPVwiJHtDcmFmdGluZ1RhYi50YWJLZXl9XCJdYCkuaGFzQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nVGFifSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTab.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTabDTO.ts":
/*!*************************************************!*\
  !*** ./src/scripts/interface/CraftingTabDTO.ts ***!
  \*************************************************/
/*! exports provided: CraftingTabDTO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingTabDTO\", function() { return CraftingTabDTO; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass CraftingTabDTO {\r\n    constructor(craftingSystems, inventory, actor) {\r\n        this._recipeData = [];\r\n        this._craftingSystems = craftingSystems;\r\n        this._inventory = inventory;\r\n        this._actor = actor;\r\n    }\r\n    get crafting() {\r\n        return this._craftingSystemData;\r\n    }\r\n    get recipes() {\r\n        return this._recipeData;\r\n    }\r\n    get inventory() {\r\n        return this._inventoryContents;\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._craftingSystemData = yield this.prepareCraftingSystemData(this._craftingSystems, this._actor);\r\n            if (this._craftingSystemData.hasEnabledSystems) {\r\n                const selectedCraftingSystem = this._craftingSystems.find((system) => system.compendiumPackKey === this._craftingSystemData.selectedSystemId);\r\n                this._recipeData = this.prepareRecipeDataForSystem(selectedCraftingSystem, this._actor, this._inventory);\r\n                this._inventoryContents = this.prepareInventoryDataForSystem(selectedCraftingSystem, this._actor, this._inventory);\r\n            }\r\n        });\r\n    }\r\n    prepareCraftingSystemData(craftingSystems, actor) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let enabledSystems = 0;\r\n            const craftingSystemsInfo = [];\r\n            const storedSystemId = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem);\r\n            craftingSystems.forEach((system) => {\r\n                if (system.enabled) {\r\n                    enabledSystems++;\r\n                }\r\n                craftingSystemsInfo.push({\r\n                    disabled: !system.enabled,\r\n                    compendiumPackKey: system.compendiumPackKey,\r\n                    name: system.name,\r\n                    selected: system.compendiumPackKey === storedSystemId\r\n                });\r\n            });\r\n            const hasEnabledSystems = enabledSystems > 0;\r\n            if (storedSystemId) {\r\n                return {\r\n                    systems: craftingSystemsInfo,\r\n                    hasEnabledSystems: hasEnabledSystems,\r\n                    selectedSystemId: storedSystemId\r\n                };\r\n            }\r\n            else if (hasEnabledSystems) {\r\n                const firstEnabledSystem = craftingSystemsInfo.find((systemInfo) => !systemInfo.disabled);\r\n                firstEnabledSystem.selected = true;\r\n                yield actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem, firstEnabledSystem.compendiumPackKey);\r\n                return {\r\n                    systems: craftingSystemsInfo,\r\n                    hasEnabledSystems: hasEnabledSystems,\r\n                    selectedSystemId: firstEnabledSystem.compendiumPackKey\r\n                };\r\n            }\r\n        });\r\n    }\r\n    prepareRecipeDataForSystem(craftingSystem, actor, inventory) {\r\n        const storedKnownRecipes = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.knownRecipesForSystem(craftingSystem.compendiumPackKey));\r\n        const knownRecipes = storedKnownRecipes ? storedKnownRecipes : [];\r\n        const recipeData = [];\r\n        craftingSystem.recipes.forEach((recipe) => recipeData.push({\r\n            name: recipe.name,\r\n            entryId: recipe.partId,\r\n            known: knownRecipes.includes(recipe.partId),\r\n            craftable: inventory.hasAllIngredientsFor(recipe)\r\n        }));\r\n        return recipeData;\r\n    }\r\n    prepareInventoryDataForSystem(craftingSystem, actor, inventory) {\r\n        const inventoryContents = {\r\n            ownedComponents: [],\r\n            preparedComponents: []\r\n        };\r\n        inventory.components.filter((inventoryRecord) => inventoryRecord.fabricateItem.systemId === craftingSystem.compendiumPackKey)\r\n            .forEach((inventoryRecord) => {\r\n            inventoryContents.ownedComponents.push({\r\n                name: inventoryRecord.fabricateItem.name,\r\n                entryId: inventoryRecord.fabricateItem.partId,\r\n                quantity: inventoryRecord.totalQuantity,\r\n                imageUrl: inventoryRecord.fabricateItem.imageUrl\r\n            });\r\n        });\r\n        const savedHopperContents = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.hopperForSystem(craftingSystem.compendiumPackKey));\r\n        if (savedHopperContents) {\r\n            inventoryContents.preparedComponents = savedHopperContents;\r\n            savedHopperContents.forEach((hopperItem) => {\r\n                const inventoryItem = inventoryContents.ownedComponents.find((inventoryItem) => inventoryItem.entryId === hopperItem.entryId);\r\n                if (inventoryItem) {\r\n                    inventoryItem.quantity = inventoryItem.quantity - hopperItem.quantity;\r\n                }\r\n            });\r\n            inventoryContents.ownedComponents = inventoryContents.ownedComponents.filter((inventoryItem) => inventoryItem.quantity > 0);\r\n        }\r\n        return inventoryContents;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWJEVE8udHM/NmI4NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFJdUM7QUFTdkMsTUFBTSxjQUFjO0lBVWhCLFlBQVksZUFBaUMsRUFBRSxTQUFvQixFQUFFLEtBQVk7UUFIekUsZ0JBQVcsR0FBaUIsRUFBRSxDQUFDO1FBSW5DLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxlQUFlLENBQUM7UUFDeEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO0lBQ3BDLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksU0FBUztRQUNULE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDO0lBQ25DLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDTCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVLLElBQUk7O1lBQ04sSUFBSSxDQUFDLG1CQUFtQixHQUFHLE1BQU0sSUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7WUFFcEcsSUFBSSxJQUFJLENBQUMsbUJBQW1CLENBQUMsaUJBQWlCLEVBQUU7Z0JBQzVDLE1BQU0sc0JBQXNCLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLE1BQXNCLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsS0FBSyxJQUFJLENBQUMsbUJBQW1CLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztnQkFFOUosSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsMEJBQTBCLENBQUMsc0JBQXNCLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7Z0JBRXpHLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsNkJBQTZCLENBQUMsc0JBQXNCLEVBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDckg7UUFDTCxDQUFDO0tBQUE7SUFFSyx5QkFBeUIsQ0FBQyxlQUFpQyxFQUFFLEtBQVk7O1lBQzNFLElBQUksY0FBYyxHQUFXLENBQUMsQ0FBQztZQUMvQixNQUFNLG1CQUFtQixHQUF5QixFQUFFLENBQUM7WUFDckQsTUFBTSxjQUFjLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsbURBQVUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLHNCQUFzQixDQUFDLENBQUM7WUFDL0csZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQXNCLEVBQUUsRUFBRTtnQkFDL0MsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFO29CQUNoQixjQUFjLEVBQUUsQ0FBQztpQkFDcEI7Z0JBQ0QsbUJBQW1CLENBQUMsSUFBSSxDQUFDO29CQUNyQixRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTztvQkFDekIsaUJBQWlCLEVBQUUsTUFBTSxDQUFDLGlCQUFpQjtvQkFDM0MsSUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO29CQUNqQixRQUFRLEVBQUUsTUFBTSxDQUFDLGlCQUFpQixLQUFLLGNBQWM7aUJBQ3hELENBQUM7WUFDTixDQUFDLENBQUMsQ0FBQztZQUNILE1BQU0saUJBQWlCLEdBQVksY0FBYyxHQUFHLENBQUMsQ0FBQztZQUN0RCxJQUFJLGNBQWMsRUFBRTtnQkFDaEIsT0FBTztvQkFDSCxPQUFPLEVBQUUsbUJBQW1CO29CQUM1QixpQkFBaUIsRUFBRSxpQkFBaUI7b0JBQ3BDLGdCQUFnQixFQUFFLGNBQWM7aUJBQ25DO2FBQ0o7aUJBQU0sSUFBSSxpQkFBaUIsRUFBRTtnQkFDMUIsTUFBTSxrQkFBa0IsR0FBRyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUE4QixFQUFFLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDOUcsa0JBQWtCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztnQkFDbkMsTUFBTSxLQUFLLENBQUMsT0FBTyxDQUFDLG1EQUFVLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxtREFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsc0JBQXNCLEVBQUUsa0JBQWtCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztnQkFDcEksT0FBTztvQkFDSCxPQUFPLEVBQUUsbUJBQW1CO29CQUM1QixpQkFBaUIsRUFBRSxpQkFBaUI7b0JBQ3BDLGdCQUFnQixFQUFFLGtCQUFrQixDQUFDLGlCQUFpQjtpQkFDekQ7YUFDSjtRQUNMLENBQUM7S0FBQTtJQUVELDBCQUEwQixDQUFDLGNBQThCLEVBQUUsS0FBWSxFQUFFLFNBQW9CO1FBQ3pGLE1BQU0sa0JBQWtCLEdBQWEsS0FBSyxDQUFDLE9BQU8sQ0FBQyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsbURBQVUsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDOUosTUFBTSxZQUFZLEdBQWEsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDNUUsTUFBTSxVQUFVLEdBQWlCLEVBQUUsQ0FBQztRQUNwQyxjQUFjLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQWMsRUFBRSxFQUFFLENBQzlDLFVBQVUsQ0FBQyxJQUFJLENBQUM7WUFDWixJQUFJLEVBQUUsTUFBTSxDQUFDLElBQUk7WUFDakIsT0FBTyxFQUFFLE1BQU0sQ0FBQyxNQUFNO1lBQ3RCLEtBQUssRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDM0MsU0FBUyxFQUFFLFNBQVMsQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLENBQUM7U0FDcEQsQ0FBQyxDQUNMLENBQUM7UUFDRixPQUFPLFVBQVUsQ0FBQztJQUN0QixDQUFDO0lBRUQsNkJBQTZCLENBQUMsY0FBOEIsRUFBRSxLQUFZLEVBQUUsU0FBb0I7UUFDNUYsTUFBTSxpQkFBaUIsR0FBc0I7WUFDekMsZUFBZSxFQUFFLEVBQUU7WUFDbkIsa0JBQWtCLEVBQUUsRUFBRTtTQUN6QjtRQUNELFNBQVMsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsZUFBbUQsRUFBRSxFQUFFLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEtBQUssY0FBYyxDQUFDLGlCQUFpQixDQUFDO2FBQzVKLE9BQU8sQ0FBQyxDQUFDLGVBQW1ELEVBQUUsRUFBRTtZQUM3RCxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDO2dCQUNuQyxJQUFJLEVBQUUsZUFBZSxDQUFDLGFBQWEsQ0FBQyxJQUFJO2dCQUN4QyxPQUFPLEVBQUUsZUFBZSxDQUFDLGFBQWEsQ0FBQyxNQUFNO2dCQUM3QyxRQUFRLEVBQUUsZUFBZSxDQUFDLGFBQWE7Z0JBQ3ZDLFFBQVEsRUFBRSxlQUFlLENBQUMsYUFBYSxDQUFDLFFBQVE7YUFDbkQsQ0FBQyxDQUFDO1FBQ1AsQ0FBQyxDQUFDLENBQUM7UUFDUCxNQUFNLG1CQUFtQixHQUEwQixLQUFLLENBQUMsT0FBTyxDQUFDLG1EQUFVLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxtREFBVSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7UUFDdEssSUFBSSxtQkFBbUIsRUFBRTtZQUNyQixpQkFBaUIsQ0FBQyxrQkFBa0IsR0FBRyxtQkFBbUIsQ0FBQztZQUMzRCxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUErQixFQUFFLEVBQUU7Z0JBQzVELE1BQU0sYUFBYSxHQUFHLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFrQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsT0FBTyxLQUFLLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkosSUFBSSxhQUFhLEVBQUU7b0JBQ2YsYUFBYSxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUM7aUJBQ3pFO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFDSCxpQkFBaUIsQ0FBQyxlQUFlLEdBQUcsaUJBQWlCLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGFBQWtDLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDcEo7UUFDRCxPQUFPLGlCQUFpQixDQUFDO0lBQzdCLENBQUM7Q0FDSjtBQUVzQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2ludGVyZmFjZS9DcmFmdGluZ1RhYkRUTy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jb3JlL1JlY2lwZVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZH0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5UmVjb3JkXCI7XHJcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1EYXRhLCBDcmFmdGluZ1N5c3RlbUluZm8sIEludmVudG9yeVJlY29yZERhdGEsIFJlY2lwZURhdGF9IGZyb20gXCIuL0ludGVyZmFjZURhdGFUeXBlc1wiO1xyXG5cclxuaW50ZXJmYWNlIEludmVudG9yeUNvbnRlbnRzIHtcclxuICAgIG93bmVkQ29tcG9uZW50czogSW52ZW50b3J5UmVjb3JkRGF0YVtdO1xyXG4gICAgcHJlcGFyZWRDb21wb25lbnRzOiBJbnZlbnRvcnlSZWNvcmREYXRhW107XHJcbn1cclxuXHJcbmNsYXNzIENyYWZ0aW5nVGFiRFRPIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGluZ1N5c3RlbXM6IENyYWZ0aW5nU3lzdGVtW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbnZlbnRvcnk6IEludmVudG9yeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FjdG9yOiBBY3RvcjtcclxuXHJcbiAgICBwcml2YXRlIF9jcmFmdGluZ1N5c3RlbURhdGE6IENyYWZ0aW5nU3lzdGVtRGF0YTtcclxuICAgIHByaXZhdGUgX3JlY2lwZURhdGE6IFJlY2lwZURhdGFbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfaW52ZW50b3J5Q29udGVudHM6IEludmVudG9yeUNvbnRlbnRzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNyYWZ0aW5nU3lzdGVtczogQ3JhZnRpbmdTeXN0ZW1bXSwgaW52ZW50b3J5OiBJbnZlbnRvcnksIGFjdG9yOiBBY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2NyYWZ0aW5nU3lzdGVtcyA9IGNyYWZ0aW5nU3lzdGVtcztcclxuICAgICAgICB0aGlzLl9pbnZlbnRvcnkgPSBpbnZlbnRvcnk7XHJcbiAgICAgICAgdGhpcy5fYWN0b3IgPSBhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JhZnRpbmcoKTogQ3JhZnRpbmdTeXN0ZW1EYXRhIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JhZnRpbmdTeXN0ZW1EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWNpcGVzKCk6IFJlY2lwZURhdGFbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY2lwZURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGludmVudG9yeSgpOiBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmVudG9yeUNvbnRlbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhY3RvcigpOiBBY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW1EYXRhID0gYXdhaXQgdGhpcy5wcmVwYXJlQ3JhZnRpbmdTeXN0ZW1EYXRhKHRoaXMuX2NyYWZ0aW5nU3lzdGVtcywgdGhpcy5fYWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY3JhZnRpbmdTeXN0ZW1EYXRhLmhhc0VuYWJsZWRTeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ3JhZnRpbmdTeXN0ZW0gPSB0aGlzLl9jcmFmdGluZ1N5c3RlbXMuZmluZCgoc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSkgPT4gc3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5ID09PSB0aGlzLl9jcmFmdGluZ1N5c3RlbURhdGEuc2VsZWN0ZWRTeXN0ZW1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9yZWNpcGVEYXRhID0gdGhpcy5wcmVwYXJlUmVjaXBlRGF0YUZvclN5c3RlbShzZWxlY3RlZENyYWZ0aW5nU3lzdGVtLCB0aGlzLl9hY3RvciwgdGhpcy5faW52ZW50b3J5KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2ludmVudG9yeUNvbnRlbnRzID0gdGhpcy5wcmVwYXJlSW52ZW50b3J5RGF0YUZvclN5c3RlbShzZWxlY3RlZENyYWZ0aW5nU3lzdGVtLHRoaXMuX2FjdG9yLCB0aGlzLl9pbnZlbnRvcnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwcmVwYXJlQ3JhZnRpbmdTeXN0ZW1EYXRhKGNyYWZ0aW5nU3lzdGVtczogQ3JhZnRpbmdTeXN0ZW1bXSwgYWN0b3I6IEFjdG9yKTogUHJvbWlzZTxDcmFmdGluZ1N5c3RlbURhdGE+IHtcclxuICAgICAgICBsZXQgZW5hYmxlZFN5c3RlbXM6IG51bWJlciA9IDA7XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1zSW5mbzogQ3JhZnRpbmdTeXN0ZW1JbmZvW10gPSBbXTtcclxuICAgICAgICBjb25zdCBzdG9yZWRTeXN0ZW1JZCA9IGFjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5hY3Rvci5zZWxlY3RlZENyYWZ0aW5nU3lzdGVtKTtcclxuICAgICAgICBjcmFmdGluZ1N5c3RlbXMuZm9yRWFjaCgoc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc3lzdGVtLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWRTeXN0ZW1zKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3JhZnRpbmdTeXN0ZW1zSW5mby5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkOiAhc3lzdGVtLmVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBjb21wZW5kaXVtUGFja0tleTogc3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5LFxyXG4gICAgICAgICAgICAgICAgbmFtZTogc3lzdGVtLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogc3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5ID09PSBzdG9yZWRTeXN0ZW1JZFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGhhc0VuYWJsZWRTeXN0ZW1zOiBib29sZWFuID0gZW5hYmxlZFN5c3RlbXMgPiAwO1xyXG4gICAgICAgIGlmIChzdG9yZWRTeXN0ZW1JZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtczogY3JhZnRpbmdTeXN0ZW1zSW5mbyxcclxuICAgICAgICAgICAgICAgIGhhc0VuYWJsZWRTeXN0ZW1zOiBoYXNFbmFibGVkU3lzdGVtcyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU3lzdGVtSWQ6IHN0b3JlZFN5c3RlbUlkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGhhc0VuYWJsZWRTeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0RW5hYmxlZFN5c3RlbSA9IGNyYWZ0aW5nU3lzdGVtc0luZm8uZmluZCgoc3lzdGVtSW5mbzogQ3JhZnRpbmdTeXN0ZW1JbmZvKSA9PiAhc3lzdGVtSW5mby5kaXNhYmxlZCk7XHJcbiAgICAgICAgICAgIGZpcnN0RW5hYmxlZFN5c3RlbS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IGFjdG9yLnNldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5hY3Rvci5zZWxlY3RlZENyYWZ0aW5nU3lzdGVtLCBmaXJzdEVuYWJsZWRTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtczogY3JhZnRpbmdTeXN0ZW1zSW5mbyxcclxuICAgICAgICAgICAgICAgIGhhc0VuYWJsZWRTeXN0ZW1zOiBoYXNFbmFibGVkU3lzdGVtcyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU3lzdGVtSWQ6IGZpcnN0RW5hYmxlZFN5c3RlbS5jb21wZW5kaXVtUGFja0tleVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmVSZWNpcGVEYXRhRm9yU3lzdGVtKGNyYWZ0aW5nU3lzdGVtOiBDcmFmdGluZ1N5c3RlbSwgYWN0b3I6IEFjdG9yLCBpbnZlbnRvcnk6IEludmVudG9yeSk6IFJlY2lwZURhdGFbXSB7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkS25vd25SZWNpcGVzOiBzdHJpbmdbXSA9IGFjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5hY3Rvci5rbm93blJlY2lwZXNGb3JTeXN0ZW0oY3JhZnRpbmdTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXkpKTtcclxuICAgICAgICBjb25zdCBrbm93blJlY2lwZXM6IHN0cmluZ1tdID0gc3RvcmVkS25vd25SZWNpcGVzID8gc3RvcmVkS25vd25SZWNpcGVzIDogW107XHJcbiAgICAgICAgY29uc3QgcmVjaXBlRGF0YTogUmVjaXBlRGF0YVtdID0gW107XHJcbiAgICAgICAgY3JhZnRpbmdTeXN0ZW0ucmVjaXBlcy5mb3JFYWNoKChyZWNpcGU6IFJlY2lwZSkgPT5cclxuICAgICAgICAgICAgcmVjaXBlRGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHJlY2lwZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgZW50cnlJZDogcmVjaXBlLnBhcnRJZCxcclxuICAgICAgICAgICAgICAgIGtub3duOiBrbm93blJlY2lwZXMuaW5jbHVkZXMocmVjaXBlLnBhcnRJZCksXHJcbiAgICAgICAgICAgICAgICBjcmFmdGFibGU6IGludmVudG9yeS5oYXNBbGxJbmdyZWRpZW50c0ZvcihyZWNpcGUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcmVjaXBlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVwYXJlSW52ZW50b3J5RGF0YUZvclN5c3RlbShjcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW0sIGFjdG9yOiBBY3RvciwgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICAgICAgY29uc3QgaW52ZW50b3J5Q29udGVudHM6IEludmVudG9yeUNvbnRlbnRzID0ge1xyXG4gICAgICAgICAgICBvd25lZENvbXBvbmVudHM6IFtdLFxyXG4gICAgICAgICAgICBwcmVwYXJlZENvbXBvbmVudHM6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludmVudG9yeS5jb21wb25lbnRzLmZpbHRlcigoaW52ZW50b3J5UmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiBpbnZlbnRvcnlSZWNvcmQuZmFicmljYXRlSXRlbS5zeXN0ZW1JZCA9PT0gY3JhZnRpbmdTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXkpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4pID0+IHtcclxuICAgICAgICAgICAgICAgIGludmVudG9yeUNvbnRlbnRzLm93bmVkQ29tcG9uZW50cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBpbnZlbnRvcnlSZWNvcmQuZmFicmljYXRlSXRlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGVudHJ5SWQ6IGludmVudG9yeVJlY29yZC5mYWJyaWNhdGVJdGVtLnBhcnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogaW52ZW50b3J5UmVjb3JkLnRvdGFsUXVhbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IGludmVudG9yeVJlY29yZC5mYWJyaWNhdGVJdGVtLmltYWdlVXJsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2F2ZWRIb3BwZXJDb250ZW50czogSW52ZW50b3J5UmVjb3JkRGF0YVtdID0gYWN0b3IuZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLmhvcHBlckZvclN5c3RlbShjcmFmdGluZ1N5c3RlbS5jb21wZW5kaXVtUGFja0tleSkpO1xyXG4gICAgICAgIGlmIChzYXZlZEhvcHBlckNvbnRlbnRzKSB7XHJcbiAgICAgICAgICAgIGludmVudG9yeUNvbnRlbnRzLnByZXBhcmVkQ29tcG9uZW50cyA9IHNhdmVkSG9wcGVyQ29udGVudHM7XHJcbiAgICAgICAgICAgIHNhdmVkSG9wcGVyQ29udGVudHMuZm9yRWFjaCgoaG9wcGVySXRlbTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IGludmVudG9yeUNvbnRlbnRzLm93bmVkQ29tcG9uZW50cy5maW5kKChpbnZlbnRvcnlJdGVtOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiBpbnZlbnRvcnlJdGVtLmVudHJ5SWQgPT09IGhvcHBlckl0ZW0uZW50cnlJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW52ZW50b3J5SXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeUl0ZW0ucXVhbnRpdHkgPSBpbnZlbnRvcnlJdGVtLnF1YW50aXR5IC0gaG9wcGVySXRlbS5xdWFudGl0eTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGludmVudG9yeUNvbnRlbnRzLm93bmVkQ29tcG9uZW50cyA9IGludmVudG9yeUNvbnRlbnRzLm93bmVkQ29tcG9uZW50cy5maWx0ZXIoKGludmVudG9yeUl0ZW06IEludmVudG9yeVJlY29yZERhdGEpID0+IGludmVudG9yeUl0ZW0ucXVhbnRpdHkgPiAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGludmVudG9yeUNvbnRlbnRzO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nVGFiRFRPfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTabDTO.ts\n");

/***/ }),

/***/ "./src/scripts/interface/ItemRecipeTab.ts":
/*!************************************************!*\
  !*** ./src/scripts/interface/ItemRecipeTab.ts ***!
  \************************************************/
/*! exports provided: ItemRecipeTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemRecipeTab\", function() { return ItemRecipeTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass ItemRecipeTab {\r\n    constructor(itemApplication) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = itemApplication;\r\n        this._item = itemApplication.item;\r\n        const partId = itemApplication.item.data.flags.fabricate.identity.partId;\r\n        this._craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_1__[\"default\"].systems.getSystemByPartId(partId);\r\n        this._recipe = this._craftingSystem.getRecipeByPartId(partId);\r\n    }\r\n    static bind(itemApplication, sheetHtml) {\r\n        if ((!itemApplication.item.data.flags.fabricate) || (itemApplication.item.data.flags.fabricate.type !== ItemRecipeTab.recipeType)) {\r\n            return;\r\n        }\r\n        let tab = ItemRecipeTab.tabs.get(itemApplication.id);\r\n        if (!tab) {\r\n            tab = new ItemRecipeTab(itemApplication);\r\n            ItemRecipeTab.tabs.set(itemApplication.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToItemSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.recipeTab, { recipe: this._recipe, item: this._item, system: this._craftingSystem });\r\n            const element = this._sheetHtml.find('.recipe-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-recipe').append(template);\r\n            }\r\n            this.handleItemSheetEvents();\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(ItemRecipeTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToItemSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($(`<a class=\"item fabricate-recipe\" data-tab=\"${ItemRecipeTab.tabKey}\">Recipe</a>`));\r\n        $(sheetHtml.find(`.sheet-body`)).append($(`<div class=\"tab fabricate-recipe\" data-group=\"primary\" data-tab=\"${ItemRecipeTab.tabKey}\"></div>`));\r\n    }\r\n    handleItemSheetEvents() {\r\n        this._sheetHtml.find('.craft-button').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const recipeId = event.target.getAttribute('data-recipe-id');\r\n            const actorId = event.target.getAttribute('data-actor-id');\r\n            yield this._craftingSystem.craft(actorId, recipeId);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.open-compendium-item').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const partId = event.currentTarget.getAttribute('data-part-id');\r\n            const systemId = event.currentTarget.getAttribute('data-system-id');\r\n            const compendium = game.packs.get(systemId);\r\n            const entity = yield compendium.getEntity(partId);\r\n            if (!game.user.isGM && entity.permission === 0) {\r\n                console.warn('You are attempting to view the details of a Crafting Component that you have no ' +\r\n                    'access to. Ask your GM oran administrator to grant you access to the items in the compendium for ' +\r\n                    'the Crafting System \"' + this._craftingSystem.name + '\"');\r\n            }\r\n            entity.sheet.render(true);\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-recipe[data-tab=\"${ItemRecipeTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nItemRecipeTab.recipeType = _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types.recipe;\r\nItemRecipeTab.tabs = new Map();\r\nItemRecipeTab.tabKey = 'fabricate-recipe';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cz8wY2I3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFHZ0M7QUFFdkUsTUFBTSxhQUFhO0lBeUJmLFlBQVksZUFBb0I7UUFmeEIscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBZ0J0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZUFBZSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQztRQUNsQyxNQUFNLE1BQU0sR0FBVyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7UUFDakYsSUFBSSxDQUFDLGVBQWUsR0FBRyx5RUFBb0IsQ0FBQyxPQUFPLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFsQk0sTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFvQixFQUFFLFNBQXNCO1FBQzNELElBQUksQ0FBQyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxLQUFLLGFBQWEsQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUMvSCxPQUFPO1NBQ1Y7UUFDRCxJQUFJLEdBQUcsR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDTixHQUFHLEdBQUcsSUFBSSxhQUFhLENBQUMsZUFBZSxDQUFDLENBQUM7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QUFLLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3BFLE1BQU0sVUFBVSxHQUFlLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3hELE1BQU0sTUFBTSxHQUFXLE1BQU0sVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMxRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7Z0JBQzVDLE9BQU8sQ0FBQyxJQUFJLENBQUMsa0ZBQWtGO29CQUMzRixtR0FBbUc7b0JBQ25HLHVCQUF1QixHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO2FBQ2xFO1lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsQ0FBQyxFQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sYUFBYTtRQUNqQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEgsQ0FBQzs7QUE3RnVCLHdCQUFVLEdBQVcsbURBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQzdDLGtCQUFJLEdBQStCLElBQUksR0FBRyxFQUFFLENBQUM7QUFTdEQsb0JBQU0sR0FBVyxrQkFBa0IsQ0FBQztBQXNGakMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY29yZS9SZWNpcGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbX0gZnJvbSBcIi4uL2NvcmUvQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IEZhYnJpY2F0ZUFwcGxpY2F0aW9uIGZyb20gXCIuLi9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvblwiO1xyXG5cclxuY2xhc3MgSXRlbVJlY2lwZVRhYiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZWNpcGVUeXBlOiBzdHJpbmcgPSBQcm9wZXJ0aWVzLnR5cGVzLnJlY2lwZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRhYnM6IE1hcDxzdHJpbmcsIEl0ZW1SZWNpcGVUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHByaXZhdGUgX3NoZWV0QXBwbGljYXRpb246IGFueTtcclxuICAgIHByaXZhdGUgX3NoZWV0SHRtbDogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXRlbTogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW07XHJcbiAgICBwcml2YXRlIF9zdXBwcmVzc2VkSW5OYXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHRhYktleTogc3RyaW5nID0gJ2ZhYnJpY2F0ZS1yZWNpcGUnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYmluZChpdGVtQXBwbGljYXRpb246IGFueSwgc2hlZXRIdG1sOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmICgoIWl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlKSB8fCAoaXRlbUFwcGxpY2F0aW9uLml0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGUudHlwZSAhPT0gSXRlbVJlY2lwZVRhYi5yZWNpcGVUeXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0YWI6IEl0ZW1SZWNpcGVUYWIgPSBJdGVtUmVjaXBlVGFiLnRhYnMuZ2V0KGl0ZW1BcHBsaWNhdGlvbi5pZCk7XHJcbiAgICAgICAgaWYgKCF0YWIpIHtcclxuICAgICAgICAgICAgdGFiID0gbmV3IEl0ZW1SZWNpcGVUYWIoaXRlbUFwcGxpY2F0aW9uKTtcclxuICAgICAgICAgICAgSXRlbVJlY2lwZVRhYi50YWJzLnNldChpdGVtQXBwbGljYXRpb24uaWQsIHRhYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYi5pbml0KHNoZWV0SHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXRlbUFwcGxpY2F0aW9uOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uID0gaXRlbUFwcGxpY2F0aW9uO1xyXG4gICAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtQXBwbGljYXRpb24uaXRlbTtcclxuICAgICAgICBjb25zdCBwYXJ0SWQ6IHN0cmluZyA9IGl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlLmlkZW50aXR5LnBhcnRJZDtcclxuICAgICAgICB0aGlzLl9jcmFmdGluZ1N5c3RlbSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLnN5c3RlbXMuZ2V0U3lzdGVtQnlQYXJ0SWQocGFydElkKTtcclxuICAgICAgICB0aGlzLl9yZWNpcGUgPSB0aGlzLl9jcmFmdGluZ1N5c3RlbS5nZXRSZWNpcGVCeVBhcnRJZChwYXJ0SWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdChzaGVldEh0bWw6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbCA9IHNoZWV0SHRtbDtcclxuICAgICAgICB0aGlzLmFkZFRhYlRvSXRlbVNoZWV0KHNoZWV0SHRtbCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCB0ZW1wbGF0ZTogSFRNTEVsZW1lbnQgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShQcm9wZXJ0aWVzLm1vZHVsZS50ZW1wbGF0ZXMucmVjaXBlVGFiLCB7cmVjaXBlOiB0aGlzLl9yZWNpcGUsIGl0ZW06IHRoaXMuX2l0ZW0sIHN5c3RlbTogdGhpcy5fY3JhZnRpbmdTeXN0ZW19KTtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5yZWNpcGUtdGFiLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHRlbXBsYXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLnRhYi5mYWJyaWNhdGUtcmVjaXBlJykuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlSXRlbVNoZWV0RXZlbnRzKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zdXBwcmVzc2VkSW5OYXYgJiYgIXRoaXMuaXNBY3RpdmVJbk5hdigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoZWV0QXBwbGljYXRpb24uX3RhYnNbMF0uYWN0aXZhdGUoSXRlbVJlY2lwZVRhYi50YWJLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRUYWJUb0l0ZW1TaGVldChzaGVldEh0bWw6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhYnMgPSBzaGVldEh0bWwuZmluZChgLnRhYnNbZGF0YS1ncm91cD1cInByaW1hcnlcIl1gKTtcclxuICAgICAgICB0YWJzLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICBgPGEgY2xhc3M9XCJpdGVtIGZhYnJpY2F0ZS1yZWNpcGVcIiBkYXRhLXRhYj1cIiR7SXRlbVJlY2lwZVRhYi50YWJLZXl9XCI+UmVjaXBlPC9hPmBcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgJChzaGVldEh0bWwuZmluZChgLnNoZWV0LWJvZHlgKSkuYXBwZW5kKCQoXHJcbiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwidGFiIGZhYnJpY2F0ZS1yZWNpcGVcIiBkYXRhLWdyb3VwPVwicHJpbWFyeVwiIGRhdGEtdGFiPVwiJHtJdGVtUmVjaXBlVGFiLnRhYktleX1cIj48L2Rpdj5gXHJcbiAgICAgICAgKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVJdGVtU2hlZXRFdmVudHMoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuY3JhZnQtYnV0dG9uJykuY2xpY2soYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVjaXBlSWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlY2lwZS1pZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBhY3RvcklkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rvci1pZCcpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9jcmFmdGluZ1N5c3RlbS5jcmFmdChhY3RvcklkLCByZWNpcGVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbC5maW5kKCcub3Blbi1jb21wZW5kaXVtLWl0ZW0nKS5jbGljayhhc3luYyAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJ0SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wYXJ0LWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUlkID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3lzdGVtLWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBlbmRpdW06IENvbXBlbmRpdW0gPSBnYW1lLnBhY2tzLmdldChzeXN0ZW1JZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eTogRW50aXR5ID0gYXdhaXQgY29tcGVuZGl1bS5nZXRFbnRpdHkocGFydElkKTtcclxuICAgICAgICAgICAgaWYgKCFnYW1lLnVzZXIuaXNHTSAmJiBlbnRpdHkucGVybWlzc2lvbiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdmlldyB0aGUgZGV0YWlscyBvZiBhIENyYWZ0aW5nIENvbXBvbmVudCB0aGF0IHlvdSBoYXZlIG5vICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdhY2Nlc3MgdG8uIEFzayB5b3VyIEdNIG9yYW4gYWRtaW5pc3RyYXRvciB0byBncmFudCB5b3UgYWNjZXNzIHRvIHRoZSBpdGVtcyBpbiB0aGUgY29tcGVuZGl1bSBmb3IgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RoZSBDcmFmdGluZyBTeXN0ZW0gXCInICsgdGhpcy5fY3JhZnRpbmdTeXN0ZW0ubmFtZSArICdcIicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudGl0eS5zaGVldC5yZW5kZXIodHJ1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBY3RpdmVJbk5hdigpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gJCh0aGlzLl9zaGVldEh0bWwpLmZpbmQoYGEuZmFicmljYXRlLXJlY2lwZVtkYXRhLXRhYj1cIiR7SXRlbVJlY2lwZVRhYi50YWJLZXl9XCJdYCkuaGFzQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0l0ZW1SZWNpcGVUYWJ9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/interface/ItemRecipeTab.ts\n");

/***/ }),

/***/ "./src/scripts/module.ts":
/*!*******************************!*\
  !*** ./src/scripts/module.ts ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./application/FabricateLifecycle */ \"./src/scripts/application/FabricateLifecycle.ts\");\n/* harmony import */ var _core_CraftingSystemFactory__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/CraftingSystemFactory */ \"./src/scripts/core/CraftingSystemFactory.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nHooks.once('ready', loadCraftingSystems);\r\nHooks.once('ready', () => {\r\n    _application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_1__[\"FabricateLifecycle\"].init();\r\n});\r\n/**\r\n * Loads all Crafting Systems with a System Specification declared with the Crafting System Registry.\r\n * */\r\nfunction loadCraftingSystems() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const systemSpecifications = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].systems.systemSpecifications;\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpecifications.length} crafting systems. `);\r\n        systemSpecifications.forEach(_application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_1__[\"FabricateLifecycle\"].registerCraftingSystemSettings);\r\n        systemSpecifications.forEach(loadCraftingSystem);\r\n        const systemNames = systemSpecifications.map((systemSpec) => systemSpec.name);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpecifications.length} crafting systems: ${systemNames.join(', ')} `);\r\n    });\r\n}\r\n/**\r\n * Loads a single Crafting System from a System Specification, which must include a Compendium Pack Key. Item data from\r\n * the Compendium Pack is used to load the Recipes and Crafting Components into the system from the compendium. The\r\n * Fabricator, supported systems and name provided in the spec are all preserved.\r\n *\r\n * @param systemSpec `CraftingSystemSpecification` that determines how a system behaves and which compendium pack content\r\n * for the system should be loaded from.\r\n * */\r\nfunction loadCraftingSystem(systemSpec) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpec.name} from Compendium pack ${systemSpec.compendiumPackKey}. `);\r\n        if (systemSpec.supportedGameSystems.indexOf(game.system.id) < 0) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | ${systemSpec.name} does not support ${game.system.id}! `);\r\n            return;\r\n        }\r\n        const craftingSystemFactory = new _core_CraftingSystemFactory__WEBPACK_IMPORTED_MODULE_2__[\"CompendiumImportingCraftingSystemFactory\"](systemSpec);\r\n        const craftingSystem = yield craftingSystemFactory.make();\r\n        craftingSystem.enabled = game.settings.get(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].settingsKeys.craftingSystem.enabled(systemSpec.compendiumPackKey));\r\n        _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_3__[\"default\"].systems.register(craftingSystem);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpec.name}. `);\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2R1bGUudHM/NTk0MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzQztBQUM4QjtBQUV5QztBQUN2QztBQUd0RSxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3pDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixrRkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM5QixDQUFDLENBQUMsQ0FBQztBQUVIOztLQUVLO0FBQ0wsU0FBZSxtQkFBbUI7O1FBQzlCLE1BQU0sb0JBQW9CLEdBQUcseUVBQW9CLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDO1FBQy9FLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLGNBQWMsb0JBQW9CLENBQUMsTUFBTSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3RHLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxrRkFBa0IsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1FBQ2hGLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sV0FBVyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDLFVBQXVDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzRyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbURBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxhQUFhLG9CQUFvQixDQUFDLE1BQU0sc0JBQXNCLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25JLENBQUM7Q0FBQTtBQUVEOzs7Ozs7O0tBT0s7QUFDTCxTQUFlLGtCQUFrQixDQUFDLFVBQXVDOztRQUNyRSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbURBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxjQUFjLFVBQVUsQ0FBQyxJQUFJLHlCQUF5QixVQUFVLENBQUMsaUJBQWlCLElBQUksQ0FBQyxDQUFDO1FBQzlILElBQUksVUFBVSxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUM3RCxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbURBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxNQUFNLFVBQVUsQ0FBQyxJQUFJLHFCQUFxQixJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDcEcsT0FBTztTQUNWO1FBQ0QsTUFBTSxxQkFBcUIsR0FBMEIsSUFBSSxvR0FBd0MsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM5RyxNQUFNLGNBQWMsR0FBRyxNQUFNLHFCQUFxQixDQUFDLElBQUksRUFBRSxDQUFDO1FBQzFELGNBQWMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsbURBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLG1EQUFVLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUNqSix5RUFBb0IsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3RELE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLGFBQWEsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDNUUsQ0FBQztDQUFBIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvbW9kdWxlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUxpZmVjeWNsZX0gZnJvbSBcIi4vYXBwbGljYXRpb24vRmFicmljYXRlTGlmZWN5Y2xlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9ufSBmcm9tIFwiLi9jb3JlL0NyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvblwiO1xyXG5pbXBvcnQge0NvbXBlbmRpdW1JbXBvcnRpbmdDcmFmdGluZ1N5c3RlbUZhY3RvcnksIENyYWZ0aW5nU3lzdGVtRmFjdG9yeX0gZnJvbSBcIi4vY29yZS9DcmFmdGluZ1N5c3RlbUZhY3RvcnlcIjtcclxuaW1wb3J0IEZhYnJpY2F0ZUFwcGxpY2F0aW9uIGZyb20gXCIuL2FwcGxpY2F0aW9uL0ZhYnJpY2F0ZUFwcGxpY2F0aW9uXCI7XHJcblxyXG5cclxuSG9va3Mub25jZSgncmVhZHknLCBsb2FkQ3JhZnRpbmdTeXN0ZW1zKTtcclxuSG9va3Mub25jZSgncmVhZHknLCAoKSA9PiB7XHJcbiAgICBGYWJyaWNhdGVMaWZlY3ljbGUuaW5pdCgpO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBMb2FkcyBhbGwgQ3JhZnRpbmcgU3lzdGVtcyB3aXRoIGEgU3lzdGVtIFNwZWNpZmljYXRpb24gZGVjbGFyZWQgd2l0aCB0aGUgQ3JhZnRpbmcgU3lzdGVtIFJlZ2lzdHJ5LlxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ3JhZnRpbmdTeXN0ZW1zKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3Qgc3lzdGVtU3BlY2lmaWNhdGlvbnMgPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLnN5c3RlbVNwZWNpZmljYXRpb25zO1xyXG4gICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgTG9hZGluZyAke3N5c3RlbVNwZWNpZmljYXRpb25zLmxlbmd0aH0gY3JhZnRpbmcgc3lzdGVtcy4gYCk7XHJcbiAgICBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5mb3JFYWNoKEZhYnJpY2F0ZUxpZmVjeWNsZS5yZWdpc3RlckNyYWZ0aW5nU3lzdGVtU2V0dGluZ3MpO1xyXG4gICAgc3lzdGVtU3BlY2lmaWNhdGlvbnMuZm9yRWFjaChsb2FkQ3JhZnRpbmdTeXN0ZW0pO1xyXG4gICAgY29uc3Qgc3lzdGVtTmFtZXMgPSBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5tYXAoKHN5c3RlbVNwZWM6IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbikgPT4gc3lzdGVtU3BlYy5uYW1lKTtcclxuICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IExvYWRlZCAke3N5c3RlbVNwZWNpZmljYXRpb25zLmxlbmd0aH0gY3JhZnRpbmcgc3lzdGVtczogJHtzeXN0ZW1OYW1lcy5qb2luKCcsICcpfSBgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIExvYWRzIGEgc2luZ2xlIENyYWZ0aW5nIFN5c3RlbSBmcm9tIGEgU3lzdGVtIFNwZWNpZmljYXRpb24sIHdoaWNoIG11c3QgaW5jbHVkZSBhIENvbXBlbmRpdW0gUGFjayBLZXkuIEl0ZW0gZGF0YSBmcm9tXHJcbiAqIHRoZSBDb21wZW5kaXVtIFBhY2sgaXMgdXNlZCB0byBsb2FkIHRoZSBSZWNpcGVzIGFuZCBDcmFmdGluZyBDb21wb25lbnRzIGludG8gdGhlIHN5c3RlbSBmcm9tIHRoZSBjb21wZW5kaXVtLiBUaGVcclxuICogRmFicmljYXRvciwgc3VwcG9ydGVkIHN5c3RlbXMgYW5kIG5hbWUgcHJvdmlkZWQgaW4gdGhlIHNwZWMgYXJlIGFsbCBwcmVzZXJ2ZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSBzeXN0ZW1TcGVjIGBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb25gIHRoYXQgZGV0ZXJtaW5lcyBob3cgYSBzeXN0ZW0gYmVoYXZlcyBhbmQgd2hpY2ggY29tcGVuZGl1bSBwYWNrIGNvbnRlbnRcclxuICogZm9yIHRoZSBzeXN0ZW0gc2hvdWxkIGJlIGxvYWRlZCBmcm9tLlxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ3JhZnRpbmdTeXN0ZW0oc3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkaW5nICR7c3lzdGVtU3BlYy5uYW1lfSBmcm9tIENvbXBlbmRpdW0gcGFjayAke3N5c3RlbVNwZWMuY29tcGVuZGl1bVBhY2tLZXl9LiBgKTtcclxuICAgIGlmIChzeXN0ZW1TcGVjLnN1cHBvcnRlZEdhbWVTeXN0ZW1zLmluZGV4T2YoZ2FtZS5zeXN0ZW0uaWQpIDwgMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8ICR7c3lzdGVtU3BlYy5uYW1lfSBkb2VzIG5vdCBzdXBwb3J0ICR7Z2FtZS5zeXN0ZW0uaWR9ISBgKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBjcmFmdGluZ1N5c3RlbUZhY3Rvcnk6IENyYWZ0aW5nU3lzdGVtRmFjdG9yeSA9IG5ldyBDb21wZW5kaXVtSW1wb3J0aW5nQ3JhZnRpbmdTeXN0ZW1GYWN0b3J5KHN5c3RlbVNwZWMpO1xyXG4gICAgY29uc3QgY3JhZnRpbmdTeXN0ZW0gPSBhd2FpdCBjcmFmdGluZ1N5c3RlbUZhY3RvcnkubWFrZSgpO1xyXG4gICAgY3JhZnRpbmdTeXN0ZW0uZW5hYmxlZCA9IGdhbWUuc2V0dGluZ3MuZ2V0KFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuc2V0dGluZ3NLZXlzLmNyYWZ0aW5nU3lzdGVtLmVuYWJsZWQoc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSkpO1xyXG4gICAgRmFicmljYXRlQXBwbGljYXRpb24uc3lzdGVtcy5yZWdpc3RlcihjcmFmdGluZ1N5c3RlbSk7XHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkZWQgJHtzeXN0ZW1TcGVjLm5hbWV9LiBgKTtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/module.ts\n");

/***/ }),

/***/ "./src/scripts/registries/CraftingSystemRegistry.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/registries/CraftingSystemRegistry.ts ***!
  \**********************************************************/
/*! exports provided: CraftingSystemRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystemRegistry\", function() { return CraftingSystemRegistry; });\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_Fabricator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Fabricator */ \"./src/scripts/core/Fabricator.ts\");\n/* harmony import */ var _core_CraftingSystemSpecification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/CraftingSystemSpecification */ \"./src/scripts/core/CraftingSystemSpecification.ts\");\n/* harmony import */ var _system_definitions_AlchemistsSuppliesV16__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./system_definitions/AlchemistsSuppliesV16 */ \"./src/scripts/registries/system_definitions/AlchemistsSuppliesV16.ts\");\n\r\n\r\n\r\n\r\nclass CraftingSystemRegistry {\r\n    constructor() {\r\n        this._craftingSystemsByCompendiumKey = new Map();\r\n        this._craftingSystemsByPartId = new Map();\r\n        this._systemSpecifications = CraftingSystemRegistry.systemSpecifications();\r\n    }\r\n    register(system) {\r\n        this._craftingSystemsByCompendiumKey.set(system.compendiumPackKey, system);\r\n        this._craftingSystemsByPartId = this.resolvePartsForSystem(system, this._craftingSystemsByPartId);\r\n    }\r\n    resolvePartsForSystem(system, parts) {\r\n        const recipeLinks = new Map(system.recipes.map((recipe) => [recipe.partId, system]));\r\n        const componentLinks = new Map(system.components.map((component) => [component.partId, system]));\r\n        const systemParts = new Map([...recipeLinks, ...componentLinks]);\r\n        if (systemParts.size !== (recipeLinks.size + componentLinks.size)) {\r\n            throw new Error(`The Crafting System with ID ${system.compendiumPackKey} contains duplicate Part IDs. `);\r\n        }\r\n        const mergedParts = new Map([...parts, ...systemParts]);\r\n        if (mergedParts.size !== (systemParts.size + parts.size)) {\r\n            throw new Error(`The Crafting System with ID ${system.compendiumPackKey} shares ${(systemParts.size + parts.size) - mergedParts.size} Part IDs with already registered systems. `);\r\n        }\r\n        return mergedParts;\r\n    }\r\n    getSystemByCompendiumPackKey(id) {\r\n        if (this._craftingSystemsByCompendiumKey.has(id)) {\r\n            return this._craftingSystemsByCompendiumKey.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Compendium Pack Key ${id}. `);\r\n    }\r\n    getSystemByPartId(id) {\r\n        if (this._craftingSystemsByPartId.has(id)) {\r\n            return this._craftingSystemsByPartId.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Recipe ${id}. `);\r\n    }\r\n    getAllSystems() {\r\n        return Array.from(this._craftingSystemsByCompendiumKey.values());\r\n    }\r\n    get systemSpecifications() {\r\n        return this._systemSpecifications;\r\n    }\r\n    declareSpecification(spec) {\r\n        this._systemSpecifications.push(spec);\r\n    }\r\n    static systemSpecifications() {\r\n        const systemSpecifications = [];\r\n        const testSystemSpec = _core_CraftingSystemSpecification__WEBPACK_IMPORTED_MODULE_2__[\"CraftingSystemSpecification\"].builder()\r\n            .withName('Child\\'s Play')\r\n            .withEnableHint('Enable the test Crafting System for Fabricate?')\r\n            .withDescription('A simple tech demo used for the early development of Fabricate. ')\r\n            .withCompendiumPackKey('fabricate.fabricate-test')\r\n            .withSupportedGameSystem(_core_GameSystemType__WEBPACK_IMPORTED_MODULE_0__[\"GameSystemType\"].DND5E)\r\n            .withFabricator(new _core_Fabricator__WEBPACK_IMPORTED_MODULE_1__[\"DefaultFabricator\"]())\r\n            .build();\r\n        systemSpecifications.push(testSystemSpec);\r\n        systemSpecifications.push(_system_definitions_AlchemistsSuppliesV16__WEBPACK_IMPORTED_MODULE_3__[\"AlchemistsSuppliesSystemSpec\"]);\r\n        return systemSpecifications;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHM/MTlmYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0Q7QUFDRDtBQUMyQjtBQUNRO0FBR3hGLE1BQU0sc0JBQXNCO0lBQTVCO1FBRVksb0NBQStCLEdBQWdDLElBQUksR0FBRyxFQUEwQixDQUFDO1FBQ2pHLDZCQUF3QixHQUFnQyxJQUFJLEdBQUcsRUFBMEIsQ0FBQztRQUMxRiwwQkFBcUIsR0FBa0Msc0JBQXNCLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQWtFakgsQ0FBQztJQWhFVSxRQUFRLENBQUMsTUFBc0I7UUFDbEMsSUFBSSxDQUFDLCtCQUErQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDM0UsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDdEcsQ0FBQztJQUVPLHFCQUFxQixDQUFDLE1BQXNCLEVBQUUsS0FBa0M7UUFDcEYsTUFBTSxXQUFXLEdBQWdDLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFILE1BQU0sY0FBYyxHQUFnQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQTRCLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakosTUFBTSxXQUFXLEdBQWdDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxXQUFXLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQzlGLElBQUksV0FBVyxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQy9ELE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQStCLE1BQU0sQ0FBQyxpQkFBaUIsZ0NBQWdDLENBQUMsQ0FBQztTQUM1RztRQUNELE1BQU0sV0FBVyxHQUFnQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQztRQUNyRixJQUFJLFdBQVcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN0RCxNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixNQUFNLENBQUMsaUJBQWlCLFdBQVcsQ0FBQyxXQUFXLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsSUFBSSw2Q0FBNkMsQ0FBQyxDQUFDO1NBQ3RMO1FBQ0QsT0FBTyxXQUFXLENBQUM7SUFDdkIsQ0FBQztJQUVNLDRCQUE0QixDQUFDLEVBQVM7UUFDekMsSUFBSSxJQUFJLENBQUMsK0JBQStCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQzlDLE9BQU8sSUFBSSxDQUFDLCtCQUErQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN2RDtRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsK0VBQStFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0csQ0FBQztJQUVNLGlCQUFpQixDQUFDLEVBQVM7UUFDOUIsSUFBSSxJQUFJLENBQUMsd0JBQXdCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3ZDLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNoRDtRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsa0VBQWtFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUYsQ0FBQztJQUVNLGFBQWE7UUFDaEIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFRCxJQUFXLG9CQUFvQjtRQUMzQixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN0QyxDQUFDO0lBRU0sb0JBQW9CLENBQUMsSUFBaUM7UUFDekQsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRU0sTUFBTSxDQUFDLG9CQUFvQjtRQUU5QixNQUFNLG9CQUFvQixHQUFrQyxFQUFFLENBQUM7UUFFL0QsTUFBTSxjQUFjLEdBQWdDLDZGQUEyQixDQUFDLE9BQU8sRUFBRTthQUNwRixRQUFRLENBQUMsZUFBZSxDQUFDO2FBQ3pCLGNBQWMsQ0FBQyxnREFBZ0QsQ0FBQzthQUNoRSxlQUFlLENBQUMsa0VBQWtFLENBQUM7YUFDbkYscUJBQXFCLENBQUMsMEJBQTBCLENBQUM7YUFDakQsdUJBQXVCLENBQUMsbUVBQWMsQ0FBQyxLQUFLLENBQUM7YUFDN0MsY0FBYyxDQUFDLElBQUksa0VBQWlCLEVBQUUsQ0FBQzthQUN2QyxLQUFLLEVBQUUsQ0FBQztRQUNiLG9CQUFvQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUUxQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsc0dBQTRCLENBQUMsQ0FBQztRQUV4RCxPQUFPLG9CQUFvQixDQUFDO0lBQ2hDLENBQUM7Q0FFSjtBQUU4QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL3JlZ2lzdHJpZXMvQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY29yZS9SZWNpcGVcIjtcclxuaW1wb3J0IHtHYW1lU3lzdGVtVHlwZX0gZnJvbSBcIi4uL2NvcmUvR2FtZVN5c3RlbVR5cGVcIjtcclxuaW1wb3J0IHtEZWZhdWx0RmFicmljYXRvcn0gZnJvbSBcIi4uL2NvcmUvRmFicmljYXRvclwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbn0gZnJvbSBcIi4uL2NvcmUvQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uXCI7XHJcbmltcG9ydCB7QWxjaGVtaXN0c1N1cHBsaWVzU3lzdGVtU3BlY30gZnJvbSBcIi4vc3lzdGVtX2RlZmluaXRpb25zL0FsY2hlbWlzdHNTdXBwbGllc1YxNlwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5OiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+KCk7XHJcbiAgICBwcml2YXRlIF9jcmFmdGluZ1N5c3RlbXNCeVBhcnRJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPigpO1xyXG4gICAgcHJpdmF0ZSBfc3lzdGVtU3BlY2lmaWNhdGlvbnM6IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbltdID0gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5zeXN0ZW1TcGVjaWZpY2F0aW9ucygpO1xyXG5cclxuICAgIHB1YmxpYyByZWdpc3RlcihzeXN0ZW06IENyYWZ0aW5nU3lzdGVtKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LnNldChzeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXksIHN5c3RlbSk7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlQYXJ0SWQgPSB0aGlzLnJlc29sdmVQYXJ0c0ZvclN5c3RlbShzeXN0ZW0sIHRoaXMuX2NyYWZ0aW5nU3lzdGVtc0J5UGFydElkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc29sdmVQYXJ0c0ZvclN5c3RlbShzeXN0ZW06IENyYWZ0aW5nU3lzdGVtLCBwYXJ0czogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+KTogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+IHtcclxuICAgICAgICBjb25zdCByZWNpcGVMaW5rczogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcChzeXN0ZW0ucmVjaXBlcy5tYXAoKHJlY2lwZTogUmVjaXBlKSA9PiBbcmVjaXBlLnBhcnRJZCwgc3lzdGVtXSkpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudExpbmtzOiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwKHN5c3RlbS5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gW2NvbXBvbmVudC5wYXJ0SWQsIHN5c3RlbV0pKTtcclxuICAgICAgICBjb25zdCBzeXN0ZW1QYXJ0czogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcChbLi4ucmVjaXBlTGlua3MsIC4uLmNvbXBvbmVudExpbmtzXSk7XHJcbiAgICAgICAgaWYgKHN5c3RlbVBhcnRzLnNpemUgIT09IChyZWNpcGVMaW5rcy5zaXplICsgY29tcG9uZW50TGlua3Muc2l6ZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgQ3JhZnRpbmcgU3lzdGVtIHdpdGggSUQgJHtzeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXl9IGNvbnRhaW5zIGR1cGxpY2F0ZSBQYXJ0IElEcy4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1lcmdlZFBhcnRzOiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwKFsuLi5wYXJ0cywgLi4uc3lzdGVtUGFydHNdKTtcclxuICAgICAgICBpZiAobWVyZ2VkUGFydHMuc2l6ZSAhPT0gKHN5c3RlbVBhcnRzLnNpemUgKyBwYXJ0cy5zaXplKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBDcmFmdGluZyBTeXN0ZW0gd2l0aCBJRCAke3N5c3RlbS5jb21wZW5kaXVtUGFja0tleX0gc2hhcmVzICR7KHN5c3RlbVBhcnRzLnNpemUgKyBwYXJ0cy5zaXplKSAtIG1lcmdlZFBhcnRzLnNpemV9IFBhcnQgSURzIHdpdGggYWxyZWFkeSByZWdpc3RlcmVkIHN5c3RlbXMuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVyZ2VkUGFydHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoaWQ6c3RyaW5nKTogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgIGlmICh0aGlzLl9jcmFmdGluZ1N5c3RlbXNCeUNvbXBlbmRpdW1LZXkuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBDb21wZW5kaXVtIFBhY2sgS2V5ICR7aWR9LiBgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3lzdGVtQnlQYXJ0SWQoaWQ6c3RyaW5nKTogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgIGlmICh0aGlzLl9jcmFmdGluZ1N5c3RlbXNCeVBhcnRJZC5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jcmFmdGluZ1N5c3RlbXNCeVBhcnRJZC5nZXQoaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIENyYWZ0aW5nIHN5c3RlbSBpcyByZWdpc3RlcmVkIHdpdGggRmFicmljYXRlIGZvciB0aGUgUmVjaXBlICR7aWR9LiBgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QWxsU3lzdGVtcygpOiBDcmFmdGluZ1N5c3RlbVtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jcmFmdGluZ1N5c3RlbXNCeUNvbXBlbmRpdW1LZXkudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc3lzdGVtU3BlY2lmaWNhdGlvbnMoKTogQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zeXN0ZW1TcGVjaWZpY2F0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVjbGFyZVNwZWNpZmljYXRpb24oc3BlYzogQ3JhZnRpbmdTeXN0ZW1TcGVjaWZpY2F0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc3lzdGVtU3BlY2lmaWNhdGlvbnMucHVzaChzcGVjKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHN5c3RlbVNwZWNpZmljYXRpb25zKCk6IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbltdIHtcclxuXHJcbiAgICAgICAgY29uc3Qgc3lzdGVtU3BlY2lmaWNhdGlvbnM6IENyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvbltdID0gW107XHJcblxyXG4gICAgICAgIGNvbnN0IHRlc3RTeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24gPSBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24uYnVpbGRlcigpXHJcbiAgICAgICAgICAgIC53aXRoTmFtZSgnQ2hpbGRcXCdzIFBsYXknKVxyXG4gICAgICAgICAgICAud2l0aEVuYWJsZUhpbnQoJ0VuYWJsZSB0aGUgdGVzdCBDcmFmdGluZyBTeXN0ZW0gZm9yIEZhYnJpY2F0ZT8nKVxyXG4gICAgICAgICAgICAud2l0aERlc2NyaXB0aW9uKCdBIHNpbXBsZSB0ZWNoIGRlbW8gdXNlZCBmb3IgdGhlIGVhcmx5IGRldmVsb3BtZW50IG9mIEZhYnJpY2F0ZS4gJylcclxuICAgICAgICAgICAgLndpdGhDb21wZW5kaXVtUGFja0tleSgnZmFicmljYXRlLmZhYnJpY2F0ZS10ZXN0JylcclxuICAgICAgICAgICAgLndpdGhTdXBwb3J0ZWRHYW1lU3lzdGVtKEdhbWVTeXN0ZW1UeXBlLkRORDVFKVxyXG4gICAgICAgICAgICAud2l0aEZhYnJpY2F0b3IobmV3IERlZmF1bHRGYWJyaWNhdG9yKCkpXHJcbiAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIHN5c3RlbVNwZWNpZmljYXRpb25zLnB1c2godGVzdFN5c3RlbVNwZWMpO1xyXG5cclxuICAgICAgICBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5wdXNoKEFsY2hlbWlzdHNTdXBwbGllc1N5c3RlbVNwZWMpO1xyXG5cclxuICAgICAgICByZXR1cm4gc3lzdGVtU3BlY2lmaWNhdGlvbnM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/CraftingSystemRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/registries/InventoryRegistry.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/registries/InventoryRegistry.ts ***!
  \*****************************************************/
/*! exports provided: InventoryRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRegistry\", function() { return InventoryRegistry; });\nclass InventoryRegistry {\r\n    constructor() {\r\n        this._managedInventories = new Map();\r\n    }\r\n    addFor(actorId, inventory) {\r\n        if (this._managedInventories.has(actorId)) {\r\n            throw new Error(`The Crafting Inventory for Actor ID ${actorId} is already managed by Fabricate and should not be overridden. `);\r\n        }\r\n        this._managedInventories.set(actorId, inventory);\r\n    }\r\n    getFor(actorId) {\r\n        return this._managedInventories.get(actorId);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzPzE4MzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBLE1BQU0saUJBQWlCO0lBQXZCO1FBRVksd0JBQW1CLEdBQTJCLElBQUksR0FBRyxFQUFxQixDQUFDO0lBYXZGLENBQUM7SUFYVSxNQUFNLENBQUMsT0FBZSxFQUFFLFNBQW9CO1FBQy9DLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUN2QyxNQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxPQUFPLGlFQUFpRSxDQUFDLENBQUM7U0FDcEk7UUFDRCxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQWU7UUFDekIsT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pELENBQUM7Q0FFSjtBQUV5QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL3JlZ2lzdHJpZXMvSW52ZW50b3J5UmVnaXN0cnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ludmVudG9yeX0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5XCI7XHJcblxyXG5jbGFzcyBJbnZlbnRvcnlSZWdpc3RyeSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfbWFuYWdlZEludmVudG9yaWVzOiBNYXA8c3RyaW5nLCBJbnZlbnRvcnk+ID0gbmV3IE1hcDxzdHJpbmcsIEludmVudG9yeT4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRm9yKGFjdG9ySWQ6IHN0cmluZywgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5fbWFuYWdlZEludmVudG9yaWVzLmhhcyhhY3RvcklkKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBDcmFmdGluZyBJbnZlbnRvcnkgZm9yIEFjdG9yIElEICR7YWN0b3JJZH0gaXMgYWxyZWFkeSBtYW5hZ2VkIGJ5IEZhYnJpY2F0ZSBhbmQgc2hvdWxkIG5vdCBiZSBvdmVycmlkZGVuLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlZEludmVudG9yaWVzLnNldChhY3RvcklkLCBpbnZlbnRvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGb3IoYWN0b3JJZDogc3RyaW5nKTogSW52ZW50b3J5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWFuYWdlZEludmVudG9yaWVzLmdldChhY3RvcklkKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7SW52ZW50b3J5UmVnaXN0cnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/InventoryRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/registries/system_definitions/AlchemistsSuppliesV16.ts":
/*!****************************************************************************!*\
  !*** ./src/scripts/registries/system_definitions/AlchemistsSuppliesV16.ts ***!
  \****************************************************************************/
/*! exports provided: AlchemistsSuppliesSystemSpec */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlchemistsSuppliesSystemSpec\", function() { return AlchemistsSuppliesSystemSpec; });\n/* harmony import */ var _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dnd5e/AlchemicalResult5E */ \"./src/scripts/dnd5e/AlchemicalResult5E.ts\");\n/* harmony import */ var _core_AlchemicalResultSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/AlchemicalResultSet */ \"./src/scripts/core/AlchemicalResultSet.ts\");\n/* harmony import */ var _dnd5e_DefaultEssenceCombiner5E__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dnd5e/DefaultEssenceCombiner5E */ \"./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts\");\n/* harmony import */ var _core_Fabricator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Fabricator */ \"./src/scripts/core/Fabricator.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _core_CraftingSystemSpecification__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/CraftingSystemSpecification */ \"./src/scripts/core/CraftingSystemSpecification.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst blinding = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['EARTH', 'EARTH'])\r\n    .withDescription('Release a burst of stinging dust. Affected ' +\r\n    'targets are blinded for the next round.')\r\n    .build();\r\nconst prone = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['WATER', 'WATER'])\r\n    .withDescription('Release a puddle of slippery oil. Affected ' +\r\n    'targets immediately fall prone.')\r\n    .build();\r\nconst lightning = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['AIR', 'AIR'])\r\n    .withDescription('Deal 1d4 lightning damage on contact. ' +\r\n    'Double damage to targets touching a metal ' +\r\n    'surface or using metal weapons or armor.')\r\n    .withRolledDamage({ faces: 4, amount: 1 }, 'lightning')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst fire = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['FIRE', 'FIRE'])\r\n    .withDescription('Deal 1d4 fire damage on contact. Double ' +\r\n    'damage to targets with cloth or leather armor.')\r\n    .withRolledDamage({ faces: 4, amount: 1 }, 'fire')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst gel = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['EARTH', 'WATER'])\r\n    .withDescription('Release gel that sticks to targets. Each round,' +\r\n    'any damage-dealing effects continue to deal 1 ' +\r\n    'damage each until an action is used to remove ' +\r\n    'the gel with a DC 10 Dexterity check.')\r\n    .withFixedDamage(1, 'none')\r\n    .withSavingThrow('dex', 10, 'flat')\r\n    .withDuration('special')\r\n    .build();\r\nconst slow = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['WATER', 'AIR'])\r\n    .withDescription('Deal 1d4 cold damage on contact. Reduce ' +\r\n    'target speed by 10 feet for the next round.')\r\n    .withRolledDamage({ faces: 4, amount: 1 }, 'cold')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst spray = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['AIR', 'FIRE'])\r\n    .withDescription('Release concentrated mist in all directions. ' +\r\n    'Increase the radius of all effects by 5 feet.')\r\n    .withAoEExtender('ADD', 5, 'radius')\r\n    .build();\r\nconst acid = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['FIRE', 'EARTH'])\r\n    .withDescription('Deal 1d8 acid damage on contact.')\r\n    .withRolledDamage({ faces: 8, amount: 1 }, 'acid')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst doubleDamageDie = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['POSITIVE_ENERGY'])\r\n    .withDescription('Roll double the number of all damage dice.')\r\n    .withDamageModifier('MULTIPLY', 2)\r\n    .build();\r\nconst increaseDC = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['NEGATIVE_ENERGY'])\r\n    .withDescription('Increase the DC to avoid bomb effects by 2.')\r\n    .withSavingThrowModifier('ADD', 2)\r\n    .build();\r\nconst knownAlchemicalResults = _core_AlchemicalResultSet__WEBPACK_IMPORTED_MODULE_1__[\"AlchemicalResultSet\"].builder()\r\n    .withResult(blinding)\r\n    .withResult(prone)\r\n    .withResult(lightning)\r\n    .withResult(fire)\r\n    .withResult(gel)\r\n    .withResult(slow)\r\n    .withResult(spray)\r\n    .withResult(acid)\r\n    .withResult(doubleDamageDie)\r\n    .withResult(increaseDC)\r\n    .build();\r\nconst essenceCombiner = _dnd5e_DefaultEssenceCombiner5E__WEBPACK_IMPORTED_MODULE_2__[\"DefaultEssenceCombiner5E\"].builder()\r\n    .withMaxComponents(6)\r\n    .withMaxEssences(6)\r\n    .withKnownAlchemicalResults(knownAlchemicalResults)\r\n    .withResultantItem(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_5__[\"CraftingComponent\"].builder()\r\n    .withName('Alchemical Bomb')\r\n    .withImageUrl('systems/dnd5e/icons/items/inventory/bomb.jpg')\r\n    .withPartId('90z9nOwmGnP4aUUk')\r\n    .withSystemId('fabricate.alchemists-supplies-v11')\r\n    .withEssences([])\r\n    .build())\r\n    .build();\r\nconst fabricator = new _core_Fabricator__WEBPACK_IMPORTED_MODULE_3__[\"EssenceCombiningFabricator\"](essenceCombiner);\r\nconst AlchemistsSuppliesSystemSpec = _core_CraftingSystemSpecification__WEBPACK_IMPORTED_MODULE_6__[\"CraftingSystemSpecification\"].builder()\r\n    .withName('Alchemist\\'s Supplies v1.6')\r\n    .withCompendiumPackKey('fabricate.alchemists-supplies-v16')\r\n    .withEnableHint('Enable the Alchemist\\'s Supplies v1.6 crafting system by /u/calculusChild?')\r\n    .withDescription('Alchemy is the skill of exploiting unique properties of certain plants, minerals, and ' +\r\n    'creature parts, combining them to produce fantastic substances. This allows even non-spellcasters to mimic ' +\r\n    'minor magical effects, although the creations themselves are nonmagical.')\r\n    .withSupportedGameSystem(_core_GameSystemType__WEBPACK_IMPORTED_MODULE_4__[\"GameSystemType\"].DND5E)\r\n    .withFabricator(fabricator)\r\n    .build();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL3N5c3RlbV9kZWZpbml0aW9ucy9BbGNoZW1pc3RzU3VwcGxpZXNWMTYudHM/YjYyNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBa0U7QUFDbUI7QUFFUDtBQUNiO0FBQ1I7QUFDTTtBQUNvQjtBQUVuRixNQUFNLFFBQVEsR0FBaUMsNEVBQWtCLENBQUMsT0FBTyxFQUFFO0tBQ3RFLHNCQUFzQixDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzFDLGVBQWUsQ0FBQyw2Q0FBNkM7SUFDMUQseUNBQXlDLENBQUM7S0FDN0MsS0FBSyxFQUFFLENBQUM7QUFFYixNQUFNLEtBQUssR0FBaUMsNEVBQWtCLENBQUMsT0FBTyxFQUFFO0tBQ25FLHNCQUFzQixDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzFDLGVBQWUsQ0FBQyw2Q0FBNkM7SUFDMUQsaUNBQWlDLENBQUM7S0FDckMsS0FBSyxFQUFFLENBQUM7QUFFYixNQUFNLFNBQVMsR0FBaUMsNEVBQWtCLENBQUMsT0FBTyxFQUFFO0tBQ3ZFLHNCQUFzQixDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3RDLGVBQWUsQ0FBQyx3Q0FBd0M7SUFDckQsNENBQTRDO0lBQzVDLDBDQUEwQyxDQUFDO0tBQzlDLGdCQUFnQixDQUFDLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFDLEVBQUUsV0FBVyxDQUFDO0tBQ3BELFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQztLQUNqQyxLQUFLLEVBQUUsQ0FBQztBQUViLE1BQU0sSUFBSSxHQUFpQyw0RUFBa0IsQ0FBQyxPQUFPLEVBQUU7S0FDbEUsc0JBQXNCLENBQUMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFD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LElBQUksQ0FBQztLQUNoQixVQUFVLENBQUMsZUFBZSxDQUFDO0tBQzNCLFVBQVUsQ0FBQyxVQUFVLENBQUM7S0FDdEIsS0FBSyxFQUFFLENBQUM7QUFFYixNQUFNLGVBQWUsR0FBZ0Msd0ZBQXdCLENBQUMsT0FBTyxFQUFFO0tBQ2xGLGlCQUFpQixDQUFDLENBQUMsQ0FBQztLQUNwQixlQUFlLENBQUMsQ0FBQyxDQUFDO0tBQ2xCLDBCQUEwQixDQUFDLHNCQUFzQixDQUFDO0tBQ2xELGlCQUFpQixDQUFDLHlFQUFpQixDQUFDLE9BQU8sRUFBRTtLQUN6QyxRQUFRLENBQUMsaUJBQWlCLENBQUM7S0FDM0IsWUFBWSxDQUFDLDhDQUE4QyxDQUFDO0tBQzVELFVBQVUsQ0FBQyxrQkFBa0IsQ0FBQztLQUM5QixZQUFZLENBQUMsbUNBQW1DLENBQUM7S0FDakQsWUFBWSxDQUFDLEVBQUUsQ0FBQztLQUNoQixLQUFLLEVBQUUsQ0FBQztLQUNaLEtBQUssRUFBRSxDQUFDO0FBRWIsTUFBTSxVQUFVLEdBQTJDLElBQUksMkVBQTBCLENBQWEsZUFBZSxDQUFDLENBQUM7QUFFdkgsTUFBTSw0QkFBNEIsR0FBZ0MsNkZBQTJCLENBQUMsT0FBTyxFQUFFO0tBQ2xHLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQztLQUN0QyxxQkFBcUIsQ0FBQyxtQ0FBbUMsQ0FBQztLQUMxRCxjQUFjLENBQUMsNEVBQTRFLENBQUM7S0FDNUYsZUFBZSxDQUFDLHdGQUF3RjtJQUNyRyw2R0FBNkc7SUFDN0csMEVBQTBFLENBQUM7S0FDOUUsdUJBQXVCLENBQUMsbUVBQWMsQ0FBQyxLQUFLLENBQUM7S0FDN0MsY0FBYyxDQUFDLFVBQVUsQ0FBQztLQUMxQixLQUFLLEVBQUUsQ0FBQztBQUV5QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL3JlZ2lzdHJpZXMvc3lzdGVtX2RlZmluaXRpb25zL0FsY2hlbWlzdHNTdXBwbGllc1YxNi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QWxjaGVtaWNhbFJlc3VsdDVFfSBmcm9tIFwiLi4vLi4vZG5kNWUvQWxjaGVtaWNhbFJlc3VsdDVFXCI7XHJcbmltcG9ydCB7QWxjaGVtaWNhbFJlc3VsdCwgQWxjaGVtaWNhbFJlc3VsdFNldH0gZnJvbSBcIi4uLy4uL2NvcmUvQWxjaGVtaWNhbFJlc3VsdFNldFwiO1xyXG5pbXBvcnQge0Vzc2VuY2VDb21iaW5lcn0gZnJvbSBcIi4uLy4uL2NvcmUvRXNzZW5jZUNvbWJpbmVyXCI7XHJcbmltcG9ydCB7RGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFfSBmcm9tIFwiLi4vLi4vZG5kNWUvRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFXCI7XHJcbmltcG9ydCB7RXNzZW5jZUNvbWJpbmluZ0ZhYnJpY2F0b3J9IGZyb20gXCIuLi8uLi9jb3JlL0ZhYnJpY2F0b3JcIjtcclxuaW1wb3J0IHtHYW1lU3lzdGVtVHlwZX0gZnJvbSBcIi4uLy4uL2NvcmUvR2FtZVN5c3RlbVR5cGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvcmUvQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb259IGZyb20gXCIuLi8uLi9jb3JlL0NyYWZ0aW5nU3lzdGVtU3BlY2lmaWNhdGlvblwiO1xyXG5cclxuY29uc3QgYmxpbmRpbmc6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSBBbGNoZW1pY2FsUmVzdWx0NUUuYnVpbGRlcigpXHJcbiAgICAud2l0aEVzc2VuY2VDb21iaW5hdGlvbihbJ0VBUlRIJywgJ0VBUlRIJ10pXHJcbiAgICAud2l0aERlc2NyaXB0aW9uKCdSZWxlYXNlIGEgYnVyc3Qgb2Ygc3RpbmdpbmcgZHVzdC4gQWZmZWN0ZWQgJyArXHJcbiAgICAgICAgJ3RhcmdldHMgYXJlIGJsaW5kZWQgZm9yIHRoZSBuZXh0IHJvdW5kLicpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IHByb25lOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydXQVRFUicsICdXQVRFUiddKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignUmVsZWFzZSBhIHB1ZGRsZSBvZiBzbGlwcGVyeSBvaWwuIEFmZmVjdGVkICcgK1xyXG4gICAgICAgICd0YXJnZXRzIGltbWVkaWF0ZWx5IGZhbGwgcHJvbmUuJylcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3QgbGlnaHRuaW5nOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydBSVInLCAnQUlSJ10pXHJcbiAgICAud2l0aERlc2NyaXB0aW9uKCdEZWFsIDFkNCBsaWdodG5pbmcgZGFtYWdlIG9uIGNvbnRhY3QuICcgK1xyXG4gICAgICAgICdEb3VibGUgZGFtYWdlIHRvIHRhcmdldHMgdG91Y2hpbmcgYSBtZXRhbCAnICtcclxuICAgICAgICAnc3VyZmFjZSBvciB1c2luZyBtZXRhbCB3ZWFwb25zIG9yIGFybW9yLicpXHJcbiAgICAud2l0aFJvbGxlZERhbWFnZSh7ZmFjZXM6IDQsIGFtb3VudDogMX0sICdsaWdodG5pbmcnKVxyXG4gICAgLndpdGhUYXJnZXQoJ25vbmUnLCAxLCAnY3JlYXR1cmUnKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBmaXJlOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydGSVJFJywgJ0ZJUkUnXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ0RlYWwgMWQ0IGZpcmUgZGFtYWdlIG9uIGNvbnRhY3QuIERvdWJsZSAnICtcclxuICAgICAgICAnZGFtYWdlIHRvIHRhcmdldHMgd2l0aCBjbG90aCBvciBsZWF0aGVyIGFybW9yLicpXHJcbiAgICAud2l0aFJvbGxlZERhbWFnZSh7ZmFjZXM6IDQsIGFtb3VudDogMX0sICdmaXJlJylcclxuICAgIC53aXRoVGFyZ2V0KCdub25lJywgMSwgJ2NyZWF0dXJlJylcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3QgZ2VsOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydFQVJUSCcsICdXQVRFUiddKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignUmVsZWFzZSBnZWwgdGhhdCBzdGlja3MgdG8gdGFyZ2V0cy4gRWFjaCByb3VuZCwnICtcclxuICAgICAgICAnYW55IGRhbWFnZS1kZWFsaW5nIGVmZmVjdHMgY29udGludWUgdG8gZGVhbCAxICcgK1xyXG4gICAgICAgICdkYW1hZ2UgZWFjaCB1bnRpbCBhbiBhY3Rpb24gaXMgdXNlZCB0byByZW1vdmUgJyArXHJcbiAgICAgICAgJ3RoZSBnZWwgd2l0aCBhIERDIDEwIERleHRlcml0eSBjaGVjay4nKVxyXG4gICAgLndpdGhGaXhlZERhbWFnZSgxLCAnbm9uZScpXHJcbiAgICAud2l0aFNhdmluZ1Rocm93KCdkZXgnLCAxMCwgJ2ZsYXQnKVxyXG4gICAgLndpdGhEdXJhdGlvbignc3BlY2lhbCcpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IHNsb3c6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSBBbGNoZW1pY2FsUmVzdWx0NUUuYnVpbGRlcigpXHJcbiAgICAud2l0aEVzc2VuY2VDb21iaW5hdGlvbihbJ1dBVEVSJywgJ0FJUiddKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignRGVhbCAxZDQgY29sZCBkYW1hZ2Ugb24gY29udGFjdC4gUmVkdWNlICcgK1xyXG4gICAgICAgICd0YXJnZXQgc3BlZWQgYnkgMTAgZmVldCBmb3IgdGhlIG5leHQgcm91bmQuJylcclxuICAgIC53aXRoUm9sbGVkRGFtYWdlKHtmYWNlczogNCwgYW1vdW50OiAxfSwgJ2NvbGQnKVxyXG4gICAgLndpdGhUYXJnZXQoJ25vbmUnLCAxLCAnY3JlYXR1cmUnKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBzcHJheTogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHQ1RS5idWlsZGVyKClcclxuICAgIC53aXRoRXNzZW5jZUNvbWJpbmF0aW9uKFsnQUlSJywgJ0ZJUkUnXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ1JlbGVhc2UgY29uY2VudHJhdGVkIG1pc3QgaW4gYWxsIGRpcmVjdGlvbnMuICcgK1xyXG4gICAgICAgICdJbmNyZWFzZSB0aGUgcmFkaXVzIG9mIGFsbCBlZmZlY3RzIGJ5IDUgZmVldC4nKVxyXG4gICAgLndpdGhBb0VFeHRlbmRlcignQUREJywgNSwgJ3JhZGl1cycpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IGFjaWQ6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSBBbGNoZW1pY2FsUmVzdWx0NUUuYnVpbGRlcigpXHJcbiAgICAud2l0aEVzc2VuY2VDb21iaW5hdGlvbihbJ0ZJUkUnLCAnRUFSVEgnXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ0RlYWwgMWQ4IGFjaWQgZGFtYWdlIG9uIGNvbnRhY3QuJylcclxuICAgIC53aXRoUm9sbGVkRGFtYWdlKHtmYWNlczogOCwgYW1vdW50OiAxfSwgJ2FjaWQnKVxyXG4gICAgLndpdGhUYXJnZXQoJ25vbmUnLCAxLCAnY3JlYXR1cmUnKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBkb3VibGVEYW1hZ2VEaWU6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSBBbGNoZW1pY2FsUmVzdWx0NUUuYnVpbGRlcigpXHJcbiAgICAud2l0aEVzc2VuY2VDb21iaW5hdGlvbihbJ1BPU0lUSVZFX0VORVJHWSddKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignUm9sbCBkb3VibGUgdGhlIG51bWJlciBvZiBhbGwgZGFtYWdlIGRpY2UuJylcclxuICAgIC53aXRoRGFtYWdlTW9kaWZpZXIoJ01VTFRJUExZJywyKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBpbmNyZWFzZURDOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydORUdBVElWRV9FTkVSR1knXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ0luY3JlYXNlIHRoZSBEQyB0byBhdm9pZCBib21iIGVmZmVjdHMgYnkgMi4nKVxyXG4gICAgLndpdGhTYXZpbmdUaHJvd01vZGlmaWVyKCdBREQnLCAyKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBrbm93bkFsY2hlbWljYWxSZXN1bHRzOiBBbGNoZW1pY2FsUmVzdWx0U2V0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdFNldC5idWlsZGVyKClcclxuICAgIC53aXRoUmVzdWx0KGJsaW5kaW5nKVxyXG4gICAgLndpdGhSZXN1bHQocHJvbmUpXHJcbiAgICAud2l0aFJlc3VsdChsaWdodG5pbmcpXHJcbiAgICAud2l0aFJlc3VsdChmaXJlKVxyXG4gICAgLndpdGhSZXN1bHQoZ2VsKVxyXG4gICAgLndpdGhSZXN1bHQoc2xvdylcclxuICAgIC53aXRoUmVzdWx0KHNwcmF5KVxyXG4gICAgLndpdGhSZXN1bHQoYWNpZClcclxuICAgIC53aXRoUmVzdWx0KGRvdWJsZURhbWFnZURpZSlcclxuICAgIC53aXRoUmVzdWx0KGluY3JlYXNlREMpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IGVzc2VuY2VDb21iaW5lcjogRXNzZW5jZUNvbWJpbmVyPEl0ZW1EYXRhNWU+ID0gRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhNYXhDb21wb25lbnRzKDYpXHJcbiAgICAud2l0aE1heEVzc2VuY2VzKDYpXHJcbiAgICAud2l0aEtub3duQWxjaGVtaWNhbFJlc3VsdHMoa25vd25BbGNoZW1pY2FsUmVzdWx0cylcclxuICAgIC53aXRoUmVzdWx0YW50SXRlbShDcmFmdGluZ0NvbXBvbmVudC5idWlsZGVyKClcclxuICAgICAgICAud2l0aE5hbWUoJ0FsY2hlbWljYWwgQm9tYicpXHJcbiAgICAgICAgLndpdGhJbWFnZVVybCgnc3lzdGVtcy9kbmQ1ZS9pY29ucy9pdGVtcy9pbnZlbnRvcnkvYm9tYi5qcGcnKVxyXG4gICAgICAgIC53aXRoUGFydElkKCc5MHo5bk93bUduUDRhVVVrJylcclxuICAgICAgICAud2l0aFN5c3RlbUlkKCdmYWJyaWNhdGUuYWxjaGVtaXN0cy1zdXBwbGllcy12MTEnKVxyXG4gICAgICAgIC53aXRoRXNzZW5jZXMoW10pXHJcbiAgICAgICAgLmJ1aWxkKCkpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IGZhYnJpY2F0b3I6IEVzc2VuY2VDb21iaW5pbmdGYWJyaWNhdG9yPEl0ZW1EYXRhNWU+ID0gbmV3IEVzc2VuY2VDb21iaW5pbmdGYWJyaWNhdG9yPEl0ZW1EYXRhNWU+KGVzc2VuY2VDb21iaW5lcik7XHJcblxyXG5jb25zdCBBbGNoZW1pc3RzU3VwcGxpZXNTeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24gPSBDcmFmdGluZ1N5c3RlbVNwZWNpZmljYXRpb24uYnVpbGRlcigpXHJcbiAgICAud2l0aE5hbWUoJ0FsY2hlbWlzdFxcJ3MgU3VwcGxpZXMgdjEuNicpXHJcbiAgICAud2l0aENvbXBlbmRpdW1QYWNrS2V5KCdmYWJyaWNhdGUuYWxjaGVtaXN0cy1zdXBwbGllcy12MTYnKVxyXG4gICAgLndpdGhFbmFibGVIaW50KCdFbmFibGUgdGhlIEFsY2hlbWlzdFxcJ3MgU3VwcGxpZXMgdjEuNiBjcmFmdGluZyBzeXN0ZW0gYnkgL3UvY2FsY3VsdXNDaGlsZD8nKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignQWxjaGVteSBpcyB0aGUgc2tpbGwgb2YgZXhwbG9pdGluZyB1bmlxdWUgcHJvcGVydGllcyBvZiBjZXJ0YWluIHBsYW50cywgbWluZXJhbHMsIGFuZCAnICtcclxuICAgICAgICAnY3JlYXR1cmUgcGFydHMsIGNvbWJpbmluZyB0aGVtIHRvIHByb2R1Y2UgZmFudGFzdGljIHN1YnN0YW5jZXMuIFRoaXMgYWxsb3dzIGV2ZW4gbm9uLXNwZWxsY2FzdGVycyB0byBtaW1pYyAnICtcclxuICAgICAgICAnbWlub3IgbWFnaWNhbCBlZmZlY3RzLCBhbHRob3VnaCB0aGUgY3JlYXRpb25zIHRoZW1zZWx2ZXMgYXJlIG5vbm1hZ2ljYWwuJylcclxuICAgIC53aXRoU3VwcG9ydGVkR2FtZVN5c3RlbShHYW1lU3lzdGVtVHlwZS5ETkQ1RSlcclxuICAgIC53aXRoRmFicmljYXRvcihmYWJyaWNhdG9yKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5leHBvcnQge0FsY2hlbWlzdHNTdXBwbGllc1N5c3RlbVNwZWN9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/registries/system_definitions/AlchemistsSuppliesV16.ts\n");

/***/ })

/******/ });