/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scripts/5e/AlchemicalEffect5E.ts":
/*!**********************************************!*\
  !*** ./src/scripts/5e/AlchemicalEffect5E.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AlchemicalCombination5e\": () => (/* binding */ AlchemicalCombination5e),\n/* harmony export */   \"AlchemicalCombiner5e\": () => (/* binding */ AlchemicalCombiner5e),\n/* harmony export */   \"AoeExtension5e\": () => (/* binding */ AoeExtension5e),\n/* harmony export */   \"Damage5e\": () => (/* binding */ Damage5e),\n/* harmony export */   \"DescriptiveEffect5e\": () => (/* binding */ DescriptiveEffect5e),\n/* harmony export */   \"DiceMultiplier5e\": () => (/* binding */ DiceMultiplier5e),\n/* harmony export */   \"Dnd5EAlchemicalEffectName\": () => (/* binding */ Dnd5EAlchemicalEffectName),\n/* harmony export */   \"SavingThrowModifier5e\": () => (/* binding */ SavingThrowModifier5e)\n/* harmony export */ });\nvar Dnd5EAlchemicalEffectName;\r\n(function (Dnd5EAlchemicalEffectName) {\r\n    Dnd5EAlchemicalEffectName[\"AOE_EXTENSION\"] = \"AOE_EXTENSION\";\r\n    Dnd5EAlchemicalEffectName[\"DAMAGE\"] = \"DAMAGE\";\r\n    Dnd5EAlchemicalEffectName[\"DAMAGE_MULTIPLIER\"] = \"DAMAGE_MULTIPLIER\";\r\n    Dnd5EAlchemicalEffectName[\"DESCRIPTIVE\"] = \"DESCRIPTIVE\";\r\n    Dnd5EAlchemicalEffectName[\"SAVE_MODIFIER\"] = \"SAVE_MODIFIER\";\r\n})(Dnd5EAlchemicalEffectName || (Dnd5EAlchemicalEffectName = {}));\r\nclass AlchemicalCombiner5e {\r\n    mix(effects) {\r\n        let combination = new AlchemicalCombination5e({});\r\n        effects.forEach(effect => combination = effect.mixInto(combination));\r\n        return combination;\r\n    }\r\n}\r\nclass AlchemicalCombination5e {\r\n    constructor({ damageByType = new Map(), descriptiveEffects = [], aoeExtension, savingThrowModifier, diceMultiplier }) {\r\n        this._damageByType = damageByType;\r\n        this._descriptiveEffects = descriptiveEffects;\r\n        this._aoeExtension = aoeExtension;\r\n        this._savingThrowModifier = savingThrowModifier;\r\n        this._diceMultiplier = diceMultiplier;\r\n    }\r\n    applyToItemData(itemData) {\r\n        var _a, _b;\r\n        // todo: figure out correct typing for v10\r\n        if (this._diceMultiplier) {\r\n            Array.from(this._damageByType.values())\r\n                .map(damage => this._diceMultiplier.multiply(damage))\r\n                .forEach(multipliedDamage => this._damageByType.set(multipliedDamage.damageType, multipliedDamage));\r\n        }\r\n        Array.from(this._damageByType.values())\r\n            .forEach(damage => itemData.damage.parts.push([damage.toExpression(), damage.damageType]));\r\n        if (this._savingThrowModifier) {\r\n            if ((_a = itemData.save) === null || _a === void 0 ? void 0 : _a.dc) {\r\n                itemData.save.dc += this._savingThrowModifier.value;\r\n            }\r\n        }\r\n        if (this._aoeExtension) {\r\n            if (((_b = itemData.target) === null || _b === void 0 ? void 0 : _b.units) === this._aoeExtension.units) {\r\n                itemData.target.value += this._aoeExtension.value;\r\n            }\r\n        }\r\n        this._descriptiveEffects.forEach(effect => {\r\n            itemData.description.value += `<p>${effect.describe()}</p>`;\r\n        });\r\n        return itemData;\r\n    }\r\n    toConstructorArgs() {\r\n        return {\r\n            damageByType: new Map(this._damageByType),\r\n            descriptiveEffects: this._descriptiveEffects,\r\n            aoeExtension: this._aoeExtension,\r\n            savingThrowModifier: this._savingThrowModifier,\r\n            diceMultiplier: this._diceMultiplier\r\n        };\r\n    }\r\n}\r\nclass Damage5e {\r\n    constructor(config) {\r\n        this._roll = config.roll;\r\n        this._damageType = config.type;\r\n        this._diceRoller = config.diceRoller;\r\n    }\r\n    describe() {\r\n        return `Adds ${this._roll.formula} ${this._damageType} damage`;\r\n    }\r\n    get diceRoller() {\r\n        return this._diceRoller;\r\n    }\r\n    get roll() {\r\n        return this._roll;\r\n    }\r\n    get damageType() {\r\n        return this._damageType;\r\n    }\r\n    mixInto(combination) {\r\n        const combinationConfig = combination.toConstructorArgs();\r\n        const modifiedDamage = combinationConfig.damageByType;\r\n        if (modifiedDamage.has(this._damageType)) {\r\n            const damageToCombine = modifiedDamage.get(this._damageType);\r\n            const combinedDamage = damageToCombine.combineWith(this);\r\n            modifiedDamage.set(this._damageType, combinedDamage);\r\n        }\r\n        else {\r\n            modifiedDamage.set(this._damageType, this);\r\n        }\r\n        combinationConfig.damageByType = modifiedDamage;\r\n        return new AlchemicalCombination5e(combinationConfig);\r\n    }\r\n    combineWith(other) {\r\n        const combinedRoll = this._diceRoller.combine(other.roll, this._roll);\r\n        return new Damage5e({ type: this._damageType, roll: combinedRoll, diceRoller: this._diceRoller });\r\n    }\r\n    toExpression() {\r\n        return this._roll.formula;\r\n    }\r\n}\r\n/**\r\n * Used for Conditions\r\n */\r\nclass DescriptiveEffect5e {\r\n    constructor(effectDetail) {\r\n        this._effectDetail = effectDetail;\r\n    }\r\n    describe() {\r\n        return this._effectDetail;\r\n    }\r\n    mixInto(combination) {\r\n        const combinationConfig = combination.toConstructorArgs();\r\n        combinationConfig.descriptiveEffects.push(this);\r\n        return new AlchemicalCombination5e(combinationConfig);\r\n    }\r\n}\r\nclass AoeExtension5e {\r\n    constructor(config) {\r\n        this._units = config.units;\r\n        this._value = config.value;\r\n    }\r\n    get units() {\r\n        return this._units;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    describe() {\r\n        return `Increases the range of area effects by ${this._value}${this._units}`;\r\n    }\r\n    mixInto(combination) {\r\n        const combinationConfig = combination.toConstructorArgs();\r\n        const existing = combinationConfig.aoeExtension;\r\n        if (!existing) {\r\n            combinationConfig.aoeExtension = this;\r\n            return new AlchemicalCombination5e(combinationConfig);\r\n        }\r\n        if (existing.units !== this._units) {\r\n            throw new Error(\"Mixing units in AOE Extension effects is not currently supported. \");\r\n        }\r\n        combinationConfig.aoeExtension = existing.combineWith(this);\r\n        return new AlchemicalCombination5e(combinationConfig);\r\n    }\r\n    combineWith(other) {\r\n        const combinedValue = other.value + this._value;\r\n        return new AoeExtension5e({ units: this._units, value: combinedValue });\r\n    }\r\n}\r\nclass SavingThrowModifier5e {\r\n    constructor({ value }) {\r\n        this._value = value;\r\n    }\r\n    toExpression() {\r\n        return `${Math.sign(this._value)}${this._value}`;\r\n    }\r\n    describe() {\r\n        return `Modifies the DC of the saving throw to avoid effects by ${this.toExpression()}. `;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    combineWith(other) {\r\n        return new SavingThrowModifier5e({ value: other.value + this._value });\r\n    }\r\n    mixInto(combination) {\r\n        const combinationConfig = combination.toConstructorArgs();\r\n        const existing = combinationConfig.savingThrowModifier;\r\n        if (!existing) {\r\n            combinationConfig.savingThrowModifier = this;\r\n            return new AlchemicalCombination5e(combinationConfig);\r\n        }\r\n        combinationConfig.savingThrowModifier = existing.combineWith(this);\r\n        return new AlchemicalCombination5e(combinationConfig);\r\n    }\r\n}\r\nclass DiceMultiplier5e {\r\n    constructor({ multiplierValue, diceRoller }) {\r\n        this._value = multiplierValue;\r\n        this._diceRoller = diceRoller;\r\n    }\r\n    describe() {\r\n        return `Multiplies the number of damage dice for all effects by ${this._value}`;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    combineWith(other) {\r\n        return new DiceMultiplier5e({\r\n            multiplierValue: other.value * this._value,\r\n            diceRoller: this._diceRoller\r\n        });\r\n    }\r\n    multiply(damageEffect) {\r\n        const multipliedRoll = this._diceRoller.multiply(damageEffect.roll, this._value);\r\n        return new Damage5e({\r\n            type: damageEffect.damageType,\r\n            roll: multipliedRoll,\r\n            diceRoller: damageEffect.diceRoller\r\n        });\r\n    }\r\n    mixInto(combination) {\r\n        const combinationConfig = combination.toConstructorArgs();\r\n        const existing = combinationConfig.diceMultiplier;\r\n        if (!existing) {\r\n            combinationConfig.diceMultiplier = this;\r\n            return new AlchemicalCombination5e(combinationConfig);\r\n        }\r\n        combinationConfig.diceMultiplier = existing.combineWith(this);\r\n        return new AlchemicalCombination5e(combinationConfig);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy81ZS9BbGNoZW1pY2FsRWZmZWN0NUUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHQSxJQUFLLHlCQU1KO0FBTkQsV0FBSyx5QkFBeUI7SUFDMUIsNERBQStCO0lBQy9CLDhDQUFpQjtJQUNqQixvRUFBdUM7SUFDdkMsd0RBQTJCO0lBQzNCLDREQUErQjtBQUNuQyxDQUFDLEVBTkkseUJBQXlCLEtBQXpCLHlCQUF5QixRQU03QjtBQUVELE1BQU0sb0JBQW9CO0lBRXRCLEdBQUcsQ0FBQyxPQUFvRDtRQUNwRCxJQUFJLFdBQVcsR0FBRyxJQUFJLHVCQUF1QixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNwRSxPQUFPLFdBQVcsQ0FBQztJQUN2QixDQUFDO0NBRUo7QUFVRCxNQUFNLHVCQUF1QjtJQVF6QixZQUFZLEVBQ1IsWUFBWSxHQUFHLElBQUksR0FBRyxFQUFFLEVBQ3hCLGtCQUFrQixHQUFHLEVBQUUsRUFDdkIsWUFBWSxFQUNaLG1CQUFtQixFQUNuQixjQUFjLEVBQ2M7UUFDNUIsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7UUFDbEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGtCQUFrQixDQUFDO1FBQzlDLElBQUksQ0FBQyxhQUFhLEdBQUcsWUFBWSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxtQkFBbUIsQ0FBQztRQUNoRCxJQUFJLENBQUMsZUFBZSxHQUFHLGNBQWMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsZUFBZSxDQUFDLFFBQWE7O1FBQ3pCLDBDQUEwQztRQUMxQyxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7WUFDdEIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO2lCQUNsQyxH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R0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlELE9BQU8sSUFBSSx1QkFBdUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzFELENBQUM7Q0FFSjtBQVdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvNWUvQWxjaGVtaWNhbEVmZmVjdDVFLnRzPzM2ZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBbGNoZW1pY2FsQ29tYmluYXRpb24sIEFsY2hlbWljYWxDb21iaW5lciwgQWxjaGVtaWNhbEVmZmVjdH0gZnJvbSBcIi4uL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVtaWNhbEVmZmVjdFwiO1xyXG5pbXBvcnQge0RpY2VSb2xsZXJ9IGZyb20gXCIuLi9mb3VuZHJ5L0RpY2VSb2xsZXJcIjtcclxuXHJcbmVudW0gRG5kNUVBbGNoZW1pY2FsRWZmZWN0TmFtZSB7XHJcbiAgICBBT0VfRVhURU5TSU9OID0gXCJBT0VfRVhURU5TSU9OXCIsXHJcbiAgICBEQU1BR0UgPSBcIkRBTUFHRVwiLFxyXG4gICAgREFNQUdFX01VTFRJUExJRVIgPSBcIkRBTUFHRV9NVUxUSVBMSUVSXCIsXHJcbiAgICBERVNDUklQVElWRSA9IFwiREVTQ1JJUFRJVkVcIixcclxuICAgIFNBVkVfTU9ESUZJRVIgPSBcIlNBVkVfTU9ESUZJRVJcIlxyXG59XHJcblxyXG5jbGFzcyBBbGNoZW1pY2FsQ29tYmluZXI1ZSBpbXBsZW1lbnRzIEFsY2hlbWljYWxDb21iaW5lcjxBbGNoZW1pY2FsQ29tYmluYXRpb241ZT4ge1xyXG5cclxuICAgIG1peChlZmZlY3RzOiBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbjVlPltdKTogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUge1xyXG4gICAgICAgIGxldCBjb21iaW5hdGlvbiA9IG5ldyBBbGNoZW1pY2FsQ29tYmluYXRpb241ZSh7fSk7XHJcbiAgICAgICAgZWZmZWN0cy5mb3JFYWNoKGVmZmVjdCA9PiBjb21iaW5hdGlvbiA9IGVmZmVjdC5taXhJbnRvKGNvbWJpbmF0aW9uKSlcclxuICAgICAgICByZXR1cm4gY29tYmluYXRpb247XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQWxjaGVtaWNhbENvbWJpbmF0aW9uNWVDb25maWcge1xyXG4gICAgZGljZU11bHRpcGxpZXI/OiBEaWNlTXVsdGlwbGllcjVlO1xyXG4gICAgZGFtYWdlQnlUeXBlPzogTWFwPERORDVlLkRhbWFnZVR5cGUsIERhbWFnZTVlPjtcclxuICAgIGRlc2NyaXB0aXZlRWZmZWN0cz86IERlc2NyaXB0aXZlRWZmZWN0NWVbXTtcclxuICAgIGFvZUV4dGVuc2lvbj86IEFvZUV4dGVuc2lvbjVlO1xyXG4gICAgc2F2aW5nVGhyb3dNb2RpZmllcj86IFNhdmluZ1Rocm93TW9kaWZpZXI1ZTtcclxufVxyXG5cclxuY2xhc3MgQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUgaW1wbGVtZW50cyBBbGNoZW1pY2FsQ29tYmluYXRpb24ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2RhbWFnZUJ5VHlwZTogTWFwPERORDVlLkRhbWFnZVR5cGUsIERhbWFnZTVlPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Rlc2NyaXB0aXZlRWZmZWN0czogRGVzY3JpcHRpdmVFZmZlY3Q1ZVtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYW9lRXh0ZW5zaW9uOiBBb2VFeHRlbnNpb241ZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3NhdmluZ1Rocm93TW9kaWZpZXI6IFNhdmluZ1Rocm93TW9kaWZpZXI1ZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2RpY2VNdWx0aXBsaWVyOiBEaWNlTXVsdGlwbGllcjVlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHtcclxuICAgICAgICBkYW1hZ2VCeVR5cGUgPSBuZXcgTWFwKCksXHJcbiAgICAgICAgZGVzY3JpcHRpdmVFZmZlY3RzID0gW10sXHJcbiAgICAgICAgYW9lRXh0ZW5zaW9uLFxyXG4gICAgICAgIHNhdmluZ1Rocm93TW9kaWZpZXIsXHJcbiAgICAgICAgZGljZU11bHRpcGxpZXJcclxuICAgIH06IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlQ29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fZGFtYWdlQnlUeXBlID0gZGFtYWdlQnlUeXBlO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aXZlRWZmZWN0cyA9IGRlc2NyaXB0aXZlRWZmZWN0cztcclxuICAgICAgICB0aGlzLl9hb2VFeHRlbnNpb24gPSBhb2VFeHRlbnNpb247XHJcbiAgICAgICAgdGhpcy5fc2F2aW5nVGhyb3dNb2RpZmllciA9IHNhdmluZ1Rocm93TW9kaWZpZXI7XHJcbiAgICAgICAgdGhpcy5fZGljZU11bHRpcGxpZXIgPSBkaWNlTXVsdGlwbGllcjtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRvSXRlbURhdGEoaXRlbURhdGE6IGFueSk6IGFueSB7XHJcbiAgICAgICAgLy8gdG9kbzogZmlndXJlIG91dCBjb3JyZWN0IHR5cGluZyBmb3IgdjEwXHJcbiAgICAgICAgaWYgKHRoaXMuX2RpY2VNdWx0aXBsaWVyKSB7XHJcbiAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5fZGFtYWdlQnlUeXBlLnZhbHVlcygpKVxyXG4gICAgICAgICAgICAgICAgLm1hcChkYW1hZ2UgPT4gdGhpcy5fZGljZU11bHRpcGxpZXIubXVsdGlwbHkoZGFtYWdlKSlcclxuICAgICAgICAgICAgICAgIC5mb3JFYWNoKG11bHRpcGxpZWREYW1hZ2UgPT4gdGhpcy5fZGFtYWdlQnlUeXBlLnNldChtdWx0aXBsaWVkRGFtYWdlLmRhbWFnZVR5cGUsIG11bHRpcGxpZWREYW1hZ2UpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgQXJyYXkuZnJvbSh0aGlzLl9kYW1hZ2VCeVR5cGUudmFsdWVzKCkpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGRhbWFnZSA9PiBpdGVtRGF0YS5kYW1hZ2UucGFydHMucHVzaChbZGFtYWdlLnRvRXhwcmVzc2lvbigpLCBkYW1hZ2UuZGFtYWdlVHlwZV0pKTtcclxuICAgICAgICBpZiAodGhpcy5fc2F2aW5nVGhyb3dNb2RpZmllcikge1xyXG4gICAgICAgICAgICBpZiAoaXRlbURhdGEuc2F2ZT8uZGMpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1EYXRhLnNhdmUuZGMgKz0gdGhpcy5fc2F2aW5nVGhyb3dNb2RpZmllci52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fYW9lRXh0ZW5zaW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtRGF0YS50YXJnZXQ/LnVuaXRzID09PSB0aGlzLl9hb2VFeHRlbnNpb24udW5pdHMpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1EYXRhLnRhcmdldC52YWx1ZSArPSB0aGlzLl9hb2VFeHRlbnNpb24udmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpdmVFZmZlY3RzLmZvckVhY2goZWZmZWN0ID0+IHtcclxuICAgICAgICAgICAgaXRlbURhdGEuZGVzY3JpcHRpb24udmFsdWUgKz0gYDxwPiR7ZWZmZWN0LmRlc2NyaWJlKCl9PC9wPmBcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaXRlbURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdG9Db25zdHJ1Y3RvckFyZ3MoKTogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWVDb25maWcge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhbWFnZUJ5VHlwZTogbmV3IE1hcCh0aGlzLl9kYW1hZ2VCeVR5cGUpLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGl2ZUVmZmVjdHM6IHRoaXMuX2Rlc2NyaXB0aXZlRWZmZWN0cyxcclxuICAgICAgICAgICAgYW9lRXh0ZW5zaW9uOnRoaXMuX2FvZUV4dGVuc2lvbixcclxuICAgICAgICAgICAgc2F2aW5nVGhyb3dNb2RpZmllcjogdGhpcy5fc2F2aW5nVGhyb3dNb2RpZmllcixcclxuICAgICAgICAgICAgZGljZU11bHRpcGxpZXI6IHRoaXMuX2RpY2VNdWx0aXBsaWVyXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgRGFtYWdlNWUgaW1wbGVtZW50cyBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbjVlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcm9sbDogUm9sbDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2RhbWFnZVR5cGU6IERORDVlLkRhbWFnZVR5cGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kaWNlUm9sbGVyOiBEaWNlUm9sbGVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzoge1xyXG4gICAgICAgIHJvbGw6IFJvbGwsXHJcbiAgICAgICAgdHlwZTogRE5ENWUuRGFtYWdlVHlwZSxcclxuICAgICAgICBkaWNlUm9sbGVyOiBEaWNlUm9sbGVyXHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy5fcm9sbCA9IGNvbmZpZy5yb2xsO1xyXG4gICAgICAgIHRoaXMuX2RhbWFnZVR5cGUgPSBjb25maWcudHlwZTtcclxuICAgICAgICB0aGlzLl9kaWNlUm9sbGVyID0gY29uZmlnLmRpY2VSb2xsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYEFkZHMgJHt0aGlzLl9yb2xsLmZvcm11bGF9ICR7dGhpcy5fZGFtYWdlVHlwZX0gZGFtYWdlYFxyXG4gICAgfVxyXG5cclxuICAgIGdldCBkaWNlUm9sbGVyKCk6IERpY2VSb2xsZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaWNlUm9sbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByb2xsKCk6IFJvbGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yb2xsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkYW1hZ2VUeXBlKCk6IERORDVlLkRhbWFnZVR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kYW1hZ2VUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIG1peEludG8oY29tYmluYXRpb246IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKTogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUge1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uQ29uZmlnID0gY29tYmluYXRpb24udG9Db25zdHJ1Y3RvckFyZ3MoKTtcclxuICAgICAgICBjb25zdCBtb2RpZmllZERhbWFnZSA9IGNvbWJpbmF0aW9uQ29uZmlnLmRhbWFnZUJ5VHlwZTtcclxuICAgICAgICBpZiAobW9kaWZpZWREYW1hZ2UuaGFzKHRoaXMuX2RhbWFnZVR5cGUpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhbWFnZVRvQ29tYmluZSA9IG1vZGlmaWVkRGFtYWdlLmdldCh0aGlzLl9kYW1hZ2VUeXBlKTtcclxuICAgICAgICAgICAgY29uc3QgY29tYmluZWREYW1hZ2UgPSBkYW1hZ2VUb0NvbWJpbmUuY29tYmluZVdpdGgodGhpcyk7XHJcbiAgICAgICAgICAgIG1vZGlmaWVkRGFtYWdlLnNldCh0aGlzLl9kYW1hZ2VUeXBlLCBjb21iaW5lZERhbWFnZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbW9kaWZpZWREYW1hZ2Uuc2V0KHRoaXMuX2RhbWFnZVR5cGUsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb21iaW5hdGlvbkNvbmZpZy5kYW1hZ2VCeVR5cGUgPSBtb2RpZmllZERhbWFnZTtcclxuICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKGNvbWJpbmF0aW9uQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbWJpbmVXaXRoKG90aGVyOiBEYW1hZ2U1ZSk6IERhbWFnZTVlIHtcclxuICAgICAgICBjb25zdCBjb21iaW5lZFJvbGw6IFJvbGwgPSB0aGlzLl9kaWNlUm9sbGVyLmNvbWJpbmUob3RoZXIucm9sbCwgdGhpcy5fcm9sbCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYW1hZ2U1ZSh7dHlwZTogdGhpcy5fZGFtYWdlVHlwZSwgcm9sbDogY29tYmluZWRSb2xsLCBkaWNlUm9sbGVyOiB0aGlzLl9kaWNlUm9sbGVyfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9FeHByZXNzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvbGwuZm9ybXVsYTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVXNlZCBmb3IgQ29uZGl0aW9uc1xyXG4gKi9cclxuY2xhc3MgRGVzY3JpcHRpdmVFZmZlY3Q1ZSBpbXBsZW1lbnRzIEFsY2hlbWljYWxFZmZlY3Q8QWxjaGVtaWNhbENvbWJpbmF0aW9uNWU+IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lZmZlY3REZXRhaWw6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihlZmZlY3REZXRhaWw6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX2VmZmVjdERldGFpbCA9IGVmZmVjdERldGFpbDtcclxuICAgIH1cclxuXHJcbiAgICBkZXNjcmliZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lZmZlY3REZXRhaWw7XHJcbiAgICB9XHJcblxyXG4gICAgbWl4SW50byhjb21iaW5hdGlvbjogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUpOiBBbGNoZW1pY2FsQ29tYmluYXRpb241ZSB7XHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25Db25maWcgPSBjb21iaW5hdGlvbi50b0NvbnN0cnVjdG9yQXJncygpO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uQ29uZmlnLmRlc2NyaXB0aXZlRWZmZWN0cy5wdXNoKHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUoY29tYmluYXRpb25Db25maWcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgQW9lRXh0ZW5zaW9uNWUgaW1wbGVtZW50cyBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbjVlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfdW5pdHM6IERORDVlLlVuaXQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF92YWx1ZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzoge1xyXG4gICAgICAgIHVuaXRzOiBETkQ1ZS5Vbml0O1xyXG4gICAgICAgIHZhbHVlOiBudW1iZXI7XHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy5fdW5pdHMgPSBjb25maWcudW5pdHM7XHJcbiAgICAgICAgdGhpcy5fdmFsdWUgPSBjb25maWcudmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHVuaXRzKCk6IERORDVlLlVuaXQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91bml0cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYEluY3JlYXNlcyB0aGUgcmFuZ2Ugb2YgYXJlYSBlZmZlY3RzIGJ5ICR7dGhpcy5fdmFsdWV9JHt0aGlzLl91bml0c31gO1xyXG4gICAgfVxyXG5cclxuICAgIG1peEludG8oY29tYmluYXRpb246IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKTogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUge1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uQ29uZmlnID0gY29tYmluYXRpb24udG9Db25zdHJ1Y3RvckFyZ3MoKTtcclxuICAgICAgICBjb25zdCBleGlzdGluZyA9IGNvbWJpbmF0aW9uQ29uZmlnLmFvZUV4dGVuc2lvbjtcclxuICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uQ29uZmlnLmFvZUV4dGVuc2lvbiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUoY29tYmluYXRpb25Db25maWcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXhpc3RpbmcudW5pdHMgIT09IHRoaXMuX3VuaXRzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1peGluZyB1bml0cyBpbiBBT0UgRXh0ZW5zaW9uIGVmZmVjdHMgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQuIFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tYmluYXRpb25Db25maWcuYW9lRXh0ZW5zaW9uID0gZXhpc3RpbmcuY29tYmluZVdpdGgodGhpcyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbGNoZW1pY2FsQ29tYmluYXRpb241ZShjb21iaW5hdGlvbkNvbmZpZyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb21iaW5lV2l0aChvdGhlcjogQW9lRXh0ZW5zaW9uNWUpOiBBb2VFeHRlbnNpb241ZSB7XHJcbiAgICAgICAgY29uc3QgY29tYmluZWRWYWx1ZSA9IG90aGVyLnZhbHVlICsgdGhpcy5fdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBb2VFeHRlbnNpb241ZSh7dW5pdHM6IHRoaXMuX3VuaXRzLCB2YWx1ZTogY29tYmluZWRWYWx1ZX0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgU2F2aW5nVGhyb3dNb2RpZmllcjVlIGltcGxlbWVudHMgQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb241ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3ZhbHVlOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioe1xyXG4gICAgICAgIHZhbHVlXHJcbiAgICB9OiB7XHJcbiAgICAgICAgdmFsdWU6IG51bWJlclxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b0V4cHJlc3Npb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYCR7TWF0aC5zaWduKHRoaXMuX3ZhbHVlKX0ke3RoaXMuX3ZhbHVlfWA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYE1vZGlmaWVzIHRoZSBEQyBvZiB0aGUgc2F2aW5nIHRocm93IHRvIGF2b2lkIGVmZmVjdHMgYnkgJHt0aGlzLnRvRXhwcmVzc2lvbigpfS4gYDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdmFsdWUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29tYmluZVdpdGgob3RoZXI6IFNhdmluZ1Rocm93TW9kaWZpZXI1ZSk6IFNhdmluZ1Rocm93TW9kaWZpZXI1ZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTYXZpbmdUaHJvd01vZGlmaWVyNWUoe3ZhbHVlOiBvdGhlci52YWx1ZSArIHRoaXMuX3ZhbHVlfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWl4SW50byhjb21iaW5hdGlvbjogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUpOiBBbGNoZW1pY2FsQ29tYmluYXRpb241ZSB7XHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25Db25maWcgPSBjb21iaW5hdGlvbi50b0NvbnN0cnVjdG9yQXJncygpO1xyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nID0gY29tYmluYXRpb25Db25maWcuc2F2aW5nVGhyb3dNb2RpZmllcjtcclxuICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uQ29uZmlnLnNhdmluZ1Rocm93TW9kaWZpZXIgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKGNvbWJpbmF0aW9uQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tYmluYXRpb25Db25maWcuc2F2aW5nVGhyb3dNb2RpZmllciA9IGV4aXN0aW5nLmNvbWJpbmVXaXRoKHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBuZXcgQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUoY29tYmluYXRpb25Db25maWcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgRGljZU11bHRpcGxpZXI1ZSBpbXBsZW1lbnRzIEFsY2hlbWljYWxFZmZlY3Q8QWxjaGVtaWNhbENvbWJpbmF0aW9uNWU+IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF92YWx1ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGljZVJvbGxlcjogRGljZVJvbGxlcjtcclxuXHJcbiAgICBkZXNjcmliZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgTXVsdGlwbGllcyB0aGUgbnVtYmVyIG9mIGRhbWFnZSBkaWNlIGZvciBhbGwgZWZmZWN0cyBieSAke3RoaXMuX3ZhbHVlfWA7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3Ioe1xyXG4gICAgICAgIG11bHRpcGxpZXJWYWx1ZSxcclxuICAgICAgICBkaWNlUm9sbGVyXHJcbiAgICB9OiB7XHJcbiAgICAgICAgbXVsdGlwbGllclZhbHVlOiBudW1iZXIsXHJcbiAgICAgICAgZGljZVJvbGxlcjogRGljZVJvbGxlclxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbXVsdGlwbGllclZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2RpY2VSb2xsZXIgPSBkaWNlUm9sbGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2YWx1ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb21iaW5lV2l0aChvdGhlcjogRGljZU11bHRpcGxpZXI1ZSk6IERpY2VNdWx0aXBsaWVyNWUge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGljZU11bHRpcGxpZXI1ZSh7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXJWYWx1ZTogb3RoZXIudmFsdWUgKiB0aGlzLl92YWx1ZSxcclxuICAgICAgICAgICAgZGljZVJvbGxlcjp0aGlzLl9kaWNlUm9sbGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbXVsdGlwbHkoZGFtYWdlRWZmZWN0OiBEYW1hZ2U1ZSk6IERhbWFnZTVlIHtcclxuICAgICAgICBjb25zdCBtdWx0aXBsaWVkUm9sbCA9IHRoaXMuX2RpY2VSb2xsZXIubXVsdGlwbHkoZGFtYWdlRWZmZWN0LnJvbGwsIHRoaXMuX3ZhbHVlKTtcclxuICAgICAgICByZXR1cm4gbmV3IERhbWFnZTVlKHtcclxuICAgICAgICAgICAgdHlwZTogZGFtYWdlRWZmZWN0LmRhbWFnZVR5cGUsXHJcbiAgICAgICAgICAgIHJvbGw6IG11bHRpcGxpZWRSb2xsLFxyXG4gICAgICAgICAgICBkaWNlUm9sbGVyOiBkYW1hZ2VFZmZlY3QuZGljZVJvbGxlclxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1peEludG8oY29tYmluYXRpb246IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKTogQWxjaGVtaWNhbENvbWJpbmF0aW9uNWUge1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uQ29uZmlnID0gY29tYmluYXRpb24udG9Db25zdHJ1Y3RvckFyZ3MoKTtcclxuICAgICAgICBjb25zdCBleGlzdGluZyA9IGNvbWJpbmF0aW9uQ29uZmlnLmRpY2VNdWx0aXBsaWVyO1xyXG4gICAgICAgIGlmICghZXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgY29tYmluYXRpb25Db25maWcuZGljZU11bHRpcGxpZXIgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKGNvbWJpbmF0aW9uQ29uZmlnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29tYmluYXRpb25Db25maWcuZGljZU11bHRpcGxpZXIgPSBleGlzdGluZy5jb21iaW5lV2l0aCh0aGlzKTtcclxuICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxDb21iaW5hdGlvbjVlKGNvbWJpbmF0aW9uQ29uZmlnKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBEbmQ1RUFsY2hlbWljYWxFZmZlY3ROYW1lLFxyXG4gICAgQWxjaGVtaWNhbENvbWJpbmVyNWUsXHJcbiAgICBBbGNoZW1pY2FsQ29tYmluYXRpb241ZSxcclxuICAgIERhbWFnZTVlLFxyXG4gICAgRGVzY3JpcHRpdmVFZmZlY3Q1ZSxcclxuICAgIEFvZUV4dGVuc2lvbjVlLFxyXG4gICAgU2F2aW5nVGhyb3dNb2RpZmllcjVlLFxyXG4gICAgRGljZU11bHRpcGxpZXI1ZVxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/5e/AlchemicalEffect5E.ts\n");

/***/ }),

/***/ "./src/scripts/5e/RollProvider5E.ts":
/*!******************************************!*\
  !*** ./src/scripts/5e/RollProvider5E.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingAbilityModifierCalculator\": () => (/* binding */ CraftingAbilityModifierCalculator),\n/* harmony export */   \"RollProvider5E\": () => (/* binding */ RollProvider5E),\n/* harmony export */   \"RollProvider5EFactory\": () => (/* binding */ RollProvider5EFactory),\n/* harmony export */   \"ToolProficiencyModifierCalculator\": () => (/* binding */ ToolProficiencyModifierCalculator)\n/* harmony export */ });\n/* harmony import */ var _crafting_Tool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../crafting/Tool */ \"./src/scripts/crafting/Tool.ts\");\n\r\nclass ToolProficiencyModifierCalculator {\r\n    constructor(tool) {\r\n        this._tool = tool;\r\n    }\r\n    calculate(actor) {\r\n        const characterData = actor.getRollData();\r\n        const allToolProficiencies = characterData.traits.toolProf.custom.split(',')\r\n            .map((customProficiency) => customProficiency.trim())\r\n            .concat(characterData.traits.toolProf.value);\r\n        const hasToolProficiency = allToolProficiencies\r\n            .find((toolProficiency) => this._tool.proficiencyLabel.localeCompare(toolProficiency, undefined, { sensitivity: 'base' }) === 0);\r\n        if (!hasToolProficiency) {\r\n            return new NumericTerm({ number: 0 });\r\n        }\r\n        const ownsTool = actor.items\r\n            .find((item) => this._tool.displayName.localeCompare(item.data.name, undefined, { sensitivity: 'base' }) === 0);\r\n        if (!ownsTool) {\r\n            return new NumericTerm({ number: 0 });\r\n        }\r\n        const characterAttributes = characterData.attributes;\r\n        return new NumericTerm({ number: characterAttributes.prof });\r\n    }\r\n}\r\nclass CraftingAbilityModifierCalculator {\r\n    constructor(ability) {\r\n        this._ability = ability;\r\n    }\r\n    calculate(actor) {\r\n        const characterData = actor.getRollData();\r\n        const craftingAbility = characterData.abilities[this._ability];\r\n        return new NumericTerm({ number: craftingAbility.mod });\r\n    }\r\n}\r\nclass RollProvider5E {\r\n    constructor({ modifierCalculators = [] }) {\r\n        this._modifierCalculators = modifierCalculators;\r\n    }\r\n    getForActor(actor) {\r\n        return this._modifierCalculators.map(calculator => calculator.calculate(actor));\r\n    }\r\n}\r\nclass RollProvider5EFactory {\r\n    make(specification) {\r\n        if (!specification) {\r\n            return new RollProvider5E({});\r\n        }\r\n        const modifierCalculators = [];\r\n        if (specification.addToolProficiency && specification.tool) {\r\n            const tool = new _crafting_Tool__WEBPACK_IMPORTED_MODULE_0__.Tool(specification.tool.name, specification.tool.skillProficiency);\r\n            modifierCalculators.push(new ToolProficiencyModifierCalculator(tool));\r\n        }\r\n        modifierCalculators.push(new CraftingAbilityModifierCalculator(specification.ability));\r\n        return new RollProvider5E({ modifierCalculators: modifierCalculators });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxDQUFDLENBQUM7U0FDakM7UUFFRCxNQUFNLG1CQUFtQixHQUF1QyxFQUFFLENBQUM7UUFDbkUsSUFBSSxhQUFhLENBQUMsa0JBQWtCLElBQUksYUFBYSxDQUFDLElBQUksRUFBRTtZQUN4RCxNQUFNLElBQUksR0FBRyxJQUFJLGdEQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsYUFBYSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3BGLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLGlDQUFpQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDekU7UUFDRCxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxpQ0FBaUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUV2RixPQUFPLElBQUksY0FBYyxDQUFDLEVBQUUsbUJBQW1CLEVBQUUsbUJBQW1CLEVBQUUsQ0FBRSxDQUFDO0lBQzdFLENBQUM7Q0FFSjtBQUVxSCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzLzVlL1JvbGxQcm92aWRlcjVFLnRzPzA0YzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNb2RpZmllckNhbGN1bGF0b3IsIEdhbWVTeXN0ZW1Sb2xsTW9kaWZpZXJQcm92aWRlciwgUm9sbE1vZGlmaWVyUHJvdmlkZXJGYWN0b3J5fSBmcm9tIFwiLi4vY3JhZnRpbmcvY2hlY2svR2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyXCI7XHJcbmltcG9ydCB7VG9vbH0gZnJvbSBcIi4uL2NyYWZ0aW5nL1Rvb2xcIjtcclxuaW1wb3J0IENoYXJhY3RlciA9IGRhdGE1ZS5DaGFyYWN0ZXI7XHJcbmltcG9ydCBQYXRjaEFjdG9yNWUgPSBQYXRjaFR5cGVzNWUuUGF0Y2hBY3RvcjVlO1xyXG5pbXBvcnQgQ2hhcmFjdGVyQWJpbGl0eSA9IFBhdGNoVHlwZXM1ZS5DaGFyYWN0ZXJBYmlsaXR5O1xyXG5pbXBvcnQgT3duZWRJdGVtUGF0Y2g1ZSA9IFBhdGNoVHlwZXM1ZS5Pd25lZEl0ZW1QYXRjaDVlO1xyXG5pbXBvcnQgUGF0Y2hBdHRyaWJ1dGVzNWUgPSBQYXRjaFR5cGVzNWUuUGF0Y2hBdHRyaWJ1dGVzNWU7XHJcbmltcG9ydCB7RG5ENUVDcmFmdGluZ0NoZWNrU3BlY30gZnJvbSBcIi4uL3N5c3RlbV9kZWZpbml0aW9ucy9EbkQ1ZVwiO1xyXG5cclxuY2xhc3MgVG9vbFByb2ZpY2llbmN5TW9kaWZpZXJDYWxjdWxhdG9yIGltcGxlbWVudHMgTW9kaWZpZXJDYWxjdWxhdG9yPFBhdGNoQWN0b3I1ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Rvb2w6IFRvb2w7XHJcblxyXG4gICAgY29uc3RydWN0b3IodG9vbDogVG9vbCkge1xyXG4gICAgICAgIHRoaXMuX3Rvb2wgPSB0b29sO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGN1bGF0ZShhY3RvcjogUGF0Y2hUeXBlczVlLlBhdGNoQWN0b3I1ZSk6IFJvbGxUZXJtIHtcclxuICAgICAgICBjb25zdCBjaGFyYWN0ZXJEYXRhOiBDaGFyYWN0ZXIgPSBhY3Rvci5nZXRSb2xsRGF0YSgpIGFzIENoYXJhY3RlcjtcclxuICAgICAgICBjb25zdCBhbGxUb29sUHJvZmljaWVuY2llczogc3RyaW5nW10gPSBjaGFyYWN0ZXJEYXRhLnRyYWl0cy50b29sUHJvZi5jdXN0b20uc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAubWFwKChjdXN0b21Qcm9maWNpZW5jeTogc3RyaW5nKSA9PiBjdXN0b21Qcm9maWNpZW5jeS50cmltKCkpXHJcbiAgICAgICAgICAgIC5jb25jYXQoY2hhcmFjdGVyRGF0YS50cmFpdHMudG9vbFByb2YudmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGhhc1Rvb2xQcm9maWNpZW5jeTogc3RyaW5nID0gYWxsVG9vbFByb2ZpY2llbmNpZXNcclxuICAgICAgICAgICAgLmZpbmQoKHRvb2xQcm9maWNpZW5jeTogc3RyaW5nKSA9PiB0aGlzLl90b29sLnByb2ZpY2llbmN5TGFiZWwubG9jYWxlQ29tcGFyZSh0b29sUHJvZmljaWVuY3ksIHVuZGVmaW5lZCwge3NlbnNpdGl2aXR5OiAnYmFzZSd9KSA9PT0gMCk7XHJcbiAgICAgICAgaWYgKCFoYXNUb29sUHJvZmljaWVuY3kpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOdW1lcmljVGVybSh7IG51bWJlcjogMCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb3duc1Rvb2w6IE93bmVkSXRlbVBhdGNoNWUgPSBhY3Rvci5pdGVtc1xyXG4gICAgICAgICAgICAuZmluZCgoaXRlbTogT3duZWRJdGVtUGF0Y2g1ZSkgPT4gdGhpcy5fdG9vbC5kaXNwbGF5TmFtZS5sb2NhbGVDb21wYXJlKGl0ZW0uZGF0YS5uYW1lLCB1bmRlZmluZWQsIHtzZW5zaXRpdml0eTogJ2Jhc2UnfSkgPT09IDApO1xyXG4gICAgICAgIGlmICghb3duc1Rvb2wpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOdW1lcmljVGVybSh7IG51bWJlcjogMCB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2hhcmFjdGVyQXR0cmlidXRlczogUGF0Y2hBdHRyaWJ1dGVzNWUgPSBjaGFyYWN0ZXJEYXRhLmF0dHJpYnV0ZXMgYXMgUGF0Y2hBdHRyaWJ1dGVzNWU7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1lcmljVGVybSh7IG51bWJlcjogY2hhcmFjdGVyQXR0cmlidXRlcy5wcm9mIH0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgQ3JhZnRpbmdBYmlsaXR5TW9kaWZpZXJDYWxjdWxhdG9yIGltcGxlbWVudHMgTW9kaWZpZXJDYWxjdWxhdG9yPFBhdGNoQWN0b3I1ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FiaWxpdHk6IERORDVlLkFiaWxpdHlUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFiaWxpdHk6IERORDVlLkFiaWxpdHlUeXBlKSB7XHJcbiAgICAgICAgdGhpcy5fYWJpbGl0eSA9IGFiaWxpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlKGFjdG9yOiBQYXRjaFR5cGVzNWUuUGF0Y2hBY3RvcjVlKTogUm9sbFRlcm0ge1xyXG4gICAgICAgIGNvbnN0IGNoYXJhY3RlckRhdGE6IENoYXJhY3RlciA9IGFjdG9yLmdldFJvbGxEYXRhKCkgYXMgQ2hhcmFjdGVyO1xyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nQWJpbGl0eSA9IGNoYXJhY3RlckRhdGEuYWJpbGl0aWVzW3RoaXMuX2FiaWxpdHldIGFzIENoYXJhY3RlckFiaWxpdHk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOdW1lcmljVGVybSh7IG51bWJlcjogY3JhZnRpbmdBYmlsaXR5Lm1vZCB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIFJvbGxQcm92aWRlcjVFIGltcGxlbWVudHMgR2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyPFBhdGNoQWN0b3I1ZT4ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX21vZGlmaWVyQ2FsY3VsYXRvcnM6IE1vZGlmaWVyQ2FsY3VsYXRvcjxQYXRjaEFjdG9yNWU+W107XHJcblxyXG4gICAgY29uc3RydWN0b3Ioe1xyXG4gICAgICAgIG1vZGlmaWVyQ2FsY3VsYXRvcnMgPSBbXVxyXG4gICAgfToge1xyXG4gICAgICAgIG1vZGlmaWVyQ2FsY3VsYXRvcnM/OiBNb2RpZmllckNhbGN1bGF0b3I8UGF0Y2hBY3RvcjVlPltdO1xyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX21vZGlmaWVyQ2FsY3VsYXRvcnMgPSBtb2RpZmllckNhbGN1bGF0b3JzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEZvckFjdG9yKGFjdG9yOiBQYXRjaEFjdG9yNWUpOiBSb2xsVGVybVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbW9kaWZpZXJDYWxjdWxhdG9ycy5tYXAoY2FsY3VsYXRvciA9PiBjYWxjdWxhdG9yLmNhbGN1bGF0ZShhY3RvcikpO1xyXG4gICAgfVxyXG5cclxuXHJcbn1cclxuXHJcbmNsYXNzIFJvbGxQcm92aWRlcjVFRmFjdG9yeSBpbXBsZW1lbnRzIFJvbGxNb2RpZmllclByb3ZpZGVyRmFjdG9yeTxQYXRjaEFjdG9yNWU+IHtcclxuXHJcbiAgICBtYWtlKHNwZWNpZmljYXRpb24/OiBEbkQ1RUNyYWZ0aW5nQ2hlY2tTcGVjKTogUm9sbFByb3ZpZGVyNUUge1xyXG4gICAgICAgIGlmICghc3BlY2lmaWNhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJvbGxQcm92aWRlcjVFKHt9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG1vZGlmaWVyQ2FsY3VsYXRvcnM6IE1vZGlmaWVyQ2FsY3VsYXRvcjxQYXRjaEFjdG9yNWU+W10gPSBbXTtcclxuICAgICAgICBpZiAoc3BlY2lmaWNhdGlvbi5hZGRUb29sUHJvZmljaWVuY3kgJiYgc3BlY2lmaWNhdGlvbi50b29sKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvb2wgPSBuZXcgVG9vbChzcGVjaWZpY2F0aW9uLnRvb2wubmFtZSwgc3BlY2lmaWNhdGlvbi50b29sLnNraWxsUHJvZmljaWVuY3kpO1xyXG4gICAgICAgICAgICBtb2RpZmllckNhbGN1bGF0b3JzLnB1c2gobmV3IFRvb2xQcm9maWNpZW5jeU1vZGlmaWVyQ2FsY3VsYXRvcih0b29sKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZGlmaWVyQ2FsY3VsYXRvcnMucHVzaChuZXcgQ3JhZnRpbmdBYmlsaXR5TW9kaWZpZXJDYWxjdWxhdG9yKHNwZWNpZmljYXRpb24uYWJpbGl0eSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFJvbGxQcm92aWRlcjVFKHsgbW9kaWZpZXJDYWxjdWxhdG9yczogbW9kaWZpZXJDYWxjdWxhdG9ycyB9ICk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBSb2xsUHJvdmlkZXI1RSwgQ3JhZnRpbmdBYmlsaXR5TW9kaWZpZXJDYWxjdWxhdG9yLCBUb29sUHJvZmljaWVuY3lNb2RpZmllckNhbGN1bGF0b3IsIFJvbGxQcm92aWRlcjVFRmFjdG9yeSB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/5e/RollProvider5E.ts\n");

/***/ }),

/***/ "./src/scripts/Properties.ts":
/*!***********************************!*\
  !*** ./src/scripts/Properties.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./compendium/CompendiumData */ \"./src/scripts/compendium/CompendiumData.ts\");\n\r\nconst Properties = {\r\n    module: {\r\n        id: 'fabricate',\r\n        label: 'Fabricate',\r\n        templates: {\r\n            recipeTab: 'modules/fabricate/templates/recipe-tab.hbs',\r\n            craftingTab: 'modules/fabricate/templates/crafting-tab.hbs',\r\n            craftingMessage: 'modules/fabricate/templates/chat-message.hbs'\r\n        },\r\n        compendiums: {\r\n            supportedTypes: ['Item']\r\n        }\r\n    },\r\n    ui: {\r\n        buttons: {\r\n            openCraftingSystemManager: {\r\n                class: \"open-crafting-system-manager\"\r\n            }\r\n        }\r\n    },\r\n    types: {\r\n        recipe: _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_0__.FabricateItemType.RECIPE,\r\n        component: _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_0__.FabricateItemType.COMPONENT,\r\n        allowableItems: ['consumable', 'loot', 'scroll', 'trinket']\r\n    },\r\n    flagKeys: {\r\n        actor: {\r\n            selectedCraftingSystem: 'crafting.selectedSystemId',\r\n            selectedRecipe: 'crafting.selectedRecipeId',\r\n            hopperForSystem: (systemId) => `crafting.${systemId}.hopper`,\r\n            knownRecipesForSystem: (systemId) => `crafting.${systemId}.knownRecipes`,\r\n        },\r\n        item: {\r\n            identity: 'identity',\r\n            partId: 'identity.partId',\r\n            systemId: 'identity.systemId',\r\n            fabricateItemType: 'type',\r\n        }\r\n    },\r\n    settingsKeys: {\r\n        craftingSystem: {\r\n            enabled: (systemId) => `${systemId}.enabled`\r\n        }\r\n    }\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Properties);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThEO0FBRTlELE1BQU0sVUFBVSxHQUFHO0lBQ2YsTUFBTSxFQUFFO1FBQ0osRUFBRSxFQUFFLFdBQVc7UUFDZixLQUFLLEVBQUUsV0FBVztRQUNsQixTQUFTLEVBQUU7WUFDUCxTQUFTLEVBQUUsNENBQTRDO1lBQ3ZELFdBQVcsRUFBRSw4Q0FBOEM7WUFDM0QsZUFBZSxFQUFFLDhDQUE4QztTQUNsRTtRQUNELFdBQVcsRUFBRTtZQUNULGNBQWMsRUFBRSxDQUFDLE1BQU0sQ0FBQztTQUMzQjtLQUNKO0lBQ0QsRUFBRSxFQUFFO1FBQ0EsT0FBTyxFQUFFO1lBQ0wseUJBQXlCLEVBQUU7Z0JBQ3ZCLEtBQUssRUFBRSw4QkFBOEI7YUFDeEM7U0FDSjtLQUNKO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsTUFBTSxFQUFFLGdGQUF3QjtRQUNoQyxTQUFTLEVBQUUsbUZBQTJCO1FBQ3RDLGNBQWMsRUFBRSxDQUFDLFlBQVksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFNBQVMsQ0FBQztLQUM5RDtJQUNELFFBQVEsRUFBRTtRQUNOLEtBQUssRUFBRTtZQUNILHNCQUFzQixFQUFFLDJCQUEyQjtZQUNuRCxjQUFjLEVBQUUsMkJBQTJCO1lBQzNDLGVBQWUsRUFBRSxDQUFDLFFBQWdCLEVBQUUsRUFBRSxDQUFDLFlBQVksUUFBUSxTQUFTO1lBQ3BFLHFCQUFxQixFQUFFLENBQUMsUUFBZ0IsRUFBRSxFQUFFLENBQUMsWUFBWSxRQUFRLGVBQWU7U0FDbkY7UUFDRCxJQUFJLEVBQUU7WUFDRixRQUFRLEVBQUUsVUFBVTtZQUNwQixNQUFNLEVBQUUsaUJBQWlCO1lBQ3pCLFFBQVEsRUFBRSxtQkFBbUI7WUFDN0IsaUJBQWlCLEVBQUUsTUFBTTtTQUM1QjtLQUNKO0lBQ0QsWUFBWSxFQUFFO1FBQ1YsY0FBYyxFQUFFO1lBQ1osT0FBTyxFQUFFLENBQUMsUUFBZ0IsRUFBRSxFQUFFLENBQUMsR0FBRyxRQUFRLFVBQVU7U0FDdkQ7S0FDSjtDQUNKLENBQUM7QUFFRixpRUFBZSxVQUFVLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzPzkwMWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vY29tcGVuZGl1bS9Db21wZW5kaXVtRGF0YVwiO1xyXG5cclxuY29uc3QgUHJvcGVydGllcyA9IHtcclxuICAgIG1vZHVsZToge1xyXG4gICAgICAgIGlkOiAnZmFicmljYXRlJyxcclxuICAgICAgICBsYWJlbDogJ0ZhYnJpY2F0ZScsXHJcbiAgICAgICAgdGVtcGxhdGVzOiB7XHJcbiAgICAgICAgICAgIHJlY2lwZVRhYjogJ21vZHVsZXMvZmFicmljYXRlL3RlbXBsYXRlcy9yZWNpcGUtdGFiLmhicycsXHJcbiAgICAgICAgICAgIGNyYWZ0aW5nVGFiOiAnbW9kdWxlcy9mYWJyaWNhdGUvdGVtcGxhdGVzL2NyYWZ0aW5nLXRhYi5oYnMnLFxyXG4gICAgICAgICAgICBjcmFmdGluZ01lc3NhZ2U6ICdtb2R1bGVzL2ZhYnJpY2F0ZS90ZW1wbGF0ZXMvY2hhdC1tZXNzYWdlLmhicydcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBlbmRpdW1zOiB7XHJcbiAgICAgICAgICAgIHN1cHBvcnRlZFR5cGVzOiBbJ0l0ZW0nXVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1aToge1xyXG4gICAgICAgIGJ1dHRvbnM6IHtcclxuICAgICAgICAgICAgb3BlbkNyYWZ0aW5nU3lzdGVtTWFuYWdlcjoge1xyXG4gICAgICAgICAgICAgICAgY2xhc3M6IFwib3Blbi1jcmFmdGluZy1zeXN0ZW0tbWFuYWdlclwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdHlwZXM6IHtcclxuICAgICAgICByZWNpcGU6IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSxcclxuICAgICAgICBjb21wb25lbnQ6IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVCxcclxuICAgICAgICBhbGxvd2FibGVJdGVtczogWydjb25zdW1hYmxlJywgJ2xvb3QnLCAnc2Nyb2xsJywgJ3RyaW5rZXQnXVxyXG4gICAgfSxcclxuICAgIGZsYWdLZXlzOiB7XHJcbiAgICAgICAgYWN0b3I6IHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRDcmFmdGluZ1N5c3RlbTogJ2NyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtSWQnLFxyXG4gICAgICAgICAgICBzZWxlY3RlZFJlY2lwZTogJ2NyYWZ0aW5nLnNlbGVjdGVkUmVjaXBlSWQnLFxyXG4gICAgICAgICAgICBob3BwZXJGb3JTeXN0ZW06IChzeXN0ZW1JZDogc3RyaW5nKSA9PiBgY3JhZnRpbmcuJHtzeXN0ZW1JZH0uaG9wcGVyYCxcclxuICAgICAgICAgICAga25vd25SZWNpcGVzRm9yU3lzdGVtOiAoc3lzdGVtSWQ6IHN0cmluZykgPT4gYGNyYWZ0aW5nLiR7c3lzdGVtSWR9Lmtub3duUmVjaXBlc2AsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpdGVtOiB7XHJcbiAgICAgICAgICAgIGlkZW50aXR5OiAnaWRlbnRpdHknLFxyXG4gICAgICAgICAgICBwYXJ0SWQ6ICdpZGVudGl0eS5wYXJ0SWQnLFxyXG4gICAgICAgICAgICBzeXN0ZW1JZDogJ2lkZW50aXR5LnN5c3RlbUlkJyxcclxuICAgICAgICAgICAgZmFicmljYXRlSXRlbVR5cGU6ICd0eXBlJyxcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0dGluZ3NLZXlzOiB7XHJcbiAgICAgICAgY3JhZnRpbmdTeXN0ZW06IHtcclxuICAgICAgICAgICAgZW5hYmxlZDogKHN5c3RlbUlkOiBzdHJpbmcpID0+IGAke3N5c3RlbUlkfS5lbmFibGVkYFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb3BlcnRpZXM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/Properties.ts\n");

/***/ }),

/***/ "./src/scripts/actor/ComponentCombinationGenerator.ts":
/*!************************************************************!*\
  !*** ./src/scripts/actor/ComponentCombinationGenerator.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComponentCombinationGenerator\": () => (/* binding */ ComponentCombinationGenerator)\n/* harmony export */ });\n/* harmony import */ var _ComponentCombinationNode__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ComponentCombinationNode */ \"./src/scripts/actor/ComponentCombinationNode.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\n\r\nclass ComponentCombinationGenerator {\r\n    constructor(availableComponents, requiredEssences) {\r\n        this._requiredEssences = requiredEssences;\r\n        this._roots = availableComponents.members\r\n            .map((component) => _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.ofUnit(new _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Unit(component, 1)))\r\n            .map((combination) => new _ComponentCombinationNode__WEBPACK_IMPORTED_MODULE_0__.ComponentCombinationNode(requiredEssences, combination, availableComponents.subtract(combination)));\r\n    }\r\n    allCombinations(baseNodes) {\r\n        const generatedCombinations = [];\r\n        let treeLevel = baseNodes;\r\n        while (treeLevel.length > 0) {\r\n            treeLevel.forEach((node) => {\r\n                generatedCombinations.push(node);\r\n            });\r\n            treeLevel = treeLevel.filter((node) => node.hasChildren())\r\n                .map((node) => node.children)\r\n                .reduce((left, right) => left.concat(right), []);\r\n        }\r\n        return generatedCombinations;\r\n    }\r\n    excludeInsufficient(allCombinations, requiredEssences) {\r\n        return allCombinations.filter((node) => node.essenceCombination.size() >= requiredEssences.size()\r\n            && requiredEssences.isIn(node.essenceCombination));\r\n    }\r\n    excludeDuplicates(sufficientCombinations) {\r\n        const suitableCombinationsBySize = new Map();\r\n        sufficientCombinations.forEach((node) => {\r\n            if (!suitableCombinationsBySize.has(node.componentCombination.size())) {\r\n                suitableCombinationsBySize.set(node.componentCombination.size(), [[node.componentCombination, node.essenceCombination]]);\r\n            }\r\n            else {\r\n                let isDuplicate = false;\r\n                const existing = suitableCombinationsBySize.get(node.componentCombination.size());\r\n                for (const existingCombination of existing) {\r\n                    if (existingCombination[0].equals(node.componentCombination)) {\r\n                        isDuplicate = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isDuplicate) {\r\n                    existing.push([node.componentCombination, node.essenceCombination]);\r\n                }\r\n            }\r\n        });\r\n        return Array.from(suitableCombinationsBySize.values(), (combinations) => combinations)\r\n            .reduce((left, right) => left.concat(right), []);\r\n    }\r\n    generate() {\r\n        this._roots.forEach((node) => node.populate());\r\n        const generatedCombinations = this.allCombinations(this._roots);\r\n        const suitableCombinations = this.excludeInsufficient(generatedCombinations, this._requiredEssences);\r\n        return this.excludeDuplicates(suitableCombinations);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hY3Rvci9Db21wb25lbnRDb21iaW5hdGlvbkdlbmVyYXRvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBb0U7QUFDWjtBQUlqRCxNQUFNLDZCQUE2QjtJQUt0QyxZQUFZLG1CQUFtRCxFQUFFLGdCQUFnRDtRQUM3RyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZ0JBQWdCLENBQUM7UUFDMUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxtQkFBbUIsQ0FBQyxPQUFPO2FBQ3BDLEdBQUcsQ0FBQyxDQUFDLFNBQTRCLEVBQUUsRUFBRSxDQUFDLG1FQUFrQixDQUFDLElBQUkscURBQUksQ0FBb0IsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEcsR0FBRyxDQUFDLENBQUMsV0FBMkMsRUFBRSxFQUFFLENBQUMsSUFBSSwrRUFBd0IsQ0FBQyxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsbUJBQW1CLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0SyxDQUFDO0lBRU8sZUFBZSxDQUFDLFNBQXFDO1FBQ3pELE1BQU0scUJBQXFCLEdBQStCLEVBQUUsQ0FBQztRQUM3RCxJQUFJLFNBQVMsR0FBK0IsU0FBUyxDQUFDO1FBQ3RELE9BQU8sU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDekIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQThCLEVBQUUsRUFBRTtnQkFDakQscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JDLENBQUMsQ0FBQyxDQUFDO1lBQ0gsU0FBUyxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUE4QixFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7aUJBQy9FLEdBQUcsQ0FBQyxDQUFDLElBQThCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUM7aUJBQ3RELE1BQU0sQ0FBQyxDQUFDLElBQWdDLEVBQUUsS0FBaUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztTQUNoSDtRQUNELE9BQU8scUJBQXFCLENBQUM7SUFDakMsQ0FBQztJQUVPLG1CQUFtQixDQUFDLGVBQTJDLEVBQUUsZ0JBQWdEO1FBQ3JILE9BQU8sZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQThCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUU7ZUFDcEgsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVPLGlCQUFpQixDQUFDLHNCQUFrRDtRQUN4RSxNQUFNLDBCQUEwQixHQUFvRixJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQzlILHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQThCLEVBQUUsRUFBRTtZQUM5RCxJQUFJLENBQUMsMEJBQTBCLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFO2dCQUNuRSwwQkFBMEIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQzVIO2lCQUFNO2dCQUNILElBQUksV0FBVyxHQUFZLEtBQUssQ0FBQztnQkFDakMsTUFBTSxRQUFRLEdBQXVFLDBCQUEwQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztnQkFDdEosS0FBSyxNQUFNLG1CQUFtQixJQUFJLFFBQVEsRUFBRTtvQkFDeEMsSUFBSSxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEVBQUU7d0JBQzFELFdBQVcsR0FBRyxJQUFJLENBQUM7d0JBQ25CLE1BQU07cUJBQ1Q7aUJBQ0o7Z0JBQ0QsSUFBSSxDQUFDLFdBQVcsRUFBRTtvQkFDZCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUM7aUJBQ3ZFO2FBQ0o7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLFlBQWdGLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQzthQUNySixNQUFNLENBQUMsQ0FBQyxJQUF3RSxFQUFFLEtBQXlFLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDak0sQ0FBQztJQUVNLFFBQVE7UUFDWCxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQThCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3pFLE1BQU0scUJBQXFCLEdBQStCLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVGLE1BQU0sb0JBQW9CLEdBQStCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUNqSSxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBQ3hELENBQUM7Q0FFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2FjdG9yL0NvbXBvbmVudENvbWJpbmF0aW9uR2VuZXJhdG9yLnRzPzQxM2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnRDb21iaW5hdGlvbk5vZGV9IGZyb20gXCIuL0NvbXBvbmVudENvbWJpbmF0aW9uTm9kZVwiO1xyXG5pbXBvcnQge0NvbWJpbmF0aW9uLCBVbml0fSBmcm9tIFwiLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudENvbWJpbmF0aW9uR2VuZXJhdG9yIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yb290czogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZXF1aXJlZEVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXZhaWxhYmxlQ29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+LCByZXF1aXJlZEVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4pIHtcclxuICAgICAgICB0aGlzLl9yZXF1aXJlZEVzc2VuY2VzID0gcmVxdWlyZWRFc3NlbmNlcztcclxuICAgICAgICB0aGlzLl9yb290cyA9IGF2YWlsYWJsZUNvbXBvbmVudHMubWVtYmVyc1xyXG4gICAgICAgICAgICAubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiBDb21iaW5hdGlvbi5vZlVuaXQobmV3IFVuaXQ8Q3JhZnRpbmdDb21wb25lbnQ+KGNvbXBvbmVudCwgMSkpKVxyXG4gICAgICAgICAgICAubWFwKChjb21iaW5hdGlvbjogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiBuZXcgQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlKHJlcXVpcmVkRXNzZW5jZXMsIGNvbWJpbmF0aW9uLCBhdmFpbGFibGVDb21wb25lbnRzLnN1YnRyYWN0KGNvbWJpbmF0aW9uKSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWxsQ29tYmluYXRpb25zKGJhc2VOb2RlczogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlW10pOiBDb21wb25lbnRDb21iaW5hdGlvbk5vZGVbXSB7XHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkQ29tYmluYXRpb25zOiBDb21wb25lbnRDb21iaW5hdGlvbk5vZGVbXSA9IFtdO1xyXG4gICAgICAgIGxldCB0cmVlTGV2ZWw6IENvbXBvbmVudENvbWJpbmF0aW9uTm9kZVtdID0gYmFzZU5vZGVzO1xyXG4gICAgICAgIHdoaWxlICh0cmVlTGV2ZWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0cmVlTGV2ZWwuZm9yRWFjaCgobm9kZTogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZWRDb21iaW5hdGlvbnMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRyZWVMZXZlbCA9IHRyZWVMZXZlbC5maWx0ZXIoKG5vZGU6IENvbXBvbmVudENvbWJpbmF0aW9uTm9kZSkgPT4gbm9kZS5oYXNDaGlsZHJlbigpKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgobm9kZTogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlKSA9PiBub2RlLmNoaWxkcmVuKVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgobGVmdDogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlW10sIHJpZ2h0OiBDb21wb25lbnRDb21iaW5hdGlvbk5vZGVbXSkgPT4gbGVmdC5jb25jYXQocmlnaHQpLCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnZW5lcmF0ZWRDb21iaW5hdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleGNsdWRlSW5zdWZmaWNpZW50KGFsbENvbWJpbmF0aW9uczogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlW10sIHJlcXVpcmVkRXNzZW5jZXM6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPik6IENvbXBvbmVudENvbWJpbmF0aW9uTm9kZVtdIHtcclxuICAgICAgICByZXR1cm4gYWxsQ29tYmluYXRpb25zLmZpbHRlcigobm9kZTogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlKSA9PiBub2RlLmVzc2VuY2VDb21iaW5hdGlvbi5zaXplKCkgPj0gcmVxdWlyZWRFc3NlbmNlcy5zaXplKClcclxuICAgICAgICAgICAgJiYgcmVxdWlyZWRFc3NlbmNlcy5pc0luKG5vZGUuZXNzZW5jZUNvbWJpbmF0aW9uKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBleGNsdWRlRHVwbGljYXRlcyhzdWZmaWNpZW50Q29tYmluYXRpb25zOiBDb21wb25lbnRDb21iaW5hdGlvbk5vZGVbXSk6IFtDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4sIENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPl1bXSB7XHJcbiAgICAgICAgY29uc3Qgc3VpdGFibGVDb21iaW5hdGlvbnNCeVNpemU6IE1hcDxudW1iZXIsIFtDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4sIENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPl1bXT4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgc3VmZmljaWVudENvbWJpbmF0aW9ucy5mb3JFYWNoKChub2RlOiBDb21wb25lbnRDb21iaW5hdGlvbk5vZGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzdWl0YWJsZUNvbWJpbmF0aW9uc0J5U2l6ZS5oYXMobm9kZS5jb21wb25lbnRDb21iaW5hdGlvbi5zaXplKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdWl0YWJsZUNvbWJpbmF0aW9uc0J5U2l6ZS5zZXQobm9kZS5jb21wb25lbnRDb21iaW5hdGlvbi5zaXplKCksIFtbbm9kZS5jb21wb25lbnRDb21iaW5hdGlvbiwgbm9kZS5lc3NlbmNlQ29tYmluYXRpb25dXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNEdXBsaWNhdGU6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nOiBbQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+LCBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj5dW10gPSBzdWl0YWJsZUNvbWJpbmF0aW9uc0J5U2l6ZS5nZXQobm9kZS5jb21wb25lbnRDb21iaW5hdGlvbi5zaXplKCkpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBleGlzdGluZ0NvbWJpbmF0aW9uIG9mIGV4aXN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ29tYmluYXRpb25bMF0uZXF1YWxzKG5vZGUuY29tcG9uZW50Q29tYmluYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRHVwbGljYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2goW25vZGUuY29tcG9uZW50Q29tYmluYXRpb24sIG5vZGUuZXNzZW5jZUNvbWJpbmF0aW9uXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShzdWl0YWJsZUNvbWJpbmF0aW9uc0J5U2l6ZS52YWx1ZXMoKSwgKGNvbWJpbmF0aW9uczogW0NvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiwgQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+XVtdKSA9PiBjb21iaW5hdGlvbnMpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IFtDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4sIENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPl1bXSwgcmlnaHQ6IFtDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4sIENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPl1bXSkgPT4gbGVmdC5jb25jYXQocmlnaHQpLCBbXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdlbmVyYXRlKCk6IFtDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4sIENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPl1bXSB7XHJcbiAgICAgICAgdGhpcy5fcm9vdHMuZm9yRWFjaCgobm9kZTogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlKSA9PiBub2RlLnBvcHVsYXRlKCkpO1xyXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlZENvbWJpbmF0aW9uczogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlW10gPSB0aGlzLmFsbENvbWJpbmF0aW9ucyh0aGlzLl9yb290cyk7XHJcbiAgICAgICAgY29uc3Qgc3VpdGFibGVDb21iaW5hdGlvbnM6IENvbXBvbmVudENvbWJpbmF0aW9uTm9kZVtdID0gdGhpcy5leGNsdWRlSW5zdWZmaWNpZW50KGdlbmVyYXRlZENvbWJpbmF0aW9ucywgdGhpcy5fcmVxdWlyZWRFc3NlbmNlcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhjbHVkZUR1cGxpY2F0ZXMoc3VpdGFibGVDb21iaW5hdGlvbnMpO1xyXG4gICAgfVxyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/actor/ComponentCombinationGenerator.ts\n");

/***/ }),

/***/ "./src/scripts/actor/ComponentCombinationNode.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/actor/ComponentCombinationNode.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComponentCombinationNode\": () => (/* binding */ ComponentCombinationNode)\n/* harmony export */ });\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\nclass ComponentCombinationNode {\r\n    constructor(requiredEssences, nodeCombination, remainingPicks) {\r\n        this._requiredEssences = requiredEssences;\r\n        this._componentCombination = nodeCombination;\r\n        this._remainingPicks = remainingPicks;\r\n        this._essenceCombination = nodeCombination.explode((component) => component.essences);\r\n    }\r\n    populate() {\r\n        if (this._requiredEssences.isIn(this._essenceCombination)) {\r\n            return;\r\n        }\r\n        this._children = this._remainingPicks.members.map((component) => {\r\n            const deltaUnit = new _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Unit(component, 1);\r\n            const childComponentCombination = this._componentCombination.add(deltaUnit);\r\n            const remainingPicksForChild = this._remainingPicks.subtract(_common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.ofUnit(deltaUnit));\r\n            return new ComponentCombinationNode(this._requiredEssences, childComponentCombination, remainingPicksForChild);\r\n        });\r\n        this._children.forEach((child) => child.populate());\r\n    }\r\n    get componentCombination() {\r\n        return this._componentCombination;\r\n    }\r\n    get essenceCombination() {\r\n        return this._essenceCombination;\r\n    }\r\n    hasChildren() {\r\n        return this.children && this.children.length > 0;\r\n    }\r\n    get children() {\r\n        return this._children;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hY3Rvci9Db21wb25lbnRDb21iaW5hdGlvbk5vZGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7QUFJakQsTUFBTSx3QkFBd0I7SUFRakMsWUFBWSxnQkFBZ0QsRUFBRSxlQUErQyxFQUFFLGNBQThDO1FBQ3pKLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztRQUMxQyxJQUFJLENBQUMscUJBQXFCLEdBQUcsZUFBZSxDQUFDO1FBQzdDLElBQUksQ0FBQyxlQUFlLEdBQUcsY0FBYyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUMsU0FBNEIsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdHLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQ3ZELE9BQU87U0FDVjtRQUNELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBNEIsRUFBRSxFQUFFO1lBQy9FLE1BQU0sU0FBUyxHQUFHLElBQUkscURBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDekMsTUFBTSx5QkFBeUIsR0FBbUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUM1RyxNQUFNLHNCQUFzQixHQUFtQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxtRUFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzVILE9BQU8sSUFBSSx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUseUJBQXlCLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztRQUNuSCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBK0IsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDbEYsQ0FBQztJQUVELElBQUksb0JBQW9CO1FBQ3BCLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDO0lBQ3RDLENBQUM7SUFFRCxJQUFJLGtCQUFrQjtRQUNsQixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUNwQyxDQUFDO0lBRU0sV0FBVztRQUNkLE9BQU8sSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0NBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9hY3Rvci9Db21wb25lbnRDb21iaW5hdGlvbk5vZGUudHM/YzUwMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbWJpbmF0aW9uLCBVbml0fSBmcm9tIFwiLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudENvbWJpbmF0aW9uTm9kZSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZXF1aXJlZEVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRDb21iaW5hdGlvbjogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUNvbWJpbmF0aW9uOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZW1haW5pbmdQaWNrczogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG5cclxuICAgIHByaXZhdGUgX2NoaWxkcmVuOiBDb21wb25lbnRDb21iaW5hdGlvbk5vZGVbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZXF1aXJlZEVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4sIG5vZGVDb21iaW5hdGlvbjogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+LCByZW1haW5pbmdQaWNrczogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KSB7XHJcbiAgICAgICAgdGhpcy5fcmVxdWlyZWRFc3NlbmNlcyA9IHJlcXVpcmVkRXNzZW5jZXM7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50Q29tYmluYXRpb24gPSBub2RlQ29tYmluYXRpb247XHJcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nUGlja3MgPSByZW1haW5pbmdQaWNrcztcclxuICAgICAgICB0aGlzLl9lc3NlbmNlQ29tYmluYXRpb24gPSBub2RlQ29tYmluYXRpb24uZXhwbG9kZSgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50LmVzc2VuY2VzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcG9wdWxhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVpcmVkRXNzZW5jZXMuaXNJbih0aGlzLl9lc3NlbmNlQ29tYmluYXRpb24pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4gPSB0aGlzLl9yZW1haW5pbmdQaWNrcy5tZW1iZXJzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkZWx0YVVuaXQgPSBuZXcgVW5pdChjb21wb25lbnQsIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbXBvbmVudENvbWJpbmF0aW9uOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4gPSB0aGlzLl9jb21wb25lbnRDb21iaW5hdGlvbi5hZGQoZGVsdGFVbml0KTtcclxuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nUGlja3NGb3JDaGlsZDogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+ID0gdGhpcy5fcmVtYWluaW5nUGlja3Muc3VidHJhY3QoQ29tYmluYXRpb24ub2ZVbml0KGRlbHRhVW5pdCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbXBvbmVudENvbWJpbmF0aW9uTm9kZSh0aGlzLl9yZXF1aXJlZEVzc2VuY2VzLCBjaGlsZENvbXBvbmVudENvbWJpbmF0aW9uLCByZW1haW5pbmdQaWNrc0ZvckNoaWxkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlKSA9PiBjaGlsZC5wb3B1bGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcG9uZW50Q29tYmluYXRpb24oKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50Q29tYmluYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VDb21iaW5hdGlvbigpOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lc3NlbmNlQ29tYmluYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhc0NoaWxkcmVuKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY2hpbGRyZW4oKTogQ29tcG9uZW50Q29tYmluYXRpb25Ob2RlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jaGlsZHJlbjtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/actor/ComponentCombinationNode.ts\n");

/***/ }),

/***/ "./src/scripts/actor/EssenceSearch.ts":
/*!********************************************!*\
  !*** ./src/scripts/actor/EssenceSearch.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EssenceSearch\": () => (/* binding */ EssenceSearch)\n/* harmony export */ });\nclass EssenceSearch {\r\n    constructor(essences) {\r\n        this._essences = essences;\r\n    }\r\n    perform(contents) {\r\n        let remaining = this._essences.clone();\r\n        if (remaining.isEmpty()) {\r\n            return true;\r\n        }\r\n        for (const component of contents.members) {\r\n            if (!component.essences.isEmpty()) {\r\n                const essenceAmount = component.essences.multiply(contents.amountFor(component));\r\n                remaining = remaining.subtract(essenceAmount);\r\n            }\r\n            if (remaining.isEmpty()) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hY3Rvci9Fc3NlbmNlU2VhcmNoLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFLTyxNQUFNLGFBQWE7SUFHdEIsWUFBWSxRQUF3QztRQUNoRCxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztJQUM5QixDQUFDO0lBRU0sT0FBTyxDQUFDLFFBQXdDO1FBQ25ELElBQUksU0FBUyxHQUFtQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3ZFLElBQUksU0FBUyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ3JCLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxLQUFLLE1BQU0sU0FBUyxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUU7WUFDdEMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsT0FBTyxFQUFFLEVBQUU7Z0JBQy9CLE1BQU0sYUFBYSxHQUFtQyxTQUFTLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pILFNBQVMsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxDQUFDO2FBQ2pEO1lBQ0QsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFLEVBQUU7Z0JBQ3JCLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7U0FDSjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7Q0FFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2FjdG9yL0Vzc2VuY2VTZWFyY2gudHM/NzUxOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudFNlYXJjaH0gZnJvbSBcIi4vQ29tcG9uZW50U2VhcmNoXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IHtFc3NlbmNlRGVmaW5pdGlvbn0gZnJvbSBcIi4uL2NvbW1vbi9Fc3NlbmNlRGVmaW5pdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRXNzZW5jZVNlYXJjaCBpbXBsZW1lbnRzIENvbXBvbmVudFNlYXJjaCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lc3NlbmNlczogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4pIHtcclxuICAgICAgICB0aGlzLl9lc3NlbmNlcyA9IGVzc2VuY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwZXJmb3JtKGNvbnRlbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4pOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgcmVtYWluaW5nOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4gPSB0aGlzLl9lc3NlbmNlcy5jbG9uZSgpO1xyXG4gICAgICAgIGlmIChyZW1haW5pbmcuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBjb250ZW50cy5tZW1iZXJzKSB7XHJcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50LmVzc2VuY2VzLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXNzZW5jZUFtb3VudDogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+ID0gY29tcG9uZW50LmVzc2VuY2VzLm11bHRpcGx5KGNvbnRlbnRzLmFtb3VudEZvcihjb21wb25lbnQpKTtcclxuICAgICAgICAgICAgICAgIHJlbWFpbmluZyA9IHJlbWFpbmluZy5zdWJ0cmFjdChlc3NlbmNlQW1vdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVtYWluaW5nLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/actor/EssenceSearch.ts\n");

/***/ }),

/***/ "./src/scripts/actor/EssenceSelection.ts":
/*!***********************************************!*\
  !*** ./src/scripts/actor/EssenceSelection.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EssenceSelection\": () => (/* binding */ EssenceSelection)\n/* harmony export */ });\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n/* harmony import */ var _ComponentCombinationGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ComponentCombinationGenerator */ \"./src/scripts/actor/ComponentCombinationGenerator.ts\");\n\r\n\r\nclass EssenceSelection {\r\n    constructor(essences) {\r\n        this._essences = essences;\r\n    }\r\n    perform(contents) {\r\n        if (this._essences.isEmpty()) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n        }\r\n        let availableComponents = contents.clone();\r\n        contents.members.forEach(((thisComponent) => {\r\n            if (thisComponent.essences.isEmpty() || !thisComponent.essences.intersects(this._essences)) {\r\n                availableComponents = availableComponents.subtract(availableComponents.just(thisComponent));\r\n            }\r\n        }));\r\n        return this.selectBestMatch(this.matchingCombinationsFor(availableComponents, this._essences));\r\n    }\r\n    selectBestMatch(combinations) {\r\n        if (combinations.length === 0) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n        }\r\n        const sortedCombinations = combinations\r\n            .sort((left, right) => {\r\n            return left[1].size() - right[1].size();\r\n        });\r\n        return sortedCombinations[0][0];\r\n    }\r\n    matchingCombinationsFor(availableComponents, requiredEssences) {\r\n        const combinationGenerator = new _ComponentCombinationGenerator__WEBPACK_IMPORTED_MODULE_1__.ComponentCombinationGenerator(availableComponents, requiredEssences);\r\n        return combinationGenerator.generate();\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hY3Rvci9Fc3NlbmNlU2VsZWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrRDtBQUc0QjtBQUV2RSxNQUFNLGdCQUFnQjtJQUl6QixZQUFZLFFBQXdDO1FBQ2hELElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO0lBQzlCLENBQUM7SUFFRCxPQUFPLENBQUMsUUFBd0M7UUFDNUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQzFCLE9BQU8sa0VBQWlCLEVBQUUsQ0FBQztTQUM5QjtRQUNELElBQUksbUJBQW1CLEdBQW1DLFFBQVEsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUMzRSxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsYUFBZ0MsRUFBRSxFQUFFO1lBQzNELElBQUksYUFBYSxDQUFDLFFBQVEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRTtnQkFDeEYsbUJBQW1CLEdBQUcsbUJBQW1CLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO2FBQy9GO1FBQ0wsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNKLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDbkcsQ0FBQztJQUVPLGVBQWUsQ0FBQyxZQUFnRjtRQUNwRyxJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzNCLE9BQU8sa0VBQWlCLEVBQUUsQ0FBQztTQUM5QjtRQUNELE1BQU0sa0JBQWtCLEdBQXVFLFlBQVk7YUFDdEcsSUFBSSxDQUFDLENBQUMsSUFBc0UsRUFBRSxLQUF1RSxFQUFFLEVBQUU7WUFDdEosT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzVDLENBQUMsQ0FBQyxDQUFDO1FBQ1AsT0FBTyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBRU8sdUJBQXVCLENBQUMsbUJBQW1ELEVBQUUsZ0JBQWdEO1FBQ2pJLE1BQU0sb0JBQW9CLEdBQWtDLElBQUkseUZBQTZCLENBQUMsbUJBQW1CLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztRQUNySSxPQUFPLG9CQUFvQixDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQzNDLENBQUM7Q0FFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2FjdG9yL0Vzc2VuY2VTZWxlY3Rpb24udHM/MmVjNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NvbXBvbmVudENvbWJpbmF0aW9uR2VuZXJhdG9yfSBmcm9tIFwiLi9Db21wb25lbnRDb21iaW5hdGlvbkdlbmVyYXRvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVzc2VuY2VTZWxlY3Rpb24ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXNzZW5jZXM6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPikge1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VzID0gZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcGVyZm9ybShjb250ZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICBpZiAodGhpcy5fZXNzZW5jZXMuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb21iaW5hdGlvbi5FTVBUWSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgYXZhaWxhYmxlQ29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+ID0gY29udGVudHMuY2xvbmUoKTtcclxuICAgICAgICBjb250ZW50cy5tZW1iZXJzLmZvckVhY2goKCh0aGlzQ29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpc0NvbXBvbmVudC5lc3NlbmNlcy5pc0VtcHR5KCkgfHwgIXRoaXNDb21wb25lbnQuZXNzZW5jZXMuaW50ZXJzZWN0cyh0aGlzLl9lc3NlbmNlcykpIHtcclxuICAgICAgICAgICAgICAgIGF2YWlsYWJsZUNvbXBvbmVudHMgPSBhdmFpbGFibGVDb21wb25lbnRzLnN1YnRyYWN0KGF2YWlsYWJsZUNvbXBvbmVudHMuanVzdCh0aGlzQ29tcG9uZW50KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0QmVzdE1hdGNoKHRoaXMubWF0Y2hpbmdDb21iaW5hdGlvbnNGb3IoYXZhaWxhYmxlQ29tcG9uZW50cywgdGhpcy5fZXNzZW5jZXMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNlbGVjdEJlc3RNYXRjaChjb21iaW5hdGlvbnM6IFtDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4sIENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPl1bXSk6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgaWYgKGNvbWJpbmF0aW9ucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLkVNUFRZKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNvcnRlZENvbWJpbmF0aW9uczogW0NvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiwgQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+XVtdID0gY29tYmluYXRpb25zXHJcbiAgICAgICAgICAgIC5zb3J0KChsZWZ0OiBbQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+LCBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj5dLCByaWdodDogW0NvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiwgQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+XSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRbMV0uc2l6ZSgpIC0gcmlnaHRbMV0uc2l6ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc29ydGVkQ29tYmluYXRpb25zWzBdWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbWF0Y2hpbmdDb21iaW5hdGlvbnNGb3IoYXZhaWxhYmxlQ29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+LCByZXF1aXJlZEVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4pOiBbQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+LCBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj5dW10ge1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uR2VuZXJhdG9yOiBDb21wb25lbnRDb21iaW5hdGlvbkdlbmVyYXRvciA9IG5ldyBDb21wb25lbnRDb21iaW5hdGlvbkdlbmVyYXRvcihhdmFpbGFibGVDb21wb25lbnRzLCByZXF1aXJlZEVzc2VuY2VzKTtcclxuICAgICAgICByZXR1cm4gY29tYmluYXRpb25HZW5lcmF0b3IuZ2VuZXJhdGUoKTtcclxuICAgIH1cclxuXHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/actor/EssenceSelection.ts\n");

/***/ }),

/***/ "./src/scripts/actor/IngredientSearch.ts":
/*!***********************************************!*\
  !*** ./src/scripts/actor/IngredientSearch.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IngredientSearch\": () => (/* binding */ IngredientSearch)\n/* harmony export */ });\nclass IngredientSearch {\r\n    constructor(ingredients) {\r\n        this._ingredients = ingredients;\r\n    }\r\n    perform(contents) {\r\n        return this._ingredients.isIn(contents);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hY3Rvci9JbmdyZWRpZW50U2VhcmNoLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFJTyxNQUFNLGdCQUFnQjtJQUl6QixZQUFZLFdBQTJDO1FBQ25ELElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO0lBQ3BDLENBQUM7SUFFTSxPQUFPLENBQUMsUUFBd0M7UUFDbkQsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QyxDQUFDO0NBRUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9hY3Rvci9JbmdyZWRpZW50U2VhcmNoLnRzP2EzMmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21wb25lbnRTZWFyY2h9IGZyb20gXCIuL0NvbXBvbmVudFNlYXJjaFwiO1xyXG5pbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbmdyZWRpZW50U2VhcmNoIGltcGxlbWVudHMgQ29tcG9uZW50U2VhcmNoIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbmdyZWRpZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGluZ3JlZGllbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4pIHtcclxuICAgICAgICB0aGlzLl9pbmdyZWRpZW50cyA9IGluZ3JlZGllbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwZXJmb3JtKGNvbnRlbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5ncmVkaWVudHMuaXNJbihjb250ZW50cyk7XHJcbiAgICB9XHJcblxyXG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/actor/IngredientSearch.ts\n");

/***/ }),

/***/ "./src/scripts/application/FabricateApplication.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/application/FabricateApplication.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\n\r\n\r\nclass FabricateApplication {\r\n    constructor() {\r\n        this._inventories = new _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_0__.InventoryRegistry();\r\n        this._systems = new _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_1__.CraftingSystemRegistry();\r\n    }\r\n    get inventories() {\r\n        return this._inventories;\r\n    }\r\n    get systems() {\r\n        return this._systems;\r\n    }\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new FabricateApplication());\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0U7QUFDVTtBQUU1RSxNQUFNLG9CQUFvQjtJQUt0QjtRQUNJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSw0RUFBaUIsRUFBRSxDQUFDO1FBQzVDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxzRkFBc0IsRUFBRSxDQUFDO0lBQ2pELENBQUM7SUFFRCxJQUFJLFdBQVc7UUFDWCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0NBRUo7QUFFRCxpRUFBZSxJQUFJLG9CQUFvQixFQUFFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvbi50cz83NzE2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW52ZW50b3J5UmVnaXN0cnl9IGZyb20gXCIuLi9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0gZnJvbSBcIi4uL3JlZ2lzdHJpZXMvQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeVwiO1xyXG5cclxuY2xhc3MgRmFicmljYXRlQXBwbGljYXRpb24ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludmVudG9yaWVzOiBJbnZlbnRvcnlSZWdpc3RyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3N5c3RlbXM6IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5faW52ZW50b3JpZXMgPSBuZXcgSW52ZW50b3J5UmVnaXN0cnkoKTtcclxuICAgICAgICB0aGlzLl9zeXN0ZW1zID0gbmV3IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW52ZW50b3JpZXMoKTogSW52ZW50b3J5UmVnaXN0cnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZlbnRvcmllcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3lzdGVtcygpOiBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3lzdGVtcztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBGYWJyaWNhdGVBcHBsaWNhdGlvbigpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/application/FabricateApplication.ts\n");

/***/ }),

/***/ "./src/scripts/application/FabricateLifecycle.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/application/FabricateLifecycle.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FabricateLifecycle\": () => (/* binding */ FabricateLifecycle)\n/* harmony export */ });\n/* harmony import */ var _FabricateApplication__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\n/* harmony import */ var _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interface/CraftingTab */ \"./src/scripts/interface/CraftingTab.ts\");\n/* harmony import */ var _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../interface/ItemRecipeTab */ \"./src/scripts/interface/ItemRecipeTab.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../foundry/GameProvider */ \"./src/scripts/foundry/GameProvider.ts\");\n\r\n\r\n\r\n\r\n\r\nclass FabricateLifecycle {\r\n    static init() {\r\n        this.registerHandlebarsHelperFunctions();\r\n        this.registerItemRecipeTab();\r\n        this.registerActorCraftingTab();\r\n        this.registerApplicationListeners();\r\n    }\r\n    static registerHandlebarsHelperFunctions() {\r\n        Handlebars.registerHelper('ifEquals', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return (arg1 == arg2) ? options.fn(this) : options.inverse(this);\r\n        });\r\n        const convertEssenceSlugToIconMarkup = (essenceSlug, systemId) => {\r\n            const system = _FabricateApplication__WEBPACK_IMPORTED_MODULE_0__[\"default\"].systems.getSystemById(systemId);\r\n            const essenceDefinition = system.getEssenceBySlug(essenceSlug);\r\n            if (essenceDefinition) {\r\n                return essenceDefinition.icon;\r\n            }\r\n            return essenceSlug;\r\n        };\r\n        Handlebars.registerHelper('essenceIcon', function (arg1, arg2) {\r\n            return convertEssenceSlugToIconMarkup(arg1, arg2);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIconSeries', function (arg1, arg2) {\r\n            return arg1.map((essence) => convertEssenceSlugToIconMarkup(essence, arg2)).join(', ');\r\n        });\r\n    }\r\n    static registerActorCraftingTab() {\r\n        Hooks.on('renderActorSheet5e', (sheetData, sheetHtml, eventData) => {\r\n            _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__.CraftingTab.bind(sheetData, sheetHtml, eventData);\r\n        });\r\n    }\r\n    static registerItemRecipeTab() {\r\n        Hooks.on('renderItemSheet5e', (sheetData, sheetHtml) => {\r\n            _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_2__.ItemRecipeTab.bind(sheetData, sheetHtml);\r\n        });\r\n    }\r\n    static registerApplicationListeners() {\r\n    }\r\n    static registerCraftingSystemSettings(systemSpec) {\r\n        const globalGameObject = new _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_4__.GameProvider().globalGameObject();\r\n        globalGameObject.settings.register(_Properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_3__[\"default\"].settingsKeys.craftingSystem.enabled(systemSpec.id), {\r\n            name: systemSpec.name,\r\n            hint: systemSpec.summary,\r\n            scope: \"world\",\r\n            type: Boolean,\r\n            default: true,\r\n            config: true,\r\n            onChange: (enabled) => { _FabricateApplication__WEBPACK_IMPORTED_MODULE_0__[\"default\"].systems.getSystemById(systemSpec.id).enabled = enabled; }\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVMaWZlY3ljbGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQzBEO0FBRUw7QUFDSTtBQUVsQjtBQUNjO0FBR3JELE1BQU0sa0JBQWtCO0lBRWIsTUFBTSxDQUFDLElBQUk7UUFDZCxJQUFJLENBQUMsaUNBQWlDLEVBQUUsQ0FBQztRQUN6QyxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsd0JBQXdCLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsNEJBQTRCLEVBQUU7SUFDdkMsQ0FBQztJQUVPLE1BQU0sQ0FBQyxpQ0FBaUM7UUFFNUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsVUFBUyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU87WUFDOUQsYUFBYTtZQUNiLE9BQU8sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckUsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLDhCQUE4QixHQUFHLENBQUMsV0FBbUIsRUFBRSxRQUFnQixFQUFFLEVBQUU7WUFDN0UsTUFBTSxNQUFNLEdBQW1CLG1GQUEwQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ3BGLE1BQU0saUJBQWlCLEdBQXNCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLENBQUMsQ0FBQztZQUNsRixJQUFJLGlCQUFpQixFQUFFO2dCQUNuQixPQUFPLGlCQUFpQixDQUFDLElBQUksQ0FBQzthQUNqQztZQUNELE9BQU8sV0FBVyxDQUFDO1FBQ3ZCLENBQUMsQ0FBQztRQUVGLFVBQVUsQ0FBQyxjQUFjLENBQUMsYUFBYSxFQUFFLFVBQVMsSUFBSSxFQUFFLElBQUk7WUFDeEQsT0FBTyw4QkFBOEIsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7UUFFSCxhQUFhO1FBQ2IsVUFBVSxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsRUFBRSxVQUFTLElBQUksRUFBRSxJQUFJO1lBQzlELE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsOEJBQThCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25HLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLE1BQU0sQ0FBQyx3QkFBd0I7UUFFbkMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFNBQW9CLEVBQUUsU0FBYyxFQUFFLFNBQWMsRUFBRSxFQUFFO1lBQ3BGLG9FQUFnQixDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sTUFBTSxDQUFDLHFCQUFxQjtRQUVoQyxLQUFLLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLENBQUMsU0FBb0IsRUFBRSxTQUFjLEVBQUUsRUFBRTtZQUNuRSx3RUFBa0IsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sTUFBTSxDQUFDLDRCQUE0QjtJQUUzQyxDQUFDO0lBRU0sTUFBTSxDQUFDLDhCQUE4QixDQUFDLFVBQW9DO1FBQzdFLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSwrREFBWSxFQUFFLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUMvRCxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLDZEQUFvQixFQUFFLHVGQUE4QyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUNwSCxJQUFJLEVBQUUsVUFBVSxDQUFDLElBQUk7WUFDckIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxPQUFPO1lBQ3hCLEtBQUssRUFBRSxPQUFPO1lBQ2QsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPLEVBQUUsSUFBSTtZQUNiLE1BQU0sRUFBRSxJQUFJO1lBQ1osUUFBUSxFQUFFLENBQUMsT0FBZ0IsRUFBRSxFQUFFLEdBQUUsbUZBQTBDLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ2xILENBQUMsQ0FBQztJQUNQLENBQUM7Q0FFSjtBQUUwQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2FwcGxpY2F0aW9uL0ZhYnJpY2F0ZUxpZmVjeWNsZS50cz85MDRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW0vQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IEZhYnJpY2F0ZUFwcGxpY2F0aW9uIGZyb20gXCIuL0ZhYnJpY2F0ZUFwcGxpY2F0aW9uXCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ1RhYn0gZnJvbSBcIi4uL2ludGVyZmFjZS9DcmFmdGluZ1RhYlwiO1xyXG5pbXBvcnQge0l0ZW1SZWNpcGVUYWJ9IGZyb20gXCIuLi9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYlwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbn0gZnJvbSBcIi4uL3N5c3RlbV9kZWZpbml0aW9ucy9DcmFmdGluZ1N5c3RlbURlZmluaXRpb25cIjtcclxuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4uL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtHYW1lUHJvdmlkZXJ9IGZyb20gXCIuLi9mb3VuZHJ5L0dhbWVQcm92aWRlclwiO1xyXG5cclxuXHJcbmNsYXNzIEZhYnJpY2F0ZUxpZmVjeWNsZSB7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBpbml0KCkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyRnVuY3Rpb25zKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3Rlckl0ZW1SZWNpcGVUYWIoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyQWN0b3JDcmFmdGluZ1RhYigpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJBcHBsaWNhdGlvbkxpc3RlbmVycygpXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJIYW5kbGViYXJzSGVscGVyRnVuY3Rpb25zKCkge1xyXG5cclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZkVxdWFscycsIGZ1bmN0aW9uKGFyZzEsIGFyZzIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gKGFyZzEgPT0gYXJnMikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb252ZXJ0RXNzZW5jZVNsdWdUb0ljb25NYXJrdXAgPSAoZXNzZW5jZVNsdWc6IHN0cmluZywgc3lzdGVtSWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzeXN0ZW06IENyYWZ0aW5nU3lzdGVtID0gRmFicmljYXRlQXBwbGljYXRpb24uc3lzdGVtcy5nZXRTeXN0ZW1CeUlkKHN5c3RlbUlkKTtcclxuICAgICAgICAgICAgY29uc3QgZXNzZW5jZURlZmluaXRpb246IEVzc2VuY2VEZWZpbml0aW9uID0gc3lzdGVtLmdldEVzc2VuY2VCeVNsdWcoZXNzZW5jZVNsdWcpO1xyXG4gICAgICAgICAgICBpZiAoZXNzZW5jZURlZmluaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlc3NlbmNlRGVmaW5pdGlvbi5pY29uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlc3NlbmNlU2x1ZztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdlc3NlbmNlSWNvbicsIGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRFc3NlbmNlU2x1Z1RvSWNvbk1hcmt1cChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2Vzc2VuY2VJY29uU2VyaWVzJywgZnVuY3Rpb24oYXJnMSwgYXJnMikge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJnMS5tYXAoKGVzc2VuY2U6IHN0cmluZykgPT4gY29udmVydEVzc2VuY2VTbHVnVG9JY29uTWFya3VwKGVzc2VuY2UsIGFyZzIpKS5qb2luKCcsICcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWdpc3RlckFjdG9yQ3JhZnRpbmdUYWIoKSB7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCdyZW5kZXJBY3RvclNoZWV0NWUnLCAoc2hlZXREYXRhOiBJdGVtU2hlZXQsIHNoZWV0SHRtbDogYW55LCBldmVudERhdGE6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBDcmFmdGluZ1RhYi5iaW5kKHNoZWV0RGF0YSwgc2hlZXRIdG1sLCBldmVudERhdGEpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWdpc3Rlckl0ZW1SZWNpcGVUYWIoKSB7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCdyZW5kZXJJdGVtU2hlZXQ1ZScsIChzaGVldERhdGE6IEl0ZW1TaGVldCwgc2hlZXRIdG1sOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgSXRlbVJlY2lwZVRhYi5iaW5kKHNoZWV0RGF0YSwgc2hlZXRIdG1sKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJBcHBsaWNhdGlvbkxpc3RlbmVycygpIHtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWdpc3RlckNyYWZ0aW5nU3lzdGVtU2V0dGluZ3Moc3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uKSB7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsR2FtZU9iamVjdCA9IG5ldyBHYW1lUHJvdmlkZXIoKS5nbG9iYWxHYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgZ2xvYmFsR2FtZU9iamVjdC5zZXR0aW5ncy5yZWdpc3RlcihQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgUHJvcGVydGllcy5zZXR0aW5nc0tleXMuY3JhZnRpbmdTeXN0ZW0uZW5hYmxlZChzeXN0ZW1TcGVjLmlkKSwge1xyXG4gICAgICAgICAgICBuYW1lOiBzeXN0ZW1TcGVjLm5hbWUsXHJcbiAgICAgICAgICAgIGhpbnQ6IHN5c3RlbVNwZWMuc3VtbWFyeSxcclxuICAgICAgICAgICAgc2NvcGU6IFwid29ybGRcIixcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlnOiB0cnVlLFxyXG4gICAgICAgICAgICBvbkNoYW5nZTogKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHtGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5SWQoc3lzdGVtU3BlYy5pZCkuZW5hYmxlZCA9IGVuYWJsZWQ7IH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRlTGlmZWN5Y2xlfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/application/FabricateLifecycle.ts\n");

/***/ }),

/***/ "./src/scripts/common/Combination.ts":
/*!*******************************************!*\
  !*** ./src/scripts/common/Combination.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Combination\": () => (/* binding */ Combination),\n/* harmony export */   \"Unit\": () => (/* binding */ Unit)\n/* harmony export */ });\nclass Unit {\r\n    constructor(type, quantity) {\r\n        this._part = type;\r\n        this._quantity = quantity;\r\n    }\r\n    get part() {\r\n        return this._part;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    add(amount) {\r\n        return new Unit(this._part, this._quantity + amount);\r\n    }\r\n    minus(amount, floor) {\r\n        const targetQuantity = this._quantity - amount;\r\n        if (floor && floor > targetQuantity) {\r\n            return new Unit(this._part, floor);\r\n        }\r\n        return new Unit(this._part, targetQuantity);\r\n    }\r\n    invert() {\r\n        return new Unit(this._part, this._quantity * -1);\r\n    }\r\n    withQuantity(amount) {\r\n        return new Unit(this._part, amount);\r\n    }\r\n    multiply(factor) {\r\n        return new Unit(this._part, this._quantity * factor);\r\n    }\r\n    combineWith(other) {\r\n        return this.add(other.quantity);\r\n    }\r\n    flatten() {\r\n        return Array.from(Array(this._quantity).keys()).map(() => this._part);\r\n    }\r\n}\r\nclass Combination {\r\n    constructor(amounts) {\r\n        this._amounts = amounts;\r\n    }\r\n    /**\r\n     * Constructs and returns an empty Combination\r\n     * */\r\n    static EMPTY() {\r\n        return new Combination(new Map());\r\n    }\r\n    /**\r\n     * Create a Combination from an array of Units. Normalizes any duplicate Units into a single entry for an amount\r\n     * within the Combination.\r\n    * */\r\n    static ofUnits(units) {\r\n        const amounts = new Map();\r\n        units.forEach((unit => {\r\n            if (!amounts.has(unit.part.id)) {\r\n                amounts.set(unit.part.id, unit);\r\n            }\r\n            else {\r\n                const current = amounts.get(unit.part.id);\r\n                amounts.set(unit.part.id, current.add(unit.quantity));\r\n            }\r\n        }));\r\n        return new Combination(amounts);\r\n    }\r\n    static of(member, quantity) {\r\n        const unit = new Unit(member, quantity);\r\n        return Combination.ofUnit(unit);\r\n    }\r\n    static ofUnit(unit) {\r\n        return new Combination(new Map([[unit.part.id, unit]]));\r\n    }\r\n    just(member) {\r\n        return new Combination(new Map([[member.id, new Unit(member, this.amountFor(member))]]));\r\n    }\r\n    get amounts() {\r\n        return new Map(this._amounts);\r\n    }\r\n    size() {\r\n        let size = 0;\r\n        this.amounts.forEach((unit) => {\r\n            size += unit.quantity;\r\n        });\r\n        return size;\r\n    }\r\n    clone() {\r\n        return new Combination(new Map(this._amounts));\r\n    }\r\n    has(member) {\r\n        return this.amounts.has(member.id);\r\n    }\r\n    containsAll(unit) {\r\n        return this.amounts.get(unit.part.id).quantity >= unit.quantity;\r\n    }\r\n    amountFor(member) {\r\n        return this._amounts.has(member.id) ? this._amounts.get(member.id).quantity : 0;\r\n    }\r\n    isEmpty() {\r\n        return this.size() === 0;\r\n    }\r\n    isIn(other) {\r\n        for (const unit of this.amounts.values()) {\r\n            if (!other.has(unit.part)) {\r\n                return false;\r\n            }\r\n            const amount = other.amountFor(unit.part) - this.amountFor(unit.part);\r\n            if (amount < 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    get members() {\r\n        const members = [];\r\n        for (const unit of this.amounts.values()) {\r\n            members.push(unit.part);\r\n        }\r\n        return members;\r\n    }\r\n    get units() {\r\n        const amounts = [];\r\n        for (const unit of this.amounts.values()) {\r\n            amounts.push(unit);\r\n        }\r\n        return amounts;\r\n    }\r\n    /**\r\n     * Merges two Combinations without altering them to produce a third, representing the union of both Combinations.\r\n     *\r\n     * @param other The other combination to merge with this one\r\n     * @returns a new combination, resulting from a merge of this combination and the other provided combination\r\n     * */\r\n    combineWith(other) {\r\n        const combination = new Map(this.amounts);\r\n        other.units.forEach((otherUnit) => {\r\n            if (!combination.has(otherUnit.part.id)) {\r\n                combination.set(otherUnit.part.id, otherUnit);\r\n            }\r\n            else {\r\n                const current = combination.get(otherUnit.part.id);\r\n                const updated = current.add(otherUnit.quantity);\r\n                combination.set(otherUnit.part.id, updated);\r\n            }\r\n        });\r\n        return new Combination(combination);\r\n    }\r\n    /**\r\n     * Merges the provided Combination into this one by mutating its contents to represent the union of both\r\n     * Combinations. This is a mutation operation and should be used with care.\r\n     *\r\n     * @param other The other Combination to merge with this one\r\n     * @returns a self-reference (this combination)\r\n     * */\r\n    accept(other) {\r\n        other.members.forEach((otherMember) => {\r\n            if (this.amounts.has(otherMember.id)) {\r\n                const currentAmount = this.amounts.get(otherMember.id);\r\n                const modifiedAmount = currentAmount.add(other.amountFor(otherMember));\r\n                this.amounts.set(otherMember.id, modifiedAmount);\r\n            }\r\n            else {\r\n                this.amounts.set(otherMember.id, new Unit(otherMember, other.amountFor(otherMember)));\r\n            }\r\n        });\r\n        return this;\r\n    }\r\n    /**\r\n     * Merges an additional Unit into this Combination without altering it to produce a third, representing the result\r\n     * of adding the new Unit.\r\n     *\r\n     * @param additionalUnit The additional Unit to merge into this Combination\r\n     * @returns a new Combination, resulting from a merge of the provided Unit into this Combination\r\n     * */\r\n    add(additionalUnit) {\r\n        const amounts = new Map(this.amounts);\r\n        if (amounts.has(additionalUnit.part.id)) {\r\n            const currentAmount = amounts.get(additionalUnit.part.id);\r\n            const updatedAmount = currentAmount.add(additionalUnit.quantity);\r\n            amounts.set(additionalUnit.part.id, updatedAmount);\r\n        }\r\n        else {\r\n            amounts.set(additionalUnit.part.id, additionalUnit);\r\n        }\r\n        return new Combination(amounts);\r\n    }\r\n    /**\r\n     * Subtracts a Unit from this Combination without altering it to produce a third, representing the result of\r\n     * subtracting the Unit.\r\n     *\r\n     * @param subtractedUnit The Unit to subtract from this Combination\r\n     * @returns a new Combination, resulting from a subtraction of the provided Unit from this Combination\r\n     * */\r\n    minus(subtractedUnit) {\r\n        const amounts = new Map(this.amounts);\r\n        if (!amounts.has(subtractedUnit.part.id)) {\r\n            return this.clone();\r\n        }\r\n        const currentAmount = amounts.get(subtractedUnit.part.id);\r\n        const updatedAmount = currentAmount.minus(subtractedUnit.quantity, 0);\r\n        if (updatedAmount.quantity <= 0) {\r\n            amounts.delete(subtractedUnit.part.id);\r\n        }\r\n        else {\r\n            amounts.set(subtractedUnit.part.id, updatedAmount);\r\n        }\r\n        return new Combination(amounts);\r\n    }\r\n    /**\r\n     * Removes the contents of the provided Combination from this one without altering it to produce a third,\r\n     * representing the result of the subtraction operation.\r\n     *\r\n     * @param other The other Combination representing the amounts to remove\r\n     * @returns a new Combination, resulting from the subtraction of the other from this one\r\n     * */\r\n    subtract(other) {\r\n        if (other.isEmpty()) {\r\n            return this.clone();\r\n        }\r\n        const combination = new Map();\r\n        for (const thisElement of this._amounts.values()) {\r\n            if (!other.has(thisElement.part)) {\r\n                combination.set(thisElement.part.id, thisElement);\r\n            }\r\n            else {\r\n                const resultingAmount = thisElement.quantity - other.amountFor(thisElement.part);\r\n                if (resultingAmount > 0) {\r\n                    combination.set(thisElement.part.id, thisElement.withQuantity(resultingAmount));\r\n                }\r\n            }\r\n        }\r\n        return new Combination(combination);\r\n    }\r\n    /**\r\n     * Removes the contents of the provided Combination from this one. This is a mutation operation and should be used\r\n     * with care.\r\n     *\r\n     * @param other The other Combination to remove the contents of from this Combination\r\n     * @returns a self-reference (this combination)\r\n     * */\r\n    drop(other) {\r\n        other.members.forEach((otherMember) => {\r\n            if (this.amounts.has(otherMember.id)) {\r\n                const currentAmount = this.amounts.get(otherMember.id);\r\n                const deleteUnit = currentAmount.quantity <= other.amountFor(otherMember);\r\n                switch (deleteUnit) {\r\n                    case true:\r\n                        this.amounts.delete(otherMember.id);\r\n                        break;\r\n                    case false:\r\n                        const modifiedAmount = currentAmount.withQuantity(currentAmount.quantity - other.amountFor(otherMember));\r\n                        this.amounts.set(otherMember.id, modifiedAmount);\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n        return this;\r\n    }\r\n    multiply(factor) {\r\n        const modifiedAmounts = new Map(this._amounts);\r\n        this.members.forEach((member) => {\r\n            const unit = modifiedAmounts.get(member.id);\r\n            modifiedAmounts.set(member.id, unit.multiply(factor));\r\n        });\r\n        return new Combination(modifiedAmounts);\r\n    }\r\n    intersects(other) {\r\n        return other.members.some((otherMember) => this.members.includes(otherMember));\r\n    }\r\n    explode(transformFunction) {\r\n        let exploded = Combination.EMPTY();\r\n        this.amounts.forEach((unit) => {\r\n            exploded = exploded.combineWith(transformFunction(unit.part).multiply(unit.quantity));\r\n        });\r\n        return exploded;\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        if (other.size() !== this.size()) {\r\n            return false;\r\n        }\r\n        return other.isIn(this) && this.isIn(other);\r\n    }\r\n    hasPart(partId, quantity = 1) {\r\n        if (!this._amounts.has(partId)) {\r\n            return false;\r\n        }\r\n        const unit = this._amounts.get(partId);\r\n        return quantity >= unit.quantity;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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InNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2NvbW1vbi9Db21iaW5hdGlvbi50cz84MjMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SWRlbnRpZmlhYmxlfSBmcm9tIFwiLi9GYWJyaWNhdGVJdGVtXCI7XHJcblxyXG5jbGFzcyBVbml0PFQgZXh0ZW5kcyBJZGVudGlmaWFibGU+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BhcnQ6IFQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9xdWFudGl0eTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IFQsIHF1YW50aXR5OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9wYXJ0ID0gdHlwZTtcclxuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IHF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwYXJ0KCk6IFQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJ0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkKGFtb3VudDogbnVtYmVyKTogVW5pdDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVbml0PFQ+KHRoaXMuX3BhcnQsIHRoaXMuX3F1YW50aXR5ICsgYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbWludXMoYW1vdW50OiBudW1iZXIsIGZsb29yPzogbnVtYmVyKTogVW5pdDxUPiB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0UXVhbnRpdHkgPSB0aGlzLl9xdWFudGl0eSAtIGFtb3VudDtcclxuICAgICAgICBpZiAoZmxvb3IgJiYgZmxvb3IgPiB0YXJnZXRRdWFudGl0eSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVuaXQ8VD4odGhpcy5fcGFydCwgZmxvb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVuaXQ8VD4odGhpcy5fcGFydCwgdGFyZ2V0UXVhbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbnZlcnQoKTogVW5pdDxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVbml0PFQ+KHRoaXMuX3BhcnQsIHRoaXMuX3F1YW50aXR5ICogLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB3aXRoUXVhbnRpdHkoYW1vdW50OiBudW1iZXIpOiBVbml0PFQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFVuaXQ8VD4odGhpcy5fcGFydCwgYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBtdWx0aXBseShmYWN0b3I6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVW5pdDxUPih0aGlzLl9wYXJ0LCB0aGlzLl9xdWFudGl0eSAqIGZhY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgY29tYmluZVdpdGgob3RoZXI6IFVuaXQ8VD4pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hZGQob3RoZXIucXVhbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZsYXR0ZW4oKTogVFtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShBcnJheSh0aGlzLl9xdWFudGl0eSkua2V5cygpKS5tYXAoKCkgPT4gdGhpcy5fcGFydCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBDb21iaW5hdGlvbjxUIGV4dGVuZHMgSWRlbnRpZmlhYmxlPiB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hbW91bnRzOiBNYXA8c3RyaW5nLCBVbml0PFQ+PjtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGFtb3VudHM6IE1hcDxzdHJpbmcsIFVuaXQ8VD4+KSB7XHJcbiAgICAgICAgdGhpcy5fYW1vdW50cyA9IGFtb3VudHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb25zdHJ1Y3RzIGFuZCByZXR1cm5zIGFuIGVtcHR5IENvbWJpbmF0aW9uXHJcbiAgICAgKiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBFTVBUWTxUIGV4dGVuZHMgSWRlbnRpZmlhYmxlPigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENvbWJpbmF0aW9uPFQ+KG5ldyBNYXAoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYSBDb21iaW5hdGlvbiBmcm9tIGFuIGFycmF5IG9mIFVuaXRzLiBOb3JtYWxpemVzIGFueSBkdXBsaWNhdGUgVW5pdHMgaW50byBhIHNpbmdsZSBlbnRyeSBmb3IgYW4gYW1vdW50XHJcbiAgICAgKiB3aXRoaW4gdGhlIENvbWJpbmF0aW9uLlxyXG4gICAgKiAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBvZlVuaXRzPFQgZXh0ZW5kcyBJZGVudGlmaWFibGU+KHVuaXRzOiBVbml0PFQ+W10pOiBDb21iaW5hdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgYW1vdW50czogTWFwPHN0cmluZywgVW5pdDxUPj4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdW5pdHMuZm9yRWFjaCgodW5pdCA9PiB7XHJcbiAgICAgICAgICAgIGlmICghYW1vdW50cy5oYXModW5pdC5wYXJ0LmlkKSkge1xyXG4gICAgICAgICAgICAgICAgYW1vdW50cy5zZXQodW5pdC5wYXJ0LmlkLCB1bml0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQ6IFVuaXQ8VD4gPSBhbW91bnRzLmdldCh1bml0LnBhcnQuaWQpO1xyXG4gICAgICAgICAgICAgICAgYW1vdW50cy5zZXQodW5pdC5wYXJ0LmlkLCBjdXJyZW50LmFkZCh1bml0LnF1YW50aXR5KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21iaW5hdGlvbihhbW91bnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG9mPFQgZXh0ZW5kcyBJZGVudGlmaWFibGU+KG1lbWJlcjogVCwgcXVhbnRpdHk6IG51bWJlcik6IENvbWJpbmF0aW9uPFQ+IHtcclxuICAgICAgICBjb25zdCB1bml0OiBVbml0PFQ+ID0gbmV3IFVuaXQ8VD4obWVtYmVyLCBxdWFudGl0eSk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLm9mVW5pdCh1bml0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG9mVW5pdDxUIGV4dGVuZHMgSWRlbnRpZmlhYmxlPih1bml0OiBVbml0PFQ+KTogQ29tYmluYXRpb248VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tYmluYXRpb248VD4obmV3IE1hcChbW3VuaXQucGFydC5pZCwgdW5pdF1dKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGp1c3QobWVtYmVyOiBUKTogQ29tYmluYXRpb248VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tYmluYXRpb248VD4obmV3IE1hcChbW21lbWJlci5pZCwgbmV3IFVuaXQ8VD4obWVtYmVyLCB0aGlzLmFtb3VudEZvcihtZW1iZXIpKV1dKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFtb3VudHMoKTogTWFwPHN0cmluZywgVW5pdDxUPj4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgTWFwKHRoaXMuX2Ftb3VudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuYW1vdW50cy5mb3JFYWNoKCh1bml0OiBVbml0PFQ+KSA9PiB7XHJcbiAgICAgICAgICAgIHNpemUgKz0gdW5pdC5xdWFudGl0eTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xvbmUoKTogQ29tYmluYXRpb248VD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ29tYmluYXRpb248VD4obmV3IE1hcCh0aGlzLl9hbW91bnRzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhhcyhtZW1iZXI6IFQpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbW91bnRzLmhhcyhtZW1iZXIuaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb250YWluc0FsbCh1bml0OiBVbml0PFQ+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW1vdW50cy5nZXQodW5pdC5wYXJ0LmlkKS5xdWFudGl0eSA+PSB1bml0LnF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhbW91bnRGb3IobWVtYmVyOiBUKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW1vdW50cy5oYXMobWVtYmVyLmlkKSA/IHRoaXMuX2Ftb3VudHMuZ2V0KG1lbWJlci5pZCkucXVhbnRpdHkgOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0VtcHR5KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNpemUoKSA9PT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNJbihvdGhlcjogQ29tYmluYXRpb248VD4pOiBib29sZWFuIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHVuaXQgb2YgdGhpcy5hbW91bnRzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgIGlmICghb3RoZXIuaGFzKHVuaXQucGFydCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhbW91bnQ6IG51bWJlciA9IG90aGVyLmFtb3VudEZvcih1bml0LnBhcnQpIC0gdGhpcy5hbW91bnRGb3IodW5pdC5wYXJ0KTtcclxuICAgICAgICAgICAgaWYgKGFtb3VudCA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG1lbWJlcnMoKTogVFtdIHtcclxuICAgICAgICBjb25zdCBtZW1iZXJzOiBUW10gPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHVuaXQgb2YgdGhpcy5hbW91bnRzLnZhbHVlcygpKSB7XHJcbiAgICAgICAgICAgIG1lbWJlcnMucHVzaCh1bml0LnBhcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVtYmVycztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHVuaXRzKCk6IFVuaXQ8VD5bXSB7XHJcbiAgICAgICAgY29uc3QgYW1vdW50czogVW5pdDxUPltdID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCB1bml0IG9mIHRoaXMuYW1vdW50cy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBhbW91bnRzLnB1c2godW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbW91bnRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2VzIHR3byBDb21iaW5hdGlvbnMgd2l0aG91dCBhbHRlcmluZyB0aGVtIHRvIHByb2R1Y2UgYSB0aGlyZCwgcmVwcmVzZW50aW5nIHRoZSB1bmlvbiBvZiBib3RoIENvbWJpbmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gb3RoZXIgVGhlIG90aGVyIGNvbWJpbmF0aW9uIHRvIG1lcmdlIHdpdGggdGhpcyBvbmVcclxuICAgICAqIEByZXR1cm5zIGEgbmV3IGNvbWJpbmF0aW9uLCByZXN1bHRpbmcgZnJvbSBhIG1lcmdlIG9mIHRoaXMgY29tYmluYXRpb24gYW5kIHRoZSBvdGhlciBwcm92aWRlZCBjb21iaW5hdGlvblxyXG4gICAgICogKi9cclxuICAgIHB1YmxpYyBjb21iaW5lV2l0aChvdGhlcjogQ29tYmluYXRpb248VD4pOiBDb21iaW5hdGlvbjxUPiB7XHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb246IE1hcDxzdHJpbmcsIFVuaXQ8VD4+ID0gbmV3IE1hcCh0aGlzLmFtb3VudHMpO1xyXG4gICAgICAgIG90aGVyLnVuaXRzLmZvckVhY2goKG90aGVyVW5pdDogVW5pdDxUPikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbWJpbmF0aW9uLmhhcyhvdGhlclVuaXQucGFydC5pZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbWJpbmF0aW9uLnNldChvdGhlclVuaXQucGFydC5pZCwgb3RoZXJVbml0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQ6IFVuaXQ8VD4gPSBjb21iaW5hdGlvbi5nZXQob3RoZXJVbml0LnBhcnQuaWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZDogVW5pdDxUPiA9IGN1cnJlbnQuYWRkKG90aGVyVW5pdC5xdWFudGl0eSk7XHJcbiAgICAgICAgICAgICAgICBjb21iaW5hdGlvbi5zZXQob3RoZXJVbml0LnBhcnQuaWQsIHVwZGF0ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21iaW5hdGlvbjxUPihjb21iaW5hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZXMgdGhlIHByb3ZpZGVkIENvbWJpbmF0aW9uIGludG8gdGhpcyBvbmUgYnkgbXV0YXRpbmcgaXRzIGNvbnRlbnRzIHRvIHJlcHJlc2VudCB0aGUgdW5pb24gb2YgYm90aFxyXG4gICAgICogQ29tYmluYXRpb25zLiBUaGlzIGlzIGEgbXV0YXRpb24gb3BlcmF0aW9uIGFuZCBzaG91bGQgYmUgdXNlZCB3aXRoIGNhcmUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyIFRoZSBvdGhlciBDb21iaW5hdGlvbiB0byBtZXJnZSB3aXRoIHRoaXMgb25lXHJcbiAgICAgKiBAcmV0dXJucyBhIHNlbGYtcmVmZXJlbmNlICh0aGlzIGNvbWJpbmF0aW9uKVxyXG4gICAgICogKi9cclxuICAgIGFjY2VwdChvdGhlcjogQ29tYmluYXRpb248VD4pOiBDb21iaW5hdGlvbjxUPiB7XHJcbiAgICAgICAgb3RoZXIubWVtYmVycy5mb3JFYWNoKChvdGhlck1lbWJlcjogVCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbW91bnRzLmhhcyhvdGhlck1lbWJlci5pZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbW91bnQ6IFVuaXQ8VD4gPSB0aGlzLmFtb3VudHMuZ2V0KG90aGVyTWVtYmVyLmlkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkQW1vdW50OiBVbml0PFQ+ID0gY3VycmVudEFtb3VudC5hZGQob3RoZXIuYW1vdW50Rm9yKG90aGVyTWVtYmVyKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFtb3VudHMuc2V0KG90aGVyTWVtYmVyLmlkLCBtb2RpZmllZEFtb3VudCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFtb3VudHMuc2V0KG90aGVyTWVtYmVyLmlkLCBuZXcgVW5pdChvdGhlck1lbWJlciwgb3RoZXIuYW1vdW50Rm9yKG90aGVyTWVtYmVyKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNZXJnZXMgYW4gYWRkaXRpb25hbCBVbml0IGludG8gdGhpcyBDb21iaW5hdGlvbiB3aXRob3V0IGFsdGVyaW5nIGl0IHRvIHByb2R1Y2UgYSB0aGlyZCwgcmVwcmVzZW50aW5nIHRoZSByZXN1bHRcclxuICAgICAqIG9mIGFkZGluZyB0aGUgbmV3IFVuaXQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFkZGl0aW9uYWxVbml0IFRoZSBhZGRpdGlvbmFsIFVuaXQgdG8gbWVyZ2UgaW50byB0aGlzIENvbWJpbmF0aW9uXHJcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBDb21iaW5hdGlvbiwgcmVzdWx0aW5nIGZyb20gYSBtZXJnZSBvZiB0aGUgcHJvdmlkZWQgVW5pdCBpbnRvIHRoaXMgQ29tYmluYXRpb25cclxuICAgICAqICovXHJcbiAgICBwdWJsaWMgYWRkKGFkZGl0aW9uYWxVbml0OiBVbml0PFQ+KTogQ29tYmluYXRpb248VD4ge1xyXG4gICAgICAgIGNvbnN0IGFtb3VudHM6IE1hcDxzdHJpbmcsIFVuaXQ8VD4+ID0gbmV3IE1hcCh0aGlzLmFtb3VudHMpO1xyXG4gICAgICAgIGlmIChhbW91bnRzLmhhcyhhZGRpdGlvbmFsVW5pdC5wYXJ0LmlkKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW1vdW50OiBVbml0PFQ+ID0gIGFtb3VudHMuZ2V0KGFkZGl0aW9uYWxVbml0LnBhcnQuaWQpO1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkQW1vdW50OiBVbml0PFQ+ID0gY3VycmVudEFtb3VudC5hZGQoYWRkaXRpb25hbFVuaXQucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICBhbW91bnRzLnNldChhZGRpdGlvbmFsVW5pdC5wYXJ0LmlkLCB1cGRhdGVkQW1vdW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbW91bnRzLnNldChhZGRpdGlvbmFsVW5pdC5wYXJ0LmlkLCBhZGRpdGlvbmFsVW5pdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ29tYmluYXRpb248VD4oYW1vdW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJ0cmFjdHMgYSBVbml0IGZyb20gdGhpcyBDb21iaW5hdGlvbiB3aXRob3V0IGFsdGVyaW5nIGl0IHRvIHByb2R1Y2UgYSB0aGlyZCwgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQgb2ZcclxuICAgICAqIHN1YnRyYWN0aW5nIHRoZSBVbml0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzdWJ0cmFjdGVkVW5pdCBUaGUgVW5pdCB0byBzdWJ0cmFjdCBmcm9tIHRoaXMgQ29tYmluYXRpb25cclxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbWJpbmF0aW9uLCByZXN1bHRpbmcgZnJvbSBhIHN1YnRyYWN0aW9uIG9mIHRoZSBwcm92aWRlZCBVbml0IGZyb20gdGhpcyBDb21iaW5hdGlvblxyXG4gICAgICogKi9cclxuICAgIHB1YmxpYyBtaW51cyhzdWJ0cmFjdGVkVW5pdDogVW5pdDxUPik6IENvbWJpbmF0aW9uPFQ+IHtcclxuICAgICAgICBjb25zdCBhbW91bnRzOiBNYXA8c3RyaW5nLCBVbml0PFQ+PiA9IG5ldyBNYXAodGhpcy5hbW91bnRzKTtcclxuICAgICAgICBpZiAoIWFtb3VudHMuaGFzKHN1YnRyYWN0ZWRVbml0LnBhcnQuaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBbW91bnQ6IFVuaXQ8VD4gPSAgYW1vdW50cy5nZXQoc3VidHJhY3RlZFVuaXQucGFydC5pZCk7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEFtb3VudDogVW5pdDxUPiA9IGN1cnJlbnRBbW91bnQubWludXMoc3VidHJhY3RlZFVuaXQucXVhbnRpdHksIDApO1xyXG4gICAgICAgIGlmICh1cGRhdGVkQW1vdW50LnF1YW50aXR5IDw9IDApIHtcclxuICAgICAgICAgICAgYW1vdW50cy5kZWxldGUoc3VidHJhY3RlZFVuaXQucGFydC5pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYW1vdW50cy5zZXQoc3VidHJhY3RlZFVuaXQucGFydC5pZCwgdXBkYXRlZEFtb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ29tYmluYXRpb248VD4oYW1vdW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBjb250ZW50cyBvZiB0aGUgcHJvdmlkZWQgQ29tYmluYXRpb24gZnJvbSB0aGlzIG9uZSB3aXRob3V0IGFsdGVyaW5nIGl0IHRvIHByb2R1Y2UgYSB0aGlyZCxcclxuICAgICAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvcGVyYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG90aGVyIFRoZSBvdGhlciBDb21iaW5hdGlvbiByZXByZXNlbnRpbmcgdGhlIGFtb3VudHMgdG8gcmVtb3ZlXHJcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBDb21iaW5hdGlvbiwgcmVzdWx0aW5nIGZyb20gdGhlIHN1YnRyYWN0aW9uIG9mIHRoZSBvdGhlciBmcm9tIHRoaXMgb25lXHJcbiAgICAgKiAqL1xyXG4gICAgcHVibGljIHN1YnRyYWN0KG90aGVyOiBDb21iaW5hdGlvbjxUPik6IENvbWJpbmF0aW9uPFQ+IHtcclxuICAgICAgICBpZiAob3RoZXIuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uOiBNYXA8c3RyaW5nLCBVbml0PFQ+PiA9IG5ldyBNYXAoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IHRoaXNFbGVtZW50IG9mIHRoaXMuX2Ftb3VudHMudmFsdWVzKCkpIHtcclxuICAgICAgICAgICAgaWYgKCFvdGhlci5oYXModGhpc0VsZW1lbnQucGFydCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbWJpbmF0aW9uLnNldCh0aGlzRWxlbWVudC5wYXJ0LmlkLCB0aGlzRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRpbmdBbW91bnQgPSB0aGlzRWxlbWVudC5xdWFudGl0eSAtIG90aGVyLmFtb3VudEZvcih0aGlzRWxlbWVudC5wYXJ0KTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRpbmdBbW91bnQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tYmluYXRpb24uc2V0KHRoaXNFbGVtZW50LnBhcnQuaWQsIHRoaXNFbGVtZW50LndpdGhRdWFudGl0eShyZXN1bHRpbmdBbW91bnQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IENvbWJpbmF0aW9uPFQ+KGNvbWJpbmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBwcm92aWRlZCBDb21iaW5hdGlvbiBmcm9tIHRoaXMgb25lLiBUaGlzIGlzIGEgbXV0YXRpb24gb3BlcmF0aW9uIGFuZCBzaG91bGQgYmUgdXNlZFxyXG4gICAgICogd2l0aCBjYXJlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBvdGhlciBUaGUgb3RoZXIgQ29tYmluYXRpb24gdG8gcmVtb3ZlIHRoZSBjb250ZW50cyBvZiBmcm9tIHRoaXMgQ29tYmluYXRpb25cclxuICAgICAqIEByZXR1cm5zIGEgc2VsZi1yZWZlcmVuY2UgKHRoaXMgY29tYmluYXRpb24pXHJcbiAgICAgKiAqL1xyXG4gICAgZHJvcChvdGhlcjogQ29tYmluYXRpb248VD4pOiBDb21iaW5hdGlvbjxUPiB7XHJcbiAgICAgICAgb3RoZXIubWVtYmVycy5mb3JFYWNoKChvdGhlck1lbWJlcjogVCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hbW91bnRzLmhhcyhvdGhlck1lbWJlci5pZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbW91bnQ6IFVuaXQ8VD4gPSB0aGlzLmFtb3VudHMuZ2V0KG90aGVyTWVtYmVyLmlkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZVVuaXQ6IGJvb2xlYW4gPSBjdXJyZW50QW1vdW50LnF1YW50aXR5IDw9IG90aGVyLmFtb3VudEZvcihvdGhlck1lbWJlcik7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlbGV0ZVVuaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIHRydWU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYW1vdW50cy5kZWxldGUob3RoZXJNZW1iZXIuaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIGZhbHNlOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZEFtb3VudDogVW5pdDxUPiA9IGN1cnJlbnRBbW91bnQud2l0aFF1YW50aXR5KGN1cnJlbnRBbW91bnQucXVhbnRpdHkgLSBvdGhlci5hbW91bnRGb3Iob3RoZXJNZW1iZXIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hbW91bnRzLnNldChvdGhlck1lbWJlci5pZCwgbW9kaWZpZWRBbW91bnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtdWx0aXBseShmYWN0b3I6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IG1vZGlmaWVkQW1vdW50czogTWFwPHN0cmluZywgVW5pdDxUPj4gPSBuZXcgTWFwKHRoaXMuX2Ftb3VudHMpO1xyXG4gICAgICAgIHRoaXMubWVtYmVycy5mb3JFYWNoKChtZW1iZXI6IFQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdW5pdDogVW5pdDxUPiA9IG1vZGlmaWVkQW1vdW50cy5nZXQobWVtYmVyLmlkKTtcclxuICAgICAgICAgICAgbW9kaWZpZWRBbW91bnRzLnNldChtZW1iZXIuaWQsIHVuaXQubXVsdGlwbHkoZmFjdG9yKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21iaW5hdGlvbihtb2RpZmllZEFtb3VudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGludGVyc2VjdHMob3RoZXI6IENvbWJpbmF0aW9uPFQ+KSB7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyLm1lbWJlcnMuc29tZSgob3RoZXJNZW1iZXI6IFQpID0+IHRoaXMubWVtYmVycy5pbmNsdWRlcyhvdGhlck1lbWJlcikpO1xyXG4gICAgfVxyXG5cclxuICAgIGV4cGxvZGUgPFIgZXh0ZW5kcyBJZGVudGlmaWFibGU+KHRyYW5zZm9ybUZ1bmN0aW9uOiAodGhpc1R5cGU6IFQpID0+IENvbWJpbmF0aW9uPFI+KTogQ29tYmluYXRpb248Uj4ge1xyXG4gICAgICAgIGxldCBleHBsb2RlZDogQ29tYmluYXRpb248Uj4gPSBDb21iaW5hdGlvbi5FTVBUWTxSPigpO1xyXG4gICAgICAgIHRoaXMuYW1vdW50cy5mb3JFYWNoKCh1bml0OiBVbml0PFQ+KSA9PiB7XHJcbiAgICAgICAgICAgIGV4cGxvZGVkID0gZXhwbG9kZWQuY29tYmluZVdpdGgodHJhbnNmb3JtRnVuY3Rpb24odW5pdC5wYXJ0KS5tdWx0aXBseSh1bml0LnF1YW50aXR5KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGV4cGxvZGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGVxdWFscyhvdGhlcjogQ29tYmluYXRpb248VD4pIHtcclxuICAgICAgICBpZiAoIW90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG90aGVyLnNpemUoKSAhPT0gdGhpcy5zaXplKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3RoZXIuaXNJbih0aGlzKSAmJiB0aGlzLmlzSW4ob3RoZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc1BhcnQocGFydElkOiBzdHJpbmcsIHF1YW50aXR5OiBudW1iZXIgPSAxKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9hbW91bnRzLmhhcyhwYXJ0SWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5pdCA9IHRoaXMuX2Ftb3VudHMuZ2V0KHBhcnRJZCk7XHJcbiAgICAgICAgcmV0dXJuIHF1YW50aXR5ID49IHVuaXQucXVhbnRpdHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7VW5pdCwgQ29tYmluYXRpb259Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/common/Combination.ts\n");

/***/ }),

/***/ "./src/scripts/common/ComponentConsumptionCalculator.ts":
/*!**************************************************************!*\
  !*** ./src/scripts/common/ComponentConsumptionCalculator.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ComponentConsumptionCalculatorFactory\": () => (/* binding */ ComponentConsumptionCalculatorFactory),\n/* harmony export */   \"NonPunitiveComponentConsumptionCalculator\": () => (/* binding */ NonPunitiveComponentConsumptionCalculator),\n/* harmony export */   \"PunitiveComponentConsumptionCalculator\": () => (/* binding */ PunitiveComponentConsumptionCalculator),\n/* harmony export */   \"WastageType\": () => (/* binding */ WastageType)\n/* harmony export */ });\n/* harmony import */ var _Combination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Combination */ \"./src/scripts/common/Combination.ts\");\n\r\nvar WastageType;\r\n(function (WastageType) {\r\n    WastageType[WastageType[\"PUNITIVE\"] = 0] = \"PUNITIVE\";\r\n    WastageType[WastageType[\"NON_PUNITIVE\"] = 1] = \"NON_PUNITIVE\";\r\n})(WastageType || (WastageType = {}));\r\nclass ComponentConsumptionCalculatorFactory {\r\n    make(wastageType) {\r\n        switch (wastageType) {\r\n            case WastageType.NON_PUNITIVE:\r\n                return new NonPunitiveComponentConsumptionCalculator();\r\n            case WastageType.PUNITIVE:\r\n                return new PunitiveComponentConsumptionCalculator();\r\n        }\r\n    }\r\n}\r\nclass PunitiveComponentConsumptionCalculator {\r\n    calculate(components) {\r\n        return components;\r\n    }\r\n}\r\nclass NonPunitiveComponentConsumptionCalculator {\r\n    calculate(_components) {\r\n        return _Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21tb24vQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBDO0FBRzFDLElBQUssV0FHSjtBQUhELFdBQUssV0FBVztJQUNaLHFEQUFRO0lBQ1IsNkRBQVk7QUFDaEIsQ0FBQyxFQUhJLFdBQVcsS0FBWCxXQUFXLFFBR2Y7QUFFRCxNQUFNLHFDQUFxQztJQUV2QyxJQUFJLENBQUMsV0FBd0I7UUFDekIsUUFBUSxXQUFXLEVBQUU7WUFDakIsS0FBSyxXQUFXLENBQUMsWUFBWTtnQkFDekIsT0FBTyxJQUFJLHlDQUF5QyxFQUFFLENBQUM7WUFDM0QsS0FBSyxXQUFXLENBQUMsUUFBUTtnQkFDckIsT0FBTyxJQUFJLHNDQUFzQyxFQUFFLENBQUM7U0FDM0Q7SUFDTCxDQUFDO0NBRUo7QUFRRCxNQUFNLHNDQUFzQztJQUV4QyxTQUFTLENBQUMsVUFBMEM7UUFDaEQsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztDQUVKO0FBRUQsTUFBTSx5Q0FBeUM7SUFFM0MsU0FBUyxDQUFDLFdBQTJDO1FBQ2pELE9BQU8sMkRBQWlCLEVBQUUsQ0FBQztJQUMvQixDQUFDO0NBRUo7QUFRQSIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2NvbW1vbi9Db21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3IudHM/MjM0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuZW51bSBXYXN0YWdlVHlwZSB7XHJcbiAgICBQVU5JVElWRSxcclxuICAgIE5PTl9QVU5JVElWRVxyXG59XHJcblxyXG5jbGFzcyBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3JGYWN0b3J5IHtcclxuXHJcbiAgICBtYWtlKHdhc3RhZ2VUeXBlOiBXYXN0YWdlVHlwZSk6IENvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvciB7XHJcbiAgICAgICAgc3dpdGNoICh3YXN0YWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFdhc3RhZ2VUeXBlLk5PTl9QVU5JVElWRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9uUHVuaXRpdmVDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3IoKTtcclxuICAgICAgICAgICAgY2FzZSBXYXN0YWdlVHlwZS5QVU5JVElWRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHVuaXRpdmVDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yIHtcclxuXHJcbiAgICBjYWxjdWxhdGUoY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG5cclxufVxyXG5cclxuY2xhc3MgUHVuaXRpdmVDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3IgaW1wbGVtZW50cyBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3Ige1xyXG5cclxuICAgIGNhbGN1bGF0ZShjb21wb25lbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4pOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4ge1xyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRzO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgTm9uUHVuaXRpdmVDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3IgaW1wbGVtZW50cyBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3Ige1xyXG5cclxuICAgIGNhbGN1bGF0ZShfY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gQ29tYmluYXRpb24uRU1QVFkoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBXYXN0YWdlVHlwZSxcclxuICAgIENvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcixcclxuICAgIFB1bml0aXZlQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yLFxyXG4gICAgTm9uUHVuaXRpdmVDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3IsXHJcbiAgICBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3JGYWN0b3J5XHJcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/common/ComponentConsumptionCalculator.ts\n");

/***/ }),

/***/ "./src/scripts/common/CraftingComponent.ts":
/*!*************************************************!*\
  !*** ./src/scripts/common/CraftingComponent.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingComponent\": () => (/* binding */ CraftingComponent)\n/* harmony export */ });\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/common/FabricateItem.ts\");\n/* harmony import */ var _Combination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Combination */ \"./src/scripts/common/Combination.ts\");\n\r\n\r\nclass CraftingComponent extends _FabricateItem__WEBPACK_IMPORTED_MODULE_0__.FabricateItem {\r\n    constructor({ gameItem, essences, salvage }) {\r\n        super(gameItem);\r\n        this._essences = essences !== null && essences !== void 0 ? essences : _Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY();\r\n        this._salvage = salvage !== null && salvage !== void 0 ? salvage : _Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY();\r\n    }\r\n    mutate(mutation) {\r\n        var _a, _b;\r\n        if (!mutation.essences && !mutation.salvage && !mutation.item) {\r\n            console.warn(`A no-op mutation was performed on Component ID: \"${this.id}\". This should not happen. `);\r\n            return this;\r\n        }\r\n        return new CraftingComponent({\r\n            gameItem: {\r\n                systemId: this.systemId,\r\n                partId: this.partId,\r\n                compendiumId: this.compendiumId,\r\n                name: ((_a = mutation.item) === null || _a === void 0 ? void 0 : _a.name) ? mutation.item.name : this.name,\r\n                imageUrl: ((_b = mutation.item) === null || _b === void 0 ? void 0 : _b.imageUrl) ? mutation.item.imageUrl : this.imageUrl\r\n            },\r\n            salvage: mutation.salvage ? mutation.salvage : this._salvage,\r\n            essences: mutation.essences ? mutation.essences : this._essences\r\n        });\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    get salvage() {\r\n        return this._salvage;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21tb24vQ3JhZnRpbmdDb21wb25lbnQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1FO0FBQ3pCO0FBWTFDLE1BQU0saUJBQWtCLFNBQVEseURBQWE7SUFLekMsWUFBWSxFQUNSLFFBQVEsRUFDUixRQUFRLEVBQ1IsT0FBTyxFQUtWO1FBQ0csS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxhQUFSLFFBQVEsY0FBUixRQUFRLEdBQUksMkRBQWlCLEVBQUUsQ0FBQztRQUNqRCxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sYUFBUCxPQUFPLGNBQVAsT0FBTyxHQUFJLDJEQUFpQixFQUFFLENBQUM7SUFDbkQsQ0FBQztJQUVNLE1BQU0sQ0FBQyxRQUFtQzs7UUFDN0MsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtZQUMzRCxPQUFPLENBQUMsSUFBSSxDQUFDLG9EQUFvRCxJQUFJLENBQUMsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO1lBQ3ZHLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7UUFDRCxPQUFPLElBQUksaUJBQWlCLENBQUM7WUFDekIsUUFBUSxFQUFFO2dCQUNOLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtnQkFDdkIsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNO2dCQUNuQixZQUFZLEVBQUUsSUFBSSxDQUFDLFlBQVk7Z0JBQy9CLElBQUksRUFBRSxlQUFRLENBQUMsSUFBSSwwQ0FBRSxJQUFJLEVBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSTtnQkFDMUQsUUFBUSxFQUFFLGVBQVEsQ0FBQyxJQUFJLDBDQUFFLFFBQVEsRUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRO2FBQzdFO1lBQ0QsT0FBTyxFQUFFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRO1lBQzVELFFBQVEsRUFBRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUztTQUNuRSxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztDQUNKO0FBRXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50LnRzPzdiZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVJdGVtLCBGYWJyaWNhdGVJdGVtQ29uZmlnfSBmcm9tIFwiLi9GYWJyaWNhdGVJdGVtXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuL0Vzc2VuY2VEZWZpbml0aW9uXCI7XHJcblxyXG5pbnRlcmZhY2UgQ3JhZnRpbmdDb21wb25lbnRNdXRhdGlvbiB7XHJcbiAgICBpdGVtPzoge1xyXG4gICAgICAgIGltYWdlVXJsPzogc3RyaW5nO1xyXG4gICAgICAgIG5hbWU/OiBzdHJpbmc7XHJcbiAgICB9XHJcbiAgICBlc3NlbmNlcz86IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPjtcclxuICAgIHNhbHZhZ2U/OiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbn1cclxuXHJcbmNsYXNzIENyYWZ0aW5nQ29tcG9uZW50IGV4dGVuZHMgRmFicmljYXRlSXRlbSB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZXM6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3NhbHZhZ2U6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgZ2FtZUl0ZW0sXHJcbiAgICAgICAgZXNzZW5jZXMsXHJcbiAgICAgICAgc2FsdmFnZVxyXG4gICAgfToge1xyXG4gICAgICAgIGdhbWVJdGVtOiBGYWJyaWNhdGVJdGVtQ29uZmlnLFxyXG4gICAgICAgIGVzc2VuY2VzPzogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+O1xyXG4gICAgICAgIHNhbHZhZ2U/OiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICB9KSB7XHJcbiAgICAgICAgc3VwZXIoZ2FtZUl0ZW0pO1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VzID0gZXNzZW5jZXMgPz8gQ29tYmluYXRpb24uRU1QVFkoKTtcclxuICAgICAgICB0aGlzLl9zYWx2YWdlID0gc2FsdmFnZSA/PyBDb21iaW5hdGlvbi5FTVBUWSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtdXRhdGUobXV0YXRpb246IENyYWZ0aW5nQ29tcG9uZW50TXV0YXRpb24pOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgaWYgKCFtdXRhdGlvbi5lc3NlbmNlcyAmJiAhbXV0YXRpb24uc2FsdmFnZSAmJiAhbXV0YXRpb24uaXRlbSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEEgbm8tb3AgbXV0YXRpb24gd2FzIHBlcmZvcm1lZCBvbiBDb21wb25lbnQgSUQ6IFwiJHt0aGlzLmlkfVwiLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuLiBgKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDb21wb25lbnQoe1xyXG4gICAgICAgICAgICBnYW1lSXRlbToge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtSWQ6IHRoaXMuc3lzdGVtSWQsXHJcbiAgICAgICAgICAgICAgICBwYXJ0SWQ6IHRoaXMucGFydElkLFxyXG4gICAgICAgICAgICAgICAgY29tcGVuZGl1bUlkOiB0aGlzLmNvbXBlbmRpdW1JZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG11dGF0aW9uLml0ZW0/Lm5hbWUgPyBtdXRhdGlvbi5pdGVtLm5hbWUgOiB0aGlzLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBpbWFnZVVybDogbXV0YXRpb24uaXRlbT8uaW1hZ2VVcmwgPyBtdXRhdGlvbi5pdGVtLmltYWdlVXJsIDogdGhpcy5pbWFnZVVybFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzYWx2YWdlOiBtdXRhdGlvbi5zYWx2YWdlID8gbXV0YXRpb24uc2FsdmFnZSA6IHRoaXMuX3NhbHZhZ2UsXHJcbiAgICAgICAgICAgIGVzc2VuY2VzOiBtdXRhdGlvbi5lc3NlbmNlcyA/IG11dGF0aW9uLmVzc2VuY2VzIDogdGhpcy5fZXNzZW5jZXNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZXMoKTogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNhbHZhZ2UoKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2FsdmFnZTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/common/CraftingComponent.ts\n");

/***/ }),

/***/ "./src/scripts/common/EssenceDefinition.ts":
/*!*************************************************!*\
  !*** ./src/scripts/common/EssenceDefinition.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"EssenceDefinition\": () => (/* binding */ EssenceDefinition),\n/* harmony export */   \"EssenceIdentityProvider\": () => (/* binding */ EssenceIdentityProvider)\n/* harmony export */ });\nclass EssenceDefinition {\r\n    constructor({ iconCode, tooltip, description, slug, name, }) {\r\n        this._name = name;\r\n        this._slug = slug;\r\n        this._description = description;\r\n        this._tooltip = tooltip;\r\n        this._iconCode = iconCode;\r\n    }\r\n    get id() {\r\n        return this._slug;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get description() {\r\n        return this._description;\r\n    }\r\n    get tooltip() {\r\n        return this._tooltip;\r\n    }\r\n    get iconCode() {\r\n        return this._iconCode;\r\n    }\r\n    get icon() {\r\n        if (this.iconCode) {\r\n            return `<i class=\"fas fa-${this._iconCode}\" title=\"${this.description}\"></i>`;\r\n        }\r\n        return this.name;\r\n    }\r\n    get slug() {\r\n        return this._slug;\r\n    }\r\n}\r\nclass EssenceIdentityProvider {\r\n    constructor({ essenceIdentities = new Map(), essencesBySlug = new Map() }) {\r\n        this._essenceIdentities = essenceIdentities;\r\n        this._essencesBySlug = essencesBySlug;\r\n    }\r\n    getEssenceIdentityBySlug(slug) {\r\n        return this._essenceIdentities.get(slug);\r\n    }\r\n    getEssenceDefinitionBySlug(slug) {\r\n        return this._essencesBySlug.get(slug);\r\n    }\r\n    getForEssenceCombination(combination) {\r\n        return combination.members.map((essence => this.getEssenceIdentityBySlug(essence.slug) * combination.amountFor(essence)))\r\n            .reduce((left, right) => left * right, 1);\r\n    }\r\n    static for(essences) {\r\n        const essenceIdentities = EssenceIdentityProvider.assignEssenceIdentities(essences);\r\n        const essencesBySlug = new Map(essences.map(essence => [essence.slug, essence]));\r\n        return new EssenceIdentityProvider({\r\n            essenceIdentities: essenceIdentities,\r\n            essencesBySlug: essencesBySlug\r\n        });\r\n    }\r\n    static assignEssenceIdentities(essences) {\r\n        const primes = this.generatePrimes(essences.length);\r\n        const essenceIdentities = new Map();\r\n        essences.forEach((definition, index) => essenceIdentities.set(definition.slug, primes[index]));\r\n        return essenceIdentities;\r\n    }\r\n    static generatePrimes(quantity) {\r\n        if (quantity <= EssenceIdentityProvider._primes.length) {\r\n            return EssenceIdentityProvider._primes.slice(0, quantity);\r\n        }\r\n        let candidate = 98;\r\n        while (EssenceIdentityProvider._primes.length < quantity) {\r\n            if (EssenceIdentityProvider._primes.every((p) => candidate % p)) {\r\n                EssenceIdentityProvider._primes.push(candidate);\r\n            }\r\n            candidate++;\r\n        }\r\n        return EssenceIdentityProvider._primes;\r\n    }\r\n}\r\nEssenceIdentityProvider._primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97];\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21tb24vRXNzZW5jZURlZmluaXRpb24udHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFHQSxNQUFNLGlCQUFpQjtJQVFuQixZQUFZLEVBQ1IsUUFBUSxFQUNSLE9BQU8sRUFDUCxXQUFXLEVBQ1gsSUFBSSxFQUNKLElBQUksR0FPUDtRQUNHLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLEVBQUU7UUFDRixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ0osSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ2YsT0FBTyxvQkFBb0IsSUFBSSxDQUFDLFNBQVMsWUFBWSxJQUFJLENBQUMsV0FBVyxRQUFRLENBQUM7U0FDakY7UUFDRCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0NBRUo7QUFFRCxNQUFNLHVCQUF1QjtJQU96QixZQUFvQixFQUNoQixpQkFBaUIsR0FBRyxJ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LEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBNkRsRiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2NvbW1vbi9Fc3NlbmNlRGVmaW5pdGlvbi50cz82ZDZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7SWRlbnRpZmlhYmxlfSBmcm9tIFwiLi9GYWJyaWNhdGVJdGVtXCI7XHJcblxyXG5jbGFzcyBFc3NlbmNlRGVmaW5pdGlvbiBpbXBsZW1lbnRzIElkZW50aWZpYWJsZSB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc2x1Zzogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Rvb2x0aXA6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ljb25Db2RlOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioe1xyXG4gICAgICAgIGljb25Db2RlLFxyXG4gICAgICAgIHRvb2x0aXAsXHJcbiAgICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgICAgc2x1ZyxcclxuICAgICAgICBuYW1lLFxyXG4gICAgfToge1xyXG4gICAgICAgIGljb25Db2RlOiBzdHJpbmc7XHJcbiAgICAgICAgdG9vbHRpcDogc3RyaW5nO1xyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgc2x1Zzogc3RyaW5nO1xyXG4gICAgICAgIG5hbWU6IHN0cmluZztcclxuICAgIH0pIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLl9zbHVnID0gc2x1ZztcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG4gICAgICAgIHRoaXMuX3Rvb2x0aXAgPSB0b29sdGlwO1xyXG4gICAgICAgIHRoaXMuX2ljb25Db2RlID0gaWNvbkNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NsdWc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVzY3JpcHRpb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRvb2x0aXAoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG9vbHRpcDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaWNvbkNvZGUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faWNvbkNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGljb24oKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5pY29uQ29kZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYDxpIGNsYXNzPVwiZmFzIGZhLSR7dGhpcy5faWNvbkNvZGV9XCIgdGl0bGU9XCIke3RoaXMuZGVzY3JpcHRpb259XCI+PC9pPmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHNsdWcoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2x1ZztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIEVzc2VuY2VJZGVudGl0eVByb3ZpZGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfcHJpbWVzID0gWzIsIDMsIDUsIDcsIDExLCAxMywgMTcsIDE5LCAyMywgMjksIDMxLCAzNywgNDEsIDQzLCA0NywgNTMsIDU5LCA2MSwgNjcsIDcxLCA3MywgNzksIDgzLCA4OSwgOTddO1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VJZGVudGl0aWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZXNCeVNsdWc6IE1hcDxzdHJpbmcsIEVzc2VuY2VEZWZpbml0aW9uPjtcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKHtcclxuICAgICAgICBlc3NlbmNlSWRlbnRpdGllcyA9IG5ldyBNYXAoKSxcclxuICAgICAgICBlc3NlbmNlc0J5U2x1ZyA9IG5ldyBNYXAoKVxyXG4gICAgfToge1xyXG4gICAgICAgIGVzc2VuY2VJZGVudGl0aWVzPzogTWFwPHN0cmluZywgbnVtYmVyPixcclxuICAgICAgICBlc3NlbmNlc0J5U2x1Zz86IE1hcDxzdHJpbmcsIEVzc2VuY2VEZWZpbml0aW9uPlxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VJZGVudGl0aWVzID0gZXNzZW5jZUlkZW50aXRpZXM7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZXNCeVNsdWcgPSBlc3NlbmNlc0J5U2x1ZztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXNzZW5jZUlkZW50aXR5QnlTbHVnKHNsdWc6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vzc2VuY2VJZGVudGl0aWVzLmdldChzbHVnKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0RXNzZW5jZURlZmluaXRpb25CeVNsdWcoc2x1Zzogc3RyaW5nKTogRXNzZW5jZURlZmluaXRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lc3NlbmNlc0J5U2x1Zy5nZXQoc2x1Zyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEZvckVzc2VuY2VDb21iaW5hdGlvbihjb21iaW5hdGlvbjogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+KTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gY29tYmluYXRpb24ubWVtYmVycy5tYXAoKGVzc2VuY2UgPT4gdGhpcy5nZXRFc3NlbmNlSWRlbnRpdHlCeVNsdWcoZXNzZW5jZS5zbHVnKSAqIGNvbWJpbmF0aW9uLmFtb3VudEZvcihlc3NlbmNlKSkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcikgPT4gbGVmdCAqIHJpZ2h0LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZvcihlc3NlbmNlczogRXNzZW5jZURlZmluaXRpb25bXSkge1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VJZGVudGl0aWVzID0gRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuYXNzaWduRXNzZW5jZUlkZW50aXRpZXMoZXNzZW5jZXMpO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VzQnlTbHVnID0gbmV3IE1hcChlc3NlbmNlcy5tYXAoZXNzZW5jZSA9PiBbZXNzZW5jZS5zbHVnLCBlc3NlbmNlXSkpO1xyXG4gICAgICAgIHJldHVybiBuZXcgRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIoe1xyXG4gICAgICAgICAgICBlc3NlbmNlSWRlbnRpdGllczogZXNzZW5jZUlkZW50aXRpZXMsXHJcbiAgICAgICAgICAgIGVzc2VuY2VzQnlTbHVnOiBlc3NlbmNlc0J5U2x1Z1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGFzc2lnbkVzc2VuY2VJZGVudGl0aWVzKGVzc2VuY2VzOiBFc3NlbmNlRGVmaW5pdGlvbltdKTogTWFwPHN0cmluZywgbnVtYmVyPiB7XHJcbiAgICAgICAgY29uc3QgcHJpbWVzOiBudW1iZXJbXSA9IHRoaXMuZ2VuZXJhdGVQcmltZXMoZXNzZW5jZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBlc3NlbmNlSWRlbnRpdGllczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgICAgICBlc3NlbmNlcy5mb3JFYWNoKChkZWZpbml0aW9uOiBFc3NlbmNlRGVmaW5pdGlvbiwgaW5kZXg6IG51bWJlcikgPT4gZXNzZW5jZUlkZW50aXRpZXMuc2V0KGRlZmluaXRpb24uc2x1ZywgcHJpbWVzW2luZGV4XSkpO1xyXG4gICAgICAgIHJldHVybiBlc3NlbmNlSWRlbnRpdGllcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZW5lcmF0ZVByaW1lcyhxdWFudGl0eTogbnVtYmVyKTogbnVtYmVyW10ge1xyXG4gICAgICAgIGlmIChxdWFudGl0eSA8PSBFc3NlbmNlSWRlbnRpdHlQcm92aWRlci5fcHJpbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuX3ByaW1lcy5zbGljZSgwLCBxdWFudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjYW5kaWRhdGUgPSA5ODtcclxuICAgICAgICB3aGlsZSAoRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuX3ByaW1lcy5sZW5ndGggPCBxdWFudGl0eSkge1xyXG4gICAgICAgICAgICBpZiAoRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuX3ByaW1lcy5ldmVyeSgocCkgPT4gY2FuZGlkYXRlICUgcCkpIHtcclxuICAgICAgICAgICAgICAgIEVzc2VuY2VJZGVudGl0eVByb3ZpZGVyLl9wcmltZXMucHVzaChjYW5kaWRhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbmRpZGF0ZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuX3ByaW1lcztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IEVzc2VuY2VEZWZpbml0aW9uLCBFc3NlbmNlSWRlbnRpdHlQcm92aWRlciB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/common/EssenceDefinition.ts\n");

/***/ }),

/***/ "./src/scripts/common/FabricateItem.ts":
/*!*********************************************!*\
  !*** ./src/scripts/common/FabricateItem.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FabricateItem\": () => (/* binding */ FabricateItem),\n/* harmony export */   \"FabricateItemType\": () => (/* binding */ FabricateItemType)\n/* harmony export */ });\n/**\r\n * The Type of Fabricate Item described by this entry: Recipe or Component\r\n * */\r\nvar FabricateItemType;\r\n(function (FabricateItemType) {\r\n    /**\r\n     * This entry describes a Recipe\r\n     * */\r\n    FabricateItemType[\"RECIPE\"] = \"RECIPE\";\r\n    /**\r\n     * This entry describes a Crafting Component\r\n     * */\r\n    FabricateItemType[\"COMPONENT\"] = \"COMPONENT\";\r\n})(FabricateItemType || (FabricateItemType = {}));\r\nclass FabricateItem {\r\n    constructor(config) {\r\n        this._systemId = config.systemId;\r\n        this._compendiumId = config.compendiumId;\r\n        this._partId = config.partId;\r\n        this._id = FabricateItem.globalIdentifier(config.partId, config.systemId);\r\n        this._imageUrl = config.imageUrl;\r\n        this._name = config.name;\r\n    }\r\n    get id() {\r\n        return this._id;\r\n    }\r\n    get partId() {\r\n        return this._partId;\r\n    }\r\n    get compendiumId() {\r\n        return this._compendiumId;\r\n    }\r\n    get systemId() {\r\n        return this._systemId;\r\n    }\r\n    get imageUrl() {\r\n        return this._imageUrl;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.partId === other.partId\r\n            && this.compendiumId === other.compendiumId\r\n            && this.systemId === other.systemId\r\n            && this.imageUrl === other.imageUrl\r\n            && this.name === other.name;\r\n    }\r\n    static globalIdentifier(partId, systemId) {\r\n        return `${partId}:${systemId}`;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21tb24vRmFicmljYXRlSXRlbS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBOztLQUVLO0FBQ0wsSUFBSyxpQkFTSjtBQVRELFdBQUssaUJBQWlCO0lBQ2xCOztTQUVLO0lBQ0wsc0NBQWlCO0lBQ2pCOztTQUVLO0lBQ0wsNENBQXVCO0FBQzNCLENBQUMsRUFUSSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBU3JCO0FBY0QsTUFBZSxhQUFhO0lBUXhCLFlBQXNCLE1BQTJCO1FBQzdDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNqQyxJQUFJLENBQUMsYUFBYSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFDekMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxHQUFHLEdBQUcsYUFBYSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNqQyxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksRUFBRTtRQUNGLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQztJQUNwQixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDOUIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFvQjtRQUN2QixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssS0FBSyxDQUFDLE1BQU07ZUFDNUIsSUFBSSxDQUFDLFlBQVksS0FBSyxLQUFLLENBQUMsWUFBWTtlQUN4QyxJQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssQ0FBQyxRQUFRO2VBQ2hDLElBQUksQ0FBQyxRQUFRLEtBQUssS0FBSyxDQUFDLFFBQVE7ZUFDaEMsSUFBSSxDQUFDLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQ3BDLENBQUM7SUFFTSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsTUFBYyxFQUFFLFFBQWdCO1FBQzNELE9BQU8sR0FBRyxNQUFNLElBQUksUUFBUSxFQUFFLENBQUM7SUFDbkMsQ0FBQztDQUVKO0FBRTJFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY29tbW9uL0ZhYnJpY2F0ZUl0ZW0udHM/NTA1MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGhlIFR5cGUgb2YgRmFicmljYXRlIEl0ZW0gZGVzY3JpYmVkIGJ5IHRoaXMgZW50cnk6IFJlY2lwZSBvciBDb21wb25lbnRcclxuICogKi9cclxuZW51bSBGYWJyaWNhdGVJdGVtVHlwZSB7XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZW50cnkgZGVzY3JpYmVzIGEgUmVjaXBlXHJcbiAgICAgKiAqL1xyXG4gICAgUkVDSVBFID0gJ1JFQ0lQRScsXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZW50cnkgZGVzY3JpYmVzIGEgQ3JhZnRpbmcgQ29tcG9uZW50XHJcbiAgICAgKiAqL1xyXG4gICAgQ09NUE9ORU5UID0gJ0NPTVBPTkVOVCdcclxufVxyXG5cclxuaW50ZXJmYWNlIElkZW50aWZpYWJsZSB7XHJcbiAgICBpZDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRmFicmljYXRlSXRlbUNvbmZpZyB7XHJcbiAgICBzeXN0ZW1JZDogc3RyaW5nO1xyXG4gICAgcGFydElkOiBzdHJpbmc7XHJcbiAgICBjb21wZW5kaXVtSWQ6IHN0cmluZztcclxuICAgIGltYWdlVXJsOiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbn1cclxuXHJcbmFic3RyYWN0IGNsYXNzIEZhYnJpY2F0ZUl0ZW0ge1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9zeXN0ZW1JZDogc3RyaW5nO1xyXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IF9wYXJ0SWQ6IHN0cmluZztcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfY29tcGVuZGl1bUlkOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2lkOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2ltYWdlVXJsOiBzdHJpbmc7XHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IoY29uZmlnOiBGYWJyaWNhdGVJdGVtQ29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fc3lzdGVtSWQgPSBjb25maWcuc3lzdGVtSWQ7XHJcbiAgICAgICAgdGhpcy5fY29tcGVuZGl1bUlkID0gY29uZmlnLmNvbXBlbmRpdW1JZDtcclxuICAgICAgICB0aGlzLl9wYXJ0SWQgPSBjb25maWcucGFydElkO1xyXG4gICAgICAgIHRoaXMuX2lkID0gRmFicmljYXRlSXRlbS5nbG9iYWxJZGVudGlmaWVyKGNvbmZpZy5wYXJ0SWQsIGNvbmZpZy5zeXN0ZW1JZCk7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBjb25maWcuaW1hZ2VVcmw7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGNvbmZpZy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcGFydElkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcGVuZGl1bUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBlbmRpdW1JZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3lzdGVtSWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3lzdGVtSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGltYWdlVXJsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZXF1YWxzKG90aGVyOiBGYWJyaWNhdGVJdGVtKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRJZCA9PT0gb3RoZXIucGFydElkXHJcbiAgICAgICAgICAgICYmIHRoaXMuY29tcGVuZGl1bUlkID09PSBvdGhlci5jb21wZW5kaXVtSWRcclxuICAgICAgICAgICAgJiYgdGhpcy5zeXN0ZW1JZCA9PT0gb3RoZXIuc3lzdGVtSWRcclxuICAgICAgICAgICAgJiYgdGhpcy5pbWFnZVVybCA9PT0gb3RoZXIuaW1hZ2VVcmxcclxuICAgICAgICAgICAgJiYgdGhpcy5uYW1lID09PSBvdGhlci5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2xvYmFsSWRlbnRpZmllcihwYXJ0SWQ6IHN0cmluZywgc3lzdGVtSWQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGAke3BhcnRJZH06JHtzeXN0ZW1JZH1gO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtJZGVudGlmaWFibGUsIEZhYnJpY2F0ZUl0ZW0sIEZhYnJpY2F0ZUl0ZW1UeXBlLCBGYWJyaWNhdGVJdGVtQ29uZmlnfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/common/FabricateItem.ts\n");

/***/ }),

/***/ "./src/scripts/compendium/CompendiumData.ts":
/*!**************************************************!*\
  !*** ./src/scripts/compendium/CompendiumData.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FabricateItemType\": () => (/* binding */ FabricateItemType)\n/* harmony export */ });\n/**\r\n * The Type of Fabricate Item described by this entry: Recipe or Component\r\n * */\r\nvar FabricateItemType;\r\n(function (FabricateItemType) {\r\n    /**\r\n     * This entry describes a Recipe\r\n     * */\r\n    FabricateItemType[\"RECIPE\"] = \"RECIPE\";\r\n    /**\r\n     * This entry describes a Crafting Component\r\n     * */\r\n    FabricateItemType[\"COMPONENT\"] = \"COMPONENT\";\r\n})(FabricateItemType || (FabricateItemType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wZW5kaXVtL0NvbXBlbmRpdW1EYXRhLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7S0FFSztBQUNMLElBQVksaUJBU1g7QUFURCxXQUFZLGlCQUFpQjtJQUN6Qjs7U0FFSztJQUNMLHNDQUFpQjtJQUNqQjs7U0FFSztJQUNMLDRDQUF1QjtBQUMzQixDQUFDLEVBVFcsaUJBQWlCLEtBQWpCLGlCQUFpQixRQVM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2NvbXBlbmRpdW0vQ29tcGVuZGl1bURhdGEudHM/MzkzMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogVGhlIFR5cGUgb2YgRmFicmljYXRlIEl0ZW0gZGVzY3JpYmVkIGJ5IHRoaXMgZW50cnk6IFJlY2lwZSBvciBDb21wb25lbnRcclxuICogKi9cclxuZXhwb3J0IGVudW0gRmFicmljYXRlSXRlbVR5cGUge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGVudHJ5IGRlc2NyaWJlcyBhIFJlY2lwZVxyXG4gICAgICogKi9cclxuICAgIFJFQ0lQRSA9ICdSRUNJUEUnLFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGVudHJ5IGRlc2NyaWJlcyBhIENyYWZ0aW5nIENvbXBvbmVudFxyXG4gICAgICogKi9cclxuICAgIENPTVBPTkVOVCA9ICdDT01QT05FTlQnXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc3RydWN0dXJlIG9mIGEgY29uZmlndXJhdGlvbiBkYXRhIG9iamVjdCBmb3VuZCBpbiBGYWJyaWNhdGUgZmxhZ3MgdGhhdCBkZXNjcmliZXMgdGhlIHVuaXF1ZSBpZGVudGl0eSBvZiBhXHJcbiAqIENvbXBlbmRpdW0gRW50cnkgZm9yIGEgRmFicmljYXRlIEl0ZW1cclxuICogKi9cclxuZXhwb3J0IGludGVyZmFjZSBDb21wZW5kaXVtRW50cnkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgSUQgb2YgdGhlIENyYWZ0aW5nIFN5c3RlbSB0aGlzIENvbXBlbmRpdW0gRW50cnkgYmVsb25ncyB0b1xyXG4gICAgICogKi9cclxuICAgIHN5c3RlbUlkOiBzdHJpbmc7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBJRCBvZiB0aGUgcGFydCB0aGlzIENvbXBlbmRpdW0gRW50cnkgcmVwcmVzZW50cyB3aXRoaW4gdGhlIENyYWZ0aW5nIFN5c3RlbVxyXG4gICAgICogKi9cclxuICAgIHBhcnRJZDogc3RyaW5nO1xyXG59XHJcblxyXG4vKipcclxuICogVGhlIHN0cnVjdHVyZSBvZiBhIGNvbmZpZ3VyYXRpb24gZGF0YSBvYmplY3QgZm91bmQgaW4gRmFicmljYXRlIGZsYWdzIHRoYXQgZGVzY3JpYmVzIGEgQ3JhZnRpbmcgQ29tcG9uZW50XHJcbiAqICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50RmxhZ3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBFc3NlbmNlIFNsdWdzIChlLmcuICd3YXRlcicgb3IgJ25lZ2F0aXZlLWVuZXJneScpIGFuZCB0aGVpciBxdWFudGl0aWVzIGZvciB0aGUgRXNzZW5jZXMgdGhpcyBDb21wb25lbnQgY29udGFpbnNcclxuICAgICAqICovXHJcbiAgICBlc3NlbmNlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxuICAgIC8qKlxyXG4gICAgICogQ29tcG9uZW50IFBhcnQgSURzIGFuZCB0aGVpciBxdWFudGl0aWVzIGZvciB0aGUgcG90ZW50aWFsIHNhbHZhZ2UgZnJvbSBicmVha2luZyBkb3duIHRoaXMgQ29tcG9uZW50XHJcbiAgICAgKiAqL1xyXG4gICAgc2FsdmFnZTogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoZSBzdHJ1Y3R1cmUgb2YgYSBjb25maWd1cmF0aW9uIGRhdGEgb2JqZWN0IGZvdW5kIGluIEZhYnJpY2F0ZSBmbGFncyB0aGF0IGRlc2NyaWJlcyBhIFJlY2lwZVxyXG4gKiAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFJlY2lwZUZsYWdzIHtcclxuICAgIC8qKlxyXG4gICAgICogRXNzZW5jZSBTbHVncyAoZS5nLiAnd2F0ZXInIG9yICduZWdhdGl2ZS1lbmVyZ3knKSBhbmQgdGhlaXIgcXVhbnRpdGllcyBmb3IgdGhlIEVzc2VuY2VzIHRoaXMgUmVjaXBlIFJlcXVpcmVzXHJcbiAgICAgKiAqL1xyXG4gICAgZXNzZW5jZXM/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgaW5ncmVkaWVudHM/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xyXG4gICAgY2F0YWx5c3RzPzogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcclxuICAgIHJlc3VsdHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgc3RydWN0dXJlIG9mIHRoZSBGYWJyaWNhdGUgbW9kdWxlLXNjb3BlZCBmbGFncyB0aGF0IGNhbiBleGlzdCBvbiBhbiBJdGVtLCB0eXBpY2FsbHkgZm91bmQgaW4gYSBDb21wZW5kaXVtXHJcbiAqICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgRmFicmljYXRlQ29tcGVuZGl1bURhdGEge1xyXG4gICAgdHlwZTogRmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICBpZGVudGl0eTogQ29tcGVuZGl1bUVudHJ5O1xyXG4gICAgcmVjaXBlPzogUmVjaXBlRmxhZ3M7XHJcbiAgICBjb21wb25lbnQ/OiBDb21wb25lbnRGbGFncztcclxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/compendium/CompendiumData.ts\n");

/***/ }),

/***/ "./src/scripts/compendium/CompendiumProvider.ts":
/*!******************************************************!*\
  !*** ./src/scripts/compendium/CompendiumProvider.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultCompendiumProvider\": () => (/* binding */ DefaultCompendiumProvider)\n/* harmony export */ });\n/* harmony import */ var _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../foundry/GameProvider */ \"./src/scripts/foundry/GameProvider.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass DefaultCompendiumProvider {\r\n    getCompendium(packKey) {\r\n        const gameInstance = new _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_0__.GameProvider().globalGameObject();\r\n        const compendium = gameInstance.packs.get(packKey);\r\n        if (!compendium) {\r\n            throw new Error(`No Compendium was found with the Compendium Pack Key '${packKey}'. `);\r\n        }\r\n        return compendium;\r\n    }\r\n    getDocument(packKey, entityId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const compendium = this.getCompendium(packKey);\r\n            const document = yield compendium.getDocument(entityId);\r\n            if (!document) {\r\n                throw new Error(`No Compendium Entry with ID '${entityId}' was found in the Compendium '${packKey}'. `);\r\n            }\r\n            return document;\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wZW5kaXVtL0NvbXBlbmRpdW1Qcm92aWRlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUVxRDtBQVVyRCxNQUFNLHlCQUF5QjtJQUVwQixhQUFhLENBQUMsT0FBZTtRQUNoQyxNQUFNLFlBQVksR0FBUyxJQUFJLCtEQUFZLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ2pFLE1BQU0sVUFBVSxHQUF3RCxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUN4RyxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyx5REFBeUQsT0FBTyxLQUFLLENBQUMsQ0FBQztTQUMxRjtRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3RCLENBQUM7SUFFWSxXQUFXLENBQUMsT0FBZSxFQUFFLFFBQWdCOztZQUN0RCxNQUFNLFVBQVUsR0FBd0QsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUNwRyxNQUFNLFFBQVEsR0FBOEIsTUFBTSxVQUFVLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ25GLElBQUksQ0FBQyxRQUFRLEVBQUU7Z0JBQ1gsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsUUFBUSxrQ0FBa0MsT0FBTyxLQUFLLENBQUMsQ0FBQzthQUMzRztZQUNELE9BQU8sUUFBUSxDQUFDO1FBQ3BCLENBQUM7S0FBQTtDQUVKO0FBRXVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY29tcGVuZGl1bS9Db21wZW5kaXVtUHJvdmlkZXIudHM/OThlNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RvY3VtZW50fSBmcm9tIFwiQGxlYWd1ZS1vZi1mb3VuZHJ5LWRldmVsb3BlcnMvZm91bmRyeS12dHQtdHlwZXMvc3JjL2ZvdW5kcnkvY29tbW9uL2Fic3RyYWN0L21vZHVsZS5tanNcIjtcclxuaW1wb3J0IHtBbnlEb2N1bWVudERhdGF9IGZyb20gXCJAbGVhZ3VlLW9mLWZvdW5kcnktZGV2ZWxvcGVycy9mb3VuZHJ5LXZ0dC10eXBlcy9zcmMvZm91bmRyeS9jb21tb24vYWJzdHJhY3QvZGF0YS5tanNcIjtcclxuaW1wb3J0IHtHYW1lUHJvdmlkZXJ9IGZyb20gXCIuLi9mb3VuZHJ5L0dhbWVQcm92aWRlclwiO1xyXG5cclxuaW50ZXJmYWNlIENvbXBlbmRpdW1Qcm92aWRlciB7XHJcblxyXG4gICAgZ2V0Q29tcGVuZGl1bShwYWNrS2V5OiBzdHJpbmcpOiBDb21wZW5kaXVtQ29sbGVjdGlvbjxDb21wZW5kaXVtQ29sbGVjdGlvbi5NZXRhZGF0YT47XHJcblxyXG4gICAgZ2V0RG9jdW1lbnQocGFja0tleTogc3RyaW5nLCBlbnRpdHlJZDogc3RyaW5nKTogUHJvbWlzZTxEb2N1bWVudDxBbnlEb2N1bWVudERhdGE+PlxyXG5cclxufVxyXG5cclxuY2xhc3MgRGVmYXVsdENvbXBlbmRpdW1Qcm92aWRlciBpbXBsZW1lbnRzIENvbXBlbmRpdW1Qcm92aWRlciB7XHJcblxyXG4gICAgcHVibGljIGdldENvbXBlbmRpdW0ocGFja0tleTogc3RyaW5nKTogQ29tcGVuZGl1bUNvbGxlY3Rpb248Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+IHtcclxuICAgICAgICBjb25zdCBnYW1lSW5zdGFuY2U6IEdhbWUgPSBuZXcgR2FtZVByb3ZpZGVyKCkuZ2xvYmFsR2FtZU9iamVjdCgpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBlbmRpdW06IENvbXBlbmRpdW1Db2xsZWN0aW9uPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPiA9IGdhbWVJbnN0YW5jZS5wYWNrcy5nZXQocGFja0tleSk7XHJcbiAgICAgICAgaWYgKCFjb21wZW5kaXVtKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ29tcGVuZGl1bSB3YXMgZm91bmQgd2l0aCB0aGUgQ29tcGVuZGl1bSBQYWNrIEtleSAnJHtwYWNrS2V5fScuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcGVuZGl1bTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0RG9jdW1lbnQocGFja0tleTogc3RyaW5nLCBlbnRpdHlJZDogc3RyaW5nKTogUHJvbWlzZTxEb2N1bWVudDxBbnlEb2N1bWVudERhdGE+PiB7XHJcbiAgICAgICAgY29uc3QgY29tcGVuZGl1bTogQ29tcGVuZGl1bUNvbGxlY3Rpb248Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+ID0gdGhpcy5nZXRDb21wZW5kaXVtKHBhY2tLZXkpO1xyXG4gICAgICAgIGNvbnN0IGRvY3VtZW50OiBEb2N1bWVudDxBbnlEb2N1bWVudERhdGE+ID0gYXdhaXQgY29tcGVuZGl1bS5nZXREb2N1bWVudChlbnRpdHlJZCk7XHJcbiAgICAgICAgaWYgKCFkb2N1bWVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIENvbXBlbmRpdW0gRW50cnkgd2l0aCBJRCAnJHtlbnRpdHlJZH0nIHdhcyBmb3VuZCBpbiB0aGUgQ29tcGVuZGl1bSAnJHtwYWNrS2V5fScuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZG9jdW1lbnQ7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBDb21wZW5kaXVtUHJvdmlkZXIsIERlZmF1bHRDb21wZW5kaXVtUHJvdmlkZXIgfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/compendium/CompendiumProvider.ts\n");

/***/ }),

/***/ "./src/scripts/component/CompleteComponentSelection.ts":
/*!*************************************************************!*\
  !*** ./src/scripts/component/CompleteComponentSelection.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CompleteComponentSelection\": () => (/* binding */ CompleteComponentSelection)\n/* harmony export */ });\nclass CompleteComponentSelection {\r\n    constructor(config) {\r\n        this._recipe = config.recipe;\r\n        this._components = config.components;\r\n    }\r\n    isSufficient() {\r\n        return true;\r\n    }\r\n    describe() {\r\n        const componentsDescription = Array.from(this._components.amounts.values())\r\n            .map(unit => `${unit.quantity} ${unit.part.name}`)\r\n            .join(\", \");\r\n        return `${this._recipe.name} will use ${componentsDescription}. `;\r\n    }\r\n    get recipe() {\r\n        return undefined;\r\n    }\r\n    get components() {\r\n        return this._components;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wb25lbnQvQ29tcGxldGVDb21wb25lbnRTZWxlY3Rpb24udHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQVVBLE1BQU0sMEJBQTBCO0lBSzVCLFlBQVksTUFBd0M7UUFDaEQsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsWUFBWTtRQUNSLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxRQUFRO1FBQ0osTUFBTSxxQkFBcUIsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO2FBQ3RFLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDO2FBQ2pELElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoQixPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLGFBQWEscUJBQXFCLElBQUksQ0FBQztJQUN0RSxDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0NBRUo7QUFFa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9jb21wb25lbnQvQ29tcGxldGVDb21wb25lbnRTZWxlY3Rpb24udHM/N2MyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudFNlbGVjdGlvbn0gZnJvbSBcIi4vQ29tcG9uZW50U2VsZWN0aW9uXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY3JhZnRpbmcvUmVjaXBlXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuaW50ZXJmYWNlIENvbXBsZXRlQ29tcG9uZW50U2VsZWN0aW9uQ29uZmlnIHtcclxuICAgIHJlY2lwZTogUmVjaXBlO1xyXG4gICAgY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG59XHJcblxyXG5jbGFzcyBDb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbiBpbXBsZW1lbnRzIENvbXBvbmVudFNlbGVjdGlvbiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbkNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX3JlY2lwZSA9IGNvbmZpZy5yZWNpcGU7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IGNvbmZpZy5jb21wb25lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGlzU3VmZmljaWVudCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBkZXNjcmliZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHNEZXNjcmlwdGlvbiA9IEFycmF5LmZyb20odGhpcy5fY29tcG9uZW50cy5hbW91bnRzLnZhbHVlcygpKVxyXG4gICAgICAgICAgICAubWFwKHVuaXQgPT4gYCR7dW5pdC5xdWFudGl0eX0gJHt1bml0LnBhcnQubmFtZX1gKVxyXG4gICAgICAgICAgICAuam9pbihcIiwgXCIpO1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLl9yZWNpcGUubmFtZX0gd2lsbCB1c2UgJHtjb21wb25lbnRzRGVzY3JpcHRpb259LiBgO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWNpcGUoKTogUmVjaXBlIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudHM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0NvbXBsZXRlQ29tcG9uZW50U2VsZWN0aW9ufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/component/CompleteComponentSelection.ts\n");

/***/ }),

/***/ "./src/scripts/component/IncompleteComponentSelection.ts":
/*!***************************************************************!*\
  !*** ./src/scripts/component/IncompleteComponentSelection.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IncompleteComponentSelection\": () => (/* binding */ IncompleteComponentSelection)\n/* harmony export */ });\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\nclass IncompleteComponentSelection {\r\n    constructor(config) {\r\n        this._recipe = config.recipe;\r\n        this._reason = config.reason;\r\n    }\r\n    isSufficient() {\r\n        return false;\r\n    }\r\n    get recipe() {\r\n        return this._recipe;\r\n    }\r\n    describe() {\r\n        return `You don't have enough components to craft ${this._recipe.name}, because ${this._reason}. `;\r\n    }\r\n    get components() {\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb21wb25lbnQvSW5jb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUVrRDtBQVFsRCxNQUFNLDRCQUE0QjtJQUs5QixZQUFZLE1BQTBDO1FBQ2xELElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDakMsQ0FBQztJQUVELFlBQVk7UUFDUixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxRQUFRO1FBQ0osT0FBTyw2Q0FBNkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLGFBQWEsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDO0lBQ3ZHLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLGtFQUFpQixFQUFFLENBQUM7SUFDL0IsQ0FBQztDQUVKO0FBRW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY29tcG9uZW50L0luY29tcGxldGVDb21wb25lbnRTZWxlY3Rpb24udHM/ZmMzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBvbmVudFNlbGVjdGlvbn0gZnJvbSBcIi4vQ29tcG9uZW50U2VsZWN0aW9uXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY3JhZnRpbmcvUmVjaXBlXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuaW50ZXJmYWNlIEluY29tcGxldGVDb21wb25lbnRTZWxlY3Rpb25Db25maWcge1xyXG4gICAgcmVjaXBlOiBSZWNpcGU7XHJcbiAgICByZWFzb246IHN0cmluZztcclxufVxyXG5cclxuY2xhc3MgSW5jb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbiBpbXBsZW1lbnRzIENvbXBvbmVudFNlbGVjdGlvbiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWFzb246IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IEluY29tcGxldGVDb21wb25lbnRTZWxlY3Rpb25Db25maWcpIHtcclxuICAgICAgICB0aGlzLl9yZWNpcGUgPSBjb25maWcucmVjaXBlO1xyXG4gICAgICAgIHRoaXMuX3JlYXNvbiA9IGNvbmZpZy5yZWFzb247XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdWZmaWNpZW50KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVjaXBlKCk6IFJlY2lwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY2lwZTtcclxuICAgIH1cclxuXHJcbiAgICBkZXNjcmliZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBgWW91IGRvbid0IGhhdmUgZW5vdWdoIGNvbXBvbmVudHMgdG8gY3JhZnQgJHt0aGlzLl9yZWNpcGUubmFtZX0sIGJlY2F1c2UgJHt0aGlzLl9yZWFzb259LiBgO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLkVNUFRZKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0luY29tcGxldGVDb21wb25lbnRTZWxlY3Rpb259Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/component/IncompleteComponentSelection.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/Recipe.ts":
/*!****************************************!*\
  !*** ./src/scripts/crafting/Recipe.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Recipe\": () => (/* binding */ Recipe)\n/* harmony export */ });\n/* harmony import */ var _common_FabricateItem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/FabricateItem */ \"./src/scripts/common/FabricateItem.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\n\r\nclass Recipe extends _common_FabricateItem__WEBPACK_IMPORTED_MODULE_0__.FabricateItem {\r\n    constructor({ gameItem, ingredients, catalysts, essences, results }) {\r\n        super(gameItem);\r\n        this._ingredients = ingredients !== null && ingredients !== void 0 ? ingredients : _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY();\r\n        this._catalysts = catalysts !== null && catalysts !== void 0 ? catalysts : _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY();\r\n        this._essences = essences !== null && essences !== void 0 ? essences : _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY();\r\n        this._results = results;\r\n    }\r\n    mutate(mutation) {\r\n        return new Recipe({\r\n            gameItem: {\r\n                systemId: this.systemId,\r\n                partId: this.partId,\r\n                compendiumId: this.compendiumId,\r\n                name: this.name,\r\n                imageUrl: this.imageUrl\r\n            },\r\n            ingredients: mutation.ingredients ? mutation.ingredients : this._ingredients,\r\n            catalysts: mutation.catalysts ? mutation.catalysts : this._catalysts,\r\n            essences: mutation.essences ? mutation.essences : this._essences,\r\n            results: mutation.results ? mutation.results : this._results,\r\n        });\r\n    }\r\n    get hasSpecificIngredients() {\r\n        return this._ingredients && !this._ingredients.isEmpty();\r\n    }\r\n    get ingredients() {\r\n        return this._ingredients;\r\n    }\r\n    get requiresCatalysts() {\r\n        return this._catalysts && !this._catalysts.isEmpty();\r\n    }\r\n    get hasNamedComponents() {\r\n        return this.requiresCatalysts || this.hasSpecificIngredients;\r\n    }\r\n    get namedComponents() {\r\n        return this._ingredients.combineWith(this._catalysts);\r\n    }\r\n    get catalysts() {\r\n        return this._catalysts;\r\n    }\r\n    get requiresEssences() {\r\n        return !!this._essences;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    get results() {\r\n        return this._results;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L3NjcmlwdHMvY3JhZnRpbmcvUmVjaXBlLnRzP2QwZmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVJdGVtLCBGYWJyaWNhdGVJdGVtQ29uZmlnfSBmcm9tIFwiLi4vY29tbW9uL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuaW1wb3J0IHtDb21iaW5hdGlvbn0gZnJvbSBcIi4uL2NvbW1vbi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuXHJcbmludGVyZmFjZSBSZWNpcGVNdXRhdGlvbiB7XHJcbiAgICBpbmdyZWRpZW50cz86IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuICAgIGNhdGFseXN0cz86IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuICAgIGVzc2VuY2VzPzogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+O1xyXG4gICAgcmVzdWx0cz86IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxufVxyXG5cclxuY2xhc3MgUmVjaXBlIGV4dGVuZHMgRmFicmljYXRlSXRlbSB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaW5ncmVkaWVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NhdGFseXN0czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZXM6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgZ2FtZUl0ZW0sXHJcbiAgICAgICAgaW5ncmVkaWVudHMsXHJcbiAgICAgICAgY2F0YWx5c3RzLFxyXG4gICAgICAgIGVzc2VuY2VzLFxyXG4gICAgICAgIHJlc3VsdHNcclxuICAgIH06IHtcclxuICAgICAgICBnYW1lSXRlbTogRmFicmljYXRlSXRlbUNvbmZpZyxcclxuICAgICAgICBpbmdyZWRpZW50cz86IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuICAgICAgICBjYXRhbHlzdHM/OiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICAgICAgZXNzZW5jZXM/OiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj47XHJcbiAgICAgICAgcmVzdWx0czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgfSkge1xyXG4gICAgICAgIHN1cGVyKGdhbWVJdGVtKTtcclxuICAgICAgICB0aGlzLl9pbmdyZWRpZW50cyA9IGluZ3JlZGllbnRzID8/IENvbWJpbmF0aW9uLkVNUFRZKCk7XHJcbiAgICAgICAgdGhpcy5fY2F0YWx5c3RzID0gY2F0YWx5c3RzID8/IENvbWJpbmF0aW9uLkVNUFRZKCk7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZXMgPSBlc3NlbmNlcyA/PyBDb21iaW5hdGlvbi5FTVBUWSgpO1xyXG4gICAgICAgIHRoaXMuX3Jlc3VsdHMgPSByZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtdXRhdGUobXV0YXRpb246IFJlY2lwZU11dGF0aW9uKTogUmVjaXBlIHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlY2lwZSh7XHJcbiAgICAgICAgICAgIGdhbWVJdGVtOiB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW1JZDogdGhpcy5zeXN0ZW1JZCxcclxuICAgICAgICAgICAgICAgIHBhcnRJZDogdGhpcy5wYXJ0SWQsXHJcbiAgICAgICAgICAgICAgICBjb21wZW5kaXVtSWQ6IHRoaXMuY29tcGVuZGl1bUlkLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHRoaXMuaW1hZ2VVcmxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5ncmVkaWVudHM6IG11dGF0aW9uLmluZ3JlZGllbnRzID8gbXV0YXRpb24uaW5ncmVkaWVudHMgOiB0aGlzLl9pbmdyZWRpZW50cyxcclxuICAgICAgICAgICAgY2F0YWx5c3RzOiBtdXRhdGlvbi5jYXRhbHlzdHMgPyBtdXRhdGlvbi5jYXRhbHlzdHMgOiB0aGlzLl9jYXRhbHlzdHMsXHJcbiAgICAgICAgICAgIGVzc2VuY2VzOiBtdXRhdGlvbi5lc3NlbmNlcyA/IG11dGF0aW9uLmVzc2VuY2VzIDogdGhpcy5fZXNzZW5jZXMsXHJcbiAgICAgICAgICAgIHJlc3VsdHM6IG11dGF0aW9uLnJlc3VsdHMgPyBtdXRhdGlvbi5yZXN1bHRzIDogdGhpcy5fcmVzdWx0cyxcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNTcGVjaWZpY0luZ3JlZGllbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmdyZWRpZW50cyAmJiAhdGhpcy5faW5ncmVkaWVudHMuaXNFbXB0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbmdyZWRpZW50cygpOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbmdyZWRpZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVxdWlyZXNDYXRhbHlzdHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhdGFseXN0cyAmJiAhdGhpcy5fY2F0YWx5c3RzLmlzRW1wdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGFzTmFtZWRDb21wb25lbnRzKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVzQ2F0YWx5c3RzIHx8IHRoaXMuaGFzU3BlY2lmaWNJbmdyZWRpZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZWRDb21wb25lbnRzKCk6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZ3JlZGllbnRzLmNvbWJpbmVXaXRoKHRoaXMuX2NhdGFseXN0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNhdGFseXN0cygpOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYXRhbHlzdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlcXVpcmVzRXNzZW5jZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VzKCk6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vzc2VuY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZXN1bHRzKCk6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge1JlY2lwZX0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/Recipe.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/Tool.ts":
/*!**************************************!*\
  !*** ./src/scripts/crafting/Tool.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Tool\": () => (/* binding */ Tool)\n/* harmony export */ });\nclass Tool {\r\n    /**\r\n     * Creates a new Tool\r\n     * */\r\n    constructor(name, proficiencyLabel) {\r\n        this._displayName = name;\r\n        this._proficiencyLabel = proficiencyLabel;\r\n    }\r\n    /**\r\n     * The value to use in the User Interface when displaying and describing the tool\r\n     * */\r\n    get displayName() {\r\n        return this._displayName;\r\n    }\r\n    /**\r\n     * The value to look for when checking if an Actor for a matching tool proficiency\r\n     * */\r\n    get proficiencyLabel() {\r\n        return this._proficiencyLabel;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9Ub29sLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNLElBQUk7SUFXTjs7U0FFSztJQUNMLFlBQVksSUFBWSxFQUFFLGdCQUF3QjtRQUM5QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsaUJBQWlCLEdBQUcsZ0JBQWdCLENBQUM7SUFDOUMsQ0FBQztJQUVEOztTQUVLO0lBQ0wsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRDs7U0FFSztJQUNMLElBQUksZ0JBQWdCO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ2xDLENBQUM7Q0FDSjtBQUVhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvVG9vbC50cz83ZWFiIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFRvb2wge1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgdmFsdWUgdG8gdXNlIGluIHRoZSBVc2VyIEludGVyZmFjZSB3aGVuIGRpc3BsYXlpbmcgYW5kIGRlc2NyaWJpbmcgdGhlIHRvb2xcclxuICAgICAqICovXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kaXNwbGF5TmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHZhbHVlIHRvIGxvb2sgZm9yIHdoZW4gY2hlY2tpbmcgaWYgYW4gQWN0b3IgZm9yIGEgbWF0Y2hpbmcgdG9vbCBwcm9maWNpZW5jeVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Byb2ZpY2llbmN5TGFiZWw6IHN0cmluZztcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgVG9vbFxyXG4gICAgICogKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgcHJvZmljaWVuY3lMYWJlbDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fZGlzcGxheU5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuX3Byb2ZpY2llbmN5TGFiZWwgPSBwcm9maWNpZW5jeUxhYmVsO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHZhbHVlIHRvIHVzZSBpbiB0aGUgVXNlciBJbnRlcmZhY2Ugd2hlbiBkaXNwbGF5aW5nIGFuZCBkZXNjcmliaW5nIHRoZSB0b29sXHJcbiAgICAgKiAqL1xyXG4gICAgZ2V0IGRpc3BsYXlOYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc3BsYXlOYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIHZhbHVlIHRvIGxvb2sgZm9yIHdoZW4gY2hlY2tpbmcgaWYgYW4gQWN0b3IgZm9yIGEgbWF0Y2hpbmcgdG9vbCBwcm9maWNpZW5jeVxyXG4gICAgICogKi9cclxuICAgIGdldCBwcm9maWNpZW5jeUxhYmVsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2ZpY2llbmN5TGFiZWw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7VG9vbH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/crafting/Tool.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/alchemy/AlchemicalEffect.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/crafting/alchemy/AlchemicalEffect.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NoAlchemicalCombination\": () => (/* binding */ NoAlchemicalCombination),\n/* harmony export */   \"NoAlchemicalEffect\": () => (/* binding */ NoAlchemicalEffect)\n/* harmony export */ });\nclass NoAlchemicalCombination {\r\n    applyToItemData(itemData) {\r\n        return itemData;\r\n    }\r\n}\r\nclass NoAlchemicalEffect {\r\n    mixInto(combination) {\r\n        return combination;\r\n    }\r\n    describe() {\r\n        return \"No effect. \";\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbWljYWxFZmZlY3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFzQkEsTUFBTSx1QkFBdUI7SUFFekIsZUFBZSxDQUFDLFFBQWtCO1FBQzlCLE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7Q0FFSjtBQUVELE1BQU0sa0JBQWtCO0lBRXBCLE9BQU8sQ0FBQyxXQUFvQztRQUN4QyxPQUFPLFdBQVcsQ0FBQztJQUN2QixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sYUFBYSxDQUFDO0lBQ3pCLENBQUM7Q0FFSjtBQUVrSCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVtaWNhbEVmZmVjdC50cz84MDE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SXRlbURhdGF9IGZyb20gXCJAbGVhZ3VlLW9mLWZvdW5kcnktZGV2ZWxvcGVycy9mb3VuZHJ5LXZ0dC10eXBlcy9zcmMvZm91bmRyeS9jb21tb24vZGF0YS9kYXRhLm1qc1wiO1xyXG5cclxuaW50ZXJmYWNlIEFsY2hlbWljYWxDb21iaW5hdGlvbiB7XHJcblxyXG4gICAgYXBwbHlUb0l0ZW1EYXRhKGl0ZW1EYXRhOiBJdGVtRGF0YSk6IEl0ZW1EYXRhO1xyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIEFsY2hlbWljYWxDb21iaW5lcjxUIGV4dGVuZHMgQWxjaGVtaWNhbENvbWJpbmF0aW9uPiB7XHJcblxyXG4gICAgbWl4KGVmZmVjdHM6IEFsY2hlbWljYWxFZmZlY3Q8VD5bXSk6IFQ7XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQWxjaGVtaWNhbEVmZmVjdDxDIGV4dGVuZHMgQWxjaGVtaWNhbENvbWJpbmF0aW9uPiB7XHJcblxyXG4gICAgbWl4SW50byhjb21iaW5hdGlvbjogQyk6IEM7XHJcblxyXG4gICAgZGVzY3JpYmUoKTogc3RyaW5nO1xyXG5cclxufVxyXG5cclxuY2xhc3MgTm9BbGNoZW1pY2FsQ29tYmluYXRpb24gaW1wbGVtZW50cyBBbGNoZW1pY2FsQ29tYmluYXRpb24ge1xyXG5cclxuICAgIGFwcGx5VG9JdGVtRGF0YShpdGVtRGF0YTogSXRlbURhdGEpOiBJdGVtRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1EYXRhO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgTm9BbGNoZW1pY2FsRWZmZWN0IGltcGxlbWVudHMgQWxjaGVtaWNhbEVmZmVjdDxOb0FsY2hlbWljYWxDb21iaW5hdGlvbj4ge1xyXG5cclxuICAgIG1peEludG8oY29tYmluYXRpb246IE5vQWxjaGVtaWNhbENvbWJpbmF0aW9uKTogTm9BbGNoZW1pY2FsQ29tYmluYXRpb24ge1xyXG4gICAgICAgIHJldHVybiBjb21iaW5hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBkZXNjcmliZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBcIk5vIGVmZmVjdC4gXCI7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBBbGNoZW1pY2FsRWZmZWN0LCBOb0FsY2hlbWljYWxFZmZlY3QsIE5vQWxjaGVtaWNhbENvbWJpbmF0aW9uLCBBbGNoZW1pY2FsQ29tYmluYXRpb24sIEFsY2hlbWljYWxDb21iaW5lciB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/crafting/alchemy/AlchemicalEffect.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/alchemy/AlchemyAttempt.ts":
/*!********************************************************!*\
  !*** ./src/scripts/crafting/alchemy/AlchemyAttempt.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AbandonedAlchemyAttempt\": () => (/* binding */ AbandonedAlchemyAttempt),\n/* harmony export */   \"DefaultAlchemyAttempt\": () => (/* binding */ DefaultAlchemyAttempt),\n/* harmony export */   \"DefaultAlchemyConstraintEnforcer\": () => (/* binding */ DefaultAlchemyConstraintEnforcer)\n/* harmony export */ });\n/* harmony import */ var _AlchemyResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlchemyResult */ \"./src/scripts/crafting/alchemy/AlchemyResult.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\n\r\nclass DefaultAlchemyConstraintEnforcer {\r\n    constructor(constraints) {\r\n        this._constraints = constraints;\r\n    }\r\n    checkComponents(componentCount) {\r\n        if (componentCount < this._constraints.components.min) {\r\n            return { isOk: false, detail: \"Too few components provided. \" };\r\n        }\r\n        else if (componentCount > this._constraints.components.max) {\r\n            return { isOk: false, detail: \"Too many components provided. \" };\r\n        }\r\n        return { isOk: true, detail: \"The number of components looks ok! \" };\r\n    }\r\n    checkEffectMatches(effectMatchCount) {\r\n        if (effectMatchCount < this._constraints.effects.min) {\r\n            return { isOk: false, detail: \"Too few effects matched. \" };\r\n        }\r\n        else if (effectMatchCount > this._constraints.effects.max) {\r\n            return { isOk: false, detail: \"Too many effects matched. \" };\r\n        }\r\n        return { isOk: true, detail: \"The number of effects looks ok! \" };\r\n    }\r\n}\r\nclass AbandonedAlchemyAttempt {\r\n    constructor(reason) {\r\n        this._reason = reason;\r\n    }\r\n    perform(_actor, _craftingCheck) {\r\n        return new _AlchemyResult__WEBPACK_IMPORTED_MODULE_0__.NoAlchemyResult({\r\n            detail: this._reason,\r\n            consumed: _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY()\r\n        });\r\n    }\r\n}\r\nclass DefaultAlchemyAttempt {\r\n    constructor(config) {\r\n        this._components = config.components;\r\n        this._baseComponent = config.baseComponent;\r\n        this._alchemyFormula = config.alchemyFormula;\r\n        this._alchemicalCombiner = config.alchemicalCombiner;\r\n        this._alchemyConstraintEnforcer = config.alchemyConstraintEnforcer;\r\n        this._componentConsumptionCalculator = config.componentConsumptionCalculator;\r\n    }\r\n    perform(actor, craftingCheck) {\r\n        const consumed = this._componentConsumptionCalculator.calculate(this._components);\r\n        const componentConstraintCheck = this._alchemyConstraintEnforcer.checkComponents(this._components.size());\r\n        if (!componentConstraintCheck.isOk) {\r\n            return new _AlchemyResult__WEBPACK_IMPORTED_MODULE_0__.UnsuccessfulAlchemyResult({\r\n                detail: componentConstraintCheck.detail,\r\n                consumed: consumed\r\n            });\r\n        }\r\n        const craftingCheckResult = craftingCheck.perform(actor, this._components);\r\n        if (!craftingCheckResult.isSuccessful) {\r\n            return new _AlchemyResult__WEBPACK_IMPORTED_MODULE_0__.UnsuccessfulAlchemyResult({\r\n                detail: craftingCheckResult.describe(),\r\n                consumed: consumed\r\n            });\r\n        }\r\n        const matchingEffects = this._alchemyFormula.getEffectsForComponents(this._components);\r\n        const effectConstraintCheck = this._alchemyConstraintEnforcer.checkEffectMatches(matchingEffects.length);\r\n        if (!effectConstraintCheck.isOk) {\r\n            return new _AlchemyResult__WEBPACK_IMPORTED_MODULE_0__.UnsuccessfulAlchemyResult({\r\n                detail: effectConstraintCheck.detail,\r\n                consumed: consumed\r\n            });\r\n        }\r\n        const alchemicalEffect = this._alchemicalCombiner.mix(matchingEffects);\r\n        return new _AlchemyResult__WEBPACK_IMPORTED_MODULE_0__.SuccessfulAlchemyResult({\r\n            consumed: consumed,\r\n            baseComponent: this._baseComponent,\r\n            detail: `Alchemy success! ${matchingEffects.length} effects were applied to the ${this._baseComponent.name}. `,\r\n            alchemicalEffect: alchemicalEffect\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlBdHRlbXB0LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ21IO0FBRzlEO0FBMkNyRCxNQUFNLGdDQUFnQztJQUlsQyxZQUFZLFdBQStCO1FBQ3ZDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxlQUFlLENBQUMsY0FBc0I7UUFFbEMsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ25ELE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSwrQkFBK0IsRUFBRSxDQUFDO1NBQ25FO2FBQU0sSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQzFELE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxnQ0FBZ0MsRUFBRSxDQUFDO1NBQ3BFO1FBRUQsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLHFDQUFxQyxFQUFFLENBQUM7SUFFekUsQ0FBQztJQUVELGtCQUFrQixDQUFDLGdCQUF3QjtRQUV2QyxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRTtZQUNsRCxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsMkJBQTJCLEVBQUUsQ0FBQztTQUMvRDthQUFNLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFO1lBQ3pELE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSw0QkFBNEIsRUFBRSxDQUFDO1NBQ2hFO1FBRUQsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLGtDQUFrQyxFQUFFLENBQUM7SUFFdEUsQ0FB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aGVteUF0dGVtcHQudHM/ZDBkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nQ2hlY2t9IGZyb20gXCIuLi9jaGVjay9DcmFmdGluZ0NoZWNrXCI7XHJcbmltcG9ydCB7QWxjaGVteVJlc3VsdCwgTm9BbGNoZW15UmVzdWx0LCBTdWNjZXNzZnVsQWxjaGVteVJlc3VsdCwgVW5zdWNjZXNzZnVsQWxjaGVteVJlc3VsdH0gZnJvbSBcIi4vQWxjaGVteVJlc3VsdFwiO1xyXG5pbXBvcnQge0FsY2hlbWljYWxDb21iaW5hdGlvbiwgQWxjaGVtaWNhbENvbWJpbmVyLCBBbGNoZW1pY2FsRWZmZWN0fSBmcm9tIFwiLi9BbGNoZW1pY2FsRWZmZWN0XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDaGVja1Jlc3VsdH0gZnJvbSBcIi4uL2NoZWNrL0NyYWZ0aW5nQ2hlY2tSZXN1bHRcIjtcclxuaW1wb3J0IHtDb21iaW5hdGlvbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yfSBmcm9tIFwiLi4vLi4vY29tbW9uL0NvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvclwiO1xyXG5pbXBvcnQge0FsY2hlbXlGb3JtdWxhfSBmcm9tIFwiLi9BbGNoZW15Rm9ybXVsYVwiO1xyXG5cclxuaW50ZXJmYWNlIEJvdW5kZWROdW1iZXIge1xyXG4gICAgbWluOiBudW1iZXI7XHJcbiAgICBtYXg6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEFsY2hlbXlDb25zdHJhaW50cyB7XHJcbiAgICBjb21wb25lbnRzOiBCb3VuZGVkTnVtYmVyO1xyXG4gICAgZWZmZWN0czogQm91bmRlZE51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEFsY2hlbXlBdHRlbXB0Q29uZmlnIHtcclxuICAgIGJhc2VDb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgYWxjaGVteUZvcm11bGE6IEFsY2hlbXlGb3JtdWxhO1xyXG4gICAgYWxjaGVtaWNhbENvbWJpbmVyOiBBbGNoZW1pY2FsQ29tYmluZXI8QWxjaGVtaWNhbENvbWJpbmF0aW9uPjtcclxuICAgIGNvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcjogQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yO1xyXG4gICAgYWxjaGVteUNvbnN0cmFpbnRFbmZvcmNlcjogQWxjaGVteUNvbnN0cmFpbnRFbmZvcmNlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEFsY2hlbXlBdHRlbXB0IHtcclxuXHJcbiAgICBwZXJmb3JtKGFjdG9yOiBBY3RvciwgY3JhZnRpbmdDaGVjazogQ3JhZnRpbmdDaGVjazxBY3Rvcj4pOiBBbGNoZW15UmVzdWx0O1xyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIENvbnN0cmFpbnRDaGVjayB7XHJcbiAgICBpc09rOiBib29sZWFuO1xyXG4gICAgZGV0YWlsOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBBbGNoZW15Q29uc3RyYWludEVuZm9yY2VyIHtcclxuXHJcbiAgICBjaGVja0NvbXBvbmVudHMoY29tcG9uZW50Q291bnQ6IG51bWJlcik6IENvbnN0cmFpbnRDaGVjaztcclxuXHJcbiAgICBjaGVja0VmZmVjdE1hdGNoZXMoZWZmZWN0TWF0Y2hDb3VudDogbnVtYmVyKTogQ29uc3RyYWludENoZWNrO1xyXG5cclxufVxyXG5cclxuY2xhc3MgRGVmYXVsdEFsY2hlbXlDb25zdHJhaW50RW5mb3JjZXIgaW1wbGVtZW50cyBBbGNoZW15Q29uc3RyYWludEVuZm9yY2VyIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb25zdHJhaW50czogQWxjaGVteUNvbnN0cmFpbnRzO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnN0cmFpbnRzOiBBbGNoZW15Q29uc3RyYWludHMpIHtcclxuICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrQ29tcG9uZW50cyhjb21wb25lbnRDb3VudDogbnVtYmVyKTogQ29uc3RyYWludENoZWNrIHtcclxuXHJcbiAgICAgICAgaWYgKGNvbXBvbmVudENvdW50IDwgdGhpcy5fY29uc3RyYWludHMuY29tcG9uZW50cy5taW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaXNPazogZmFsc2UsIGRldGFpbDogXCJUb28gZmV3IGNvbXBvbmVudHMgcHJvdmlkZWQuIFwiIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRDb3VudCA+IHRoaXMuX2NvbnN0cmFpbnRzLmNvbXBvbmVudHMubWF4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlzT2s6IGZhbHNlLCBkZXRhaWw6IFwiVG9vIG1hbnkgY29tcG9uZW50cyBwcm92aWRlZC4gXCIgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7IGlzT2s6IHRydWUsIGRldGFpbDogXCJUaGUgbnVtYmVyIG9mIGNvbXBvbmVudHMgbG9va3Mgb2shIFwiIH07XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrRWZmZWN0TWF0Y2hlcyhlZmZlY3RNYXRjaENvdW50OiBudW1iZXIpOiBDb25zdHJhaW50Q2hlY2sge1xyXG5cclxuICAgICAgICBpZiAoZWZmZWN0TWF0Y2hDb3VudCA8IHRoaXMuX2NvbnN0cmFpbnRzLmVmZmVjdHMubWluKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGlzT2s6IGZhbHNlLCBkZXRhaWw6IFwiVG9vIGZldyBlZmZlY3RzIG1hdGNoZWQuIFwiIH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChlZmZlY3RNYXRjaENvdW50ID4gdGhpcy5fY29uc3RyYWludHMuZWZmZWN0cy5tYXgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgaXNPazogZmFsc2UsIGRldGFpbDogXCJUb28gbWFueSBlZmZlY3RzIG1hdGNoZWQuIFwiIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geyBpc09rOiB0cnVlLCBkZXRhaWw6IFwiVGhlIG51bWJlciBvZiBlZmZlY3RzIGxvb2tzIG9rISBcIiB9O1xyXG5cclxuICAgIH1cclxuXHJcblxyXG59XHJcblxyXG5jbGFzcyBBYmFuZG9uZWRBbGNoZW15QXR0ZW1wdCBpbXBsZW1lbnRzIEFsY2hlbXlBdHRlbXB0IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWFzb246IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihyZWFzb246IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3JlYXNvbiA9IHJlYXNvbjtcclxuICAgIH1cclxuXHJcbiAgICBwZXJmb3JtKF9hY3RvcjogQWN0b3IsIF9jcmFmdGluZ0NoZWNrOiBDcmFmdGluZ0NoZWNrPEFjdG9yPik6IE5vQWxjaGVteVJlc3VsdCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb0FsY2hlbXlSZXN1bHQoe1xyXG4gICAgICAgICAgICBkZXRhaWw6IHRoaXMuX3JlYXNvbixcclxuICAgICAgICAgICAgY29uc3VtZWQ6IENvbWJpbmF0aW9uLkVNUFRZKClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIERlZmF1bHRBbGNoZW15QXR0ZW1wdCBpbXBsZW1lbnRzIEFsY2hlbXlBdHRlbXB0IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9iYXNlQ29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FsY2hlbWljYWxDb21iaW5lcjogQWxjaGVtaWNhbENvbWJpbmVyPEFsY2hlbWljYWxDb21iaW5hdGlvbj47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hbGNoZW15Rm9ybXVsYTogQWxjaGVteUZvcm11bGE7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hbGNoZW15Q29uc3RyYWludEVuZm9yY2VyOiBBbGNoZW15Q29uc3RyYWludEVuZm9yY2VyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yOiBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3I7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBBbGNoZW15QXR0ZW1wdENvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBjb25maWcuY29tcG9uZW50cztcclxuICAgICAgICB0aGlzLl9iYXNlQ29tcG9uZW50ID0gY29uZmlnLmJhc2VDb21wb25lbnQ7XHJcbiAgICAgICAgdGhpcy5fYWxjaGVteUZvcm11bGEgPSBjb25maWcuYWxjaGVteUZvcm11bGE7XHJcbiAgICAgICAgdGhpcy5fYWxjaGVtaWNhbENvbWJpbmVyID0gY29uZmlnLmFsY2hlbWljYWxDb21iaW5lcjtcclxuICAgICAgICB0aGlzLl9hbGNoZW15Q29uc3RyYWludEVuZm9yY2VyID0gY29uZmlnLmFsY2hlbXlDb25zdHJhaW50RW5mb3JjZXI7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yID0gY29uZmlnLmNvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBwZXJmb3JtKGFjdG9yOiBBY3RvciwgY3JhZnRpbmdDaGVjazogQ3JhZnRpbmdDaGVjazxBY3Rvcj4pOiBBbGNoZW15UmVzdWx0IHtcclxuICAgICAgICBjb25zdCBjb25zdW1lZCA9IHRoaXMuX2NvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvci5jYWxjdWxhdGUodGhpcy5fY29tcG9uZW50cyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudENvbnN0cmFpbnRDaGVjazogQ29uc3RyYWludENoZWNrID0gdGhpcy5fYWxjaGVteUNvbnN0cmFpbnRFbmZvcmNlci5jaGVja0NvbXBvbmVudHModGhpcy5fY29tcG9uZW50cy5zaXplKCkpO1xyXG4gICAgICAgIGlmICghY29tcG9uZW50Q29uc3RyYWludENoZWNrLmlzT2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnN1Y2Nlc3NmdWxBbGNoZW15UmVzdWx0KHtcclxuICAgICAgICAgICAgICAgIGRldGFpbDogY29tcG9uZW50Q29uc3RyYWludENoZWNrLmRldGFpbCxcclxuICAgICAgICAgICAgICAgIGNvbnN1bWVkOiBjb25zdW1lZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nQ2hlY2tSZXN1bHQ6IENyYWZ0aW5nQ2hlY2tSZXN1bHQgPSBjcmFmdGluZ0NoZWNrLnBlcmZvcm0oYWN0b3IsIHRoaXMuX2NvbXBvbmVudHMpO1xyXG4gICAgICAgIGlmICghY3JhZnRpbmdDaGVja1Jlc3VsdC5pc1N1Y2Nlc3NmdWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnN1Y2Nlc3NmdWxBbGNoZW15UmVzdWx0KHtcclxuICAgICAgICAgICAgICAgIGRldGFpbDogY3JhZnRpbmdDaGVja1Jlc3VsdC5kZXNjcmliZSgpLFxyXG4gICAgICAgICAgICAgICAgY29uc3VtZWQ6IGNvbnN1bWVkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdFZmZlY3RzOiBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbj5bXSA9IHRoaXMuX2FsY2hlbXlGb3JtdWxhLmdldEVmZmVjdHNGb3JDb21wb25lbnRzKHRoaXMuX2NvbXBvbmVudHMpO1xyXG5cclxuICAgICAgICBjb25zdCBlZmZlY3RDb25zdHJhaW50Q2hlY2s6IENvbnN0cmFpbnRDaGVjayA9IHRoaXMuX2FsY2hlbXlDb25zdHJhaW50RW5mb3JjZXIuY2hlY2tFZmZlY3RNYXRjaGVzKG1hdGNoaW5nRWZmZWN0cy5sZW5ndGgpO1xyXG4gICAgICAgIGlmICghZWZmZWN0Q29uc3RyYWludENoZWNrLmlzT2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnN1Y2Nlc3NmdWxBbGNoZW15UmVzdWx0KHtcclxuICAgICAgICAgICAgICAgIGRldGFpbDogZWZmZWN0Q29uc3RyYWludENoZWNrLmRldGFpbCxcclxuICAgICAgICAgICAgICAgIGNvbnN1bWVkOiBjb25zdW1lZFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFsY2hlbWljYWxFZmZlY3Q6IEFsY2hlbWljYWxDb21iaW5hdGlvbiA9IHRoaXMuX2FsY2hlbWljYWxDb21iaW5lci5taXgobWF0Y2hpbmdFZmZlY3RzKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBTdWNjZXNzZnVsQWxjaGVteVJlc3VsdCh7XHJcbiAgICAgICAgICAgIGNvbnN1bWVkOiBjb25zdW1lZCxcclxuICAgICAgICAgICAgYmFzZUNvbXBvbmVudDogdGhpcy5fYmFzZUNvbXBvbmVudCxcclxuICAgICAgICAgICAgZGV0YWlsOiBgQWxjaGVteSBzdWNjZXNzISAke21hdGNoaW5nRWZmZWN0cy5sZW5ndGh9IGVmZmVjdHMgd2VyZSBhcHBsaWVkIHRvIHRoZSAke3RoaXMuX2Jhc2VDb21wb25lbnQubmFtZX0uIGAsXHJcbiAgICAgICAgICAgIGFsY2hlbWljYWxFZmZlY3Q6IGFsY2hlbWljYWxFZmZlY3RcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBBbGNoZW15QXR0ZW1wdCwgRGVmYXVsdEFsY2hlbXlBdHRlbXB0LCBBYmFuZG9uZWRBbGNoZW15QXR0ZW1wdCwgQWxjaGVteUNvbnN0cmFpbnRzLCBCb3VuZGVkTnVtYmVyLCBEZWZhdWx0QWxjaGVteUNvbnN0cmFpbnRFbmZvcmNlciB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/crafting/alchemy/AlchemyAttempt.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/alchemy/AlchemyAttemptFactory.ts":
/*!***************************************************************!*\
  !*** ./src/scripts/crafting/alchemy/AlchemyAttemptFactory.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultAlchemyAttemptFactory\": () => (/* binding */ DefaultAlchemyAttemptFactory),\n/* harmony export */   \"DisabledAlchemyAttemptFactory\": () => (/* binding */ DisabledAlchemyAttemptFactory)\n/* harmony export */ });\n/* harmony import */ var _AlchemyAttempt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlchemyAttempt */ \"./src/scripts/crafting/alchemy/AlchemyAttempt.ts\");\n\r\nclass DefaultAlchemyAttemptFactory {\r\n    constructor({ componentConsumptionCalculator, constraints, alchemyFormulae, alchemicalCombiner }) {\r\n        this._componentConsumptionCalculator = componentConsumptionCalculator;\r\n        this._constraints = constraints;\r\n        this._alchemicalCombiner = alchemicalCombiner;\r\n        this._alchemyFormulaeByBasePartId = new Map(alchemyFormulae.map(formula => [formula.basePartId, formula]));\r\n    }\r\n    get formulaeByBasePartId() {\r\n        return this._alchemyFormulaeByBasePartId;\r\n    }\r\n    isEnabled() {\r\n        return true;\r\n    }\r\n    make(baseComponent, components) {\r\n        if (!this._alchemyFormulaeByBasePartId.has(baseComponent.partId)) {\r\n            throw new Error(`There is no Alchemy Formula specified for the base component with ID: ${baseComponent.partId}. `);\r\n        }\r\n        if (components.isEmpty()) {\r\n            return new _AlchemyAttempt__WEBPACK_IMPORTED_MODULE_0__.AbandonedAlchemyAttempt(\"You cannot perform Alchemy without any ingredients. \");\r\n        }\r\n        return new _AlchemyAttempt__WEBPACK_IMPORTED_MODULE_0__.DefaultAlchemyAttempt({\r\n            components: components,\r\n            baseComponent: baseComponent,\r\n            alchemicalCombiner: this._alchemicalCombiner,\r\n            componentConsumptionCalculator: this._componentConsumptionCalculator,\r\n            alchemyFormula: this._alchemyFormulaeByBasePartId.get(baseComponent.partId),\r\n            alchemyConstraintEnforcer: new _AlchemyAttempt__WEBPACK_IMPORTED_MODULE_0__.DefaultAlchemyConstraintEnforcer(this._constraints)\r\n        });\r\n    }\r\n}\r\nclass DisabledAlchemyAttemptFactory {\r\n    isEnabled() {\r\n        return false;\r\n    }\r\n    make(_baseComponent, _componentSelection) {\r\n        return new _AlchemyAttempt__WEBPACK_IMPORTED_MODULE_0__.AbandonedAlchemyAttempt(\"This crafting system does not support Alchemy. \");\r\n    }\r\n    get formulaeByBasePartId() {\r\n        return new Map();\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlBdHRlbXB0RmFjdG9yeS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFTMEI7QUFjMUIsTUFBTSw0QkFBNEI7SUFPOUIsWUFBWSxFQUNSLDhCQUE4QixFQUM5QixXQUFXLEVBQ1gsZUFBZSxFQUNmLGtCQUFrQixFQU1yQjtRQUNHLElBQUksQ0FBQywrQkFBK0IsR0FBRyw4QkFBOEIsQ0FBQztRQUN0RSxJQUFJLENBQUMsWUFBWSxHQUFHLFdBQVcsQ0FBQztRQUNoQyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7UUFDOUMsSUFBSSxDQUFDLDRCQUE0QixHQUFHLElBQUksR0FBRyxDQUF5QixlQUFlLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2SSxDQUFDO0lBRUQsSUFBSSxvQkFBb0I7UUFDcEIsT0FBTyxJQUFJLENBQUMsNEJBQTRCLENBQUM7SUFDN0MsQ0FBQztJQUVELFNBQVM7UUFDTCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxDQUFDLGFBQWdDLEVBQUUsVUFBMEM7UUFFN0UsSUFBSSxDQUFDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzlELE1BQU0sSUFBSSxLQUFLLENBQUMseUVBQXlFLGFBQWEsQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO1NBQ3RIO1FBRUQsSUFBSSxVQUFVLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDdEIsT0FBTyxJQUFJLG9FQUF1QixDQUFDLHNEQUFzRCxDQUFDLENBQUM7U0FDOUY7UUFFRCxPQUFPLElBQUksa0VBQXFCLENBQUM7WUFDN0IsVUFBVSxFQUFFLFVBQVU7WUFDdEIsYUFBYSxFQUFFLGFBQWE7WUFDNUIsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLG1CQUFtQjtZQUM1Qyw4QkFBOEIsRUFBRSxJQUFJLENBQUMsK0JBQStCO1lBQ3BFLGNBQWMsRUFBRSxJQUFJLENBQUMsNEJBQTRCLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7WUFDM0UseUJBQXlCLEVBQUUsSUFBSSw2RUFBZ0MsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDO1NBQ3JGLENBQUMsQ0FBQztJQUVQLENBQUM7Q0FFSjtBQUVELE1BQU0sNkJBQTZCO0lBRS9CLFNBQVM7UUFDTCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsSUFBSSxDQUFDLGNBQWlDLEVBQUUsbUJBQW1EO1FBQ3ZGLE9BQU8sSUFBSSxvRUFBdUIsQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO0lBQzFGLENBQUM7SUFFRCxJQUFJLG9CQUFvQjtRQUNwQixPQUFPLElBQUksR0FBRyxFQUFFLENBQUM7SUFDckIsQ0FBQztDQUVKO0FBRTRGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvYWxjaGVteS9BbGNoZW15QXR0ZW1wdEZhY3RvcnkudHM/YmI1YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuLi8uLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IHtBbGNoZW15Rm9ybXVsYX0gZnJvbSBcIi4vQWxjaGVteUZvcm11bGFcIjtcclxuaW1wb3J0IHtcclxuICAgIEFiYW5kb25lZEFsY2hlbXlBdHRlbXB0LFxyXG4gICAgQWxjaGVteUF0dGVtcHQsXHJcbiAgICBBbGNoZW15Q29uc3RyYWludHMsXHJcbiAgICBEZWZhdWx0QWxjaGVteUF0dGVtcHQsXHJcbiAgICBEZWZhdWx0QWxjaGVteUNvbnN0cmFpbnRFbmZvcmNlclxyXG59IGZyb20gXCIuL0FsY2hlbXlBdHRlbXB0XCI7XHJcbmltcG9ydCB7Q29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yfSBmcm9tIFwiLi4vLi4vY29tbW9uL0NvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvclwiO1xyXG5pbXBvcnQge0FsY2hlbWljYWxDb21iaW5hdGlvbiwgQWxjaGVtaWNhbENvbWJpbmVyfSBmcm9tIFwiLi9BbGNoZW1pY2FsRWZmZWN0XCI7XHJcblxyXG5pbnRlcmZhY2UgQWxjaGVteUF0dGVtcHRGYWN0b3J5IHtcclxuXHJcbiAgICBmb3JtdWxhZUJ5QmFzZVBhcnRJZDogTWFwPHN0cmluZywgQWxjaGVteUZvcm11bGE+O1xyXG5cclxuICAgIG1ha2UoYmFzZUNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIGNvbXBvbmVudFNlbGVjdGlvbjogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogQWxjaGVteUF0dGVtcHQ7XHJcblxyXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW47XHJcblxyXG59XHJcblxyXG5jbGFzcyBEZWZhdWx0QWxjaGVteUF0dGVtcHRGYWN0b3J5IGltcGxlbWVudHMgQWxjaGVteUF0dGVtcHRGYWN0b3J5IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb25zdHJhaW50czogQWxjaGVteUNvbnN0cmFpbnRzO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWxjaGVtaWNhbENvbWJpbmVyOiBBbGNoZW1pY2FsQ29tYmluZXI8QWxjaGVtaWNhbENvbWJpbmF0aW9uPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcjogQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWxjaGVteUZvcm11bGFlQnlCYXNlUGFydElkOiBNYXA8c3RyaW5nLCBBbGNoZW15Rm9ybXVsYT47XHJcblxyXG4gICAgY29uc3RydWN0b3Ioe1xyXG4gICAgICAgIGNvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcixcclxuICAgICAgICBjb25zdHJhaW50cyxcclxuICAgICAgICBhbGNoZW15Rm9ybXVsYWUsXHJcbiAgICAgICAgYWxjaGVtaWNhbENvbWJpbmVyXHJcbiAgICB9OiB7XHJcbiAgICAgICAgY29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yOiBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3I7XHJcbiAgICAgICAgY29uc3RyYWludHM6IEFsY2hlbXlDb25zdHJhaW50cyxcclxuICAgICAgICBhbGNoZW15Rm9ybXVsYWU6IEFsY2hlbXlGb3JtdWxhW10sXHJcbiAgICAgICAgYWxjaGVtaWNhbENvbWJpbmVyOiBBbGNoZW1pY2FsQ29tYmluZXI8QWxjaGVtaWNhbENvbWJpbmF0aW9uPlxyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvciA9IGNvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcjtcclxuICAgICAgICB0aGlzLl9jb25zdHJhaW50cyA9IGNvbnN0cmFpbnRzO1xyXG4gICAgICAgIHRoaXMuX2FsY2hlbWljYWxDb21iaW5lciA9IGFsY2hlbWljYWxDb21iaW5lcjtcclxuICAgICAgICB0aGlzLl9hbGNoZW15Rm9ybXVsYWVCeUJhc2VQYXJ0SWQgPSBuZXcgTWFwPHN0cmluZywgQWxjaGVteUZvcm11bGE+KGFsY2hlbXlGb3JtdWxhZS5tYXAoZm9ybXVsYSA9PiBbZm9ybXVsYS5iYXNlUGFydElkLCBmb3JtdWxhXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb3JtdWxhZUJ5QmFzZVBhcnRJZCgpOiBNYXA8c3RyaW5nLCBBbGNoZW15Rm9ybXVsYT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hbGNoZW15Rm9ybXVsYWVCeUJhc2VQYXJ0SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIG1ha2UoYmFzZUNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIGNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IEFsY2hlbXlBdHRlbXB0IHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9hbGNoZW15Rm9ybXVsYWVCeUJhc2VQYXJ0SWQuaGFzKGJhc2VDb21wb25lbnQucGFydElkKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIEFsY2hlbXkgRm9ybXVsYSBzcGVjaWZpZWQgZm9yIHRoZSBiYXNlIGNvbXBvbmVudCB3aXRoIElEOiAke2Jhc2VDb21wb25lbnQucGFydElkfS4gYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29tcG9uZW50cy5pc0VtcHR5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBYmFuZG9uZWRBbGNoZW15QXR0ZW1wdChcIllvdSBjYW5ub3QgcGVyZm9ybSBBbGNoZW15IHdpdGhvdXQgYW55IGluZ3JlZGllbnRzLiBcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRBbGNoZW15QXR0ZW1wdCh7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXHJcbiAgICAgICAgICAgIGJhc2VDb21wb25lbnQ6IGJhc2VDb21wb25lbnQsXHJcbiAgICAgICAgICAgIGFsY2hlbWljYWxDb21iaW5lcjogdGhpcy5fYWxjaGVtaWNhbENvbWJpbmVyLFxyXG4gICAgICAgICAgICBjb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3I6IHRoaXMuX2NvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvcixcclxuICAgICAgICAgICAgYWxjaGVteUZvcm11bGE6IHRoaXMuX2FsY2hlbXlGb3JtdWxhZUJ5QmFzZVBhcnRJZC5nZXQoYmFzZUNvbXBvbmVudC5wYXJ0SWQpLFxyXG4gICAgICAgICAgICBhbGNoZW15Q29uc3RyYWludEVuZm9yY2VyOiBuZXcgRGVmYXVsdEFsY2hlbXlDb25zdHJhaW50RW5mb3JjZXIodGhpcy5fY29uc3RyYWludHMpXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgRGlzYWJsZWRBbGNoZW15QXR0ZW1wdEZhY3RvcnkgaW1wbGVtZW50cyBBbGNoZW15QXR0ZW1wdEZhY3Rvcnkge1xyXG5cclxuICAgIGlzRW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgbWFrZShfYmFzZUNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIF9jb21wb25lbnRTZWxlY3Rpb246IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IEFsY2hlbXlBdHRlbXB0IHtcclxuICAgICAgICByZXR1cm4gbmV3IEFiYW5kb25lZEFsY2hlbXlBdHRlbXB0KFwiVGhpcyBjcmFmdGluZyBzeXN0ZW0gZG9lcyBub3Qgc3VwcG9ydCBBbGNoZW15LiBcIik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZvcm11bGFlQnlCYXNlUGFydElkKCk6IE1hcDxzdHJpbmcsIEFsY2hlbXlGb3JtdWxhPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYXAoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IEFsY2hlbXlBdHRlbXB0RmFjdG9yeSwgRGVmYXVsdEFsY2hlbXlBdHRlbXB0RmFjdG9yeSwgRGlzYWJsZWRBbGNoZW15QXR0ZW1wdEZhY3RvcnkgfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/crafting/alchemy/AlchemyAttemptFactory.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/alchemy/AlchemyFormula.ts":
/*!********************************************************!*\
  !*** ./src/scripts/crafting/alchemy/AlchemyFormula.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultAlchemyFormula\": () => (/* binding */ DefaultAlchemyFormula)\n/* harmony export */ });\n/* harmony import */ var _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlchemicalEffect */ \"./src/scripts/crafting/alchemy/AlchemicalEffect.ts\");\n\r\nclass DefaultAlchemyFormula {\r\n    constructor({ basePartId, essenceIdentityProvider, effectsByEssenceIdentity = new Map() }) {\r\n        this._basePartId = basePartId;\r\n        this._essenceIdentityProvider = essenceIdentityProvider;\r\n        this._effectsByEssenceIdentity = effectsByEssenceIdentity ? effectsByEssenceIdentity : new Map();\r\n    }\r\n    get basePartId() {\r\n        return this._basePartId;\r\n    }\r\n    getAllEffects() {\r\n        return Array.from(this._effectsByEssenceIdentity.values());\r\n    }\r\n    getEffect(essences) {\r\n        if (essences.isEmpty()) {\r\n            return new _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_0__.NoAlchemicalEffect();\r\n        }\r\n        const combinationIdentity = this._essenceIdentityProvider.getForEssenceCombination(essences);\r\n        if (!this._effectsByEssenceIdentity.has(combinationIdentity)) {\r\n            return new _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_0__.NoAlchemicalEffect();\r\n        }\r\n        return this._effectsByEssenceIdentity.get(combinationIdentity);\r\n    }\r\n    hasEffectFor(essences) {\r\n        if (essences.isEmpty()) {\r\n            return false;\r\n        }\r\n        const combinationIdentity = this._essenceIdentityProvider.getForEssenceCombination(essences);\r\n        return this._effectsByEssenceIdentity.has(combinationIdentity);\r\n    }\r\n    registerEffect(essences, effect) {\r\n        if (essences.isEmpty()) {\r\n            return new _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_0__.NoAlchemicalEffect();\r\n        }\r\n        const combinationIdentity = this._essenceIdentityProvider.getForEssenceCombination(essences);\r\n        if (!this._effectsByEssenceIdentity.has(combinationIdentity)) {\r\n            this._effectsByEssenceIdentity.set(combinationIdentity, effect);\r\n            return new _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_0__.NoAlchemicalEffect();\r\n        }\r\n        const previousEffect = this._effectsByEssenceIdentity.get(combinationIdentity);\r\n        this._effectsByEssenceIdentity.set(combinationIdentity, effect);\r\n        return previousEffect;\r\n    }\r\n    getEffectsForComponents(components) {\r\n        if (components.isEmpty()) {\r\n            return [];\r\n        }\r\n        return components.units.flatMap(unit => unit.flatten())\r\n            .map(part => this.getEffect(part.essences));\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlGb3JtdWxhLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQStGO0FBcUIvRixNQUFNLHFCQUFxQjtJQU12QixZQUFZLEVBQ1IsVUFBVSxFQUNWLHVCQUF1QixFQUN2Qix3QkFBd0IsR0FBRyxJQUFJLEdBQUcsRUFBRSxFQUt2QztRQUNHLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDO1FBQzlCLElBQUksQ0FBQyx3QkFBd0IsR0FBRyx1QkFBdUIsQ0FBQztRQUN4RCxJQUFJLENBQUMseUJBQXlCLEdBQUcsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ3JHLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELGFBQWE7UUFDVCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQzlELENBQUM7SUFFRCxTQUFTLENBQUMsUUFBd0M7UUFDOUMsSUFBSSxRQUFRLENBQUMsT0FBTyxFQUFFLEVBQUU7WUFDcEIsT0FBTyxJQUFJLGlFQUFrQixFQUFFLENBQUM7U0FDbkM7UUFDRCxNQUFNLG1CQUFtQixHQUFXLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyx3QkFBd0IsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyRyxJQUFJLENBQUMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO1lBQzFELE9BQU8sSUFBSSxpRUFBa0IsRUFBRSxDQUFDO1NBQ25DO1FBQ0QsT0FBTyxJQUFJLENBQUMseUJBQXlCLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELFlBQVksQ0FBQyxRQUF3QztRQUNqRCxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUNwQixPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUNELE1BQU0sbUJBQW1CLEdBQVcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLHdCQUF3QixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JHLE9BQU8sSUFBSSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCxjQUFjLENBQUMsUUFBd0MsRUFBRSxNQUErQztRQUNwRyxJQUFJLFFBQVEsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUNwQixPQUFPLElBQUksaUVBQWtCLEVBQUUsQ0FBQztTQUNuQztRQUNELE1BQU0sbUJBQW1CLEdBQVcsSUFBSSxDQUFDLHdCQUF3QixDQUFDLHdCQUF3QixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JHLElBQUksQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsR0FBRyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7WUFDMUQsSUFBSSxDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNoRSxPQUFPLElBQUksaUVBQWtCLEVBQUUsQ0FBQztTQUNuQztRQUNELE1BQU0sY0FBYyxHQUFHLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUMvRSxJQUFJLENBQUMseUJBQXlCLENBQUMsR0FBRyxDQUFDLG1CQUFtQixFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2hFLE9BQU8sY0FBYyxDQUFDO0lBQzFCLENBQUM7SUFFRCx1QkFBdUIsQ0FBQyxVQUEwQztRQUM5RCxJQUFJLFVBQVUsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN0QixPQUFPLEVBQUU7U0FDWjtRQUNELE9BQU8sVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDbEQsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0NBRUo7QUFFK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlGb3JtdWxhLnRzPzA5MzQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBbGNoZW1pY2FsQ29tYmluYXRpb24sIEFsY2hlbWljYWxFZmZlY3QsIE5vQWxjaGVtaWNhbEVmZmVjdH0gZnJvbSBcIi4vQWxjaGVtaWNhbEVmZmVjdFwiO1xyXG5pbXBvcnQge0Vzc2VuY2VEZWZpbml0aW9uLCBFc3NlbmNlSWRlbnRpdHlQcm92aWRlcn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9Fc3NlbmNlRGVmaW5pdGlvblwiO1xyXG5pbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuXHJcbmludGVyZmFjZSBBbGNoZW15Rm9ybXVsYSB7XHJcblxyXG4gICAgYmFzZVBhcnRJZDogc3RyaW5nO1xyXG5cclxuICAgIHJlZ2lzdGVyRWZmZWN0KGVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4sIGVmZmVjdDogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+KTogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+O1xyXG5cclxuICAgIGdldEVmZmVjdChlc3NlbmNlczogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+KTogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+O1xyXG5cclxuICAgIGdldEFsbEVmZmVjdHMoKTogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+W107XHJcblxyXG4gICAgZ2V0RWZmZWN0c0ZvckNvbXBvbmVudHMoY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+W107XHJcblxyXG4gICAgaGFzRWZmZWN0Rm9yKGVzc2VuY2VzOiBDb21iaW5hdGlvbjxFc3NlbmNlRGVmaW5pdGlvbj4pOiBib29sZWFuO1xyXG5cclxufVxyXG5cclxuY2xhc3MgRGVmYXVsdEFsY2hlbXlGb3JtdWxhIGltcGxlbWVudHMgQWxjaGVteUZvcm11bGEge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Jhc2VQYXJ0SWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VmZmVjdHNCeUVzc2VuY2VJZGVudGl0eTogTWFwPG51bWJlciwgQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+PjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VJZGVudGl0eVByb3ZpZGVyOiBFc3NlbmNlSWRlbnRpdHlQcm92aWRlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgYmFzZVBhcnRJZCxcclxuICAgICAgICBlc3NlbmNlSWRlbnRpdHlQcm92aWRlcixcclxuICAgICAgICBlZmZlY3RzQnlFc3NlbmNlSWRlbnRpdHkgPSBuZXcgTWFwKClcclxuICAgIH06IHtcclxuICAgICAgICBiYXNlUGFydElkOiBzdHJpbmc7XHJcbiAgICAgICAgZXNzZW5jZUlkZW50aXR5UHJvdmlkZXI6IEVzc2VuY2VJZGVudGl0eVByb3ZpZGVyO1xyXG4gICAgICAgIGVmZmVjdHNCeUVzc2VuY2VJZGVudGl0eT86IE1hcDxudW1iZXIsIEFsY2hlbWljYWxFZmZlY3Q8QWxjaGVtaWNhbENvbWJpbmF0aW9uPj47XHJcbiAgICB9KSB7XHJcbiAgICAgICAgdGhpcy5fYmFzZVBhcnRJZCA9IGJhc2VQYXJ0SWQ7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUlkZW50aXR5UHJvdmlkZXIgPSBlc3NlbmNlSWRlbnRpdHlQcm92aWRlcjtcclxuICAgICAgICB0aGlzLl9lZmZlY3RzQnlFc3NlbmNlSWRlbnRpdHkgPSBlZmZlY3RzQnlFc3NlbmNlSWRlbnRpdHkgPyBlZmZlY3RzQnlFc3NlbmNlSWRlbnRpdHkgOiBuZXcgTWFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGJhc2VQYXJ0SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jhc2VQYXJ0SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWxsRWZmZWN0cygpOiBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbj5bXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fZWZmZWN0c0J5RXNzZW5jZUlkZW50aXR5LnZhbHVlcygpKVxyXG4gICAgfVxyXG5cclxuICAgIGdldEVmZmVjdChlc3NlbmNlczogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+KTogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb24+IHtcclxuICAgICAgICBpZiAoZXNzZW5jZXMuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9BbGNoZW1pY2FsRWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uSWRlbnRpdHk6IG51bWJlciA9IHRoaXMuX2Vzc2VuY2VJZGVudGl0eVByb3ZpZGVyLmdldEZvckVzc2VuY2VDb21iaW5hdGlvbihlc3NlbmNlcyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9lZmZlY3RzQnlFc3NlbmNlSWRlbnRpdHkuaGFzKGNvbWJpbmF0aW9uSWRlbnRpdHkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9BbGNoZW1pY2FsRWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9lZmZlY3RzQnlFc3NlbmNlSWRlbnRpdHkuZ2V0KGNvbWJpbmF0aW9uSWRlbnRpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc0VmZmVjdEZvcihlc3NlbmNlczogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKGVzc2VuY2VzLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uSWRlbnRpdHk6IG51bWJlciA9IHRoaXMuX2Vzc2VuY2VJZGVudGl0eVByb3ZpZGVyLmdldEZvckVzc2VuY2VDb21iaW5hdGlvbihlc3NlbmNlcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VmZmVjdHNCeUVzc2VuY2VJZGVudGl0eS5oYXMoY29tYmluYXRpb25JZGVudGl0eSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXJFZmZlY3QoZXNzZW5jZXM6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPiwgZWZmZWN0OiBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbj4pOiBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbj4ge1xyXG4gICAgICAgIGlmIChlc3NlbmNlcy5pc0VtcHR5KCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBOb0FsY2hlbWljYWxFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25JZGVudGl0eTogbnVtYmVyID0gdGhpcy5fZXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuZ2V0Rm9yRXNzZW5jZUNvbWJpbmF0aW9uKGVzc2VuY2VzKTtcclxuICAgICAgICBpZiAoIXRoaXMuX2VmZmVjdHNCeUVzc2VuY2VJZGVudGl0eS5oYXMoY29tYmluYXRpb25JZGVudGl0eSkpIHtcclxuICAgICAgICAgICAgdGhpcy5fZWZmZWN0c0J5RXNzZW5jZUlkZW50aXR5LnNldChjb21iaW5hdGlvbklkZW50aXR5LCBlZmZlY3QpO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vQWxjaGVtaWNhbEVmZmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwcmV2aW91c0VmZmVjdCA9IHRoaXMuX2VmZmVjdHNCeUVzc2VuY2VJZGVudGl0eS5nZXQoY29tYmluYXRpb25JZGVudGl0eSk7XHJcbiAgICAgICAgdGhpcy5fZWZmZWN0c0J5RXNzZW5jZUlkZW50aXR5LnNldChjb21iaW5hdGlvbklkZW50aXR5LCBlZmZlY3QpO1xyXG4gICAgICAgIHJldHVybiBwcmV2aW91c0VmZmVjdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFZmZlY3RzRm9yQ29tcG9uZW50cyhjb21wb25lbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4pOiBBbGNoZW1pY2FsRWZmZWN0PEFsY2hlbWljYWxDb21iaW5hdGlvbj5bXSB7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudHMuaXNFbXB0eSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcG9uZW50cy51bml0cy5mbGF0TWFwKHVuaXQgPT4gdW5pdC5mbGF0dGVuKCkpXHJcbiAgICAgICAgICAgIC5tYXAocGFydCA9PiB0aGlzLmdldEVmZmVjdChwYXJ0LmVzc2VuY2VzKSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBBbGNoZW15Rm9ybXVsYSwgRGVmYXVsdEFsY2hlbXlGb3JtdWxhIH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/alchemy/AlchemyFormula.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/alchemy/AlchemyResult.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/crafting/alchemy/AlchemyResult.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NoAlchemyResult\": () => (/* binding */ NoAlchemyResult),\n/* harmony export */   \"SuccessfulAlchemyResult\": () => (/* binding */ SuccessfulAlchemyResult),\n/* harmony export */   \"UnsuccessfulAlchemyResult\": () => (/* binding */ UnsuccessfulAlchemyResult)\n/* harmony export */ });\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/Combination */ \"./src/scripts/common/Combination.ts\");\n/* harmony import */ var _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AlchemicalEffect */ \"./src/scripts/crafting/alchemy/AlchemicalEffect.ts\");\n/* harmony import */ var _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../interface/CraftingChatMessage */ \"./src/scripts/interface/CraftingChatMessage.ts\");\n\r\n\r\n\r\nclass NoAlchemyResult {\r\n    constructor(config) {\r\n        this._consumed = config.consumed;\r\n        this._description = config.detail;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    describe() {\r\n        return new _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__.CraftingChatMessage({\r\n            title: \"Crafting not attempted\",\r\n            description: this._description,\r\n            iconType: _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__.IconType.FAILURE\r\n        });\r\n    }\r\n    get effects() {\r\n        return new _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_1__.NoAlchemicalCombination();\r\n    }\r\n    get baseComponent() {\r\n        return null;\r\n    }\r\n}\r\nclass SuccessfulAlchemyResult {\r\n    constructor(config) {\r\n        this._consumed = config.consumed;\r\n        this._detail = config.detail;\r\n        this._baseComponent = config.baseComponent;\r\n        this._alchemicalEffect = config.alchemicalEffect;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    describe() {\r\n        return new _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__.CraftingChatMessage({\r\n            iconType: _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__.IconType.RANDOM,\r\n            consumedItems: this._consumed,\r\n            createdItems: _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.of(this._baseComponent, 1),\r\n            description: this._detail\r\n        });\r\n    }\r\n    get effects() {\r\n        return this._alchemicalEffect;\r\n    }\r\n    get baseComponent() {\r\n        return this._baseComponent;\r\n    }\r\n}\r\nclass UnsuccessfulAlchemyResult {\r\n    constructor(config) {\r\n        this._description = config.detail;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    describe() {\r\n        return new _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__.CraftingChatMessage({\r\n            iconType: _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_2__.IconType.FAILURE,\r\n            description: `Alchemy attempt failed. ${this._description}. `\r\n        });\r\n    }\r\n    applyToBaseItemData(baseItemData) {\r\n        return baseItemData;\r\n    }\r\n    get baseComponent() {\r\n        return null;\r\n    }\r\n    get effects() {\r\n        return new _AlchemicalEffect__WEBPACK_IMPORTED_MODULE_1__.NoAlchemicalCombination();\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlSZXN1bHQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBRzZCO0FBQ0E7QUF1QmxGLE1BQU0sZUFBZTtJQUtqQixZQUFZLE1BQTZCO1FBQ3JDLElBQUksQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNqQyxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sSUFBSSwrRUFBbUIsQ0FBQztZQUMzQixLQUFLLEVBQUUsd0JBQXdCO1lBQy9CLFdBQVcsRUFBRSxJQUFJLENBQUMsWUFBWTtZQUM5QixRQUFRLEVBQUUsNEVBQWdCO1NBQzdCLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksc0VBQXVCLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUVKO0FBT0QsTUFBTSx1QkFBdUI7SUFPekIsWUFBWSxNQUFxQztRQUM3QyxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDakMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUMzQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDO0lBQ3JELENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLElBQUksK0VBQW1CLENBQUM7WUFDM0IsUUFBUSxFQUFFLDJFQUFlO1lBQ3pCLGFBQWEsRUFBRSxJQUFJLENBQUMsU0FBUztZQUM3QixZQUFZLEVBQUUsK0RBQWMsQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQztZQUNwRCxXQUFXLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDNUIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDYixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDL0IsQ0FBQztDQUNKO0FBTUQsTUFBTSx5QkFBeUI7SUFLM0IsWUFBWSxNQUF1QztRQUMvQyxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sSUFBSSwrRUFBbUIsQ0FBQztZQUMzQixRQUFRLEVBQUUsNEVBQWdCO1lBQzFCLFdBQVcsRUFBRSwyQkFBMkIsSUFBSSxDQUFDLFlBQVksSUFBSTtTQUNoRSxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsbUJBQW1CLENBQUMsWUFBc0I7UUFDdEMsT0FBTyxZQUFZLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksc0VBQXVCLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0NBRUo7QUFFMEYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlSZXN1bHQudHM/OTcyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtJdGVtRGF0YX0gZnJvbSBcIkBsZWFndWUtb2YtZm91bmRyeS1kZXZlbG9wZXJzL2ZvdW5kcnktdnR0LXR5cGVzL3NyYy9mb3VuZHJ5L2NvbW1vbi9kYXRhL2RhdGEubWpzXCI7XHJcbmltcG9ydCB7QWxjaGVtaWNhbENvbWJpbmF0aW9uLCBOb0FsY2hlbWljYWxDb21iaW5hdGlvbn0gZnJvbSBcIi4vQWxjaGVtaWNhbEVmZmVjdFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ2hhdE1lc3NhZ2UsIEljb25UeXBlfSBmcm9tIFwiLi4vLi4vaW50ZXJmYWNlL0NyYWZ0aW5nQ2hhdE1lc3NhZ2VcIjtcclxuXHJcbmludGVyZmFjZSBBbGNoZW15UmVzdWx0IHtcclxuXHJcbiAgICBkZXNjcmliZSgpOiBDcmFmdGluZ0NoYXRNZXNzYWdlO1xyXG5cclxuICAgIGNvbnN1bWVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcblxyXG4gICAgZWZmZWN0czogQWxjaGVtaWNhbENvbWJpbmF0aW9uO1xyXG5cclxuICAgIGJhc2VDb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG5cclxufVxyXG5cclxuaW50ZXJmYWNlIEFsY2hlbXlSZXN1bHRDb25maWcge1xyXG4gICAgZGV0YWlsOiBzdHJpbmc7XHJcbiAgICBjb25zdW1lZDogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTm9BbGNoZW15UmVzdWx0Q29uZmlnIGV4dGVuZHMgQWxjaGVteVJlc3VsdENvbmZpZyB7XHJcbiAgICBcclxufVxyXG5cclxuY2xhc3MgTm9BbGNoZW15UmVzdWx0IGltcGxlbWVudHMgQWxjaGVteVJlc3VsdCB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbnN1bWVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBOb0FsY2hlbXlSZXN1bHRDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9jb25zdW1lZCA9IGNvbmZpZy5jb25zdW1lZDtcclxuICAgICAgICB0aGlzLl9kZXNjcmlwdGlvbiA9IGNvbmZpZy5kZXRhaWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnN1bWVkKCk6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN1bWVkO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc2NyaWJlKCk6IENyYWZ0aW5nQ2hhdE1lc3NhZ2Uge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDaGF0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIkNyYWZ0aW5nIG5vdCBhdHRlbXB0ZWRcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBpY29uVHlwZTogSWNvblR5cGUuRkFJTFVSRVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlZmZlY3RzKCk6IEFsY2hlbWljYWxDb21iaW5hdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb0FsY2hlbWljYWxDb21iaW5hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBiYXNlQ29tcG9uZW50KCk6IENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdWNjZXNzZnVsQWxjaGVteVJlc3VsdENvbmZpZyBleHRlbmRzIEFsY2hlbXlSZXN1bHRDb25maWcge1xyXG4gICAgYWxjaGVtaWNhbEVmZmVjdDogQWxjaGVtaWNhbENvbWJpbmF0aW9uO1xyXG4gICAgYmFzZUNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbn1cclxuXHJcbmNsYXNzIFN1Y2Nlc3NmdWxBbGNoZW15UmVzdWx0IGltcGxlbWVudHMgQWxjaGVteVJlc3VsdCB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGV0YWlsOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9iYXNlQ29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FsY2hlbWljYWxFZmZlY3Q6IEFsY2hlbWljYWxDb21iaW5hdGlvbjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbnN1bWVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBTdWNjZXNzZnVsQWxjaGVteVJlc3VsdENvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX2NvbnN1bWVkID0gY29uZmlnLmNvbnN1bWVkO1xyXG4gICAgICAgIHRoaXMuX2RldGFpbCA9IGNvbmZpZy5kZXRhaWw7XHJcbiAgICAgICAgdGhpcy5fYmFzZUNvbXBvbmVudCA9IGNvbmZpZy5iYXNlQ29tcG9uZW50O1xyXG4gICAgICAgIHRoaXMuX2FsY2hlbWljYWxFZmZlY3QgPSBjb25maWcuYWxjaGVtaWNhbEVmZmVjdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29uc3VtZWQoKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3VtZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogQ3JhZnRpbmdDaGF0TWVzc2FnZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NoYXRNZXNzYWdlKHtcclxuICAgICAgICAgICAgaWNvblR5cGU6IEljb25UeXBlLlJBTkRPTSxcclxuICAgICAgICAgICAgY29uc3VtZWRJdGVtczogdGhpcy5fY29uc3VtZWQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRJdGVtczogQ29tYmluYXRpb24ub2YodGhpcy5fYmFzZUNvbXBvbmVudCwgMSksIC8vIHRvZG8gLSBmaW5kIGEgc3VpdGFibGUgd2F5IHRvIGRpc3BsYXkgdGhlIGN1c3RvbSBpdGVtIGRhdGFcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2RldGFpbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlZmZlY3RzKCk6IEFsY2hlbWljYWxDb21iaW5hdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsY2hlbWljYWxFZmZlY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGJhc2VDb21wb25lbnQoKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlQ29tcG9uZW50O1xyXG4gICAgfVxyXG59XHJcblxyXG5pbnRlcmZhY2UgVW5zdWNjZXNzZnVsQWxjaGVteVJlc3VsdENvbmZpZyBleHRlbmRzIEFsY2hlbXlSZXN1bHRDb25maWcge1xyXG5cclxufVxyXG5cclxuY2xhc3MgVW5zdWNjZXNzZnVsQWxjaGVteVJlc3VsdCBpbXBsZW1lbnRzIEFsY2hlbXlSZXN1bHQge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Rlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb25zdW1lZDogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogVW5zdWNjZXNzZnVsQWxjaGVteVJlc3VsdENvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uID0gY29uZmlnLmRldGFpbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29uc3VtZWQoKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3VtZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogQ3JhZnRpbmdDaGF0TWVzc2FnZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NoYXRNZXNzYWdlKHtcclxuICAgICAgICAgICAgaWNvblR5cGU6IEljb25UeXBlLkZBSUxVUkUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQWxjaGVteSBhdHRlbXB0IGZhaWxlZC4gJHt0aGlzLl9kZXNjcmlwdGlvbn0uIGBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRvQmFzZUl0ZW1EYXRhKGJhc2VJdGVtRGF0YTogSXRlbURhdGEpOiBJdGVtRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIGJhc2VJdGVtRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYmFzZUNvbXBvbmVudCgpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVmZmVjdHMoKTogQWxjaGVtaWNhbENvbWJpbmF0aW9uIHtcclxuICAgICAgICByZXR1cm4gbmV3IE5vQWxjaGVtaWNhbENvbWJpbmF0aW9uKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0FsY2hlbXlSZXN1bHQsIFN1Y2Nlc3NmdWxBbGNoZW15UmVzdWx0LCBVbnN1Y2Nlc3NmdWxBbGNoZW15UmVzdWx0LCBOb0FsY2hlbXlSZXN1bHR9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/crafting/alchemy/AlchemyResult.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/attempt/CraftingAttempt.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/crafting/attempt/CraftingAttempt.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AbandonedCraftingAttempt\": () => (/* binding */ AbandonedCraftingAttempt),\n/* harmony export */   \"GenerousCraftingAttempt\": () => (/* binding */ GenerousCraftingAttempt),\n/* harmony export */   \"WastefulCraftingAttempt\": () => (/* binding */ WastefulCraftingAttempt)\n/* harmony export */ });\n/* harmony import */ var _result_CraftingResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../result/CraftingResult */ \"./src/scripts/crafting/result/CraftingResult.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\n\r\nclass WastefulCraftingAttempt {\r\n    constructor(config) {\r\n        this._recipe = config.recipe;\r\n        this._components = config.components;\r\n    }\r\n    perform(actor, craftingCheck) {\r\n        const craftingCheckResult = craftingCheck.perform(actor, this._components);\r\n        if (!craftingCheckResult.isSuccessful) {\r\n            return new _result_CraftingResult__WEBPACK_IMPORTED_MODULE_0__.UnsuccessfulCraftingResult({\r\n                checkResult: craftingCheckResult,\r\n                consumed: this._components,\r\n                recipe: this._recipe\r\n            });\r\n        }\r\n        return new _result_CraftingResult__WEBPACK_IMPORTED_MODULE_0__.SuccessfulCraftingResult({\r\n            checkResult: craftingCheckResult,\r\n            created: this._recipe.results,\r\n            consumed: this._components,\r\n            recipe: this._recipe\r\n        });\r\n    }\r\n}\r\n\r\nclass GenerousCraftingAttempt {\r\n    constructor(config) {\r\n        this._recipe = config.recipe;\r\n        this._components = config.components;\r\n    }\r\n    perform(actor, craftingCheck) {\r\n        const craftingCheckResult = craftingCheck.perform(actor, this._components);\r\n        if (!craftingCheckResult.isSuccessful) {\r\n            return new _result_CraftingResult__WEBPACK_IMPORTED_MODULE_0__.UnsuccessfulCraftingResult({\r\n                checkResult: craftingCheckResult,\r\n                consumed: _common_Combination__WEBPACK_IMPORTED_MODULE_1__.Combination.EMPTY(),\r\n                recipe: this._recipe\r\n            });\r\n        }\r\n        return new _result_CraftingResult__WEBPACK_IMPORTED_MODULE_0__.SuccessfulCraftingResult({\r\n            checkResult: craftingCheckResult,\r\n            created: this._recipe.results,\r\n            consumed: this._components,\r\n            recipe: this._recipe\r\n        });\r\n    }\r\n}\r\n\r\nclass AbandonedCraftingAttempt {\r\n    constructor(config) {\r\n        this._reason = config.reason;\r\n        this._recipe = config.recipe;\r\n    }\r\n    /**\r\n     * AbandonedCraftingAttempt is a no-op implementation of CraftingAttempt. It should not operate on this function's\r\n     * arguments\r\n     * */\r\n    // @ts-ignore\r\n    perform(actor, craftingCheck) {\r\n        return new _result_CraftingResult__WEBPACK_IMPORTED_MODULE_0__.NoCraftingResult({\r\n            detail: this.getResultDetail()\r\n        });\r\n    }\r\n    getResultDetail() {\r\n        return `Unable to craft ${this._recipe.name}. ${this._reason}. `;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hdHRlbXB0L0NyYWZ0aW5nQXR0ZW1wdC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUtrQztBQUdtQjtBQWlCckQsTUFBTSx1QkFBdUI7SUFLekIsWUFBWSxNQUFxQztRQUM3QyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBWSxFQUFFLGFBQW1DO1FBQ3JELE1BQU0sbUJBQW1CLEdBQXdCLGFBQWEsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNoRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsWUFBWSxFQUFFO1lBQ25DLE9BQU8sSUFBSSw4RUFBMEIsQ0FBQztnQkFDbEMsV0FBVyxFQUFFLG1CQUFtQjtnQkFDaEMsUUFBUSxFQUFFLElBQUksQ0FBQyxXQUFXO2dCQUMxQixNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU87YUFDdkIsQ0FBQyxDQUFDO1NBQ047UUFDRCxPQUFPLElBQUksNEVBQXdCLENBQUM7WUFDaEMsV0FBVyxFQUFFLG1CQUFtQjtZQUNoQyxPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPO1lBQzdCLFFBQVEsRUFBRSxJQUFJLENBQUMsV0FBVztZQUMxQixNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDdkIsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztDQUVKO0FBRWdDO0FBT2pDLE1BQU0sdUJBQXVCO0lBS3pCLFlBQVksTUFBcUM7UUFDN0MsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsT0FBTyxDQUFDLEtBQVksRUFBRSxhQUFtQztRQUNyRCxNQUFNLG1CQUFtQixHQUF3QixhQUFhLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDaEcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFlBQVksRUFBRTtZQUNuQyxPQUFPLElBQUksOEVBQTBCLENBQUM7Z0JBQ2xDLFdBQVcsRUFBRSxtQkFBbUI7Z0JBQ2hDLFFBQVEsRUFBRSxrRUFBaUIsRUFBRTtnQkFDN0IsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPO2FBQ3ZCLENBQUMsQ0FBQztTQUNOO1FBQ0QsT0FBTyxJQUFJLDRFQUF3QixDQUFDO1lBQ2hDLFdBQVcsRUFBRSxtQkFBbUI7WUFDaEMsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTztZQUM3QixRQUFRLEVBQUUsSUFBSSxDQUFDLFdBQVc7WUFDMUIsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3ZCLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FFSjtBQUVnQztBQU9qQyxNQUFNLHdCQUF3QjtJQUsxQixZQUFZLE1BQXNDO1FBQzlDLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDakMsQ0FBQztJQUVEOzs7U0FHSztJQUNMLGFBQWE7SUFDYixPQUFPLENBQUMsS0FBWSxFQUFFLGFBQW1DO1FBQ3JELE9BQU8sSUFBSSxvRUFBZ0IsQ0FBQztZQUN4QixNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsRUFBRTtTQUNqQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU8sZUFBZTtRQUNuQixPQUFPLG1CQUFtQixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUM7SUFDckUsQ0FBQztDQUVKO0FBRWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvYXR0ZW1wdC9DcmFmdGluZ0F0dGVtcHQudHM/ZWI2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ3JhZnRpbmdSZXN1bHQsXHJcbiAgICBOb0NyYWZ0aW5nUmVzdWx0LFxyXG4gICAgU3VjY2Vzc2Z1bENyYWZ0aW5nUmVzdWx0LFxyXG4gICAgVW5zdWNjZXNzZnVsQ3JhZnRpbmdSZXN1bHRcclxufSBmcm9tIFwiLi4vcmVzdWx0L0NyYWZ0aW5nUmVzdWx0XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDaGVja30gZnJvbSBcIi4uL2NoZWNrL0NyYWZ0aW5nQ2hlY2tcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9SZWNpcGVcIjtcclxuaW1wb3J0IHtDb21iaW5hdGlvbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDaGVja1Jlc3VsdH0gZnJvbSBcIi4uL2NoZWNrL0NyYWZ0aW5nQ2hlY2tSZXN1bHRcIjtcclxuXHJcbmludGVyZmFjZSBDcmFmdGluZ0F0dGVtcHQge1xyXG5cclxuICAgIHBlcmZvcm0oYWN0b3I6IEFjdG9yLCBjcmFmdGluZ0NoZWNrOiBDcmFmdGluZ0NoZWNrPEFjdG9yPik6IENyYWZ0aW5nUmVzdWx0O1xyXG5cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0F0dGVtcHR9XHJcblxyXG5pbnRlcmZhY2UgV2FzdGVmdWxDcmFmdGluZ0F0dGVtcHRDb25maWcge1xyXG4gICAgcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBjb21wb25lbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbn1cclxuXHJcbmNsYXNzIFdhc3RlZnVsQ3JhZnRpbmdBdHRlbXB0IGltcGxlbWVudHMgQ3JhZnRpbmdBdHRlbXB0IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGU6IFJlY2lwZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IFdhc3RlZnVsQ3JhZnRpbmdBdHRlbXB0Q29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlID0gY29uZmlnLnJlY2lwZTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gY29uZmlnLmNvbXBvbmVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgcGVyZm9ybShhY3RvcjogQWN0b3IsIGNyYWZ0aW5nQ2hlY2s6IENyYWZ0aW5nQ2hlY2s8QWN0b3I+KTogQ3JhZnRpbmdSZXN1bHQge1xyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nQ2hlY2tSZXN1bHQ6IENyYWZ0aW5nQ2hlY2tSZXN1bHQgPSBjcmFmdGluZ0NoZWNrLnBlcmZvcm0oYWN0b3IsIHRoaXMuX2NvbXBvbmVudHMpO1xyXG4gICAgICAgIGlmICghY3JhZnRpbmdDaGVja1Jlc3VsdC5pc1N1Y2Nlc3NmdWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbnN1Y2Nlc3NmdWxDcmFmdGluZ1Jlc3VsdCh7XHJcbiAgICAgICAgICAgICAgICBjaGVja1Jlc3VsdDogY3JhZnRpbmdDaGVja1Jlc3VsdCxcclxuICAgICAgICAgICAgICAgIGNvbnN1bWVkOiB0aGlzLl9jb21wb25lbnRzLFxyXG4gICAgICAgICAgICAgICAgcmVjaXBlOiB0aGlzLl9yZWNpcGVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgU3VjY2Vzc2Z1bENyYWZ0aW5nUmVzdWx0KHtcclxuICAgICAgICAgICAgY2hlY2tSZXN1bHQ6IGNyYWZ0aW5nQ2hlY2tSZXN1bHQsXHJcbiAgICAgICAgICAgIGNyZWF0ZWQ6IHRoaXMuX3JlY2lwZS5yZXN1bHRzLFxyXG4gICAgICAgICAgICBjb25zdW1lZDogdGhpcy5fY29tcG9uZW50cyxcclxuICAgICAgICAgICAgcmVjaXBlOiB0aGlzLl9yZWNpcGVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7V2FzdGVmdWxDcmFmdGluZ0F0dGVtcHR9O1xyXG5cclxuaW50ZXJmYWNlIEdlbmVyb3VzQ3JhZnRpbmdBdHRlbXB0Q29uZmlnIHtcclxuICAgIHJlY2lwZTogUmVjaXBlO1xyXG4gICAgY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG59XHJcblxyXG5jbGFzcyBHZW5lcm91c0NyYWZ0aW5nQXR0ZW1wdCBpbXBsZW1lbnRzIENyYWZ0aW5nQXR0ZW1wdCB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBHZW5lcm91c0NyYWZ0aW5nQXR0ZW1wdENvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX3JlY2lwZSA9IGNvbmZpZy5yZWNpcGU7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IGNvbmZpZy5jb21wb25lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIHBlcmZvcm0oYWN0b3I6IEFjdG9yLCBjcmFmdGluZ0NoZWNrOiBDcmFmdGluZ0NoZWNrPEFjdG9yPik6IENyYWZ0aW5nUmVzdWx0IHtcclxuICAgICAgICBjb25zdCBjcmFmdGluZ0NoZWNrUmVzdWx0OiBDcmFmdGluZ0NoZWNrUmVzdWx0ID0gY3JhZnRpbmdDaGVjay5wZXJmb3JtKGFjdG9yLCB0aGlzLl9jb21wb25lbnRzKTtcclxuICAgICAgICBpZiAoIWNyYWZ0aW5nQ2hlY2tSZXN1bHQuaXNTdWNjZXNzZnVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVW5zdWNjZXNzZnVsQ3JhZnRpbmdSZXN1bHQoe1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZXN1bHQ6IGNyYWZ0aW5nQ2hlY2tSZXN1bHQsXHJcbiAgICAgICAgICAgICAgICBjb25zdW1lZDogQ29tYmluYXRpb24uRU1QVFkoKSxcclxuICAgICAgICAgICAgICAgIHJlY2lwZTogdGhpcy5fcmVjaXBlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFN1Y2Nlc3NmdWxDcmFmdGluZ1Jlc3VsdCh7XHJcbiAgICAgICAgICAgIGNoZWNrUmVzdWx0OiBjcmFmdGluZ0NoZWNrUmVzdWx0LFxyXG4gICAgICAgICAgICBjcmVhdGVkOiB0aGlzLl9yZWNpcGUucmVzdWx0cyxcclxuICAgICAgICAgICAgY29uc3VtZWQ6IHRoaXMuX2NvbXBvbmVudHMsXHJcbiAgICAgICAgICAgIHJlY2lwZTogdGhpcy5fcmVjaXBlXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0dlbmVyb3VzQ3JhZnRpbmdBdHRlbXB0fTtcclxuXHJcbmludGVyZmFjZSBBYmFuZG9uZWRDcmFmdGluZ0F0dGVtcHRDb25maWcge1xyXG4gICAgcmVjaXBlOiBSZWNpcGU7XHJcbiAgICByZWFzb246IHN0cmluZztcclxufVxyXG5cclxuY2xhc3MgQWJhbmRvbmVkQ3JhZnRpbmdBdHRlbXB0IGltcGxlbWVudHMgQ3JhZnRpbmdBdHRlbXB0IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWFzb246IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3JlY2lwZTogUmVjaXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogQWJhbmRvbmVkQ3JhZnRpbmdBdHRlbXB0Q29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fcmVhc29uID0gY29uZmlnLnJlYXNvbjtcclxuICAgICAgICB0aGlzLl9yZWNpcGUgPSBjb25maWcucmVjaXBlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWJhbmRvbmVkQ3JhZnRpbmdBdHRlbXB0IGlzIGEgbm8tb3AgaW1wbGVtZW50YXRpb24gb2YgQ3JhZnRpbmdBdHRlbXB0LiBJdCBzaG91bGQgbm90IG9wZXJhdGUgb24gdGhpcyBmdW5jdGlvbidzXHJcbiAgICAgKiBhcmd1bWVudHNcclxuICAgICAqICovXHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBwZXJmb3JtKGFjdG9yOiBBY3RvciwgY3JhZnRpbmdDaGVjazogQ3JhZnRpbmdDaGVjazxBY3Rvcj4pOiBDcmFmdGluZ1Jlc3VsdCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBOb0NyYWZ0aW5nUmVzdWx0KHtcclxuICAgICAgICAgICAgZGV0YWlsOiB0aGlzLmdldFJlc3VsdERldGFpbCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRSZXN1bHREZXRhaWwoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFVuYWJsZSB0byBjcmFmdCAke3RoaXMuX3JlY2lwZS5uYW1lfS4gJHt0aGlzLl9yZWFzb259LiBgO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtBYmFuZG9uZWRDcmFmdGluZ0F0dGVtcHR9O1xyXG5leHBvcnQge0FiYW5kb25lZENyYWZ0aW5nQXR0ZW1wdENvbmZpZ307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/crafting/attempt/CraftingAttempt.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/attempt/CraftingAttemptFactory.ts":
/*!****************************************************************!*\
  !*** ./src/scripts/crafting/attempt/CraftingAttemptFactory.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingAttemptFactory\": () => (/* binding */ CraftingAttemptFactory)\n/* harmony export */ });\n/* harmony import */ var _CraftingAttempt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingAttempt */ \"./src/scripts/crafting/attempt/CraftingAttempt.ts\");\n/* harmony import */ var _common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/ComponentConsumptionCalculator */ \"./src/scripts/common/ComponentConsumptionCalculator.ts\");\n\r\n\r\nclass CraftingAttemptFactory {\r\n    constructor(config) {\r\n        this._selectionStrategy = config.selectionStrategy;\r\n        this._wastageType = config.wastageType;\r\n    }\r\n    make(availableComponents, recipe) {\r\n        const componentSelection = this._selectionStrategy.perform(recipe, availableComponents);\r\n        if (!componentSelection.isSufficient()) {\r\n            return new _CraftingAttempt__WEBPACK_IMPORTED_MODULE_0__.AbandonedCraftingAttempt({\r\n                recipe: recipe,\r\n                reason: componentSelection.describe()\r\n            });\r\n        }\r\n        switch (this._wastageType) {\r\n            case _common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_1__.WastageType.PUNITIVE:\r\n                return new _CraftingAttempt__WEBPACK_IMPORTED_MODULE_0__.WastefulCraftingAttempt({\r\n                    recipe: recipe,\r\n                    components: componentSelection.components\r\n                });\r\n            case _common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_1__.WastageType.NON_PUNITIVE:\r\n                return new _CraftingAttempt__WEBPACK_IMPORTED_MODULE_0__.GenerousCraftingAttempt({\r\n                    recipe: recipe,\r\n                    components: componentSelection.components\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9hdHRlbXB0L0NyYWZ0aW5nQXR0ZW1wdEZhY3RvcnkudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBUzJCO0FBRTZDO0FBT3hFLE1BQU0sc0JBQXNCO0lBS3hCLFlBQVksTUFBb0M7UUFDNUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQztRQUNuRCxJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7SUFDM0MsQ0FBQztJQUVELElBQUksQ0FBQyxtQkFBbUQsRUFBRSxNQUFjO1FBQ3BFLE1BQU0sa0JBQWtCLEdBQXVCLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLG1CQUFtQixDQUFDLENBQUM7UUFDNUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFlBQVksRUFBRSxFQUFFO1lBQ3BDLE9BQU8sSUFBSSxzRUFBd0IsQ0FBQztnQkFDaEMsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsTUFBTSxFQUFFLGtCQUFrQixDQUFDLFFBQVEsRUFBRTthQUN4QyxDQUFDLENBQUM7U0FDTjtRQUNELFFBQVEsSUFBSSxDQUFDLFlBQVksRUFBRTtZQUN2QixLQUFLLHdGQUFvQjtnQkFDckIsT0FBTyxJQUFJLHFFQUF1QixDQUFDO29CQUMvQixNQUFNLEVBQUUsTUFBTTtvQkFDZCxVQUFVLEVBQUUsa0JBQWtCLENBQUMsVUFBVTtpQkFDNUMsQ0FBQyxDQUFDO1lBQ1AsS0FBSyw0RkFBd0I7Z0JBQ3pCLE9BQU8sSUFBSSxxRUFBdUIsQ0FBQztvQkFDL0IsTUFBTSxFQUFFLE1BQU07b0JBQ2QsVUFBVSxFQUFFLGtCQUFrQixDQUFDLFVBQVU7aUJBQzVDLENBQUMsQ0FBQztTQUNWO0lBRUwsQ0FBQztDQUVKO0FBRTREIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvYXR0ZW1wdC9DcmFmdGluZ0F0dGVtcHRGYWN0b3J5LnRzPzI1ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDb21iaW5hdGlvbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q29tcG9uZW50U2VsZWN0aW9uU3RyYXRlZ3l9IGZyb20gXCIuLi9zZWxlY3Rpb24vQ29tcG9uZW50U2VsZWN0aW9uU3RyYXRlZ3lcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9SZWNpcGVcIjtcclxuaW1wb3J0IHtcclxuICAgIEFiYW5kb25lZENyYWZ0aW5nQXR0ZW1wdCxcclxuICAgIENyYWZ0aW5nQXR0ZW1wdCxcclxuICAgIEdlbmVyb3VzQ3JhZnRpbmdBdHRlbXB0LFxyXG4gICAgV2FzdGVmdWxDcmFmdGluZ0F0dGVtcHRcclxufSBmcm9tIFwiLi9DcmFmdGluZ0F0dGVtcHRcIjtcclxuaW1wb3J0IHtDb21wb25lbnRTZWxlY3Rpb259IGZyb20gXCIuLi8uLi9jb21wb25lbnQvQ29tcG9uZW50U2VsZWN0aW9uXCI7XHJcbmltcG9ydCB7V2FzdGFnZVR5cGV9IGZyb20gXCIuLi8uLi9jb21tb24vQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yXCI7XHJcblxyXG5pbnRlcmZhY2UgQ3JhZnRpbmdBdHRlbXB0RmFjdG9yeUNvbmZpZyB7XHJcbiAgICBzZWxlY3Rpb25TdHJhdGVneTogQ29tcG9uZW50U2VsZWN0aW9uU3RyYXRlZ3k7XHJcbiAgICB3YXN0YWdlVHlwZTogV2FzdGFnZVR5cGU7XHJcbn1cclxuXHJcbmNsYXNzIENyYWZ0aW5nQXR0ZW1wdEZhY3Rvcnkge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3NlbGVjdGlvblN0cmF0ZWd5OiBDb21wb25lbnRTZWxlY3Rpb25TdHJhdGVneTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3dhc3RhZ2VUeXBlOiBXYXN0YWdlVHlwZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IENyYWZ0aW5nQXR0ZW1wdEZhY3RvcnlDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9zZWxlY3Rpb25TdHJhdGVneSA9IGNvbmZpZy5zZWxlY3Rpb25TdHJhdGVneTtcclxuICAgICAgICB0aGlzLl93YXN0YWdlVHlwZSA9IGNvbmZpZy53YXN0YWdlVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBtYWtlKGF2YWlsYWJsZUNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiwgcmVjaXBlOiBSZWNpcGUpOiBDcmFmdGluZ0F0dGVtcHQge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFNlbGVjdGlvbjogQ29tcG9uZW50U2VsZWN0aW9uID0gdGhpcy5fc2VsZWN0aW9uU3RyYXRlZ3kucGVyZm9ybShyZWNpcGUsIGF2YWlsYWJsZUNvbXBvbmVudHMpO1xyXG4gICAgICAgIGlmICghY29tcG9uZW50U2VsZWN0aW9uLmlzU3VmZmljaWVudCgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQWJhbmRvbmVkQ3JhZnRpbmdBdHRlbXB0KHtcclxuICAgICAgICAgICAgICAgIHJlY2lwZTogcmVjaXBlLFxyXG4gICAgICAgICAgICAgICAgcmVhc29uOiBjb21wb25lbnRTZWxlY3Rpb24uZGVzY3JpYmUoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLl93YXN0YWdlVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFdhc3RhZ2VUeXBlLlBVTklUSVZFOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBXYXN0ZWZ1bENyYWZ0aW5nQXR0ZW1wdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlOiByZWNpcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogY29tcG9uZW50U2VsZWN0aW9uLmNvbXBvbmVudHNcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjYXNlIFdhc3RhZ2VUeXBlLk5PTl9QVU5JVElWRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR2VuZXJvdXNDcmFmdGluZ0F0dGVtcHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY2lwZTogcmVjaXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudFNlbGVjdGlvbi5jb21wb25lbnRzXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0F0dGVtcHRGYWN0b3J5LCBDcmFmdGluZ0F0dGVtcHRGYWN0b3J5Q29uZmlnfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/crafting/attempt/CraftingAttemptFactory.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/check/ContributionCounter.ts":
/*!***********************************************************!*\
  !*** ./src/scripts/crafting/check/ContributionCounter.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CombinedContributionCounter\": () => (/* binding */ CombinedContributionCounter),\n/* harmony export */   \"ContributionCounterFactory\": () => (/* binding */ ContributionCounterFactory),\n/* harmony export */   \"EssenceContributionCounter\": () => (/* binding */ EssenceContributionCounter),\n/* harmony export */   \"IngredientContributionCounter\": () => (/* binding */ IngredientContributionCounter),\n/* harmony export */   \"NoContributionCounter\": () => (/* binding */ NoContributionCounter)\n/* harmony export */ });\n/**\r\n * Determines how the number of different types of Essences contribute to the difficulty of the check\r\n * */\r\nclass EssenceContributionCounter {\r\n    constructor(essenceModifier) {\r\n        this._essenceModifier = essenceModifier;\r\n    }\r\n    /**\r\n     * Determine the modifier value for the given Combination of Crafting Components by only considering the number\r\n     * of unique essences in that Combination of Components\r\n     *\r\n     * @param components The components to be considered for the Crafting Check\r\n     * @returns number The numeric modifier for the providedComponents to apply to the Check\r\n     * */\r\n    determineDCModifier(components) {\r\n        return components.explode((component) => component.essences)\r\n            .units\r\n            .map(((unit) => this._essenceModifier * unit.quantity))\r\n            .reduce((left, right) => left + right, 0);\r\n    }\r\n}\r\n/**\r\n * Determines how the number of Ingredients contribute to the difficulty of the check\r\n * */\r\nclass IngredientContributionCounter {\r\n    constructor(ingredientModifier) {\r\n        this._ingredientModifier = ingredientModifier;\r\n    }\r\n    /**\r\n     * Determine the modifier value for the given Combination of Crafting Components by only considering the quantity of\r\n     * Ingredients in that Combination of Components\r\n     *\r\n     * @param components The components to be considered for the Crafting Check\r\n     * @returns number The numeric modifier for the providedComponents to apply to the Check\r\n     * */\r\n    determineDCModifier(components) {\r\n        return components.units.map((unit) => this._ingredientModifier * unit.quantity)\r\n            .reduce((left, right) => left + right, 0);\r\n    }\r\n}\r\n/**\r\n * Determines how the number of Ingredients and the number of Essences contribute to the difficulty of the check\r\n * */\r\nclass CombinedContributionCounter {\r\n    constructor(ingredientModifier, essenceModifier) {\r\n        this._essenceContributionCounter = new EssenceContributionCounter(essenceModifier);\r\n        this._ingredientContributionCounter = new IngredientContributionCounter(ingredientModifier);\r\n    }\r\n    /**\r\n     * Determine the modifier value for the given Combination of Crafting Components by considering both the quantity of\r\n     * Ingredients in and the number of unique essences in that Combination of Components\r\n     *\r\n     * @param components The components to be considered for the Crafting Check\r\n     * @returns number The numeric modifier for the providedComponents to apply to the Check\r\n     * */\r\n    determineDCModifier(components) {\r\n        const ingredientContribution = this._ingredientContributionCounter.determineDCModifier(components);\r\n        const essenceContribution = this._essenceContributionCounter.determineDCModifier(components);\r\n        return ingredientContribution + essenceContribution;\r\n    }\r\n}\r\n/**\r\n * Determines that no amount or arrangement of Essences or Ingredients can contribute to the difficulty of the Check\r\n * */\r\nclass NoContributionCounter {\r\n    /**\r\n     * Returns zero, as no amount or arrangement of Essences or Ingredients can contribute to the difficulty of the\r\n     * Check\r\n     *\r\n     * @returns number zero, for no contribution\r\n     * */\r\n    determineDCModifier() {\r\n        return 0;\r\n    }\r\n}\r\n\r\n/**\r\n * Provides the appropriate ContributionCounter based on the values selected for Essence type and Ingredient quantity\r\n * contributions to the difficulty of the Check\r\n * */\r\nclass ContributionCounterFactory {\r\n    constructor(config) {\r\n        this._ingredientContribution = config.ingredientContribution;\r\n        this._essenceContribution = config.essenceContribution;\r\n    }\r\n    /**\r\n     * Creates and returns a concrete ContributionCounter based on the values provided for Ingredient and Essence\r\n     * contribution.\r\n     *\r\n     * | Ingredient Contribution | Essence Contribution     | ContributionCounter             |\r\n     * | :---------------------- | :----------------------  | :------------------------------ |\r\n     * | 0                       | 0                        | NoContributionCounter           |\r\n     * | 0                       | 1                        | EssenceContributionCounter      |\r\n     * | 1                       | 0                        | IngredientContributionCounter   |\r\n     * | 1                       | 1                        | CombinedContributionCounter     |\r\n     *\r\n     * @returns ContributionCounter the appropriate ContributionCounter\r\n     * */\r\n    make() {\r\n        const essenceCountContributes = this._essenceContribution && this._essenceContribution > 0;\r\n        const ingredientCountContributes = this._ingredientContribution && this._ingredientContribution > 0;\r\n        if (!essenceCountContributes && !ingredientCountContributes) {\r\n            return new NoContributionCounter();\r\n        }\r\n        if (essenceCountContributes && ingredientCountContributes) {\r\n            return new CombinedContributionCounter(this._ingredientContribution, this._essenceContribution);\r\n        }\r\n        if (ingredientCountContributes) {\r\n            return new IngredientContributionCounter(this._ingredientContribution);\r\n        }\r\n        if (essenceCountContributes) {\r\n            return new EssenceContributionCounter(this._essenceContribution);\r\n        }\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9jaGVjay9Db250cmlidXRpb25Db3VudGVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBa0JBOztLQUVLO0FBQ0wsTUFBTSwwQkFBMEI7SUFPNUIsWUFBWSxlQUF1QjtRQUMvQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFDO0lBQzVDLENBQUM7SUFFRDs7Ozs7O1NBTUs7SUFDTCxtQkFBbUIsQ0FBQyxVQUEwQztRQUMxRCxPQUFPLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2FBQzFFLEtBQUs7YUFDTCxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUN0RCxNQUFNLENBQUMsQ0FBQyxJQUFZLEVBQUUsS0FBYSxFQUFFLEVBQUUsQ0FBQyxJQUFJLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7Q0FFSjtBQUVEOztLQUVLO0FBQ0wsTUFBTSw2QkFBNkI7SUFPL0IsWUFBWSxrQkFBMEI7UUFDbEMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGtCQUFrQixDQUFDO0lBQ2xELENBQUM7SUFFRDs7Ozs7O1NBTUs7SUFDTCxtQkFBbUIsQ0FBQyxVQUEwQztRQUMxRCxPQUFPLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBNkIsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7YUFDbkcsTUFBTSxDQUFDLENBQUMsSUFBWSxFQUFFLEtBQWEsRUFBRSxFQUFFLENBQUMsSUFBSSxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRSxDQUFDO0NBRUo7QUFFRDs7S0FFSztBQUNMLE1BQU0sMkJBQTJCO0lBVzdCLFlBQVksa0JBQTBCLEVBQUUsZUFBdUI7UUFDM0QsSUFBSSxDQUFDLDJCQUEyQixHQUFHLElBQUksMEJBQTBCLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDbkYsSUFBSSxDQUFDLDhCQUE4QixHQUFHLElBQUksNkJBQTZCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNoRyxDQUFDO0lBRUQ7Ozs7OztTQU1LO0lBQ0wsbUJBQW1CLENBQUMsVUFBMEM7UUFDMUQsTUFBTSxzQkFBc0IsR0FBVyxJQUFJLENBQUMsOEJBQThCLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDM0csTUFBTSxtQkFBbUIsR0FBVyxJQUFJLENBQUMsMkJBQTJCLENBQUMsbUJBQW1CLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDckcsT0FBTyxzQkFBc0IsR0FBRyxtQkFBbUIsQ0FBQztJQUN4RCxDQUFDO0NBRUo7QUFFRDs7S0FFSztBQUNMLE1BQU0scUJBQXFCO0lBQ3ZCOzs7OztTQUtLO0lBQ0wsbUJBQW1CO1FBQ2YsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0NBQ0o7QUFFMEk7QUFPM0k7OztLQUdLO0FBQ0wsTUFBTSwwQkFBMEI7SUFXNUIsWUFBWSxNQUFpQztRQUN6QyxJQUFJLENBQUMsdUJBQXVCLEdBQUcsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1FBQzdELElBQUksQ0FBQyxvQkFBb0IsR0FBRyxNQUFNLENBQUMsbUJBQW1CLENBQUM7SUFDM0QsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7U0FZSztJQUNFLElBQUk7UUFDUCxNQUFNLHVCQUF1QixHQUFHLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEdBQUcsQ0FBQyxDQUFDO1FBQzNGLE1BQU0sMEJBQTBCLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixJQUFJLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxDQUFDLENBQUM7UUFDcEcsSUFBSSxDQUFDLHVCQUF1QixJQUFJLENBQUMsMEJBQTBCLEVBQUU7WUFDekQsT0FBTyxJQUFJLHFCQUFxQixFQUFFLENBQUM7U0FDdEM7UUFDRCxJQUFJLHVCQUF1QixJQUFJLDBCQUEwQixFQUFFO1lBQ3ZELE9BQU8sSUFBSSwyQkFBMkIsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLEVBQUUsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7U0FDbkc7UUFDRCxJQUFJLDBCQUEwQixFQUFFO1lBQzVCLE9BQU8sSUFBSSw2QkFBNkIsQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztTQUMxRTtRQUNELElBQUksdUJBQXVCLEVBQUU7WUFDekIsT0FBTyxJQUFJLDBCQUEwQixDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1NBQ3BFO0lBQ0wsQ0FBQztDQUNKO0FBRW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvY2hlY2svQ29udHJpYnV0aW9uQ291bnRlci50cz85NDMzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tYmluYXRpb24sIFVuaXR9IGZyb20gXCIuLi8uLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuLyoqXHJcbiAqIERldGVybWluZXMgaG93IGEgQ29tYmluYXRpb24gb2YgQ3JhZnRpbmcgQ29tcG9uZW50cyBpbXBhY3RzIHRoZSBkaWZmaWN1bHR5IG9mIGEgQ3JhZnRpbmcgY2hlY2sgKGlmIGF0IGFsbClcclxuICogKi9cclxuaW50ZXJmYWNlIENvbnRyaWJ1dGlvbkNvdW50ZXIge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lIHRoZSBtb2RpZmllciB2YWx1ZSBmb3IgdGhlIGdpdmVuIENvbWJpbmF0aW9uIG9mIENyYWZ0aW5nIENvbXBvbmVudHNcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50cyBUaGUgY29tcG9uZW50cyB0byBiZSBjb25zaWRlcmVkIGZvciB0aGUgQ3JhZnRpbmcgQ2hlY2tcclxuICAgICAqIEByZXR1cm5zIG51bWJlciBUaGUgbnVtZXJpYyBtb2RpZmllciBmb3IgdGhlIHByb3ZpZGVkQ29tcG9uZW50cyB0byBhcHBseSB0byB0aGUgQ2hlY2tcclxuICAgICAqICovXHJcbiAgICBkZXRlcm1pbmVEQ01vZGlmaWVyKGNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IG51bWJlcjtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZXRlcm1pbmVzIGhvdyB0aGUgbnVtYmVyIG9mIGRpZmZlcmVudCB0eXBlcyBvZiBFc3NlbmNlcyBjb250cmlidXRlIHRvIHRoZSBkaWZmaWN1bHR5IG9mIHRoZSBjaGVja1xyXG4gKiAqL1xyXG5jbGFzcyBFc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlciBpbXBsZW1lbnRzIENvbnRyaWJ1dGlvbkNvdW50ZXIge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG51bWVyaWMgdmFsdWUgdG8gYXBwbHkgZm9yIGVhY2ggdW5pcXVlIEVzc2VuY2UgdHlwZS4gQ2FuIGJlIHBvc2l0aXZlIG9yIG5lZ2F0aXZlXHJcbiAgICAgKiAqL1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZU1vZGlmaWVyOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXNzZW5jZU1vZGlmaWVyOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9lc3NlbmNlTW9kaWZpZXIgPSBlc3NlbmNlTW9kaWZpZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmUgdGhlIG1vZGlmaWVyIHZhbHVlIGZvciB0aGUgZ2l2ZW4gQ29tYmluYXRpb24gb2YgQ3JhZnRpbmcgQ29tcG9uZW50cyBieSBvbmx5IGNvbnNpZGVyaW5nIHRoZSBudW1iZXJcclxuICAgICAqIG9mIHVuaXF1ZSBlc3NlbmNlcyBpbiB0aGF0IENvbWJpbmF0aW9uIG9mIENvbXBvbmVudHNcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50cyBUaGUgY29tcG9uZW50cyB0byBiZSBjb25zaWRlcmVkIGZvciB0aGUgQ3JhZnRpbmcgQ2hlY2tcclxuICAgICAqIEByZXR1cm5zIG51bWJlciBUaGUgbnVtZXJpYyBtb2RpZmllciBmb3IgdGhlIHByb3ZpZGVkQ29tcG9uZW50cyB0byBhcHBseSB0byB0aGUgQ2hlY2tcclxuICAgICAqICovXHJcbiAgICBkZXRlcm1pbmVEQ01vZGlmaWVyKGNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHMuZXhwbG9kZSgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50LmVzc2VuY2VzKVxyXG4gICAgICAgICAgICAudW5pdHNcclxuICAgICAgICAgICAgLm1hcCgoKHVuaXQpID0+IHRoaXMuX2Vzc2VuY2VNb2RpZmllciAqIHVuaXQucXVhbnRpdHkpKVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpID0+IGxlZnQgKyByaWdodCwgMCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lcyBob3cgdGhlIG51bWJlciBvZiBJbmdyZWRpZW50cyBjb250cmlidXRlIHRvIHRoZSBkaWZmaWN1bHR5IG9mIHRoZSBjaGVja1xyXG4gKiAqL1xyXG5jbGFzcyBJbmdyZWRpZW50Q29udHJpYnV0aW9uQ291bnRlciBpbXBsZW1lbnRzIENvbnRyaWJ1dGlvbkNvdW50ZXIge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIG51bWVyaWMgdmFsdWUgdG8gYXBwbHkgZm9yIGVhY2ggSW5ncmVkaWVudCAoYWxzbyBjb25zaWRlcmluZyBxdWFudGl0eSkuIENhbiBiZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2luZ3JlZGllbnRNb2RpZmllcjogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGluZ3JlZGllbnRNb2RpZmllcjogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5faW5ncmVkaWVudE1vZGlmaWVyID0gaW5ncmVkaWVudE1vZGlmaWVyO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0ZXJtaW5lIHRoZSBtb2RpZmllciB2YWx1ZSBmb3IgdGhlIGdpdmVuIENvbWJpbmF0aW9uIG9mIENyYWZ0aW5nIENvbXBvbmVudHMgYnkgb25seSBjb25zaWRlcmluZyB0aGUgcXVhbnRpdHkgb2ZcclxuICAgICAqIEluZ3JlZGllbnRzIGluIHRoYXQgQ29tYmluYXRpb24gb2YgQ29tcG9uZW50c1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnRzIFRoZSBjb21wb25lbnRzIHRvIGJlIGNvbnNpZGVyZWQgZm9yIHRoZSBDcmFmdGluZyBDaGVja1xyXG4gICAgICogQHJldHVybnMgbnVtYmVyIFRoZSBudW1lcmljIG1vZGlmaWVyIGZvciB0aGUgcHJvdmlkZWRDb21wb25lbnRzIHRvIGFwcGx5IHRvIHRoZSBDaGVja1xyXG4gICAgICogKi9cclxuICAgIGRldGVybWluZURDTW9kaWZpZXIoY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gY29tcG9uZW50cy51bml0cy5tYXAoKHVuaXQ6IFVuaXQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiB0aGlzLl9pbmdyZWRpZW50TW9kaWZpZXIgKiB1bml0LnF1YW50aXR5KVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpID0+IGxlZnQgKyByaWdodCwgMCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lcyBob3cgdGhlIG51bWJlciBvZiBJbmdyZWRpZW50cyBhbmQgdGhlIG51bWJlciBvZiBFc3NlbmNlcyBjb250cmlidXRlIHRvIHRoZSBkaWZmaWN1bHR5IG9mIHRoZSBjaGVja1xyXG4gKiAqL1xyXG5jbGFzcyBDb21iaW5lZENvbnRyaWJ1dGlvbkNvdW50ZXIgaW1wbGVtZW50cyBDb250cmlidXRpb25Db3VudGVyIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBudW1lcmljIHZhbHVlIHRvIGFwcGx5IGZvciBlYWNoIHVuaXF1ZSBFc3NlbmNlIHR5cGUuIENhbiBiZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VDb250cmlidXRpb25Db3VudGVyOiBFc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlcjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIG51bWVyaWMgdmFsdWUgdG8gYXBwbHkgZm9yIGVhY2ggSW5ncmVkaWVudCAoYWxzbyBjb25zaWRlcmluZyBxdWFudGl0eSkuIENhbiBiZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2luZ3JlZGllbnRDb250cmlidXRpb25Db3VudGVyOiBJbmdyZWRpZW50Q29udHJpYnV0aW9uQ291bnRlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbmdyZWRpZW50TW9kaWZpZXI6IG51bWJlciwgZXNzZW5jZU1vZGlmaWVyOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9lc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlciA9IG5ldyBFc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlcihlc3NlbmNlTW9kaWZpZXIpO1xyXG4gICAgICAgIHRoaXMuX2luZ3JlZGllbnRDb250cmlidXRpb25Db3VudGVyID0gbmV3IEluZ3JlZGllbnRDb250cmlidXRpb25Db3VudGVyKGluZ3JlZGllbnRNb2RpZmllcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXRlcm1pbmUgdGhlIG1vZGlmaWVyIHZhbHVlIGZvciB0aGUgZ2l2ZW4gQ29tYmluYXRpb24gb2YgQ3JhZnRpbmcgQ29tcG9uZW50cyBieSBjb25zaWRlcmluZyBib3RoIHRoZSBxdWFudGl0eSBvZlxyXG4gICAgICogSW5ncmVkaWVudHMgaW4gYW5kIHRoZSBudW1iZXIgb2YgdW5pcXVlIGVzc2VuY2VzIGluIHRoYXQgQ29tYmluYXRpb24gb2YgQ29tcG9uZW50c1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnRzIFRoZSBjb21wb25lbnRzIHRvIGJlIGNvbnNpZGVyZWQgZm9yIHRoZSBDcmFmdGluZyBDaGVja1xyXG4gICAgICogQHJldHVybnMgbnVtYmVyIFRoZSBudW1lcmljIG1vZGlmaWVyIGZvciB0aGUgcHJvdmlkZWRDb21wb25lbnRzIHRvIGFwcGx5IHRvIHRoZSBDaGVja1xyXG4gICAgICogKi9cclxuICAgIGRldGVybWluZURDTW9kaWZpZXIoY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogbnVtYmVyIHtcclxuICAgICAgICBjb25zdCBpbmdyZWRpZW50Q29udHJpYnV0aW9uOiBudW1iZXIgPSB0aGlzLl9pbmdyZWRpZW50Q29udHJpYnV0aW9uQ291bnRlci5kZXRlcm1pbmVEQ01vZGlmaWVyKGNvbXBvbmVudHMpO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VDb250cmlidXRpb246IG51bWJlciA9IHRoaXMuX2Vzc2VuY2VDb250cmlidXRpb25Db3VudGVyLmRldGVybWluZURDTW9kaWZpZXIoY29tcG9uZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIGluZ3JlZGllbnRDb250cmlidXRpb24gKyBlc3NlbmNlQ29udHJpYnV0aW9uO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIERldGVybWluZXMgdGhhdCBubyBhbW91bnQgb3IgYXJyYW5nZW1lbnQgb2YgRXNzZW5jZXMgb3IgSW5ncmVkaWVudHMgY2FuIGNvbnRyaWJ1dGUgdG8gdGhlIGRpZmZpY3VsdHkgb2YgdGhlIENoZWNrXHJcbiAqICovXHJcbmNsYXNzIE5vQ29udHJpYnV0aW9uQ291bnRlciBpbXBsZW1lbnRzIENvbnRyaWJ1dGlvbkNvdW50ZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHplcm8sIGFzIG5vIGFtb3VudCBvciBhcnJhbmdlbWVudCBvZiBFc3NlbmNlcyBvciBJbmdyZWRpZW50cyBjYW4gY29udHJpYnV0ZSB0byB0aGUgZGlmZmljdWx0eSBvZiB0aGVcclxuICAgICAqIENoZWNrXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgbnVtYmVyIHplcm8sIGZvciBubyBjb250cmlidXRpb25cclxuICAgICAqICovXHJcbiAgICBkZXRlcm1pbmVEQ01vZGlmaWVyKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29udHJpYnV0aW9uQ291bnRlciwgQ29tYmluZWRDb250cmlidXRpb25Db3VudGVyLCBFc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlciwgSW5ncmVkaWVudENvbnRyaWJ1dGlvbkNvdW50ZXIsIE5vQ29udHJpYnV0aW9uQ291bnRlcn1cclxuXHJcbmludGVyZmFjZSBDb250cmlidXRpb25Db3VudGVyQ29uZmlnIHtcclxuICAgIGluZ3JlZGllbnRDb250cmlidXRpb246IG51bWJlciB8IDA7XHJcbiAgICBlc3NlbmNlQ29udHJpYnV0aW9uOiBudW1iZXIgfCAwO1xyXG59XHJcblxyXG4vKipcclxuICogUHJvdmlkZXMgdGhlIGFwcHJvcHJpYXRlIENvbnRyaWJ1dGlvbkNvdW50ZXIgYmFzZWQgb24gdGhlIHZhbHVlcyBzZWxlY3RlZCBmb3IgRXNzZW5jZSB0eXBlIGFuZCBJbmdyZWRpZW50IHF1YW50aXR5XHJcbiAqIGNvbnRyaWJ1dGlvbnMgdG8gdGhlIGRpZmZpY3VsdHkgb2YgdGhlIENoZWNrXHJcbiAqICovXHJcbmNsYXNzIENvbnRyaWJ1dGlvbkNvdW50ZXJGYWN0b3J5IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoZSBudW1lcmljIHZhbHVlIHRvIGFwcGx5IGZvciBlYWNoIHVuaXF1ZSBFc3NlbmNlIHR5cGUuIENhbiBiZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VDb250cmlidXRpb246IG51bWJlcjtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIG51bWVyaWMgdmFsdWUgdG8gYXBwbHkgZm9yIGVhY2ggSW5ncmVkaWVudCAoYWxzbyBjb25zaWRlcmluZyBxdWFudGl0eSkuIENhbiBiZSBwb3NpdGl2ZSBvciBuZWdhdGl2ZVxyXG4gICAgICogKi9cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2luZ3JlZGllbnRDb250cmlidXRpb246IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IENvbnRyaWJ1dGlvbkNvdW50ZXJDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9pbmdyZWRpZW50Q29udHJpYnV0aW9uID0gY29uZmlnLmluZ3JlZGllbnRDb250cmlidXRpb247XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUNvbnRyaWJ1dGlvbiA9IGNvbmZpZy5lc3NlbmNlQ29udHJpYnV0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGNvbmNyZXRlIENvbnRyaWJ1dGlvbkNvdW50ZXIgYmFzZWQgb24gdGhlIHZhbHVlcyBwcm92aWRlZCBmb3IgSW5ncmVkaWVudCBhbmQgRXNzZW5jZVxyXG4gICAgICogY29udHJpYnV0aW9uLlxyXG4gICAgICpcclxuICAgICAqIHwgSW5ncmVkaWVudCBDb250cmlidXRpb24gfCBFc3NlbmNlIENvbnRyaWJ1dGlvbiAgICAgfCBDb250cmlidXRpb25Db3VudGVyICAgICAgICAgICAgIHxcclxuICAgICAqIHwgOi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCA6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAgfCA6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHxcclxuICAgICAqIHwgMCAgICAgICAgICAgICAgICAgICAgICAgfCAwICAgICAgICAgICAgICAgICAgICAgICAgfCBOb0NvbnRyaWJ1dGlvbkNvdW50ZXIgICAgICAgICAgIHxcclxuICAgICAqIHwgMCAgICAgICAgICAgICAgICAgICAgICAgfCAxICAgICAgICAgICAgICAgICAgICAgICAgfCBFc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlciAgICAgIHxcclxuICAgICAqIHwgMSAgICAgICAgICAgICAgICAgICAgICAgfCAwICAgICAgICAgICAgICAgICAgICAgICAgfCBJbmdyZWRpZW50Q29udHJpYnV0aW9uQ291bnRlciAgIHxcclxuICAgICAqIHwgMSAgICAgICAgICAgICAgICAgICAgICAgfCAxICAgICAgICAgICAgICAgICAgICAgICAgfCBDb21iaW5lZENvbnRyaWJ1dGlvbkNvdW50ZXIgICAgIHxcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBDb250cmlidXRpb25Db3VudGVyIHRoZSBhcHByb3ByaWF0ZSBDb250cmlidXRpb25Db3VudGVyXHJcbiAgICAgKiAqL1xyXG4gICAgcHVibGljIG1ha2UoKTogQ29udHJpYnV0aW9uQ291bnRlciB7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZUNvdW50Q29udHJpYnV0ZXMgPSB0aGlzLl9lc3NlbmNlQ29udHJpYnV0aW9uICYmIHRoaXMuX2Vzc2VuY2VDb250cmlidXRpb24gPiAwO1xyXG4gICAgICAgIGNvbnN0IGluZ3JlZGllbnRDb3VudENvbnRyaWJ1dGVzID0gdGhpcy5faW5ncmVkaWVudENvbnRyaWJ1dGlvbiAmJiB0aGlzLl9pbmdyZWRpZW50Q29udHJpYnV0aW9uID4gMDtcclxuICAgICAgICBpZiAoIWVzc2VuY2VDb3VudENvbnRyaWJ1dGVzICYmICFpbmdyZWRpZW50Q291bnRDb250cmlidXRlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vQ29udHJpYnV0aW9uQ291bnRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXNzZW5jZUNvdW50Q29udHJpYnV0ZXMgJiYgaW5ncmVkaWVudENvdW50Q29udHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21iaW5lZENvbnRyaWJ1dGlvbkNvdW50ZXIodGhpcy5faW5ncmVkaWVudENvbnRyaWJ1dGlvbiwgdGhpcy5fZXNzZW5jZUNvbnRyaWJ1dGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbmdyZWRpZW50Q291bnRDb250cmlidXRlcykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEluZ3JlZGllbnRDb250cmlidXRpb25Db3VudGVyKHRoaXMuX2luZ3JlZGllbnRDb250cmlidXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXNzZW5jZUNvdW50Q29udHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFc3NlbmNlQ29udHJpYnV0aW9uQ291bnRlcih0aGlzLl9lc3NlbmNlQ29udHJpYnV0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29udHJpYnV0aW9uQ291bnRlckZhY3Rvcnl9O1xyXG5leHBvcnQge0NvbnRyaWJ1dGlvbkNvdW50ZXJDb25maWd9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/crafting/check/ContributionCounter.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/check/CraftingCheck.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/crafting/check/CraftingCheck.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultCraftingCheck\": () => (/* binding */ DefaultCraftingCheck),\n/* harmony export */   \"NoCraftingCheck\": () => (/* binding */ NoCraftingCheck)\n/* harmony export */ });\n/* harmony import */ var _CraftingCheckResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingCheckResult */ \"./src/scripts/crafting/check/CraftingCheckResult.ts\");\n/* harmony import */ var _result_OutcomeType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../result/OutcomeType */ \"./src/scripts/crafting/result/OutcomeType.ts\");\n\r\n\r\nclass DefaultCraftingCheck {\r\n    constructor(craftingCheckConfig) {\r\n        this._diceRoller = craftingCheckConfig.diceRoller;\r\n        this._gameSystemRollModifierProvider = craftingCheckConfig.gameSystemRollModifierProvider;\r\n        this._thresholdCalculator = craftingCheckConfig.thresholdCalculator;\r\n    }\r\n    perform(actor, components) {\r\n        const roll = this._diceRoller.createUnmodifiedRoll();\r\n        const modifiers = this._gameSystemRollModifierProvider.getForActor(actor);\r\n        const rollResult = this._diceRoller.evaluate(roll, modifiers);\r\n        const threshold = this._thresholdCalculator.calculateFor(components);\r\n        const outcome = threshold.test(rollResult);\r\n        switch (outcome) {\r\n            case _result_OutcomeType__WEBPACK_IMPORTED_MODULE_1__.OutcomeType.FAILURE:\r\n                return new _CraftingCheckResult__WEBPACK_IMPORTED_MODULE_0__.FailedCraftingCheckResult({\r\n                    expression: rollResult.expression,\r\n                    result: rollResult.value,\r\n                    successThreshold: threshold.target\r\n                });\r\n            case _result_OutcomeType__WEBPACK_IMPORTED_MODULE_1__.OutcomeType.SUCCESS:\r\n                return new _CraftingCheckResult__WEBPACK_IMPORTED_MODULE_0__.SuccessfulCraftingCheckResult({\r\n                    expression: rollResult.expression,\r\n                    result: rollResult.value,\r\n                    successThreshold: threshold.target\r\n                });\r\n            default:\r\n                return new _CraftingCheckResult__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheckResult();\r\n        }\r\n    }\r\n}\r\n\r\nclass NoCraftingCheck {\r\n    constructor() { }\r\n    perform(_actor, _components) {\r\n        return new _CraftingCheckResult__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheckResult();\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9jaGVjay9DcmFmdGluZ0NoZWNrLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFPK0I7QUFFbUI7QUFnQmxELE1BQU0sb0JBQW9CO0lBTXRCLFlBQVksbUJBQTJDO1FBQ25ELElBQUksQ0FBQyxXQUFXLEdBQUcsbUJBQW1CLENBQUMsVUFBVSxDQUFDO1FBQ2xELElBQUksQ0FBQywrQkFBK0IsR0FBRyxtQkFBbUIsQ0FBQyw4QkFBOEIsQ0FBQztRQUMxRixJQUFJLENBQUMsb0JBQW9CLEdBQUcsbUJBQW1CLENBQUMsbUJBQW1CLENBQUM7SUFDeEUsQ0FBQztJQUVELE9BQU8sQ0FBQyxLQUFRLEVBQUUsVUFBMEM7UUFFeEQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDO1FBQ3JELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUUsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQzlELE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDckUsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUUzQyxRQUFRLE9BQU8sRUFBRTtZQUNiLEtBQUssb0VBQW1CO2dCQUNwQixPQUFPLElBQUksMkVBQXlCLENBQUM7b0JBQ2pDLFVBQVUsRUFBRSxVQUFVLENBQUMsVUFBVTtvQkFDakMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxLQUFLO29CQUN4QixnQkFBZ0IsRUFBRSxTQUFTLENBQUMsTUFBTTtpQkFDckMsQ0FBQyxDQUFDO1lBQ1AsS0FBSyxvRUFBbUI7Z0JBQ3BCLE9BQU8sSUFBSSwrRUFBNkIsQ0FBQztvQkFDckMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxVQUFVO29CQUNqQyxNQUFNLEVBQUUsVUFBVSxDQUFDLEtBQUs7b0JBQ3hCLGdCQUFnQixFQUFFLFNBQVMsQ0FBQyxNQUFNO2lCQUNyQyxDQUFDLENBQUM7WUFDUDtnQkFDSSxPQUFPLElBQUksdUVBQXFCLEVBQUUsQ0FBQztTQUMxQztJQUVMLENBQUM7Q0FFSjtBQUVnRTtBQUVqRSxNQUFNLGVBQWU7SUFFakIsZ0JBQWUsQ0FBQztJQUVoQixPQUFPLENBQUMsTUFBYSxFQUFFLFdBQTJDO1FBQzlELE9BQU8sSUFBSSx1RUFBcUIsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7Q0FFSjtBQUV3QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2NyYWZ0aW5nL2NoZWNrL0NyYWZ0aW5nQ2hlY2sudHM/MTc2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtcclxuICAgIENyYWZ0aW5nQ2hlY2tSZXN1bHQsXHJcbiAgICBGYWlsZWRDcmFmdGluZ0NoZWNrUmVzdWx0LFxyXG4gICAgTm9DcmFmdGluZ0NoZWNrUmVzdWx0LFxyXG4gICAgU3VjY2Vzc2Z1bENyYWZ0aW5nQ2hlY2tSZXN1bHRcclxufSBmcm9tIFwiLi9DcmFmdGluZ0NoZWNrUmVzdWx0XCI7XHJcbmltcG9ydCB7RGljZVJvbGxlcn0gZnJvbSBcIi4uLy4uL2ZvdW5kcnkvRGljZVJvbGxlclwiO1xyXG5pbXBvcnQge091dGNvbWVUeXBlfSBmcm9tIFwiLi4vcmVzdWx0L091dGNvbWVUeXBlXCI7XHJcbmltcG9ydCB7VGhyZXNob2xkQ2FsY3VsYXRvcn0gZnJvbSBcIi4vVGhyZXNob2xkXCI7XHJcbmltcG9ydCB7R2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyfSBmcm9tIFwiLi9HYW1lU3lzdGVtUm9sbE1vZGlmaWVyUHJvdmlkZXJcIjtcclxuXHJcbmludGVyZmFjZSBDcmFmdGluZ0NoZWNrPEEgZXh0ZW5kcyBBY3Rvcj4ge1xyXG5cclxuICAgIHBlcmZvcm0oYWN0b3I6IEEsIGNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IENyYWZ0aW5nQ2hlY2tSZXN1bHQ7XHJcblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ3JhZnRpbmdDaGVja0NvbmZpZzxBIGV4dGVuZHMgQWN0b3I+IHtcclxuICAgIGRpY2VSb2xsZXI6IERpY2VSb2xsZXI7XHJcbiAgICBnYW1lU3lzdGVtUm9sbE1vZGlmaWVyUHJvdmlkZXI6IEdhbWVTeXN0ZW1Sb2xsTW9kaWZpZXJQcm92aWRlcjxBPjtcclxuICAgIHRocmVzaG9sZENhbGN1bGF0b3I6IFRocmVzaG9sZENhbGN1bGF0b3I7XHJcbn1cclxuXHJcbmNsYXNzIERlZmF1bHRDcmFmdGluZ0NoZWNrPEEgZXh0ZW5kcyBBY3Rvcj4gaW1wbGVtZW50cyBDcmFmdGluZ0NoZWNrPEE+IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kaWNlUm9sbGVyOiBEaWNlUm9sbGVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZ2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyOiBHYW1lU3lzdGVtUm9sbE1vZGlmaWVyUHJvdmlkZXI8QT47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90aHJlc2hvbGRDYWxjdWxhdG9yOiBUaHJlc2hvbGRDYWxjdWxhdG9yO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNyYWZ0aW5nQ2hlY2tDb25maWc6IENyYWZ0aW5nQ2hlY2tDb25maWc8QT4pIHtcclxuICAgICAgICB0aGlzLl9kaWNlUm9sbGVyID0gY3JhZnRpbmdDaGVja0NvbmZpZy5kaWNlUm9sbGVyO1xyXG4gICAgICAgIHRoaXMuX2dhbWVTeXN0ZW1Sb2xsTW9kaWZpZXJQcm92aWRlciA9IGNyYWZ0aW5nQ2hlY2tDb25maWcuZ2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyO1xyXG4gICAgICAgIHRoaXMuX3RocmVzaG9sZENhbGN1bGF0b3IgPSBjcmFmdGluZ0NoZWNrQ29uZmlnLnRocmVzaG9sZENhbGN1bGF0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgcGVyZm9ybShhY3RvcjogQSwgY29tcG9uZW50czogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogQ3JhZnRpbmdDaGVja1Jlc3VsdCB7XHJcblxyXG4gICAgICAgIGNvbnN0IHJvbGwgPSB0aGlzLl9kaWNlUm9sbGVyLmNyZWF0ZVVubW9kaWZpZWRSb2xsKCk7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZXJzID0gdGhpcy5fZ2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyLmdldEZvckFjdG9yKGFjdG9yKTtcclxuICAgICAgICBjb25zdCByb2xsUmVzdWx0ID0gdGhpcy5fZGljZVJvbGxlci5ldmFsdWF0ZShyb2xsLCBtb2RpZmllcnMpO1xyXG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IHRoaXMuX3RocmVzaG9sZENhbGN1bGF0b3IuY2FsY3VsYXRlRm9yKGNvbXBvbmVudHMpO1xyXG4gICAgICAgIGNvbnN0IG91dGNvbWUgPSB0aHJlc2hvbGQudGVzdChyb2xsUmVzdWx0KTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChvdXRjb21lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgT3V0Y29tZVR5cGUuRkFJTFVSRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmFpbGVkQ3JhZnRpbmdDaGVja1Jlc3VsdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogcm9sbFJlc3VsdC5leHByZXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcm9sbFJlc3VsdC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzVGhyZXNob2xkOiB0aHJlc2hvbGQudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY2FzZSBPdXRjb21lVHlwZS5TVUNDRVNTOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWNjZXNzZnVsQ3JhZnRpbmdDaGVja1Jlc3VsdCh7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbjogcm9sbFJlc3VsdC5leHByZXNzaW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcm9sbFJlc3VsdC52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzVGhyZXNob2xkOiB0aHJlc2hvbGQudGFyZ2V0XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTm9DcmFmdGluZ0NoZWNrUmVzdWx0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdDaGVjaywgQ3JhZnRpbmdDaGVja0NvbmZpZywgRGVmYXVsdENyYWZ0aW5nQ2hlY2t9XHJcblxyXG5jbGFzcyBOb0NyYWZ0aW5nQ2hlY2sgaW1wbGVtZW50cyBDcmFmdGluZ0NoZWNrPEFjdG9yPiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7fVxyXG5cclxuICAgIHBlcmZvcm0oX2FjdG9yOiBBY3RvciwgX2NvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IENyYWZ0aW5nQ2hlY2tSZXN1bHQge1xyXG4gICAgICAgIHJldHVybiBuZXcgTm9DcmFmdGluZ0NoZWNrUmVzdWx0KCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge05vQ3JhZnRpbmdDaGVja307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/crafting/check/CraftingCheck.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/check/CraftingCheckResult.ts":
/*!***********************************************************!*\
  !*** ./src/scripts/crafting/check/CraftingCheckResult.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"FailedCraftingCheckResult\": () => (/* binding */ FailedCraftingCheckResult),\n/* harmony export */   \"NoCraftingCheckResult\": () => (/* binding */ NoCraftingCheckResult),\n/* harmony export */   \"SuccessfulCraftingCheckResult\": () => (/* binding */ SuccessfulCraftingCheckResult)\n/* harmony export */ });\nclass FailedCraftingCheckResult {\r\n    constructor(config) {\r\n        this._expression = config.expression;\r\n        this._result = config.result;\r\n        this._successThreshold = config.successThreshold;\r\n    }\r\n    get isSuccessful() {\r\n        return false;\r\n    }\r\n    get expression() {\r\n        return this._expression;\r\n    }\r\n    get result() {\r\n        return this._result;\r\n    }\r\n    get successThreshold() {\r\n        return this._successThreshold;\r\n    }\r\n    describe() {\r\n        return `The crafting check was a failure. You needed ${this._successThreshold} or higher, but rolled ${this.result}. `;\r\n    }\r\n}\r\nclass NoCraftingCheckResult {\r\n    constructor() {\r\n    }\r\n    get isSuccessful() {\r\n        return true;\r\n    }\r\n    get expression() {\r\n        return '';\r\n    }\r\n    get result() {\r\n        return 0;\r\n    }\r\n    get successThreshold() {\r\n        return 0;\r\n    }\r\n    describe() {\r\n        return `The crafting check was not attempted. `;\r\n    }\r\n}\r\nclass SuccessfulCraftingCheckResult {\r\n    constructor(config) {\r\n        this._expression = config.expression;\r\n        this._result = config.result;\r\n        this._successThreshold = config.successThreshold;\r\n    }\r\n    get isSuccessful() {\r\n        return true;\r\n    }\r\n    get expression() {\r\n        return this._expression;\r\n    }\r\n    get result() {\r\n        return this._result;\r\n    }\r\n    get successThreshold() {\r\n        return this._successThreshold;\r\n    }\r\n    describe() {\r\n        return `The crafting check was a success! You needed ${this._successThreshold} or higher, but rolled ${this.result}. `;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9jaGVjay9DcmFmdGluZ0NoZWNrUmVzdWx0LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQWlCQSxNQUFNLHlCQUF5QjtJQUszQixZQUFZLE1BQXVDO1FBQy9DLElBQUksQ0FBQyxXQUFXLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDN0IsSUFBSSxDQUFDLGlCQUFpQixHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztJQUNyRCxDQUFDO0lBRUQsSUFBSSxZQUFZO1FBQ1osT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLGdCQUFnQjtRQUNoQixPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztJQUNsQyxDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sZ0RBQWdELElBQUksQ0FBQyxpQkFBaUIsMEJBQTBCLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQztJQUMzSCxDQUFDO0NBRUo7QUFFRCxNQUFNLHFCQUFxQjtJQUV2QjtJQUNBLENBQUM7SUFFRCxJQUFJLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsSUFBSSxVQUFVO1FBQ1YsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsSUFBSSxnQkFBZ0I7UUFDaEIsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sd0NBQXdDLENBQUM7SUFDcEQsQ0FBQztDQUVKO0FBUUQsTUFBTSw2QkFBNkI7SUFLL0IsWUFBWSxNQUEyQztRQUNuRCxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUM7UUFDckMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzdCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUM7SUFDckQsQ0FBQztJQUVELElBQUksWUFBWTtRQUNaLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksTUFBTTtRQUNOLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxnQkFBZ0I7UUFDaEIsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFDbEMsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLGdEQUFnRCxJQUFJLENBQUMsaUJBQWlCLDBCQUEwQixJQUFJLENBQUMsTUFBTSxJQUFJLENBQUM7SUFDM0gsQ0FBQztDQUVKO0FBU0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9jaGVjay9DcmFmdGluZ0NoZWNrUmVzdWx0LnRzP2ExMTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW50ZXJmYWNlIENyYWZ0aW5nQ2hlY2tSZXN1bHQge1xyXG5cclxuICAgIGlzU3VjY2Vzc2Z1bDogYm9vbGVhbjtcclxuICAgIGV4cHJlc3Npb246IHN0cmluZztcclxuICAgIHJlc3VsdDogbnVtYmVyO1xyXG4gICAgc3VjY2Vzc1RocmVzaG9sZDogbnVtYmVyO1xyXG5cclxuICAgIGRlc2NyaWJlKCk6IHN0cmluZztcclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBGYWlsZWRDcmFmdGluZ0NoZWNrUmVzdWx0Q29uZmlnIHtcclxuICAgIGV4cHJlc3Npb246IHN0cmluZztcclxuICAgIHJlc3VsdDogbnVtYmVyO1xyXG4gICAgc3VjY2Vzc1RocmVzaG9sZDogbnVtYmVyO1xyXG59XHJcblxyXG5jbGFzcyBGYWlsZWRDcmFmdGluZ0NoZWNrUmVzdWx0IGltcGxlbWVudHMgQ3JhZnRpbmdDaGVja1Jlc3VsdCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9leHByZXNzaW9uOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZXN1bHQ6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3N1Y2Nlc3NUaHJlc2hvbGQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IEZhaWxlZENyYWZ0aW5nQ2hlY2tSZXN1bHRDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9leHByZXNzaW9uID0gY29uZmlnLmV4cHJlc3Npb247XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gY29uZmlnLnJlc3VsdDtcclxuICAgICAgICB0aGlzLl9zdWNjZXNzVGhyZXNob2xkID0gY29uZmlnLnN1Y2Nlc3NUaHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzU3VjY2Vzc2Z1bCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGV4cHJlc3Npb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXhwcmVzc2lvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVzdWx0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3VjY2Vzc1RocmVzaG9sZCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdWNjZXNzVGhyZXNob2xkO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc2NyaWJlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGBUaGUgY3JhZnRpbmcgY2hlY2sgd2FzIGEgZmFpbHVyZS4gWW91IG5lZWRlZCAke3RoaXMuX3N1Y2Nlc3NUaHJlc2hvbGR9IG9yIGhpZ2hlciwgYnV0IHJvbGxlZCAke3RoaXMucmVzdWx0fS4gYDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIE5vQ3JhZnRpbmdDaGVja1Jlc3VsdCBpbXBsZW1lbnRzIENyYWZ0aW5nQ2hlY2tSZXN1bHQge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpc1N1Y2Nlc3NmdWwoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGV4cHJlc3Npb24oKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc3VsdCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdWNjZXNzVGhyZXNob2xkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFRoZSBjcmFmdGluZyBjaGVjayB3YXMgbm90IGF0dGVtcHRlZC4gYDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBTdWNjZXNzZnVsQ3JhZnRpbmdDaGVja1Jlc3VsdENvbmZpZyB7XHJcbiAgICBleHByZXNzaW9uOiBzdHJpbmc7XHJcbiAgICByZXN1bHQ6IG51bWJlcjtcclxuICAgIHN1Y2Nlc3NUaHJlc2hvbGQ6IG51bWJlcjtcclxufVxyXG5cclxuY2xhc3MgU3VjY2Vzc2Z1bENyYWZ0aW5nQ2hlY2tSZXN1bHQgaW1wbGVtZW50cyBDcmFmdGluZ0NoZWNrUmVzdWx0IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2V4cHJlc3Npb246IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3VjY2Vzc1RocmVzaG9sZDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogU3VjY2Vzc2Z1bENyYWZ0aW5nQ2hlY2tSZXN1bHRDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9leHByZXNzaW9uID0gY29uZmlnLmV4cHJlc3Npb247XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0ID0gY29uZmlnLnJlc3VsdDtcclxuICAgICAgICB0aGlzLl9zdWNjZXNzVGhyZXNob2xkID0gY29uZmlnLnN1Y2Nlc3NUaHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlzU3VjY2Vzc2Z1bCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXhwcmVzc2lvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9leHByZXNzaW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZXN1bHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdWNjZXNzVGhyZXNob2xkKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1Y2Nlc3NUaHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYFRoZSBjcmFmdGluZyBjaGVjayB3YXMgYSBzdWNjZXNzISBZb3UgbmVlZGVkICR7dGhpcy5fc3VjY2Vzc1RocmVzaG9sZH0gb3IgaGlnaGVyLCBidXQgcm9sbGVkICR7dGhpcy5yZXN1bHR9LiBgO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIENyYWZ0aW5nQ2hlY2tSZXN1bHQsXHJcbiAgICBGYWlsZWRDcmFmdGluZ0NoZWNrUmVzdWx0LFxyXG4gICAgRmFpbGVkQ3JhZnRpbmdDaGVja1Jlc3VsdENvbmZpZyxcclxuICAgIE5vQ3JhZnRpbmdDaGVja1Jlc3VsdCxcclxuICAgIFN1Y2Nlc3NmdWxDcmFmdGluZ0NoZWNrUmVzdWx0Q29uZmlnLFxyXG4gICAgU3VjY2Vzc2Z1bENyYWZ0aW5nQ2hlY2tSZXN1bHRcclxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/check/CraftingCheckResult.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/check/Threshold.ts":
/*!*************************************************!*\
  !*** ./src/scripts/crafting/check/Threshold.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultThresholdCalculator\": () => (/* binding */ DefaultThresholdCalculator),\n/* harmony export */   \"ExclusiveThreshold\": () => (/* binding */ ExclusiveThreshold),\n/* harmony export */   \"InclusiveThreshold\": () => (/* binding */ InclusiveThreshold),\n/* harmony export */   \"ThresholdType\": () => (/* binding */ ThresholdType)\n/* harmony export */ });\n/* harmony import */ var _result_OutcomeType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../result/OutcomeType */ \"./src/scripts/crafting/result/OutcomeType.ts\");\n\r\nvar ThresholdType;\r\n(function (ThresholdType) {\r\n    ThresholdType[ThresholdType[\"MEET\"] = 0] = \"MEET\";\r\n    ThresholdType[ThresholdType[\"EXCEED\"] = 1] = \"EXCEED\";\r\n})(ThresholdType || (ThresholdType = {}));\r\nclass ExclusiveThreshold {\r\n    constructor(floor) {\r\n        this._floor = floor;\r\n    }\r\n    test(rollResult) {\r\n        if (rollResult.value > this._floor) {\r\n            return _result_OutcomeType__WEBPACK_IMPORTED_MODULE_0__.OutcomeType.SUCCESS;\r\n        }\r\n        return _result_OutcomeType__WEBPACK_IMPORTED_MODULE_0__.OutcomeType.FAILURE;\r\n    }\r\n    get target() {\r\n        return this._floor + 1;\r\n    }\r\n}\r\nclass InclusiveThreshold {\r\n    constructor(target) {\r\n        this._target = target;\r\n    }\r\n    test(rollResult) {\r\n        if (rollResult.value >= this._target) {\r\n            return _result_OutcomeType__WEBPACK_IMPORTED_MODULE_0__.OutcomeType.SUCCESS;\r\n        }\r\n        return _result_OutcomeType__WEBPACK_IMPORTED_MODULE_0__.OutcomeType.FAILURE;\r\n    }\r\n    get target() {\r\n        return this._target;\r\n    }\r\n}\r\n\r\nclass DefaultThresholdCalculator {\r\n    constructor(config) {\r\n        this._baseValue = config.baseValue;\r\n        this._thresholdType = config.thresholdType;\r\n        this._contributionCounter = config.contributionCounter;\r\n    }\r\n    calculateFor(components) {\r\n        const dcModifier = this._contributionCounter.determineDCModifier(components);\r\n        const thresholdValue = dcModifier + this._baseValue;\r\n        switch (this._thresholdType) {\r\n            case ThresholdType.EXCEED:\r\n                return new ExclusiveThreshold(thresholdValue);\r\n            case ThresholdType.MEET:\r\n                return new InclusiveThreshold(thresholdValue);\r\n        }\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9jaGVjay9UaHJlc2hvbGQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDa0Q7QUFLbEQsSUFBSyxhQUdKO0FBSEQsV0FBSyxhQUFhO0lBQ2QsaURBQUk7SUFDSixxREFBTTtBQUNWLENBQUMsRUFISSxhQUFhLEtBQWIsYUFBYSxRQUdqQjtBQVVELE1BQU0sa0JBQWtCO0lBSXBCLFlBQVksS0FBYTtRQUNyQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxDQUFDLFVBQXNCO1FBQ3ZCLElBQUksVUFBVSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2hDLE9BQU8sb0VBQW1CLENBQUM7U0FDOUI7UUFDRCxPQUFPLG9FQUFtQixDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQzNCLENBQUM7Q0FFSjtBQUVELE1BQU0sa0JBQWtCO0lBSXBCLFlBQVksTUFBYztRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxDQUFDLFVBQXNCO1FBQ3ZCLElBQUksVUFBVSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2xDLE9BQU8sb0VBQW1CLENBQUM7U0FDOUI7UUFDRCxPQUFPLG9FQUFtQixDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztDQUVKO0FBRXlFO0FBYzFFLE1BQU0sMEJBQTBCO0lBTTVCLFlBQVksTUFBaUM7UUFDekMsSUFBSSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ25DLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUMzQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsTUFBTSxDQUFDLG1CQUFtQixDQUFDO0lBQzNELENBQUM7SUFFRCxZQUFZLENBQUMsVUFBMEM7UUFDbkQsTUFBTSxVQUFVLEdBQVcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JGLE1BQU0sY0FBYyxHQUFXLFVBQVUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO1FBQzVELFFBQVEsSUFBSSxDQUFDLGNBQWMsRUFBRTtZQUN6QixLQUFLLGFBQWEsQ0FBQyxNQUFNO2dCQUNyQixPQUFPLElBQUksa0JBQWtCLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDbEQsS0FBSyxhQUFhLENBQUMsSUFBSTtnQkFDbkIsT0FBTyxJQUFJLGtCQUFrQixDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ3JEO0lBQ0wsQ0FBQztDQUVKO0FBRW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvY2hlY2svVGhyZXNob2xkLnRzPzU1YmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSb2xsUmVzdWx0fSBmcm9tIFwiLi4vLi4vZm91bmRyeS9EaWNlUm9sbGVyXCI7XHJcbmltcG9ydCB7T3V0Y29tZVR5cGV9IGZyb20gXCIuLi9yZXN1bHQvT3V0Y29tZVR5cGVcIjtcclxuaW1wb3J0IHtDb21iaW5hdGlvbn0gZnJvbSBcIi4uLy4uL2NvbW1vbi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q29udHJpYnV0aW9uQ291bnRlcn0gZnJvbSBcIi4vQ29udHJpYnV0aW9uQ291bnRlclwiO1xyXG5cclxuZW51bSBUaHJlc2hvbGRUeXBlIHtcclxuICAgIE1FRVQsXHJcbiAgICBFWENFRURcclxufVxyXG5cclxuaW50ZXJmYWNlIFRocmVzaG9sZCB7XHJcblxyXG4gICAgdGFyZ2V0OiBudW1iZXI7XHJcblxyXG4gICAgdGVzdChyb2xsUmVzdWx0OiBSb2xsUmVzdWx0KTogT3V0Y29tZVR5cGU7XHJcblxyXG59XHJcblxyXG5jbGFzcyBFeGNsdXNpdmVUaHJlc2hvbGQgaW1wbGVtZW50cyBUaHJlc2hvbGQge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Zsb29yOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZmxvb3I6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2Zsb29yID0gZmxvb3I7XHJcbiAgICB9XHJcblxyXG4gICAgdGVzdChyb2xsUmVzdWx0OiBSb2xsUmVzdWx0KTogT3V0Y29tZVR5cGUge1xyXG4gICAgICAgIGlmIChyb2xsUmVzdWx0LnZhbHVlID4gdGhpcy5fZmxvb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE91dGNvbWVUeXBlLlNVQ0NFU1M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBPdXRjb21lVHlwZS5GQUlMVVJFO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB0YXJnZXQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmxvb3IgKyAxO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2xhc3MgSW5jbHVzaXZlVGhyZXNob2xkIGltcGxlbWVudHMgVGhyZXNob2xkIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90YXJnZXQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcclxuICAgIH1cclxuXHJcbiAgICB0ZXN0KHJvbGxSZXN1bHQ6IFJvbGxSZXN1bHQpOiBPdXRjb21lVHlwZSB7XHJcbiAgICAgICAgaWYgKHJvbGxSZXN1bHQudmFsdWUgPj0gdGhpcy5fdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBPdXRjb21lVHlwZS5TVUNDRVNTO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gT3V0Y29tZVR5cGUuRkFJTFVSRTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdGFyZ2V0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7VGhyZXNob2xkVHlwZSwgSW5jbHVzaXZlVGhyZXNob2xkLCBFeGNsdXNpdmVUaHJlc2hvbGQsIFRocmVzaG9sZH07XHJcblxyXG5pbnRlcmZhY2UgVGhyZXNob2xkQ2FsY3VsYXRvciB7XHJcblxyXG4gICAgY2FsY3VsYXRlRm9yKGNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IFRocmVzaG9sZDtcclxuXHJcbn1cclxuXHJcbmludGVyZmFjZSBUaHJlc2hvbGRDYWxjdWxhdG9yQ29uZmlnIHtcclxuICAgIGJhc2VWYWx1ZTogbnVtYmVyO1xyXG4gICAgdGhyZXNob2xkVHlwZTogVGhyZXNob2xkVHlwZTtcclxuICAgIGNvbnRyaWJ1dGlvbkNvdW50ZXI6IENvbnRyaWJ1dGlvbkNvdW50ZXI7XHJcbn1cclxuXHJcbmNsYXNzIERlZmF1bHRUaHJlc2hvbGRDYWxjdWxhdG9yIGltcGxlbWVudHMgVGhyZXNob2xkQ2FsY3VsYXRvciB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYmFzZVZhbHVlOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90aHJlc2hvbGRUeXBlOiBUaHJlc2hvbGRUeXBlO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29udHJpYnV0aW9uQ291bnRlcjogQ29udHJpYnV0aW9uQ291bnRlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IFRocmVzaG9sZENhbGN1bGF0b3JDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9iYXNlVmFsdWUgPSBjb25maWcuYmFzZVZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3RocmVzaG9sZFR5cGUgPSBjb25maWcudGhyZXNob2xkVHlwZTtcclxuICAgICAgICB0aGlzLl9jb250cmlidXRpb25Db3VudGVyID0gY29uZmlnLmNvbnRyaWJ1dGlvbkNvdW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlRm9yKGNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IFRocmVzaG9sZCB7XHJcbiAgICAgICAgY29uc3QgZGNNb2RpZmllcjogbnVtYmVyID0gdGhpcy5fY29udHJpYnV0aW9uQ291bnRlci5kZXRlcm1pbmVEQ01vZGlmaWVyKGNvbXBvbmVudHMpO1xyXG4gICAgICAgIGNvbnN0IHRocmVzaG9sZFZhbHVlOiBudW1iZXIgPSBkY01vZGlmaWVyICsgdGhpcy5fYmFzZVZhbHVlO1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5fdGhyZXNob2xkVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRocmVzaG9sZFR5cGUuRVhDRUVEOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFeGNsdXNpdmVUaHJlc2hvbGQodGhyZXNob2xkVmFsdWUpO1xyXG4gICAgICAgICAgICBjYXNlIFRocmVzaG9sZFR5cGUuTUVFVDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSW5jbHVzaXZlVGhyZXNob2xkKHRocmVzaG9sZFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0RlZmF1bHRUaHJlc2hvbGRDYWxjdWxhdG9yfTtcclxuZXhwb3J0IHtUaHJlc2hvbGRDYWxjdWxhdG9yQ29uZmlnfTtcclxuZXhwb3J0IHtUaHJlc2hvbGRDYWxjdWxhdG9yfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/check/Threshold.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/result/CraftingResult.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/crafting/result/CraftingResult.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NoCraftingResult\": () => (/* binding */ NoCraftingResult),\n/* harmony export */   \"SuccessfulCraftingResult\": () => (/* binding */ SuccessfulCraftingResult),\n/* harmony export */   \"UnsuccessfulCraftingResult\": () => (/* binding */ UnsuccessfulCraftingResult)\n/* harmony export */ });\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/Combination */ \"./src/scripts/common/Combination.ts\");\n/* harmony import */ var _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../interface/CraftingChatMessage */ \"./src/scripts/interface/CraftingChatMessage.ts\");\n\r\n\r\nclass NoCraftingResult {\r\n    constructor(config) {\r\n        this._detail = config.detail;\r\n    }\r\n    get created() {\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n    }\r\n    get consumed() {\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n    }\r\n    describe() {\r\n        return new _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__.CraftingChatMessage({\r\n            title: \"Crafting not attempted\",\r\n            description: this._detail,\r\n            iconType: _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__.IconType.FAILURE\r\n        });\r\n    }\r\n}\r\n\r\nclass SuccessfulCraftingResult {\r\n    constructor(config) {\r\n        this._recipe = config.recipe;\r\n        this._consumed = config.consumed;\r\n        this._created = config.created;\r\n        this._checkResult = config.checkResult;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    get created() {\r\n        return this._created;\r\n    }\r\n    describe() {\r\n        return new _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__.CraftingChatMessage({\r\n            iconType: _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__.IconType.RANDOM,\r\n            consumedItems: this._consumed,\r\n            createdItems: this._created,\r\n            description: `Successfully crafted ${this._recipe.name}. Rolled a ${this._checkResult.result}, needed a ${this._checkResult.successThreshold}. `\r\n        });\r\n    }\r\n}\r\n\r\nclass UnsuccessfulCraftingResult {\r\n    constructor(config) {\r\n        this._recipe = config.recipe;\r\n        this._consumed = config.consumed;\r\n        this._checkResult = config.checkResult;\r\n    }\r\n    get created() {\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_0__.Combination.EMPTY();\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    describe() {\r\n        return new _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__.CraftingChatMessage({\r\n            iconType: _interface_CraftingChatMessage__WEBPACK_IMPORTED_MODULE_1__.IconType.FAILURE,\r\n            description: `Failed to craft ${this._recipe.name}. Rolled a ${this._checkResult.result}, but needed a ${this._checkResult.successThreshold}. `\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9yZXN1bHQvQ3JhZnRpbmdSZXN1bHQudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUQ7QUFFNkI7QUFvQmxGLE1BQU0sZ0JBQWdCO0lBSWxCLFlBQVksTUFBOEI7UUFDdEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLGtFQUFpQixFQUFFLENBQUM7SUFDL0IsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sa0VBQWlCLEVBQUUsQ0FBQztJQUMvQixDQUFDO0lBRUQsUUFBUTtRQUNKLE9BQU8sSUFBSSwrRUFBbUIsQ0FBQztZQUMzQixLQUFLLEVBQUUsd0JBQXdCO1lBQy9CLFdBQVcsRUFBRSxJQUFJLENBQUMsT0FBTztZQUN6QixRQUFRLEVBQUUsNEVBQWdCO1NBQzdCLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FFSjtBQUV5QjtBQVcxQixNQUFNLHdCQUF3QjtJQU8xQixZQUFZLE1BQXNDO1FBQzlDLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQy9CLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLElBQUksK0VBQW1CLENBQUM7WUFDM0IsUUFBUSxFQUFFLDJFQUFlO1lBQ3pCLGFBQWEsRUFBRSxJQUFJLENBQUMsU0FBUztZQUM3QixZQUFZLEVBQUUsSUFBSSxDQUFDLFFBQVE7WUFDM0IsV0FBVyxFQUFFLHdCQUF3QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksY0FBYyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sY0FBYyxJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixJQUFJO1NBQ25KLENBQUMsQ0FBQztJQUNQLENBQUM7Q0FFSjtBQUVpQztBQVVsQyxNQUFNLDBCQUEwQjtJQU01QixZQUFZLE1BQXdDO1FBQ2hELElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDakMsSUFBSSxDQUFDLFlBQVksR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDO0lBQzNDLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLGtFQUFpQixFQUFxQixDQUFDO0lBQ2xELENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELFFBQVE7UUFDSixPQUFPLElBQUksK0VBQW1CLENBQUM7WUFDM0IsUUFBUSxFQUFFLDRFQUFnQjtZQUMxQixXQUFXLEVBQUUsbUJBQW1CLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxjQUFjLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxrQkFBa0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxnQkFBZ0IsSUFBSTtTQUNsSixDQUFDLENBQUM7SUFDUCxDQUFDO0NBRUo7QUFFbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9yZXN1bHQvQ3JhZnRpbmdSZXN1bHQudHM/MGE2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi8uLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NoYXRNZXNzYWdlLCBJY29uVHlwZX0gZnJvbSBcIi4uLy4uL2ludGVyZmFjZS9DcmFmdGluZ0NoYXRNZXNzYWdlXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vUmVjaXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDaGVja1Jlc3VsdH0gZnJvbSBcIi4uL2NoZWNrL0NyYWZ0aW5nQ2hlY2tSZXN1bHRcIjtcclxuXHJcbmludGVyZmFjZSBDcmFmdGluZ1Jlc3VsdCB7XHJcblxyXG4gICAgY29uc3VtZWQ6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuICAgIGNyZWF0ZWQ6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PjtcclxuICAgIGRlc2NyaWJlKCk6IENyYWZ0aW5nQ2hhdE1lc3NhZ2U7XHJcblxyXG59XHJcblxyXG5leHBvcnQgeyBDcmFmdGluZ1Jlc3VsdCB9XHJcblxyXG5pbnRlcmZhY2UgTm9DcmFmdGluZ1Jlc3VsdENvbmZpZyB7XHJcblxyXG4gICAgZGV0YWlsOiBzdHJpbmdcclxuXHJcbn1cclxuXHJcbmNsYXNzIE5vQ3JhZnRpbmdSZXN1bHQgaW1wbGVtZW50cyBDcmFmdGluZ1Jlc3VsdCB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGV0YWlsOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBOb0NyYWZ0aW5nUmVzdWx0Q29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fZGV0YWlsID0gY29uZmlnLmRldGFpbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JlYXRlZCgpOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4ge1xyXG4gICAgICAgIHJldHVybiBDb21iaW5hdGlvbi5FTVBUWSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb25zdW1lZCgpOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4ge1xyXG4gICAgICAgIHJldHVybiBDb21iaW5hdGlvbi5FTVBUWSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlc2NyaWJlKCk6IENyYWZ0aW5nQ2hhdE1lc3NhZ2Uge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDaGF0TWVzc2FnZSh7XHJcbiAgICAgICAgICAgIHRpdGxlOiBcIkNyYWZ0aW5nIG5vdCBhdHRlbXB0ZWRcIixcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2RldGFpbCxcclxuICAgICAgICAgICAgaWNvblR5cGU6IEljb25UeXBlLkZBSUxVUkVcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Tm9DcmFmdGluZ1Jlc3VsdH07XHJcblxyXG5pbnRlcmZhY2UgU3VjY2Vzc2Z1bENyYWZ0aW5nUmVzdWx0Q29uZmlnIHtcclxuXHJcbiAgICByZWNpcGU6IFJlY2lwZTtcclxuICAgIGNvbnN1bWVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBjcmVhdGVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBjaGVja1Jlc3VsdDogQ3JhZnRpbmdDaGVja1Jlc3VsdDtcclxuXHJcbn1cclxuXHJcbmNsYXNzIFN1Y2Nlc3NmdWxDcmFmdGluZ1Jlc3VsdCBpbXBsZW1lbnRzIENyYWZ0aW5nUmVzdWx0IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGU6IFJlY2lwZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbnN1bWVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmVhdGVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jaGVja1Jlc3VsdD86IENyYWZ0aW5nQ2hlY2tSZXN1bHQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBTdWNjZXNzZnVsQ3JhZnRpbmdSZXN1bHRDb25maWcpIHtcclxuICAgICAgICB0aGlzLl9yZWNpcGUgPSBjb25maWcucmVjaXBlO1xyXG4gICAgICAgIHRoaXMuX2NvbnN1bWVkID0gY29uZmlnLmNvbnN1bWVkO1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZWQgPSBjb25maWcuY3JlYXRlZDtcclxuICAgICAgICB0aGlzLl9jaGVja1Jlc3VsdCA9IGNvbmZpZy5jaGVja1Jlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29uc3VtZWQoKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3VtZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNyZWF0ZWQoKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBkZXNjcmliZSgpOiBDcmFmdGluZ0NoYXRNZXNzYWdlIHtcclxuICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nQ2hhdE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICBpY29uVHlwZTogSWNvblR5cGUuUkFORE9NLFxyXG4gICAgICAgICAgICBjb25zdW1lZEl0ZW1zOiB0aGlzLl9jb25zdW1lZCxcclxuICAgICAgICAgICAgY3JlYXRlZEl0ZW1zOiB0aGlzLl9jcmVhdGVkLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYFN1Y2Nlc3NmdWxseSBjcmFmdGVkICR7dGhpcy5fcmVjaXBlLm5hbWV9LiBSb2xsZWQgYSAke3RoaXMuX2NoZWNrUmVzdWx0LnJlc3VsdH0sIG5lZWRlZCBhICR7dGhpcy5fY2hlY2tSZXN1bHQuc3VjY2Vzc1RocmVzaG9sZH0uIGBcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7U3VjY2Vzc2Z1bENyYWZ0aW5nUmVzdWx0fTtcclxuXHJcbmludGVyZmFjZSBVbnN1Y2Nlc3NmdWxDcmFmdGluZ1Jlc3VsdENvbmZpZyB7XHJcblxyXG4gICAgcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBjb25zdW1lZDogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgY2hlY2tSZXN1bHQ6IENyYWZ0aW5nQ2hlY2tSZXN1bHQ7XHJcblxyXG59XHJcblxyXG5jbGFzcyBVbnN1Y2Nlc3NmdWxDcmFmdGluZ1Jlc3VsdCBpbXBsZW1lbnRzIENyYWZ0aW5nUmVzdWx0IHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGU6IFJlY2lwZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbnN1bWVkOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jaGVja1Jlc3VsdDogQ3JhZnRpbmdDaGVja1Jlc3VsdDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6IFVuc3VjY2Vzc2Z1bENyYWZ0aW5nUmVzdWx0Q29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlID0gY29uZmlnLnJlY2lwZTtcclxuICAgICAgICB0aGlzLl9jb25zdW1lZCA9IGNvbmZpZy5jb25zdW1lZDtcclxuICAgICAgICB0aGlzLl9jaGVja1Jlc3VsdCA9IGNvbmZpZy5jaGVja1Jlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3JlYXRlZCgpOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4ge1xyXG4gICAgICAgIHJldHVybiBDb21iaW5hdGlvbi5FTVBUWTxDcmFmdGluZ0NvbXBvbmVudD4oKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29uc3VtZWQoKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3VtZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZGVzY3JpYmUoKTogQ3JhZnRpbmdDaGF0TWVzc2FnZSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NoYXRNZXNzYWdlKHtcclxuICAgICAgICAgICAgaWNvblR5cGU6IEljb25UeXBlLkZBSUxVUkUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgRmFpbGVkIHRvIGNyYWZ0ICR7dGhpcy5fcmVjaXBlLm5hbWV9LiBSb2xsZWQgYSAke3RoaXMuX2NoZWNrUmVzdWx0LnJlc3VsdH0sIGJ1dCBuZWVkZWQgYSAke3RoaXMuX2NoZWNrUmVzdWx0LnN1Y2Nlc3NUaHJlc2hvbGR9LiBgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge1Vuc3VjY2Vzc2Z1bENyYWZ0aW5nUmVzdWx0fTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/result/CraftingResult.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/result/OutcomeType.ts":
/*!****************************************************!*\
  !*** ./src/scripts/crafting/result/OutcomeType.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"OutcomeType\": () => (/* binding */ OutcomeType)\n/* harmony export */ });\nvar OutcomeType;\r\n(function (OutcomeType) {\r\n    OutcomeType[\"SUCCESS\"] = \"SUCCESS\";\r\n    OutcomeType[\"NOT_ATTEMPTED\"] = \"NOT_ATTEMPTED\";\r\n    OutcomeType[\"FAILURE\"] = \"FAILURE\";\r\n})(OutcomeType || (OutcomeType = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9yZXN1bHQvT3V0Y29tZVR5cGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLElBQUssV0FJSjtBQUpELFdBQUssV0FBVztJQUNaLGtDQUFtQjtJQUNuQiw4Q0FBK0I7SUFDL0Isa0NBQW1CO0FBQ3ZCLENBQUMsRUFKSSxXQUFXLEtBQVgsV0FBVyxRQUlmO0FBRW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvcmVzdWx0L091dGNvbWVUeXBlLnRzP2ZhNmYiXSwic291cmNlc0NvbnRlbnQiOlsiZW51bSBPdXRjb21lVHlwZSB7XHJcbiAgICBTVUNDRVNTID0gJ1NVQ0NFU1MnLFxyXG4gICAgTk9UX0FUVEVNUFRFRCA9ICdOT1RfQVRURU1QVEVEJyxcclxuICAgIEZBSUxVUkUgPSAnRkFJTFVSRSdcclxufVxyXG5cclxuZXhwb3J0IHtPdXRjb21lVHlwZX0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/result/OutcomeType.ts\n");

/***/ }),

/***/ "./src/scripts/crafting/selection/DefaultComponentSelectionStrategy.ts":
/*!*****************************************************************************!*\
  !*** ./src/scripts/crafting/selection/DefaultComponentSelectionStrategy.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DefaultComponentSelectionStrategy\": () => (/* binding */ DefaultComponentSelectionStrategy)\n/* harmony export */ });\n/* harmony import */ var _component_IncompleteComponentSelection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../component/IncompleteComponentSelection */ \"./src/scripts/component/IncompleteComponentSelection.ts\");\n/* harmony import */ var _actor_EssenceSearch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../actor/EssenceSearch */ \"./src/scripts/actor/EssenceSearch.ts\");\n/* harmony import */ var _actor_IngredientSearch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../actor/IngredientSearch */ \"./src/scripts/actor/IngredientSearch.ts\");\n/* harmony import */ var _actor_EssenceSelection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../actor/EssenceSelection */ \"./src/scripts/actor/EssenceSelection.ts\");\n/* harmony import */ var _component_CompleteComponentSelection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../component/CompleteComponentSelection */ \"./src/scripts/component/CompleteComponentSelection.ts\");\n\r\n\r\n\r\n\r\n\r\nclass DefaultComponentSelectionStrategy {\r\n    perform(recipe, availableComponents) {\r\n        const ingredientSearch = new _actor_IngredientSearch__WEBPACK_IMPORTED_MODULE_2__.IngredientSearch(recipe.namedComponents);\r\n        const namedComponentsSatisfied = ingredientSearch.perform(availableComponents);\r\n        if (!namedComponentsSatisfied) {\r\n            return new _component_IncompleteComponentSelection__WEBPACK_IMPORTED_MODULE_0__.IncompleteComponentSelection({\r\n                recipe: recipe,\r\n                reason: \"the supplied components were missing required ingredients\"\r\n            });\r\n        }\r\n        const remainingComponents = availableComponents.subtract(recipe.namedComponents);\r\n        const essenceSearch = new _actor_EssenceSearch__WEBPACK_IMPORTED_MODULE_1__.EssenceSearch(recipe.essences);\r\n        const essencesSatisfied = essenceSearch.perform(remainingComponents);\r\n        if (!essencesSatisfied) {\r\n            return new _component_IncompleteComponentSelection__WEBPACK_IMPORTED_MODULE_0__.IncompleteComponentSelection({\r\n                recipe: recipe,\r\n                reason: \"there weren't enough essences available in the supplied crafting components\"\r\n            });\r\n        }\r\n        const essenceSelection = new _actor_EssenceSelection__WEBPACK_IMPORTED_MODULE_3__.EssenceSelection(recipe.essences);\r\n        const essenceContribution = essenceSelection.perform(remainingComponents);\r\n        const selectedComponents = recipe.ingredients.combineWith(essenceContribution);\r\n        return new _component_CompleteComponentSelection__WEBPACK_IMPORTED_MODULE_4__.CompleteComponentSelection({\r\n            recipe: recipe,\r\n            components: selectedComponents\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jcmFmdGluZy9zZWxlY3Rpb24vRGVmYXVsdENvbXBvbmVudFNlbGVjdGlvblN0cmF0ZWd5LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUswRjtBQUNsQztBQUNNO0FBQ0E7QUFDd0I7QUFFdEYsTUFBTSxpQ0FBaUM7SUFFbkMsT0FBTyxDQUFDLE1BQWMsRUFBRSxtQkFBbUQ7UUFFdkUsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLHFFQUFnQixDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUN0RSxNQUFNLHdCQUF3QixHQUFHLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRS9FLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtZQUMzQixPQUFPLElBQUksaUdBQTRCLENBQUM7Z0JBQ3BDLE1BQU0sRUFBRSxNQUFNO2dCQUNkLE1BQU0sRUFBRSwyREFBMkQ7YUFDdEUsQ0FBQyxDQUFDO1NBQ047UUFFRCxNQUFNLG1CQUFtQixHQUFtQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pILE1BQU0sYUFBYSxHQUFHLElBQUksK0RBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDekQsTUFBTSxpQkFBaUIsR0FBRyxhQUFhLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1lBQ3BCLE9BQU8sSUFBSSxpR0FBNEIsQ0FBQztnQkFDcEMsTUFBTSxFQUFFLE1BQU07Z0JBQ2QsTUFBTSxFQUFFLDZFQUE2RTthQUFFLENBQUMsQ0FBQztTQUNoRztRQUVELE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxxRUFBZ0IsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0QsTUFBTSxtQkFBbUIsR0FBbUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFFMUcsTUFBTSxrQkFBa0IsR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBRS9FLE9BQU8sSUFBSSw2RkFBMEIsQ0FBQztZQUNsQyxNQUFNLEVBQUUsTUFBTTtZQUNkLFVBQVUsRUFBRSxrQkFBa0I7U0FDakMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztDQUVKO0FBRXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvY3JhZnRpbmcvc2VsZWN0aW9uL0RlZmF1bHRDb21wb25lbnRTZWxlY3Rpb25TdHJhdGVneS50cz9hMzIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50U2VsZWN0aW9uU3RyYXRlZ3l9IGZyb20gXCIuL0NvbXBvbmVudFNlbGVjdGlvblN0cmF0ZWd5XCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vUmVjaXBlXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuLi8uLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NvbXBvbmVudFNlbGVjdGlvbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9Db21wb25lbnRTZWxlY3Rpb25cIjtcclxuaW1wb3J0IHtJbmNvbXBsZXRlQ29tcG9uZW50U2VsZWN0aW9ufSBmcm9tIFwiLi4vLi4vY29tcG9uZW50L0luY29tcGxldGVDb21wb25lbnRTZWxlY3Rpb25cIjtcclxuaW1wb3J0IHtFc3NlbmNlU2VhcmNofSBmcm9tIFwiLi4vLi4vYWN0b3IvRXNzZW5jZVNlYXJjaFwiO1xyXG5pbXBvcnQge0luZ3JlZGllbnRTZWFyY2h9IGZyb20gXCIuLi8uLi9hY3Rvci9JbmdyZWRpZW50U2VhcmNoXCI7XHJcbmltcG9ydCB7RXNzZW5jZVNlbGVjdGlvbn0gZnJvbSBcIi4uLy4uL2FjdG9yL0Vzc2VuY2VTZWxlY3Rpb25cIjtcclxuaW1wb3J0IHtDb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbn0gZnJvbSBcIi4uLy4uL2NvbXBvbmVudC9Db21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvblwiO1xyXG5cclxuY2xhc3MgRGVmYXVsdENvbXBvbmVudFNlbGVjdGlvblN0cmF0ZWd5IGltcGxlbWVudHMgQ29tcG9uZW50U2VsZWN0aW9uU3RyYXRlZ3kge1xyXG5cclxuICAgIHBlcmZvcm0ocmVjaXBlOiBSZWNpcGUsIGF2YWlsYWJsZUNvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50Pik6IENvbXBvbmVudFNlbGVjdGlvbiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGluZ3JlZGllbnRTZWFyY2ggPSBuZXcgSW5ncmVkaWVudFNlYXJjaChyZWNpcGUubmFtZWRDb21wb25lbnRzKTtcclxuICAgICAgICBjb25zdCBuYW1lZENvbXBvbmVudHNTYXRpc2ZpZWQgPSBpbmdyZWRpZW50U2VhcmNoLnBlcmZvcm0oYXZhaWxhYmxlQ29tcG9uZW50cyk7XHJcblxyXG4gICAgICAgIGlmICghbmFtZWRDb21wb25lbnRzU2F0aXNmaWVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW5jb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbih7XHJcbiAgICAgICAgICAgICAgICByZWNpcGU6IHJlY2lwZSxcclxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJ0aGUgc3VwcGxpZWQgY29tcG9uZW50cyB3ZXJlIG1pc3NpbmcgcmVxdWlyZWQgaW5ncmVkaWVudHNcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlbWFpbmluZ0NvbXBvbmVudHM6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiA9IGF2YWlsYWJsZUNvbXBvbmVudHMuc3VidHJhY3QocmVjaXBlLm5hbWVkQ29tcG9uZW50cyk7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZVNlYXJjaCA9IG5ldyBFc3NlbmNlU2VhcmNoKHJlY2lwZS5lc3NlbmNlcyk7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZXNTYXRpc2ZpZWQgPSBlc3NlbmNlU2VhcmNoLnBlcmZvcm0ocmVtYWluaW5nQ29tcG9uZW50cyk7XHJcbiAgICAgICAgaWYgKCFlc3NlbmNlc1NhdGlzZmllZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEluY29tcGxldGVDb21wb25lbnRTZWxlY3Rpb24oe1xyXG4gICAgICAgICAgICAgICAgcmVjaXBlOiByZWNpcGUsXHJcbiAgICAgICAgICAgICAgICByZWFzb246IFwidGhlcmUgd2VyZW4ndCBlbm91Z2ggZXNzZW5jZXMgYXZhaWxhYmxlIGluIHRoZSBzdXBwbGllZCBjcmFmdGluZyBjb21wb25lbnRzXCIgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlc3NlbmNlU2VsZWN0aW9uID0gbmV3IEVzc2VuY2VTZWxlY3Rpb24ocmVjaXBlLmVzc2VuY2VzKTtcclxuICAgICAgICBjb25zdCBlc3NlbmNlQ29udHJpYnV0aW9uOiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD4gPSBlc3NlbmNlU2VsZWN0aW9uLnBlcmZvcm0ocmVtYWluaW5nQ29tcG9uZW50cyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ29tcG9uZW50cyA9IHJlY2lwZS5pbmdyZWRpZW50cy5jb21iaW5lV2l0aChlc3NlbmNlQ29udHJpYnV0aW9uKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0ZUNvbXBvbmVudFNlbGVjdGlvbih7XHJcbiAgICAgICAgICAgIHJlY2lwZTogcmVjaXBlLFxyXG4gICAgICAgICAgICBjb21wb25lbnRzOiBzZWxlY3RlZENvbXBvbmVudHNcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0RlZmF1bHRDb21wb25lbnRTZWxlY3Rpb25TdHJhdGVneX0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/crafting/selection/DefaultComponentSelectionStrategy.ts\n");

/***/ }),

/***/ "./src/scripts/error/CompendiumEntryImportError.ts":
/*!*********************************************************!*\
  !*** ./src/scripts/error/CompendiumEntryImportError.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CompendiumEntryImportError\": () => (/* binding */ CompendiumEntryImportError)\n/* harmony export */ });\nclass CompendiumEntryImportError extends Error {\r\n    constructor(compendiumPackKey, entryId, fabricateItem, systemId, cause) {\r\n        const message = `Unable to import ${fabricateItem.type} with Fabricate Part ID '${fabricateItem.identity.partId}' from Compendium Document with ID '${entryId}' specified in Compendium with Pack Key '${compendiumPackKey}' into System '${systemId}'. Caused by: ${cause.message}`;\r\n        super(message);\r\n        this._fabricateCompendiumData = fabricateItem;\r\n        this._cause = cause;\r\n        if (Error.captureStackTrace) {\r\n            Error.captureStackTrace(this, CompendiumEntryImportError);\r\n        }\r\n    }\r\n    get fabricateCompendiumData() {\r\n        return this._fabricateCompendiumData;\r\n    }\r\n    get cause() {\r\n        return this._cause;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9lcnJvci9Db21wZW5kaXVtRW50cnlJbXBvcnRFcnJvci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBRUEsTUFBTSwwQkFBMkIsU0FBUSxLQUFLO0lBSzFDLFlBQVksaUJBQXlCLEVBQ3pCLE9BQWUsRUFDZixhQUFzQyxFQUN0QyxRQUFnQixFQUNoQixLQUFZO1FBQ3BCLE1BQU0sT0FBTyxHQUNULG9CQUFvQixhQUFhLENBQUMsSUFBSSw0QkFBNEIsYUFBYSxDQUFDLFFBQVEsQ0FBQyxNQUFNLHVDQUF1QyxPQUFPLDRDQUE0QyxpQkFBaUIsa0JBQWtCLFFBQVEsaUJBQWlCLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN6USxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDZixJQUFJLENBQUMsd0JBQXdCLEdBQUcsYUFBYSxDQUFDO1FBQzlDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBRXBCLElBQUksS0FBSyxDQUFDLGlCQUFpQixFQUFFO1lBQ3pCLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsMEJBQTBCLENBQUMsQ0FBQztTQUM3RDtJQUNMLENBQUM7SUFFRCxJQUFJLHVCQUF1QjtRQUN2QixPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQztJQUN6QyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7Q0FFSjtBQUVrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2Vycm9yL0NvbXBlbmRpdW1FbnRyeUltcG9ydEVycm9yLnRzP2ZiYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVDb21wZW5kaXVtRGF0YX0gZnJvbSBcIi4uL2NvbXBlbmRpdW0vQ29tcGVuZGl1bURhdGFcIjtcclxuXHJcbmNsYXNzIENvbXBlbmRpdW1FbnRyeUltcG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NhdXNlOiBFcnJvcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wZW5kaXVtUGFja0tleTogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgZW50cnlJZDogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgZmFicmljYXRlSXRlbTogRmFicmljYXRlQ29tcGVuZGl1bURhdGEsXHJcbiAgICAgICAgICAgICAgICBzeXN0ZW1JZDogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgY2F1c2U6IEVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID1cclxuICAgICAgICAgICAgYFVuYWJsZSB0byBpbXBvcnQgJHtmYWJyaWNhdGVJdGVtLnR5cGV9IHdpdGggRmFicmljYXRlIFBhcnQgSUQgJyR7ZmFicmljYXRlSXRlbS5pZGVudGl0eS5wYXJ0SWR9JyBmcm9tIENvbXBlbmRpdW0gRG9jdW1lbnQgd2l0aCBJRCAnJHtlbnRyeUlkfScgc3BlY2lmaWVkIGluIENvbXBlbmRpdW0gd2l0aCBQYWNrIEtleSAnJHtjb21wZW5kaXVtUGFja0tleX0nIGludG8gU3lzdGVtICcke3N5c3RlbUlkfScuIENhdXNlZCBieTogJHtjYXVzZS5tZXNzYWdlfWA7XHJcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XHJcbiAgICAgICAgdGhpcy5fZmFicmljYXRlQ29tcGVuZGl1bURhdGEgPSBmYWJyaWNhdGVJdGVtO1xyXG4gICAgICAgIHRoaXMuX2NhdXNlID0gY2F1c2U7XHJcblxyXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xyXG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDb21wZW5kaXVtRW50cnlJbXBvcnRFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBmYWJyaWNhdGVDb21wZW5kaXVtRGF0YSgpOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjYXVzZSgpOiBFcnJvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhdXNlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtDb21wZW5kaXVtRW50cnlJbXBvcnRFcnJvcn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/error/CompendiumEntryImportError.ts\n");

/***/ }),

/***/ "./src/scripts/error/CompendiumEntryReferencePopulationError.ts":
/*!**********************************************************************!*\
  !*** ./src/scripts/error/CompendiumEntryReferencePopulationError.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CompendiumEntryReferencePopulationError\": () => (/* binding */ CompendiumEntryReferencePopulationError)\n/* harmony export */ });\nclass CompendiumEntryReferencePopulationError extends Error {\r\n    constructor(fabricateItem, cause) {\r\n        const message = `Unable to resolve Component references for Item '${fabricateItem.id}'. Caused by: ${cause.message}`;\r\n        super(message);\r\n        this._fabricateItem = fabricateItem;\r\n    }\r\n    get fabricateItem() {\r\n        return this._fabricateItem;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9lcnJvci9Db21wZW5kaXVtRW50cnlSZWZlcmVuY2VQb3B1bGF0aW9uRXJyb3IudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBLE1BQU0sdUNBQXdDLFNBQVEsS0FBSztJQUl2RCxZQUFZLGFBQTRCLEVBQUUsS0FBWTtRQUNsRCxNQUFNLE9BQU8sR0FBVyxvREFBb0QsYUFBYSxDQUFDLEVBQUUsaUJBQWlCLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUM3SCxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFZixJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7Q0FFSjtBQUUrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2Vycm9yL0NvbXBlbmRpdW1FbnRyeVJlZmVyZW5jZVBvcHVsYXRpb25FcnJvci50cz81ODJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRlSXRlbX0gZnJvbSBcIi4uL2NvbW1vbi9GYWJyaWNhdGVJdGVtXCI7XG5cbmNsYXNzIENvbXBlbmRpdW1FbnRyeVJlZmVyZW5jZVBvcHVsYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZhYnJpY2F0ZUl0ZW06IEZhYnJpY2F0ZUl0ZW07XG5cbiAgICBjb25zdHJ1Y3RvcihmYWJyaWNhdGVJdGVtOiBGYWJyaWNhdGVJdGVtLCBjYXVzZTogRXJyb3IpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZTogc3RyaW5nID0gYFVuYWJsZSB0byByZXNvbHZlIENvbXBvbmVudCByZWZlcmVuY2VzIGZvciBJdGVtICcke2ZhYnJpY2F0ZUl0ZW0uaWR9Jy4gQ2F1c2VkIGJ5OiAke2NhdXNlLm1lc3NhZ2V9YDtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG5cbiAgICAgICAgdGhpcy5fZmFicmljYXRlSXRlbSA9IGZhYnJpY2F0ZUl0ZW07XG4gICAgfVxuXG4gICAgZ2V0IGZhYnJpY2F0ZUl0ZW0oKTogRmFicmljYXRlSXRlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mYWJyaWNhdGVJdGVtO1xuICAgIH1cblxufVxuXG5leHBvcnQge0NvbXBlbmRpdW1FbnRyeVJlZmVyZW5jZVBvcHVsYXRpb25FcnJvcn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/error/CompendiumEntryReferencePopulationError.ts\n");

/***/ }),

/***/ "./src/scripts/foundry/DiceRoller.ts":
/*!*******************************************!*\
  !*** ./src/scripts/foundry/DiceRoller.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"DiceRoller\": () => (/* binding */ DiceRoller),\n/* harmony export */   \"RollResult\": () => (/* binding */ RollResult)\n/* harmony export */ });\nclass RollResult {\r\n    constructor(value, expression) {\r\n        this._value = value;\r\n        this._expression = expression;\r\n    }\r\n    get value() {\r\n        return this._value;\r\n    }\r\n    get expression() {\r\n        return this._expression;\r\n    }\r\n}\r\nclass DiceRoller {\r\n    constructor(unmodifiedRollExpression) {\r\n        this._unmodifiedRollExpression = unmodifiedRollExpression;\r\n    }\r\n    createUnmodifiedRoll() {\r\n        return new Roll(this._unmodifiedRollExpression);\r\n    }\r\n    evaluate(roll, modifiers) {\r\n        if (!modifiers || modifiers.length === 0) {\r\n            const rollResult = roll.roll({ async: false });\r\n            return new RollResult(rollResult.total, rollResult.result);\r\n        }\r\n        const preparedModifiers = modifiers\r\n            .flatMap((rollTerm) => [rollTerm, new OperatorTerm({ operator: \"+\" })]);\r\n        const modifiedRoll = this.combine(roll, Roll.fromTerms(preparedModifiers));\r\n        const rollResult = modifiedRoll.roll({ async: false });\r\n        return new RollResult(rollResult.total, rollResult.result);\r\n    }\r\n    multiply(input, factor) {\r\n        if (typeof input === \"string\") {\r\n            const roll = new Roll(input, {});\r\n            return roll.alter(factor, 0);\r\n        }\r\n        return input.alter(factor, 0);\r\n    }\r\n    fromExpression(expression) {\r\n        return new Roll(expression);\r\n    }\r\n    combine(left, right) {\r\n        const simplifiedTerms = Roll.simplifyTerms(left.terms.concat(right.terms));\r\n        return Roll.fromTerms(simplifiedTerms);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9mb3VuZHJ5L0RpY2VSb2xsZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxNQUFNLFVBQVU7SUFJWixZQUFZLEtBQWEsRUFBRSxVQUFrQjtRQUN6QyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQztJQUNsQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztDQUVKO0FBRUQsTUFBTSxVQUFVO0lBSVosWUFBWSx3QkFBZ0M7UUFDeEMsSUFBSSxDQUFDLHlCQUF5QixHQUFHLHdCQUF3QixDQUFDO0lBQzlELENBQUM7SUFFTSxvQkFBb0I7UUFDdkIsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBRU0sUUFBUSxDQUFDLElBQVUsRUFBRSxTQUFzQjtRQUM5QyxJQUFJLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ3RDLE1BQU0sVUFBVSxHQUFvQixJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUM7WUFDaEUsT0FBTyxJQUFJLFVBQVUsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUM5RDtRQUNELE1BQU0saUJBQWlCLEdBQUcsU0FBUzthQUM5QixPQUFPLENBQUMsQ0FBQyxRQUFrQixFQUFFLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRSxJQUFJLFlBQVksQ0FBQyxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RixNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztRQUMzRSxNQUFNLFVBQVUsR0FBb0IsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQ3hFLE9BQU8sSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQUVNLFFBQVEsQ0FBQyxLQUFvQixFQUFFLE1BQWM7UUFDaEQsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7WUFDM0IsTUFBTSxJQUFJLEdBQVMsSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDaEM7UUFDRCxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxjQUFjLENBQUMsVUFBa0I7UUFDN0IsT0FBTyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRUQsT0FBTyxDQUFDLElBQVUsRUFBRSxLQUFXO1FBQzNCLE1BQU0sZUFBZSxHQUFlLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDdkYsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7Q0FFSjtBQUU4QiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2ZvdW5kcnkvRGljZVJvbGxlci50cz9jMWZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RXZhbHVhdGVkfSBmcm9tIFwiQGxlYWd1ZS1vZi1mb3VuZHJ5LWRldmVsb3BlcnMvZm91bmRyeS12dHQtdHlwZXMvc3JjL2ZvdW5kcnkvY2xpZW50L2RpY2Uvcm9sbFwiO1xyXG5cclxuY2xhc3MgUm9sbFJlc3VsdCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF92YWx1ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXhwcmVzc2lvbjogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBudW1iZXIsIGV4cHJlc3Npb246IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fZXhwcmVzc2lvbiA9IGV4cHJlc3Npb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHZhbHVlKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBleHByZXNzaW9uKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4cHJlc3Npb247XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBEaWNlUm9sbGVyIHtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF91bm1vZGlmaWVkUm9sbEV4cHJlc3Npb246IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih1bm1vZGlmaWVkUm9sbEV4cHJlc3Npb246IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuX3VubW9kaWZpZWRSb2xsRXhwcmVzc2lvbiA9IHVubW9kaWZpZWRSb2xsRXhwcmVzc2lvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlVW5tb2RpZmllZFJvbGwoKTogUm9sbCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSb2xsKHRoaXMuX3VubW9kaWZpZWRSb2xsRXhwcmVzc2lvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGV2YWx1YXRlKHJvbGw6IFJvbGwsIG1vZGlmaWVycz86IFJvbGxUZXJtW10pOiBSb2xsUmVzdWx0IHtcclxuICAgICAgICBpZiAoIW1vZGlmaWVycyB8fCBtb2RpZmllcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJvbGxSZXN1bHQ6IEV2YWx1YXRlZDxSb2xsPiA9IHJvbGwucm9sbCh7IGFzeW5jOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSb2xsUmVzdWx0KHJvbGxSZXN1bHQudG90YWwsIHJvbGxSZXN1bHQucmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcHJlcGFyZWRNb2RpZmllcnMgPSBtb2RpZmllcnNcclxuICAgICAgICAgICAgLmZsYXRNYXAoKHJvbGxUZXJtOiBSb2xsVGVybSkgPT4gW3JvbGxUZXJtLCBuZXcgT3BlcmF0b3JUZXJtKHsgb3BlcmF0b3I6IFwiK1wiIH0pXSk7XHJcbiAgICAgICAgY29uc3QgbW9kaWZpZWRSb2xsID0gdGhpcy5jb21iaW5lKHJvbGwsIFJvbGwuZnJvbVRlcm1zKHByZXBhcmVkTW9kaWZpZXJzKSk7XHJcbiAgICAgICAgY29uc3Qgcm9sbFJlc3VsdDogRXZhbHVhdGVkPFJvbGw+ID0gbW9kaWZpZWRSb2xsLnJvbGwoeyBhc3luYzogZmFsc2UgfSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSb2xsUmVzdWx0KHJvbGxSZXN1bHQudG90YWwsIHJvbGxSZXN1bHQucmVzdWx0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbXVsdGlwbHkoaW5wdXQ6IHN0cmluZyB8IFJvbGwsIGZhY3RvcjogbnVtYmVyKTogUm9sbCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICBjb25zdCByb2xsOiBSb2xsID0gbmV3IFJvbGwoaW5wdXQsIHt9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJvbGwuYWx0ZXIoZmFjdG9yLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlucHV0LmFsdGVyKGZhY3RvciwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnJvbUV4cHJlc3Npb24oZXhwcmVzc2lvbjogc3RyaW5nKTogUm9sbCB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSb2xsKGV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbWJpbmUobGVmdDogUm9sbCwgcmlnaHQ6IFJvbGwpIHtcclxuICAgICAgICBjb25zdCBzaW1wbGlmaWVkVGVybXM6IFJvbGxUZXJtW10gPSBSb2xsLnNpbXBsaWZ5VGVybXMobGVmdC50ZXJtcy5jb25jYXQocmlnaHQudGVybXMpKTtcclxuICAgICAgICByZXR1cm4gUm9sbC5mcm9tVGVybXMoc2ltcGxpZmllZFRlcm1zKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7RGljZVJvbGxlciwgUm9sbFJlc3VsdH0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/foundry/DiceRoller.ts\n");

/***/ }),

/***/ "./src/scripts/foundry/GameProvider.ts":
/*!*********************************************!*\
  !*** ./src/scripts/foundry/GameProvider.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameProvider\": () => (/* binding */ GameProvider)\n/* harmony export */ });\nclass GameProvider {\r\n    globalGameObject() {\r\n        if (!game) {\r\n            throw new Error(\"Game object not yet initialised. \" +\r\n                \"Wait for the 'init' hook event before calling this method\");\r\n        }\r\n        return game;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9mb3VuZHJ5L0dhbWVQcm92aWRlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTSxZQUFZO0lBRVAsZ0JBQWdCO1FBQ25CLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDUCxNQUFNLElBQUksS0FBSyxDQUFDLG1DQUFtQztnQkFDL0MsMkRBQTJELENBQUMsQ0FBQztTQUNwRTtRQUNELE9BQWMsSUFBSSxDQUFDO0lBQ3ZCLENBQUM7Q0FFSjtBQUVzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL2ZvdW5kcnkvR2FtZVByb3ZpZGVyLnRzP2E4OTciXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgR2FtZVByb3ZpZGVyIHtcclxuXHJcbiAgICBwdWJsaWMgZ2xvYmFsR2FtZU9iamVjdCgpOiBHYW1lIHtcclxuICAgICAgICBpZiAoIWdhbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2FtZSBvYmplY3Qgbm90IHlldCBpbml0aWFsaXNlZC4gXCIgK1xyXG4gICAgICAgICAgICAgICAgXCJXYWl0IGZvciB0aGUgJ2luaXQnIGhvb2sgZXZlbnQgYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2RcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA8R2FtZT4gZ2FtZTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IEdhbWVQcm92aWRlciB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/foundry/GameProvider.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingChatMessage.ts":
/*!******************************************************!*\
  !*** ./src/scripts/interface/CraftingChatMessage.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingChatMessage\": () => (/* binding */ CraftingChatMessage),\n/* harmony export */   \"IconType\": () => (/* binding */ IconType)\n/* harmony export */ });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../foundry/GameProvider */ \"./src/scripts/foundry/GameProvider.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nvar IconType;\r\n(function (IconType) {\r\n    IconType[IconType[\"ERROR\"] = 0] = \"ERROR\";\r\n    IconType[IconType[\"FAILURE\"] = 1] = \"FAILURE\";\r\n    IconType[IconType[\"FIRE\"] = 2] = \"FIRE\";\r\n    IconType[IconType[\"EARTH\"] = 3] = \"EARTH\";\r\n    IconType[IconType[\"WATER\"] = 4] = \"WATER\";\r\n    IconType[IconType[\"AIR\"] = 5] = \"AIR\";\r\n    IconType[IconType[\"RANDOM\"] = 6] = \"RANDOM\";\r\n})(IconType || (IconType = {}));\r\nclass CraftingChatMessage {\r\n    constructor(config) {\r\n        this._title = config.title;\r\n        this._description = config.description;\r\n        this._createdItems = config.createdItems;\r\n        this._consumedItems = config.consumedItems;\r\n        this._iconType = config.iconType;\r\n    }\r\n    get iconUrl() {\r\n        switch (this._iconType) {\r\n            case IconType.RANDOM:\r\n                return CraftingChatMessage.randomCardImageUrl;\r\n            case IconType.ERROR:\r\n                return CraftingChatMessage._unexpectedErrorIconUrl;\r\n            case IconType.FAILURE:\r\n                return CraftingChatMessage._craftingFailureIconUrl;\r\n            case IconType.EARTH:\r\n                return CraftingChatMessage._fabricateEarthIconUrl;\r\n            case IconType.AIR:\r\n                return CraftingChatMessage._fabricateAirIconUrl;\r\n            case IconType.WATER:\r\n                return CraftingChatMessage._fabricateWaterIconUrl;\r\n            case IconType.FIRE:\r\n                return CraftingChatMessage._fabricateFireIconUrl;\r\n        }\r\n    }\r\n    static get randomCardImageUrl() {\r\n        const selectedImageIndex = Math.floor(Math.random() * CraftingChatMessage._defaultImages.length);\r\n        return CraftingChatMessage._defaultImages[selectedImageIndex];\r\n    }\r\n    get iconTitle() {\r\n        return CraftingChatMessage._defaultTitle;\r\n    }\r\n    get title() {\r\n        return this._title ? this._title : CraftingChatMessage._defaultTitle;\r\n    }\r\n    get footer() {\r\n        return this._consumedItems.units.map(unit => `${unit.quantity} ${unit.part.name}`);\r\n    }\r\n    get description() {\r\n        return this._description;\r\n    }\r\n    get results() {\r\n        return this._createdItems.units.map(unit => ({\r\n            id: unit.part.name,\r\n            imageUrl: unit.part.imageUrl,\r\n            quantity: unit.quantity\r\n        }));\r\n    }\r\n    get hasResults() {\r\n        return this._createdItems.size() > 0;\r\n    }\r\n    send(actorId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const messageTemplate = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.craftingMessage, this);\r\n            yield ChatMessage.create({ user: new _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_1__.GameProvider().globalGameObject().user, speaker: { actor: actorId }, content: messageTemplate });\r\n        });\r\n    }\r\n}\r\nCraftingChatMessage._unexpectedErrorIconUrl = 'modules/fabricate/assets/caution.svg';\r\nCraftingChatMessage._craftingFailureIconUrl = 'modules/fabricate/assets/fabricate-error.png';\r\nCraftingChatMessage._fabricateFireIconUrl = 'modules/fabricate/assets/fabricate-fire.png';\r\nCraftingChatMessage._fabricateEarthIconUrl = 'modules/fabricate/assets/fabricate-earth.png';\r\nCraftingChatMessage._fabricateWaterIconUrl = 'modules/fabricate/assets/fabricate-water.png';\r\nCraftingChatMessage._fabricateAirIconUrl = 'modules/fabricate/assets/fabricate-air.png';\r\nCraftingChatMessage._defaultTitle = 'Crafting Result';\r\nCraftingChatMessage._defaultImages = [\r\n    CraftingChatMessage._fabricateFireIconUrl,\r\n    CraftingChatMessage._fabricateEarthIconUrl,\r\n    CraftingChatMessage._fabricateWaterIconUrl,\r\n    CraftingChatMessage._fabricateAirIconUrl\r\n];\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdDaGF0TWVzc2FnZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBR2M7QUFFckQsSUFBSyxRQVFKO0FBUkQsV0FBSyxRQUFRO0lBQ1QseUNBQUs7SUFDTCw2Q0FBTztJQUNQLHVDQUFJO0lBQ0oseUNBQUs7SUFDTCx5Q0FBSztJQUNMLHFDQUFHO0lBQ0gsMkNBQU07QUFDVixDQUFDLEVBUkksUUFBUSxLQUFSLFFBQVEsUUFRWjtBQVVELE1BQU0sbUJBQW1CO0lBMEJyQixZQUFZLE1BQWlDO1FBQ3pDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUMzQixJQUFJLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUM7UUFDdkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUMzQyxJQUFJLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7SUFDckMsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLFFBQVEsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNwQixLQUFLLFFBQVEsQ0FBQyxNQUFNO2dCQUNoQixPQUFPLG1CQUFtQixDQUFDLGtCQUFrQjtZQUNqRCxLQUFLLFFBQVEsQ0FBQyxLQUFLO2dCQUNmLE9BQU8sbUJBQW1CLENBQUMsdUJBQXVCLENBQUM7WUFDdkQsS0FBSyxRQUFRLENBQUMsT0FBTztnQkFDakIsT0FBTyxtQkFBbUIsQ0FBQyx1QkFBdUIsQ0FBQztZQUN2RCxLQUFLLFFBQVEsQ0FBQyxLQUFLO2dCQUNmLE9BQU8sbUJBQW1CLENBQUMsc0JBQXNCLENBQUM7WUFDdEQsS0FBSyxRQUFRLENBQUMsR0FBRztnQkFDYixPQUFPLG1CQUFtQixDQUFDLG9CQUFvQixDQUFDO1lBQ3BELEtBQUssUUFBUSxDQUFDLEtBQUs7Z0JBQ2YsT0FBTyxtQkFBbUIsQ0FBQyxzQkFBc0IsQ0FBQztZQUN0RCxLQUFLLFFBQVEsQ0FBQyxJQUFJO2dCQUNkLE9BQU8sbUJBQW1CLENBQUMscUJBQXFCLENBQUM7U0FDeEQ7SUFDTCxDQUFDO0lBRUQsTUFBTSxLQUFLLGtCQUFrQjtRQUN6QixNQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqRyxPQUFPLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxPQUFPLG1CQUFtQixDQUFDLGFBQWEsQ0FBQztJQUM3QyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQyxhQUFhLENBQUM7SUFDekUsQ0FBQztJQUVELElBQUksTUFBTTtRQUNOLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2RixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDekMsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSTtZQUNsQixRQUFRLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRO1lBQzVCLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUTtTQUMxQixDQUFDLENBQUMsQ0FBQztJQUNSLENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFSyxJQUFJLENBQUMsT0FBZTs7WUFDdEIsTUFBTSxlQUFlLEdBQUcsTUFBTSxjQUFjLENBQUMsb0ZBQTJDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDaEcsTUFBTSxXQUFXLENBQUMsTUFBTSxDQUFDLEVBQUMsSUFBSSxFQUFFLElBQUksK0RBQVksRUFBRSxDQUFDLGdCQUFnQixFQUFFLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFDLEtBQUssRUFBRSxPQUFPLEVBQUMsRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFDLENBQUMsQ0FBQztRQUN0SSxDQUFDO0tBQUE7O0FBdkZ1QiwyQ0FBdUIsR0FBRyxzQ0FBc0MsQ0FBQztBQUVqRSwyQ0FBdUIsR0FBRyw4Q0FBOEMsQ0FBQztBQUV6RSx5Q0FBcUIsR0FBRyw2Q0FBNkMsQ0FBQztBQUN0RSwwQ0FBc0IsR0FBRyw4Q0FBOEMsQ0FBQztBQUN4RSwwQ0FBc0IsR0FBRyw4Q0FBOEMsQ0FBQztBQUN4RSx3Q0FBb0IsR0FBRyw0Q0FBNEMsQ0FBQztBQUVwRSxpQ0FBYSxHQUFHLGlCQUFpQixDQUFDO0FBRWxDLGtDQUFjLEdBQWE7SUFDL0MsbUJBQW1CLENBQUMscUJBQXFCO0lBQ3pDLG1CQUFtQixDQUFDLHNCQUFzQjtJQUMxQyxtQkFBbUIsQ0FBQyxzQkFBc0I7SUFDMUMsbUJBQW1CLENBQUMsb0JBQW9CO0NBQzNDLENBQUM7QUEyRTJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvaW50ZXJmYWNlL0NyYWZ0aW5nQ2hhdE1lc3NhZ2UudHM/NzdjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtHYW1lUHJvdmlkZXJ9IGZyb20gXCIuLi9mb3VuZHJ5L0dhbWVQcm92aWRlclwiO1xyXG5cclxuZW51bSBJY29uVHlwZSB7XHJcbiAgICBFUlJPUixcclxuICAgIEZBSUxVUkUsXHJcbiAgICBGSVJFLFxyXG4gICAgRUFSVEgsXHJcbiAgICBXQVRFUixcclxuICAgIEFJUixcclxuICAgIFJBTkRPTVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ3JhZnRpbmdDaGF0TWVzc2FnZUNvbmZpZyB7XHJcbiAgICBpY29uVHlwZTogSWNvblR5cGU7XHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gICAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgICBjcmVhdGVkSXRlbXM/OiBDb21iaW5hdGlvbjxDcmFmdGluZ0NvbXBvbmVudD47XHJcbiAgICBjb25zdW1lZEl0ZW1zPzogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG59XHJcblxyXG5jbGFzcyBDcmFmdGluZ0NoYXRNZXNzYWdlIHtcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfdW5leHBlY3RlZEVycm9ySWNvblVybCA9ICdtb2R1bGVzL2ZhYnJpY2F0ZS9hc3NldHMvY2F1dGlvbi5zdmcnO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9jcmFmdGluZ0ZhaWx1cmVJY29uVXJsID0gJ21vZHVsZXMvZmFicmljYXRlL2Fzc2V0cy9mYWJyaWNhdGUtZXJyb3IucG5nJztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfZmFicmljYXRlRmlyZUljb25VcmwgPSAnbW9kdWxlcy9mYWJyaWNhdGUvYXNzZXRzL2ZhYnJpY2F0ZS1maXJlLnBuZyc7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfZmFicmljYXRlRWFydGhJY29uVXJsID0gJ21vZHVsZXMvZmFicmljYXRlL2Fzc2V0cy9mYWJyaWNhdGUtZWFydGgucG5nJztcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9mYWJyaWNhdGVXYXRlckljb25VcmwgPSAnbW9kdWxlcy9mYWJyaWNhdGUvYXNzZXRzL2ZhYnJpY2F0ZS13YXRlci5wbmcnO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgX2ZhYnJpY2F0ZUFpckljb25VcmwgPSAnbW9kdWxlcy9mYWJyaWNhdGUvYXNzZXRzL2ZhYnJpY2F0ZS1haXIucG5nJztcclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBfZGVmYXVsdFRpdGxlID0gJ0NyYWZ0aW5nIFJlc3VsdCc7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgX2RlZmF1bHRJbWFnZXM6IHN0cmluZ1tdID0gW1xyXG4gICAgICAgIENyYWZ0aW5nQ2hhdE1lc3NhZ2UuX2ZhYnJpY2F0ZUZpcmVJY29uVXJsLFxyXG4gICAgICAgIENyYWZ0aW5nQ2hhdE1lc3NhZ2UuX2ZhYnJpY2F0ZUVhcnRoSWNvblVybCxcclxuICAgICAgICBDcmFmdGluZ0NoYXRNZXNzYWdlLl9mYWJyaWNhdGVXYXRlckljb25VcmwsXHJcbiAgICAgICAgQ3JhZnRpbmdDaGF0TWVzc2FnZS5fZmFicmljYXRlQWlySWNvblVybFxyXG4gICAgXTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF90aXRsZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NyZWF0ZWRJdGVtczogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29uc3VtZWRJdGVtczogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaWNvblR5cGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29uZmlnOiBDcmFmdGluZ0NoYXRNZXNzYWdlQ29uZmlnKSB7XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBjb25maWcudGl0bGU7XHJcbiAgICAgICAgdGhpcy5fZGVzY3JpcHRpb24gPSBjb25maWcuZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5fY3JlYXRlZEl0ZW1zID0gY29uZmlnLmNyZWF0ZWRJdGVtcztcclxuICAgICAgICB0aGlzLl9jb25zdW1lZEl0ZW1zID0gY29uZmlnLmNvbnN1bWVkSXRlbXM7XHJcbiAgICAgICAgdGhpcy5faWNvblR5cGUgPSBjb25maWcuaWNvblR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGljb25VcmwoKSB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLl9pY29uVHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEljb25UeXBlLlJBTkRPTTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ0NoYXRNZXNzYWdlLnJhbmRvbUNhcmRJbWFnZVVybFxyXG4gICAgICAgICAgICBjYXNlIEljb25UeXBlLkVSUk9SOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nQ2hhdE1lc3NhZ2UuX3VuZXhwZWN0ZWRFcnJvckljb25Vcmw7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvblR5cGUuRkFJTFVSRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ0NoYXRNZXNzYWdlLl9jcmFmdGluZ0ZhaWx1cmVJY29uVXJsO1xyXG4gICAgICAgICAgICBjYXNlIEljb25UeXBlLkVBUlRIOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nQ2hhdE1lc3NhZ2UuX2ZhYnJpY2F0ZUVhcnRoSWNvblVybDtcclxuICAgICAgICAgICAgY2FzZSBJY29uVHlwZS5BSVI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQ3JhZnRpbmdDaGF0TWVzc2FnZS5fZmFicmljYXRlQWlySWNvblVybDtcclxuICAgICAgICAgICAgY2FzZSBJY29uVHlwZS5XQVRFUjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ0NoYXRNZXNzYWdlLl9mYWJyaWNhdGVXYXRlckljb25Vcmw7XHJcbiAgICAgICAgICAgIGNhc2UgSWNvblR5cGUuRklSRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ0NoYXRNZXNzYWdlLl9mYWJyaWNhdGVGaXJlSWNvblVybDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGdldCByYW5kb21DYXJkSW1hZ2VVcmwoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbWFnZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogQ3JhZnRpbmdDaGF0TWVzc2FnZS5fZGVmYXVsdEltYWdlcy5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBDcmFmdGluZ0NoYXRNZXNzYWdlLl9kZWZhdWx0SW1hZ2VzW3NlbGVjdGVkSW1hZ2VJbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGljb25UaXRsZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiBDcmFmdGluZ0NoYXRNZXNzYWdlLl9kZWZhdWx0VGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHRpdGxlKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpdGxlID8gdGhpcy5fdGl0bGUgOiBDcmFmdGluZ0NoYXRNZXNzYWdlLl9kZWZhdWx0VGl0bGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZvb3RlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29uc3VtZWRJdGVtcy51bml0cy5tYXAodW5pdCA9PiBgJHt1bml0LnF1YW50aXR5fSAke3VuaXQucGFydC5uYW1lfWApO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXNjcmlwdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc3VsdHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZWRJdGVtcy51bml0cy5tYXAodW5pdCA9PiAoe1xyXG4gICAgICAgICAgICBpZDogdW5pdC5wYXJ0Lm5hbWUsXHJcbiAgICAgICAgICAgIGltYWdlVXJsOiB1bml0LnBhcnQuaW1hZ2VVcmwsXHJcbiAgICAgICAgICAgIHF1YW50aXR5OiB1bml0LnF1YW50aXR5XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNSZXN1bHRzKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVkSXRlbXMuc2l6ZSgpID4gMDtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZW5kKGFjdG9ySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VUZW1wbGF0ZSA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFByb3BlcnRpZXMubW9kdWxlLnRlbXBsYXRlcy5jcmFmdGluZ01lc3NhZ2UsIHRoaXMpO1xyXG4gICAgICAgIGF3YWl0IENoYXRNZXNzYWdlLmNyZWF0ZSh7dXNlcjogbmV3IEdhbWVQcm92aWRlcigpLmdsb2JhbEdhbWVPYmplY3QoKS51c2VyLCBzcGVha2VyOiB7YWN0b3I6IGFjdG9ySWR9LCBjb250ZW50OiBtZXNzYWdlVGVtcGxhdGV9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdDaGF0TWVzc2FnZSwgSWNvblR5cGUsIENyYWZ0aW5nQ2hhdE1lc3NhZ2VDb25maWd9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingChatMessage.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTab.ts":
/*!**********************************************!*\
  !*** ./src/scripts/interface/CraftingTab.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingTab\": () => (/* binding */ CraftingTab)\n/* harmony export */ });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _CraftingTabData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CraftingTabData */ \"./src/scripts/interface/CraftingTabData.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass CraftingTab {\r\n    constructor(actorApplication, actor) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = actorApplication;\r\n        this._actor = actor;\r\n        let inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].inventories.getFor(actor.id);\r\n        if (inventory) {\r\n            this._inventory = inventory;\r\n        }\r\n        else {\r\n            // inventory = new CraftingInventory(actor);\r\n            _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].inventories.addFor(actor.id, inventory);\r\n            this._inventory = inventory;\r\n        }\r\n    }\r\n    static bind(actorApplication, sheetHtml, eventData) {\r\n        // @ts-ignore\r\n        const actor = game.actors.get(eventData.actor._id);\r\n        if (\"user\" in game && game.user.isGM || !actor.owner) {\r\n            return;\r\n        }\r\n        let tab = CraftingTab.tabs.get(actorApplication.id);\r\n        if (!tab) {\r\n            tab = new CraftingTab(actorApplication, actor);\r\n            CraftingTab.tabs.set(actorApplication.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToCharacterSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const craftingTabDTO = new _CraftingTabData__WEBPACK_IMPORTED_MODULE_1__.CraftingTabData(_application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].systems.getAllSystems(), this._inventory, this._actor);\r\n            yield craftingTabDTO.init();\r\n            let template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.craftingTab, craftingTabDTO);\r\n            let element = this._sheetHtml.find('.crafting-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-crafting').append(template);\r\n            }\r\n            this.handleActorSheetEvents(craftingTabDTO);\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(CraftingTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToCharacterSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($('<a class=\"item fabricate-crafting\" data-tab=\"fabricate-crafting\">Crafting</a>'));\r\n        $(sheetHtml.find(`.sheet-body`)).append($('<div class=\"tab fabricate-crafting\" data-group=\"primary\" data-tab=\"fabricate-crafting\"></div>'));\r\n    }\r\n    handleActorSheetEvents(craftingTabDTO) {\r\n        this._sheetHtml.find('.add-crafting-component').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const componentId = event.currentTarget.getAttribute('data-component-id');\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            let hopperContentsForSystem = this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, `crafting.${craftingSystemId}.hopper`);\r\n            if (!hopperContentsForSystem) {\r\n                hopperContentsForSystem = [];\r\n            }\r\n            const component = hopperContentsForSystem.find((item) => item.partId === componentId);\r\n            if (!component) {\r\n                const component = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].systems.getSystemById(craftingSystemId).getComponentByPartId(componentId);\r\n                hopperContentsForSystem.push({ name: component.name, quantity: 1, imageUrl: component.imageUrl, partId: component.partId });\r\n            }\r\n            else {\r\n                component.quantity = component.quantity + 1;\r\n            }\r\n            this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, `crafting.${craftingSystemId}.hopper`, hopperContentsForSystem);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n        this._sheetHtml.find('.remove-crafting-component').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const componentId = event.currentTarget.getAttribute('data-component-id');\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            let hopperContentsForSystem = this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, `crafting.${craftingSystemId}.hopper`);\r\n            const matchingRecord = hopperContentsForSystem.find((recordData) => recordData.partId === componentId);\r\n            matchingRecord.quantity = matchingRecord.quantity - 1;\r\n            const nonZeroRecords = hopperContentsForSystem.filter((recordData) => recordData.quantity > 0);\r\n            this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, `crafting.${craftingSystemId}.hopper`, nonZeroRecords);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n        this._sheetHtml.find('.clear-components.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            yield this._actor.unsetFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, `crafting.${craftingSystemId}.hopper`);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n        this._sheetHtml.find('.craft-from-components.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            const hopperContents = craftingTabDTO.inventory.preparedComponents;\r\n            if (!hopperContents || hopperContents.length === 0) {\r\n                return;\r\n            }\r\n            console.log(`Craft for system ${craftingSystemId} with ${hopperContents.length} components`);\r\n            const craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].systems.getSystemById(craftingSystemId);\r\n            const craftingComponents = hopperContents\r\n                .map((hopperItem) => {\r\n                const component = craftingSystem.getComponentByPartId(hopperItem.partId);\r\n                return _common_Combination__WEBPACK_IMPORTED_MODULE_3__.Combination.of(component, hopperItem.quantity);\r\n            })\r\n                .reduce((left, right) => left.combineWith(right));\r\n            yield this._actor.unsetFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, `crafting.${craftingSystemId}.hopper`);\r\n            craftingSystem.doAlchemy(this._actor, _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].inventories.getFor(this._actor.id), undefined, craftingComponents);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n        this._sheetHtml.find('select[name=\"fabricate.crafting.selectedSystem\"]').change((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const systemIdToActivate = event.target.value;\r\n            yield this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem, systemIdToActivate);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n        this._sheetHtml.find('select[name=\"fabricate.crafting.selectedRecipe\"]').change((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const selectedRecipeId = event.target.value;\r\n            yield this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedRecipe, selectedRecipeId);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n        this._sheetHtml.find('.actor-recipe-crafting').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const recipeId = yield this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedRecipe);\r\n            const craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].systems.getSystemByPartId(recipeId);\r\n            const recipe = craftingSystem.getRecipeByPartId(recipeId);\r\n            const inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].inventories.getFor(this._actor.id);\r\n            yield craftingSystem.craft(this._actor, inventory, recipe);\r\n            this._suppressedInNav = true;\r\n            this.render();\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-crafting[data-tab=\"${CraftingTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nCraftingTab.tabs = new Map();\r\nCraftingTab.tabKey = 'fabricate-crafting';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDVztBQUVxQjtBQUlyQjtBQUVsRCxNQUFNLFdBQVc7SUF3QmIsWUFBWSxnQkFBcUIsRUFBRSxLQUFVO1FBbEJyQyxxQkFBZ0IsR0FBWSxLQUFLLENBQUM7UUFtQnRDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztRQUMxQyxJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLFNBQVMsR0FBRyw0RkFBdUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDbEUsSUFBSSxTQUFTLEVBQUU7WUFDWCxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztTQUMvQjthQUFNO1lBQ0gsNENBQTRDO1lBQzVDLDRGQUF1QyxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDN0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBekJNLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQXFCLEVBQUUsU0FBc0IsRUFBRSxTQUFjO1FBQzVFLGFBQWE7UUFDYixNQUFNLEtBQUssR0FBc0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0RSxJQUFJLE1BQU0sSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFHO1lBQ25ELE9BQU87U0FDVjtRQUNELElBQUksR0FBRyxHQUFnQixXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ04sR0FBRyxHQUFHLElBQUksV0FBVyxDQUFDLGdCQUFn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QUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLGtDQUFrQyxXQUFXLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEgsQ0FBQzs7QUFqTHVCLGdCQUFJLEdBQTZCLElBQUksR0FBRyxFQUFFLENBQUM7QUFPcEQsa0JBQU0sR0FBVyxvQkFBb0IsQ0FBQztBQTZLckMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHM/YzFlZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0NyYWZ0aW5nVGFiRGF0YX0gZnJvbSBcIi4vQ3JhZnRpbmdUYWJEYXRhXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5UmVjb3JkRGF0YX0gZnJvbSBcIi4vSW50ZXJmYWNlRGF0YVR5cGVzXCI7XHJcbmltcG9ydCBGYWJyaWNhdGVBcHBsaWNhdGlvbiBmcm9tIFwiLi4vYXBwbGljYXRpb24vRmFicmljYXRlQXBwbGljYXRpb25cIjtcclxuaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9hY3Rvci9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvbW1vbi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb259IGZyb20gXCIuLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nVGFiIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRhYnM6IE1hcDxzdHJpbmcsIENyYWZ0aW5nVGFiPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBwcml2YXRlIF9zaGVldEFwcGxpY2F0aW9uOiBhbnk7XHJcbiAgICBwcml2YXRlIF9zaGVldEh0bWw6IGFueTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludmVudG9yeTogSW52ZW50b3J5O1xyXG4gICAgcHJpdmF0ZSBfc3VwcHJlc3NlZEluTmF2OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3RvcjogYW55O1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgdGFiS2V5OiBzdHJpbmcgPSAnZmFicmljYXRlLWNyYWZ0aW5nJztcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJpbmQoYWN0b3JBcHBsaWNhdGlvbjogYW55LCBzaGVldEh0bWw6IEhUTUxFbGVtZW50LCBldmVudERhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBjb25zdCBhY3RvcjogQWN0b3I8QWN0b3IuRGF0YT4gPSBnYW1lLmFjdG9ycy5nZXQoZXZlbnREYXRhLmFjdG9yLl9pZCk7XHJcbiAgICAgICAgaWYgKFwidXNlclwiIGluIGdhbWUgJiYgZ2FtZS51c2VyLmlzR00gfHwgIWFjdG9yLm93bmVyICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0YWI6IENyYWZ0aW5nVGFiID0gQ3JhZnRpbmdUYWIudGFicy5nZXQoYWN0b3JBcHBsaWNhdGlvbi5pZCk7XHJcbiAgICAgICAgaWYgKCF0YWIpIHtcclxuICAgICAgICAgICAgdGFiID0gbmV3IENyYWZ0aW5nVGFiKGFjdG9yQXBwbGljYXRpb24sIGFjdG9yKTtcclxuICAgICAgICAgICAgQ3JhZnRpbmdUYWIudGFicy5zZXQoYWN0b3JBcHBsaWNhdGlvbi5pZCwgdGFiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFiLmluaXQoc2hlZXRIdG1sKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhY3RvckFwcGxpY2F0aW9uOiBhbnksIGFjdG9yOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uID0gYWN0b3JBcHBsaWNhdGlvbjtcclxuICAgICAgICB0aGlzLl9hY3RvciA9IGFjdG9yO1xyXG4gICAgICAgIGxldCBpbnZlbnRvcnkgPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5pbnZlbnRvcmllcy5nZXRGb3IoYWN0b3IuaWQpO1xyXG4gICAgICAgIGlmIChpbnZlbnRvcnkpIHtcclxuICAgICAgICAgICAgdGhpcy5faW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGludmVudG9yeSA9IG5ldyBDcmFmdGluZ0ludmVudG9yeShhY3Rvcik7XHJcbiAgICAgICAgICAgIEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmFkZEZvcihhY3Rvci5pZCwgaW52ZW50b3J5KTtcclxuICAgICAgICAgICAgdGhpcy5faW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoc2hlZXRIdG1sOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwgPSBzaGVldEh0bWw7XHJcbiAgICAgICAgdGhpcy5hZGRUYWJUb0NoYXJhY3RlclNoZWV0KHNoZWV0SHRtbCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBjcmFmdGluZ1RhYkRUTyA9IG5ldyBDcmFmdGluZ1RhYkRhdGEoRmFicmljYXRlQXBwbGljYXRpb24uc3lzdGVtcy5nZXRBbGxTeXN0ZW1zKCksIHRoaXMuX2ludmVudG9yeSwgdGhpcy5fYWN0b3IpO1xyXG4gICAgICAgIGF3YWl0IGNyYWZ0aW5nVGFiRFRPLmluaXQoKTtcclxuICAgICAgICBsZXQgdGVtcGxhdGUgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShQcm9wZXJ0aWVzLm1vZHVsZS50ZW1wbGF0ZXMuY3JhZnRpbmdUYWIsIGNyYWZ0aW5nVGFiRFRPKTtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuY3JhZnRpbmctdGFiLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHRlbXBsYXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLnRhYi5mYWJyaWNhdGUtY3JhZnRpbmcnKS5hcHBlbmQodGVtcGxhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5oYW5kbGVBY3RvclNoZWV0RXZlbnRzKGNyYWZ0aW5nVGFiRFRPKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3N1cHByZXNzZWRJbk5hdiAmJiAhdGhpcy5pc0FjdGl2ZUluTmF2KCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hlZXRBcHBsaWNhdGlvbi5fdGFic1swXS5hY3RpdmF0ZShDcmFmdGluZ1RhYi50YWJLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkVGFiVG9DaGFyYWN0ZXJTaGVldChzaGVldEh0bWw6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhYnMgPSBzaGVldEh0bWwuZmluZChgLnRhYnNbZGF0YS1ncm91cD1cInByaW1hcnlcIl1gKTtcclxuICAgICAgICB0YWJzLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJpdGVtIGZhYnJpY2F0ZS1jcmFmdGluZ1wiIGRhdGEtdGFiPVwiZmFicmljYXRlLWNyYWZ0aW5nXCI+Q3JhZnRpbmc8L2E+J1xyXG4gICAgICAgICkpO1xyXG5cclxuICAgICAgICAkKHNoZWV0SHRtbC5maW5kKGAuc2hlZXQtYm9keWApKS5hcHBlbmQoJChcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0YWIgZmFicmljYXRlLWNyYWZ0aW5nXCIgZGF0YS1ncm91cD1cInByaW1hcnlcIiBkYXRhLXRhYj1cImZhYnJpY2F0ZS1jcmFmdGluZ1wiPjwvZGl2PidcclxuICAgICAgICApKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUFjdG9yU2hlZXRFdmVudHMoY3JhZnRpbmdUYWJEVE86IENyYWZ0aW5nVGFiRGF0YSk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmFkZC1jcmFmdGluZy1jb21wb25lbnQnKS5jbGljayhhc3luYyAoZXZlbnQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21wb25lbnQtaWQnKTtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1JZDogc3RyaW5nID0gY3JhZnRpbmdUYWJEVE8uY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBob3BwZXJDb250ZW50c0ZvclN5c3RlbTogSW52ZW50b3J5UmVjb3JkRGF0YVtdID0gdGhpcy5fYWN0b3IuZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCk7XHJcbiAgICAgICAgICAgIGlmICghaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0uZmluZCgoaXRlbTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4gaXRlbS5wYXJ0SWQgPT09IGNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQgPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5SWQoY3JhZnRpbmdTeXN0ZW1JZCkuZ2V0Q29tcG9uZW50QnlQYXJ0SWQoY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0ucHVzaCh7bmFtZTogY29tcG9uZW50Lm5hbWUsIHF1YW50aXR5OiAxLCBpbWFnZVVybDogY29tcG9uZW50LmltYWdlVXJsLCBwYXJ0SWQ6IGNvbXBvbmVudC5wYXJ0SWR9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LnF1YW50aXR5ID0gY29tcG9uZW50LnF1YW50aXR5ICsgMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fYWN0b3Iuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCwgaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5yZW1vdmUtY3JhZnRpbmctY29tcG9uZW50JykuY2xpY2soYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29tcG9uZW50LWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtSWQ6IHN0cmluZyA9IGNyYWZ0aW5nVGFiRFRPLmNyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtSWQ7XHJcblxyXG4gICAgICAgICAgICBsZXQgaG9wcGVyQ29udGVudHNGb3JTeXN0ZW06IEludmVudG9yeVJlY29yZERhdGFbXSA9IHRoaXMuX2FjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUuaWQsIGBjcmFmdGluZy4ke2NyYWZ0aW5nU3lzdGVtSWR9LmhvcHBlcmApO1xyXG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ1JlY29yZCA9IGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtLmZpbmQoKHJlY29yZERhdGE6IEludmVudG9yeVJlY29yZERhdGEpID0+IHJlY29yZERhdGEucGFydElkID09PSBjb21wb25lbnRJZCk7XHJcbiAgICAgICAgICAgIG1hdGNoaW5nUmVjb3JkLnF1YW50aXR5ID0gbWF0Y2hpbmdSZWNvcmQucXVhbnRpdHkgLSAxO1xyXG4gICAgICAgICAgICBjb25zdCBub25aZXJvUmVjb3JkcyA9IGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtLmZpbHRlcigocmVjb3JkRGF0YTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4gcmVjb3JkRGF0YS5xdWFudGl0eSA+IDApO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fYWN0b3Iuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCwgbm9uWmVyb1JlY29yZHMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5jbGVhci1jb21wb25lbnRzLmNyYWZ0LWJ1dHRvbicpLmNsaWNrKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1JZDogc3RyaW5nID0gY3JhZnRpbmdUYWJEVE8uY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZDtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fYWN0b3IudW5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBgY3JhZnRpbmcuJHtjcmFmdGluZ1N5c3RlbUlkfS5ob3BwZXJgKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuY3JhZnQtZnJvbS1jb21wb25lbnRzLmNyYWZ0LWJ1dHRvbicpLmNsaWNrKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1JZDogc3RyaW5nID0gY3JhZnRpbmdUYWJEVE8uY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZDtcclxuICAgICAgICAgICAgY29uc3QgaG9wcGVyQ29udGVudHM6IEludmVudG9yeVJlY29yZERhdGFbXSA9IGNyYWZ0aW5nVGFiRFRPLmludmVudG9yeS5wcmVwYXJlZENvbXBvbmVudHM7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWhvcHBlckNvbnRlbnRzIHx8IGhvcHBlckNvbnRlbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgQ3JhZnQgZm9yIHN5c3RlbSAke2NyYWZ0aW5nU3lzdGVtSWR9IHdpdGggJHtob3BwZXJDb250ZW50cy5sZW5ndGh9IGNvbXBvbmVudHNgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtOiBDcmFmdGluZ1N5c3RlbSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLnN5c3RlbXMuZ2V0U3lzdGVtQnlJZChjcmFmdGluZ1N5c3RlbUlkKTtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdDb21wb25lbnRzID0gaG9wcGVyQ29udGVudHNcclxuICAgICAgICAgICAgICAgIC5tYXAoKGhvcHBlckl0ZW06IEludmVudG9yeVJlY29yZERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBjcmFmdGluZ1N5c3RlbS5nZXRDb21wb25lbnRCeVBhcnRJZChob3BwZXJJdGVtLnBhcnRJZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLm9mKGNvbXBvbmVudCwgaG9wcGVySXRlbS5xdWFudGl0eSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgobGVmdCwgcmlnaHQpID0+IGxlZnQuY29tYmluZVdpdGgocmlnaHQpKTtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2FjdG9yLnVuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCk7XHJcbiAgICAgICAgICAgIGNyYWZ0aW5nU3lzdGVtLmRvQWxjaGVteSh0aGlzLl9hY3RvciwgRmFicmljYXRlQXBwbGljYXRpb24uaW52ZW50b3JpZXMuZ2V0Rm9yKHRoaXMuX2FjdG9yLmlkKSwgdW5kZWZpbmVkLCAgY3JhZnRpbmdDb21wb25lbnRzKVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJ3NlbGVjdFtuYW1lPVwiZmFicmljYXRlLmNyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtXCJdJykuY2hhbmdlKGFzeW5jIChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUlkVG9BY3RpdmF0ZTogc3RyaW5nID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hY3Rvci5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLnNlbGVjdGVkQ3JhZnRpbmdTeXN0ZW0sIHN5c3RlbUlkVG9BY3RpdmF0ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnc2VsZWN0W25hbWU9XCJmYWJyaWNhdGUuY3JhZnRpbmcuc2VsZWN0ZWRSZWNpcGVcIl0nKS5jaGFuZ2UoYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRSZWNpcGVJZDogc3RyaW5nID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hY3Rvci5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLnNlbGVjdGVkUmVjaXBlLCBzZWxlY3RlZFJlY2lwZUlkKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuYWN0b3ItcmVjaXBlLWNyYWZ0aW5nJykuY2xpY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZWNpcGVJZCA9IGF3YWl0IHRoaXMuX2FjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUuaWQsIFByb3BlcnRpZXMuZmxhZ0tleXMuYWN0b3Iuc2VsZWN0ZWRSZWNpcGUpO1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW0gPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5UGFydElkKHJlY2lwZUlkKTtcclxuICAgICAgICAgICAgY29uc3QgcmVjaXBlID0gY3JhZnRpbmdTeXN0ZW0uZ2V0UmVjaXBlQnlQYXJ0SWQocmVjaXBlSWQpO1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnkgPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5pbnZlbnRvcmllcy5nZXRGb3IodGhpcy5fYWN0b3IuaWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBjcmFmdGluZ1N5c3RlbS5jcmFmdCh0aGlzLl9hY3RvciwgaW52ZW50b3J5LCByZWNpcGUpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzQWN0aXZlSW5OYXYoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICQodGhpcy5fc2hlZXRIdG1sKS5maW5kKGBhLmZhYnJpY2F0ZS1jcmFmdGluZ1tkYXRhLXRhYj1cIiR7Q3JhZnRpbmdUYWIudGFiS2V5fVwiXWApLmhhc0NsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ1RhYn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTab.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTabData.ts":
/*!**************************************************!*\
  !*** ./src/scripts/interface/CraftingTabData.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingTabData\": () => (/* binding */ CraftingTabData)\n/* harmony export */ });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass CraftingTabData {\r\n    constructor(craftingSystems, inventory, actor) {\r\n        this._craftingSystems = craftingSystems;\r\n        this._inventory = inventory;\r\n        this._actor = actor;\r\n    }\r\n    get crafting() {\r\n        return this._craftingSystemData;\r\n    }\r\n    get recipeCrafting() {\r\n        return this._recipeData;\r\n    }\r\n    get inventory() {\r\n        return this._inventoryContents;\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._craftingSystemData = yield this.prepareCraftingSystemData(this._craftingSystems, this._actor);\r\n            if (this._craftingSystemData.hasEnabledSystems) {\r\n                const selectedCraftingSystem = this._craftingSystems.find((system) => system.id === this._craftingSystemData.selectedSystemId);\r\n                this._recipeData = yield this.prepareRecipeDataForSystem(selectedCraftingSystem, this._actor, this._inventory);\r\n                this._inventoryContents = this.prepareInventoryDataForSystem(selectedCraftingSystem, this._actor, this._inventory);\r\n            }\r\n        });\r\n    }\r\n    prepareCraftingSystemData(craftingSystems, actor) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let enabledSystems = 0;\r\n            const craftingSystemsInfo = [];\r\n            const storedSystemId = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem);\r\n            craftingSystems.forEach((system) => {\r\n                if (system.enabled) {\r\n                    enabledSystems++;\r\n                }\r\n                craftingSystemsInfo.push({\r\n                    disabled: !system.enabled,\r\n                    compendiumPackKey: system.id,\r\n                    name: system.name,\r\n                    selected: system.id === storedSystemId\r\n                });\r\n            });\r\n            const hasEnabledSystems = enabledSystems > 0;\r\n            if (storedSystemId) {\r\n                return {\r\n                    systems: craftingSystemsInfo,\r\n                    hasEnabledSystems: hasEnabledSystems,\r\n                    selectedSystemId: storedSystemId\r\n                };\r\n            }\r\n            else if (hasEnabledSystems) {\r\n                const firstEnabledSystem = craftingSystemsInfo.find((systemInfo) => !systemInfo.disabled);\r\n                firstEnabledSystem.selected = true;\r\n                yield actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem, firstEnabledSystem.compendiumPackKey);\r\n                return {\r\n                    systems: craftingSystemsInfo,\r\n                    hasEnabledSystems: hasEnabledSystems,\r\n                    selectedSystemId: firstEnabledSystem.compendiumPackKey\r\n                };\r\n            }\r\n        });\r\n    }\r\n    prepareRecipeDataForSystem(craftingSystem, actor, inventory) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const storedKnownRecipes = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.knownRecipesForSystem(craftingSystem.id));\r\n            const knownRecipes = storedKnownRecipes ? storedKnownRecipes : [];\r\n            const enabledRecipes = new Map();\r\n            const disabledRecipes = [];\r\n            craftingSystem.recipes.forEach((recipe) => {\r\n                const isKnown = knownRecipes.includes(recipe.partId);\r\n                const isOwned = inventory.contains(recipe.partId);\r\n                const isCraftable = isKnown || isOwned;\r\n                if (isCraftable) {\r\n                    enabledRecipes.set(recipe.partId, {\r\n                        name: recipe.name,\r\n                        partId: recipe.partId,\r\n                        known: isKnown,\r\n                        owned: isOwned,\r\n                        craftable: isCraftable,\r\n                        selected: false\r\n                    });\r\n                }\r\n                else {\r\n                    disabledRecipes.push({\r\n                        name: recipe.name,\r\n                        partId: recipe.partId,\r\n                        known: isKnown,\r\n                        owned: isOwned,\r\n                        craftable: isCraftable,\r\n                        selected: false\r\n                    });\r\n                }\r\n            });\r\n            const storedRecipeId = yield this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedRecipe);\r\n            if (enabledRecipes.has(storedRecipeId)) {\r\n                enabledRecipes.get(storedRecipeId).selected = true;\r\n                return {\r\n                    recipes: Array.from(enabledRecipes.values()).concat(disabledRecipes),\r\n                    hasCraftableRecipe: true\r\n                };\r\n            }\r\n            else {\r\n                // await this._actor.unsetFlag(Properties.module.name, Properties.flagKeys.actor.selectedRecipe);\r\n                if (enabledRecipes.size === 0) {\r\n                    return {\r\n                        recipes: disabledRecipes,\r\n                        hasCraftableRecipe: false\r\n                    };\r\n                }\r\n                const craftableRecipes = Array.from(enabledRecipes.values());\r\n                const defaultRecipe = craftableRecipes[0];\r\n                defaultRecipe.selected = true;\r\n                //await this._actor.setFlag(Properties.module.name, Properties.flagKeys.actor.selectedRecipe, defaultRecipe.partId);\r\n                return {\r\n                    recipes: craftableRecipes.concat(disabledRecipes),\r\n                    hasCraftableRecipe: true\r\n                };\r\n            }\r\n        });\r\n    }\r\n    prepareInventoryDataForSystem(craftingSystem, actor, inventory) {\r\n        const inventoryContents = {\r\n            ownedComponents: [],\r\n            preparedComponents: []\r\n        };\r\n        inventoryContents.ownedComponents = inventory.ownedComponents.units\r\n            .filter(unit => unit.part.systemId === craftingSystem.id)\r\n            .filter(unit => !unit.part.essences.isEmpty())\r\n            .map(unit => {\r\n            return {\r\n                name: unit.part.name,\r\n                partId: unit.part.id,\r\n                quantity: unit.quantity,\r\n                imageUrl: unit.part.imageUrl\r\n            };\r\n        });\r\n        const savedHopperContents = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.hopperForSystem(craftingSystem.id));\r\n        if (savedHopperContents) {\r\n            inventoryContents.preparedComponents = savedHopperContents;\r\n            savedHopperContents.forEach((hopperItem) => {\r\n                const inventoryItem = inventoryContents.ownedComponents.find((inventoryItem) => inventoryItem.partId === hopperItem.partId);\r\n                if (inventoryItem) {\r\n                    inventoryItem.quantity = inventoryItem.quantity - hopperItem.quantity;\r\n                }\r\n            });\r\n            inventoryContents.ownedComponents = inventoryContents.ownedComponents.filter((inventoryItem) => inventoryItem.quantity > 0);\r\n        }\r\n        return inventoryContents;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWJEYXRhLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBaUJ2QyxNQUFNLGVBQWU7SUFVakIsWUFBWSxlQUFpQyxFQUFFLFNBQW9CLEVBQUUsS0FBVTtRQUMzRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxjQUFjO1FBQ2QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNuQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFSyxJQUFJOztZQUNOLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXBHLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixFQUFFO2dCQUM1QyxNQUFNLHNCQUFzQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFzQixFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO2dCQUUvSSxJQUFJLENBQUMsV0FBVyxHQUFHLE1BQU0sSUFBSSxDQUFDLDBCQUEwQixDQUFDLHNCQUFzQixFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFVB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LEdBQUcsbUJBQW1CLENBQUM7WUFDM0QsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBK0IsRUFBRSxFQUFFO2dCQUM1RCxNQUFNLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsYUFBa0MsRUFBRSxFQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sS0FBSyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ2pKLElBQUksYUFBYSxFQUFFO29CQUNmLGFBQWEsQ0FBQyxRQUFRLEdBQUcsYUFBYSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDO2lCQUN6RTtZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsaUJBQWlCLENBQUMsZUFBZSxHQUFHLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxhQUFrQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3BKO1FBQ0QsT0FBTyxpQkFBaUIsQ0FBQztJQUM3QixDQUFDO0NBQ0o7QUFFdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWJEYXRhLnRzPzIxMDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4uL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtcclxuICAgIENyYWZ0aW5nU3lzdGVtRGF0YSxcclxuICAgIENyYWZ0aW5nU3lzdGVtSW5mbyxcclxuICAgIEludmVudG9yeVJlY29yZERhdGEsXHJcbiAgICBSZWNpcGVDcmFmdGluZ0RhdGEsXHJcbiAgICBSZWNpcGVEYXRhXHJcbn0gZnJvbSBcIi4vSW50ZXJmYWNlRGF0YVR5cGVzXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9zeXN0ZW0vQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9hY3Rvci9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jcmFmdGluZy9SZWNpcGVcIjtcclxuXHJcbmludGVyZmFjZSBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICBvd25lZENvbXBvbmVudHM6IEludmVudG9yeVJlY29yZERhdGFbXTtcclxuICAgIHByZXBhcmVkQ29tcG9uZW50czogSW52ZW50b3J5UmVjb3JkRGF0YVtdO1xyXG59XHJcblxyXG5jbGFzcyBDcmFmdGluZ1RhYkRhdGEge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NyYWZ0aW5nU3lzdGVtczogQ3JhZnRpbmdTeXN0ZW1bXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludmVudG9yeTogSW52ZW50b3J5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWN0b3I6IGFueTtcclxuXHJcbiAgICBwcml2YXRlIF9jcmFmdGluZ1N5c3RlbURhdGE6IENyYWZ0aW5nU3lzdGVtRGF0YTtcclxuICAgIHByaXZhdGUgX3JlY2lwZURhdGE6IFJlY2lwZUNyYWZ0aW5nRGF0YTtcclxuICAgIHByaXZhdGUgX2ludmVudG9yeUNvbnRlbnRzOiBJbnZlbnRvcnlDb250ZW50cztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjcmFmdGluZ1N5c3RlbXM6IENyYWZ0aW5nU3lzdGVtW10sIGludmVudG9yeTogSW52ZW50b3J5LCBhY3RvcjogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW1zID0gY3JhZnRpbmdTeXN0ZW1zO1xyXG4gICAgICAgIHRoaXMuX2ludmVudG9yeSA9IGludmVudG9yeTtcclxuICAgICAgICB0aGlzLl9hY3RvciA9IGFjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjcmFmdGluZygpOiBDcmFmdGluZ1N5c3RlbURhdGEge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jcmFmdGluZ1N5c3RlbURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlY2lwZUNyYWZ0aW5nKCk6IFJlY2lwZUNyYWZ0aW5nRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY2lwZURhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGludmVudG9yeSgpOiBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludmVudG9yeUNvbnRlbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhY3RvcigpOiBBY3RvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGluaXQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW1EYXRhID0gYXdhaXQgdGhpcy5wcmVwYXJlQ3JhZnRpbmdTeXN0ZW1EYXRhKHRoaXMuX2NyYWZ0aW5nU3lzdGVtcywgdGhpcy5fYWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY3JhZnRpbmdTeXN0ZW1EYXRhLmhhc0VuYWJsZWRTeXN0ZW1zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ3JhZnRpbmdTeXN0ZW0gPSB0aGlzLl9jcmFmdGluZ1N5c3RlbXMuZmluZCgoc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSkgPT4gc3lzdGVtLmlkID09PSB0aGlzLl9jcmFmdGluZ1N5c3RlbURhdGEuc2VsZWN0ZWRTeXN0ZW1JZCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9yZWNpcGVEYXRhID0gYXdhaXQgdGhpcy5wcmVwYXJlUmVjaXBlRGF0YUZvclN5c3RlbShzZWxlY3RlZENyYWZ0aW5nU3lzdGVtLCB0aGlzLl9hY3RvciwgdGhpcy5faW52ZW50b3J5KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2ludmVudG9yeUNvbnRlbnRzID0gdGhpcy5wcmVwYXJlSW52ZW50b3J5RGF0YUZvclN5c3RlbShzZWxlY3RlZENyYWZ0aW5nU3lzdGVtLHRoaXMuX2FjdG9yLCB0aGlzLl9pbnZlbnRvcnkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBwcmVwYXJlQ3JhZnRpbmdTeXN0ZW1EYXRhKGNyYWZ0aW5nU3lzdGVtczogQ3JhZnRpbmdTeXN0ZW1bXSwgYWN0b3I6IGFueSk6IFByb21pc2U8Q3JhZnRpbmdTeXN0ZW1EYXRhPiB7XHJcbiAgICAgICAgbGV0IGVuYWJsZWRTeXN0ZW1zOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtc0luZm86IENyYWZ0aW5nU3lzdGVtSW5mb1tdID0gW107XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkU3lzdGVtSWQgPSBhY3Rvci5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLnNlbGVjdGVkQ3JhZnRpbmdTeXN0ZW0pO1xyXG4gICAgICAgIGNyYWZ0aW5nU3lzdGVtcy5mb3JFYWNoKChzeXN0ZW06IENyYWZ0aW5nU3lzdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzeXN0ZW0uZW5hYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgZW5hYmxlZFN5c3RlbXMrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjcmFmdGluZ1N5c3RlbXNJbmZvLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICFzeXN0ZW0uZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIGNvbXBlbmRpdW1QYWNrS2V5OiBzeXN0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBzeXN0ZW0ubmFtZSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBzeXN0ZW0uaWQgPT09IHN0b3JlZFN5c3RlbUlkXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgaGFzRW5hYmxlZFN5c3RlbXM6IGJvb2xlYW4gPSBlbmFibGVkU3lzdGVtcyA+IDA7XHJcbiAgICAgICAgaWYgKHN0b3JlZFN5c3RlbUlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW1zOiBjcmFmdGluZ1N5c3RlbXNJbmZvLFxyXG4gICAgICAgICAgICAgICAgaGFzRW5hYmxlZFN5c3RlbXM6IGhhc0VuYWJsZWRTeXN0ZW1zLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTeXN0ZW1JZDogc3RvcmVkU3lzdGVtSWRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaGFzRW5hYmxlZFN5c3RlbXMpIHtcclxuICAgICAgICAgICAgY29uc3QgZmlyc3RFbmFibGVkU3lzdGVtID0gY3JhZnRpbmdTeXN0ZW1zSW5mby5maW5kKChzeXN0ZW1JbmZvOiBDcmFmdGluZ1N5c3RlbUluZm8pID0+ICFzeXN0ZW1JbmZvLmRpc2FibGVkKTtcclxuICAgICAgICAgICAgZmlyc3RFbmFibGVkU3lzdGVtLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgYWN0b3Iuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgUHJvcGVydGllcy5mbGFnS2V5cy5hY3Rvci5zZWxlY3RlZENyYWZ0aW5nU3lzdGVtLCBmaXJzdEVuYWJsZWRTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtczogY3JhZnRpbmdTeXN0ZW1zSW5mbyxcclxuICAgICAgICAgICAgICAgIGhhc0VuYWJsZWRTeXN0ZW1zOiBoYXNFbmFibGVkU3lzdGVtcyxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU3lzdGVtSWQ6IGZpcnN0RW5hYmxlZFN5c3RlbS5jb21wZW5kaXVtUGFja0tleVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHByZXBhcmVSZWNpcGVEYXRhRm9yU3lzdGVtKGNyYWZ0aW5nU3lzdGVtOiBDcmFmdGluZ1N5c3RlbSwgYWN0b3I6IGFueSwgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiBQcm9taXNlPFJlY2lwZUNyYWZ0aW5nRGF0YT4ge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZEtub3duUmVjaXBlczogc3RyaW5nW10gPSBhY3Rvci5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLmtub3duUmVjaXBlc0ZvclN5c3RlbShjcmFmdGluZ1N5c3RlbS5pZCkpO1xyXG4gICAgICAgIGNvbnN0IGtub3duUmVjaXBlczogc3RyaW5nW10gPSBzdG9yZWRLbm93blJlY2lwZXMgPyBzdG9yZWRLbm93blJlY2lwZXMgOiBbXTtcclxuICAgICAgICBjb25zdCBlbmFibGVkUmVjaXBlczogTWFwPHN0cmluZywgUmVjaXBlRGF0YT4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3QgZGlzYWJsZWRSZWNpcGVzOiBSZWNpcGVEYXRhW10gPSBbXTtcclxuICAgICAgICBjcmFmdGluZ1N5c3RlbS5yZWNpcGVzLmZvckVhY2goKHJlY2lwZTogUmVjaXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzS25vd246IGJvb2xlYW4gPSBrbm93blJlY2lwZXMuaW5jbHVkZXMocmVjaXBlLnBhcnRJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzT3duZWQ6IGJvb2xlYW4gPSBpbnZlbnRvcnkuY29udGFpbnMocmVjaXBlLnBhcnRJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQ3JhZnRhYmxlOiBib29sZWFuID0gaXNLbm93biB8fCBpc093bmVkO1xyXG4gICAgICAgICAgICBpZiAoaXNDcmFmdGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGVuYWJsZWRSZWNpcGVzLnNldChyZWNpcGUucGFydElkLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcmVjaXBlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydElkOiByZWNpcGUucGFydElkLFxyXG4gICAgICAgICAgICAgICAgICAgIGtub3duOiBpc0tub3duLFxyXG4gICAgICAgICAgICAgICAgICAgIG93bmVkOiBpc093bmVkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyYWZ0YWJsZTogaXNDcmFmdGFibGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkUmVjaXBlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiByZWNpcGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0SWQ6IHJlY2lwZS5wYXJ0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAga25vd246IGlzS25vd24sXHJcbiAgICAgICAgICAgICAgICAgICAgb3duZWQ6IGlzT3duZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY3JhZnRhYmxlOiBpc0NyYWZ0YWJsZSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkUmVjaXBlSWQ6IHN0cmluZyA9IGF3YWl0IHRoaXMuX2FjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUuaWQsIFByb3BlcnRpZXMuZmxhZ0tleXMuYWN0b3Iuc2VsZWN0ZWRSZWNpcGUpO1xyXG4gICAgICAgIGlmIChlbmFibGVkUmVjaXBlcy5oYXMoc3RvcmVkUmVjaXBlSWQpKSB7XHJcbiAgICAgICAgICAgIGVuYWJsZWRSZWNpcGVzLmdldChzdG9yZWRSZWNpcGVJZCkuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVjaXBlczogQXJyYXkuZnJvbShlbmFibGVkUmVjaXBlcy52YWx1ZXMoKSkuY29uY2F0KGRpc2FibGVkUmVjaXBlcyksXHJcbiAgICAgICAgICAgICAgICBoYXNDcmFmdGFibGVSZWNpcGU6IHRydWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuX2FjdG9yLnVuc2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLnNlbGVjdGVkUmVjaXBlKTtcclxuICAgICAgICAgICAgaWYgKGVuYWJsZWRSZWNpcGVzLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlczogZGlzYWJsZWRSZWNpcGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NyYWZ0YWJsZVJlY2lwZTogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGFibGVSZWNpcGVzOiBSZWNpcGVEYXRhW10gPSBBcnJheS5mcm9tKGVuYWJsZWRSZWNpcGVzLnZhbHVlcygpKTtcclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFJlY2lwZTogUmVjaXBlRGF0YSA9IGNyYWZ0YWJsZVJlY2lwZXNbMF07XHJcbiAgICAgICAgICAgIGRlZmF1bHRSZWNpcGUuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL2F3YWl0IHRoaXMuX2FjdG9yLnNldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5hY3Rvci5zZWxlY3RlZFJlY2lwZSwgZGVmYXVsdFJlY2lwZS5wYXJ0SWQpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcmVjaXBlczogY3JhZnRhYmxlUmVjaXBlcy5jb25jYXQoZGlzYWJsZWRSZWNpcGVzKSxcclxuICAgICAgICAgICAgICAgIGhhc0NyYWZ0YWJsZVJlY2lwZTogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXBhcmVJbnZlbnRvcnlEYXRhRm9yU3lzdGVtKGNyYWZ0aW5nU3lzdGVtOiBDcmFmdGluZ1N5c3RlbSwgYWN0b3I6IGFueSwgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICAgICAgY29uc3QgaW52ZW50b3J5Q29udGVudHM6IEludmVudG9yeUNvbnRlbnRzID0ge1xyXG4gICAgICAgICAgICBvd25lZENvbXBvbmVudHM6IFtdLFxyXG4gICAgICAgICAgICBwcmVwYXJlZENvbXBvbmVudHM6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludmVudG9yeUNvbnRlbnRzLm93bmVkQ29tcG9uZW50cyA9IGludmVudG9yeS5vd25lZENvbXBvbmVudHMudW5pdHNcclxuICAgICAgICAgICAgLmZpbHRlcih1bml0ID0+IHVuaXQucGFydC5zeXN0ZW1JZCA9PT0gY3JhZnRpbmdTeXN0ZW0uaWQpXHJcbiAgICAgICAgICAgIC5maWx0ZXIodW5pdCA9PiAhdW5pdC5wYXJ0LmVzc2VuY2VzLmlzRW1wdHkoKSlcclxuICAgICAgICAgICAgLm1hcCh1bml0ID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdW5pdC5wYXJ0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydElkOiB1bml0LnBhcnQuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IHVuaXQucXVhbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHVuaXQucGFydC5pbWFnZVVybFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBzYXZlZEhvcHBlckNvbnRlbnRzOiBJbnZlbnRvcnlSZWNvcmREYXRhW10gPSBhY3Rvci5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLmFjdG9yLmhvcHBlckZvclN5c3RlbShjcmFmdGluZ1N5c3RlbS5pZCkpO1xyXG4gICAgICAgIGlmIChzYXZlZEhvcHBlckNvbnRlbnRzKSB7XHJcbiAgICAgICAgICAgIGludmVudG9yeUNvbnRlbnRzLnByZXBhcmVkQ29tcG9uZW50cyA9IHNhdmVkSG9wcGVyQ29udGVudHM7XHJcbiAgICAgICAgICAgIHNhdmVkSG9wcGVyQ29udGVudHMuZm9yRWFjaCgoaG9wcGVySXRlbTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5SXRlbSA9IGludmVudG9yeUNvbnRlbnRzLm93bmVkQ29tcG9uZW50cy5maW5kKChpbnZlbnRvcnlJdGVtOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiBpbnZlbnRvcnlJdGVtLnBhcnRJZCA9PT0gaG9wcGVySXRlbS5wYXJ0SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGludmVudG9yeUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlJdGVtLnF1YW50aXR5ID0gaW52ZW50b3J5SXRlbS5xdWFudGl0eSAtIGhvcHBlckl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnZlbnRvcnlDb250ZW50cy5vd25lZENvbXBvbmVudHMgPSBpbnZlbnRvcnlDb250ZW50cy5vd25lZENvbXBvbmVudHMuZmlsdGVyKChpbnZlbnRvcnlJdGVtOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiBpbnZlbnRvcnlJdGVtLnF1YW50aXR5ID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnZlbnRvcnlDb250ZW50cztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ1RhYkRhdGF9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTabData.ts\n");

/***/ }),

/***/ "./src/scripts/interface/ItemRecipeTab.ts":
/*!************************************************!*\
  !*** ./src/scripts/interface/ItemRecipeTab.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ItemRecipeTab\": () => (/* binding */ ItemRecipeTab)\n/* harmony export */ });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass ItemRecipeTab {\r\n    constructor(itemApplication) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = itemApplication;\r\n        this._item = itemApplication.item;\r\n        if (this._item.isOwned) {\r\n            this._owned = true;\r\n            const actorId = this._item.actor.id;\r\n            \"actors\" in game ? this._actor = game.actors.get(actorId) : undefined;\r\n            this._inventory = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_1__[\"default\"].inventories.getFor(this._actor.id);\r\n        }\r\n        else {\r\n            this._owned = false;\r\n        }\r\n        const partId = itemApplication.item.data.flags.fabricate.identity.partId;\r\n        this._craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_1__[\"default\"].systems.getSystemByPartId(partId);\r\n        this._recipe = this._craftingSystem.getRecipeByPartId(partId);\r\n    }\r\n    static bind(itemApplication, sheetHtml) {\r\n        if (!itemApplication.item.data.flags.fabricate) {\r\n            return;\r\n        }\r\n        const fabricateFlags = itemApplication.item.data.flags.fabricate;\r\n        if (fabricateFlags.type === _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types.recipe) {\r\n            let tab = ItemRecipeTab.tabs.get(itemApplication.id);\r\n            if (!tab) {\r\n                tab = new ItemRecipeTab(itemApplication);\r\n                ItemRecipeTab.tabs.set(itemApplication.id, tab);\r\n            }\r\n            tab.init(sheetHtml);\r\n        }\r\n        if (fabricateFlags.type === _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types.component && fabricateFlags.component.essences && fabricateFlags.component.essences.length > 0) {\r\n            const essences = fabricateFlags.component.essences;\r\n            const craftingSystem = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_1__[\"default\"].systems.getSystemById(fabricateFlags.identity.systemId);\r\n            const essenceDescription = Object.keys(essences).map((essence) => craftingSystem.getEssenceBySlug(essence).icon)\r\n                .join(', ');\r\n            sheetHtml.find('ol.properties-list').append($(`<li>${essenceDescription}</li>`));\r\n        }\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToItemSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const isCraftable = this._owned;\r\n            const template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.recipeTab, { recipe: this._recipe, item: this._item, system: this._craftingSystem, isCraftable: isCraftable });\r\n            const element = this._sheetHtml.find('.recipe-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-recipe').append(template);\r\n            }\r\n            this.handleItemSheetEvents();\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(ItemRecipeTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToItemSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($(`<a class=\"item fabricate-recipe\" data-tab=\"${ItemRecipeTab.tabKey}\">Recipe</a>`));\r\n        $(sheetHtml.find(`.sheet-body`)).append($(`<div class=\"tab fabricate-recipe\" data-group=\"primary\" data-tab=\"${ItemRecipeTab.tabKey}\"></div>`));\r\n    }\r\n    handleItemSheetEvents() {\r\n        this._sheetHtml.find('.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            yield this._craftingSystem.craft(this._actor, this._inventory, this._recipe);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.open-compendium-item').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const partId = event.currentTarget.getAttribute('data-part-id');\r\n            const systemId = event.currentTarget.getAttribute('data-system-id');\r\n            const compendium = \"packs\" in game ? game.packs.get(systemId) : undefined;\r\n            // @ts-ignore\r\n            const document = yield compendium.getDocument(partId);\r\n            if (\"user\" in game ? game.user.isGM : false) {\r\n                console.warn('You are attempting to view the details of a Crafting Component that you have no ' +\r\n                    'access to. Ask your GM oran administrator to grant you access to the items in the compendium for ' +\r\n                    'the Crafting System \"' + this._craftingSystem.name + '\"');\r\n            }\r\n            // document.sheet.render(true) // this used to work\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-recipe[data-tab=\"${ItemRecipeTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nItemRecipeTab.tabs = new Map();\r\nItemRecipeTab.tabKey = 'fabricate-recipe';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDZ0M7QUFRdkUsTUFBTSxhQUFhO0lBcUNmLFlBQVksZUFBb0I7UUF6QnhCLHFCQUFnQixHQUFZLEtBQUssQ0FBQztRQTBCdEMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGVBQWUsQ0FBQztRQUN6QyxJQUFJLENBQUMsS0FBSyxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRTtZQUNwQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNuQixNQUFNLE9BQU8sR0FBVyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7WUFDNUMsUUFBUSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDO1lBQ3RFLElBQUksQ0FBQyxVQUFVLEdBQUcsNEZBQXVDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM3RTthQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7U0FDdkI7UUFDRCxNQUFNLE1BQU0sR0FBVyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7UUFDakYsSUFBSSxDQUFDLGVBQWUsR0FBRyxtR0FBOEMsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEUsQ0FBQztJQXBDTSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQW9CLEVBQUUs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SSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQztZQUMvSCxhQUFhO1lBQ2IsTUFBTSxRQUFRLEdBQThCLE1BQU0sVUFBVSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNqRixJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxLQUFLLEVBQUU7Z0JBQ3pDLE9BQU8sQ0FBQyxJQUFJLENBQUMsa0ZBQWtGO29CQUMzRixtR0FBbUc7b0JBQ25HLHVCQUF1QixHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO2FBQ2xFO1lBQ0QsbURBQW1EO1FBQ3ZELENBQUMsRUFBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLGFBQWE7UUFDakIsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsYUFBYSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hILENBQUM7O0FBakh1QixrQkFBSSxHQUErQixJQUFJLEdBQUcsRUFBRSxDQUFDO0FBWXRELG9CQUFNLEdBQVcsa0JBQWtCLENBQUM7QUF3R2pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvaW50ZXJmYWNlL0l0ZW1SZWNpcGVUYWIudHM/MGNiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQgRmFicmljYXRlQXBwbGljYXRpb24gZnJvbSBcIi4uL2FwcGxpY2F0aW9uL0ZhYnJpY2F0ZUFwcGxpY2F0aW9uXCI7XHJcbmltcG9ydCB7RG9jdW1lbnR9IGZyb20gXCJAbGVhZ3VlLW9mLWZvdW5kcnktZGV2ZWxvcGVycy9mb3VuZHJ5LXZ0dC10eXBlcy9zcmMvZm91bmRyeS9jb21tb24vYWJzdHJhY3QvbW9kdWxlLm1qc1wiO1xyXG5pbXBvcnQge0FueURvY3VtZW50RGF0YX0gZnJvbSBcIkBsZWFndWUtb2YtZm91bmRyeS1kZXZlbG9wZXJzL2ZvdW5kcnktdnR0LXR5cGVzL3NyYy9mb3VuZHJ5L2NvbW1vbi9hYnN0cmFjdC9kYXRhLm1qc1wiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi4vc3lzdGVtL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vYWN0b3IvSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY3JhZnRpbmcvUmVjaXBlXCI7XHJcbmltcG9ydCB7RmFicmljYXRlQ29tcGVuZGl1bURhdGF9IGZyb20gXCIuLi9jb21wZW5kaXVtL0NvbXBlbmRpdW1EYXRhXCI7XHJcblxyXG5jbGFzcyBJdGVtUmVjaXBlVGFiIHtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRhYnM6IE1hcDxzdHJpbmcsIEl0ZW1SZWNpcGVUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHByaXZhdGUgX3NoZWV0QXBwbGljYXRpb246IGFueTtcclxuICAgIHByaXZhdGUgX3NoZWV0SHRtbDogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXRlbTogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfb3duZWQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGU6IFJlY2lwZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NyYWZ0aW5nU3lzdGVtOiBDcmFmdGluZ1N5c3RlbTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ludmVudG9yeTogSW52ZW50b3J5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSAgX2FjdG9yOiBhbnk7XHJcbiAgICBwcml2YXRlIF9zdXBwcmVzc2VkSW5OYXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHRhYktleTogc3RyaW5nID0gJ2ZhYnJpY2F0ZS1yZWNpcGUnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYmluZChpdGVtQXBwbGljYXRpb246IGFueSwgc2hlZXRIdG1sOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIWl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZmFicmljYXRlRmxhZ3M6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhID0gaXRlbUFwcGxpY2F0aW9uLml0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGU7XHJcbiAgICAgICAgaWYgKGZhYnJpY2F0ZUZsYWdzLnR5cGUgPT09IFByb3BlcnRpZXMudHlwZXMucmVjaXBlKSB7XHJcbiAgICAgICAgICAgIGxldCB0YWI6IEl0ZW1SZWNpcGVUYWIgPSBJdGVtUmVjaXBlVGFiLnRhYnMuZ2V0KGl0ZW1BcHBsaWNhdGlvbi5pZCk7XHJcbiAgICAgICAgICAgIGlmICghdGFiKSB7XHJcbiAgICAgICAgICAgICAgICB0YWIgPSBuZXcgSXRlbVJlY2lwZVRhYihpdGVtQXBwbGljYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgSXRlbVJlY2lwZVRhYi50YWJzLnNldChpdGVtQXBwbGljYXRpb24uaWQsIHRhYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGFiLmluaXQoc2hlZXRIdG1sKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZhYnJpY2F0ZUZsYWdzLnR5cGUgPT09IFByb3BlcnRpZXMudHlwZXMuY29tcG9uZW50ICYmIGZhYnJpY2F0ZUZsYWdzLmNvbXBvbmVudC5lc3NlbmNlcyAmJiBmYWJyaWNhdGVGbGFncy5jb21wb25lbnQuZXNzZW5jZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBlc3NlbmNlczogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IGZhYnJpY2F0ZUZsYWdzLmNvbXBvbmVudC5lc3NlbmNlcztcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW0gPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5SWQoZmFicmljYXRlRmxhZ3MuaWRlbnRpdHkuc3lzdGVtSWQpO1xyXG4gICAgICAgICAgICBjb25zdCBlc3NlbmNlRGVzY3JpcHRpb24gPSBPYmplY3Qua2V5cyhlc3NlbmNlcykubWFwKChlc3NlbmNlOiBzdHJpbmcpID0+IGNyYWZ0aW5nU3lzdGVtLmdldEVzc2VuY2VCeVNsdWcoZXNzZW5jZSkuaWNvbilcclxuICAgICAgICAgICAgICAgIC5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICBzaGVldEh0bWwuZmluZCgnb2wucHJvcGVydGllcy1saXN0JykuYXBwZW5kKCQoYDxsaT4ke2Vzc2VuY2VEZXNjcmlwdGlvbn08L2xpPmApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXRlbUFwcGxpY2F0aW9uOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uID0gaXRlbUFwcGxpY2F0aW9uO1xyXG4gICAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtQXBwbGljYXRpb24uaXRlbTtcclxuICAgICAgICBpZiAodGhpcy5faXRlbS5pc093bmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX293bmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgYWN0b3JJZDogc3RyaW5nID0gdGhpcy5faXRlbS5hY3Rvci5pZDtcclxuICAgICAgICAgICAgXCJhY3RvcnNcIiBpbiBnYW1lID8gdGhpcy5fYWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoYWN0b3JJZCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmVudG9yeSA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLmludmVudG9yaWVzLmdldEZvcih0aGlzLl9hY3Rvci5pZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fb3duZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFydElkOiBzdHJpbmcgPSBpdGVtQXBwbGljYXRpb24uaXRlbS5kYXRhLmZsYWdzLmZhYnJpY2F0ZS5pZGVudGl0eS5wYXJ0SWQ7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW0gPSBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLmdldFN5c3RlbUJ5UGFydElkKHBhcnRJZCk7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlID0gdGhpcy5fY3JhZnRpbmdTeXN0ZW0uZ2V0UmVjaXBlQnlQYXJ0SWQocGFydElkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoc2hlZXRIdG1sOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwgPSBzaGVldEh0bWw7XHJcbiAgICAgICAgdGhpcy5hZGRUYWJUb0l0ZW1TaGVldChzaGVldEh0bWwpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgaXNDcmFmdGFibGUgPSB0aGlzLl9vd25lZDtcclxuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IHJlbmRlclRlbXBsYXRlKFByb3BlcnRpZXMubW9kdWxlLnRlbXBsYXRlcy5yZWNpcGVUYWIsIHtyZWNpcGU6IHRoaXMuX3JlY2lwZSwgaXRlbTogdGhpcy5faXRlbSwgc3lzdGVtOiB0aGlzLl9jcmFmdGluZ1N5c3RlbSwgaXNDcmFmdGFibGU6IGlzQ3JhZnRhYmxlfSk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3NoZWV0SHRtbC5maW5kKCcucmVjaXBlLXRhYi1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy50YWIuZmFicmljYXRlLXJlY2lwZScpLmFwcGVuZCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUl0ZW1TaGVldEV2ZW50cygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NlZEluTmF2ICYmICF0aGlzLmlzQWN0aXZlSW5OYXYoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uLl90YWJzWzBdLmFjdGl2YXRlKEl0ZW1SZWNpcGVUYWIudGFiS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkVGFiVG9JdGVtU2hlZXQoc2hlZXRIdG1sOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0YWJzID0gc2hlZXRIdG1sLmZpbmQoYC50YWJzW2RhdGEtZ3JvdXA9XCJwcmltYXJ5XCJdYCk7XHJcbiAgICAgICAgdGFicy5hcHBlbmQoJChcclxuICAgICAgICAgICAgYDxhIGNsYXNzPVwiaXRlbSBmYWJyaWNhdGUtcmVjaXBlXCIgZGF0YS10YWI9XCIke0l0ZW1SZWNpcGVUYWIudGFiS2V5fVwiPlJlY2lwZTwvYT5gXHJcbiAgICAgICAgKSk7XHJcblxyXG4gICAgICAgICQoc2hlZXRIdG1sLmZpbmQoYC5zaGVldC1ib2R5YCkpLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICBgPGRpdiBjbGFzcz1cInRhYiBmYWJyaWNhdGUtcmVjaXBlXCIgZGF0YS1ncm91cD1cInByaW1hcnlcIiBkYXRhLXRhYj1cIiR7SXRlbVJlY2lwZVRhYi50YWJLZXl9XCI+PC9kaXY+YFxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlSXRlbVNoZWV0RXZlbnRzKCk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmNyYWZ0LWJ1dHRvbicpLmNsaWNrKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5fY3JhZnRpbmdTeXN0ZW0uY3JhZnQodGhpcy5fYWN0b3IsIHRoaXMuX2ludmVudG9yeSwgdGhpcy5fcmVjaXBlKTtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5vcGVuLWNvbXBlbmRpdW0taXRlbScpLmNsaWNrKGFzeW5jIChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnRJZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXBhcnQtaWQnKTtcclxuICAgICAgICAgICAgY29uc3Qgc3lzdGVtSWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zeXN0ZW0taWQnKTtcclxuICAgICAgICAgICAgY29uc3QgY29tcGVuZGl1bTogQ29tcGVuZGl1bUNvbGxlY3Rpb248Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+ID0gXCJwYWNrc1wiIGluIGdhbWUgPyBnYW1lLnBhY2tzLmdldChzeXN0ZW1JZCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgY29uc3QgZG9jdW1lbnQ6IERvY3VtZW50PEFueURvY3VtZW50RGF0YT4gPSBhd2FpdCBjb21wZW5kaXVtLmdldERvY3VtZW50KHBhcnRJZCk7XHJcbiAgICAgICAgICAgIGlmIChcInVzZXJcIiBpbiBnYW1lID8gZ2FtZS51c2VyLmlzR00gOiBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdZb3UgYXJlIGF0dGVtcHRpbmcgdG8gdmlldyB0aGUgZGV0YWlscyBvZiBhIENyYWZ0aW5nIENvbXBvbmVudCB0aGF0IHlvdSBoYXZlIG5vICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICdhY2Nlc3MgdG8uIEFzayB5b3VyIEdNIG9yYW4gYWRtaW5pc3RyYXRvciB0byBncmFudCB5b3UgYWNjZXNzIHRvIHRoZSBpdGVtcyBpbiB0aGUgY29tcGVuZGl1bSBmb3IgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RoZSBDcmFmdGluZyBTeXN0ZW0gXCInICsgdGhpcy5fY3JhZnRpbmdTeXN0ZW0ubmFtZSArICdcIicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGRvY3VtZW50LnNoZWV0LnJlbmRlcih0cnVlKSAvLyB0aGlzIHVzZWQgdG8gd29ya1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzQWN0aXZlSW5OYXYoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICQodGhpcy5fc2hlZXRIdG1sKS5maW5kKGBhLmZhYnJpY2F0ZS1yZWNpcGVbZGF0YS10YWI9XCIke0l0ZW1SZWNpcGVUYWIudGFiS2V5fVwiXWApLmhhc0NsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJdGVtUmVjaXBlVGFifSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/interface/ItemRecipeTab.ts\n");

/***/ }),

/***/ "./src/scripts/module.ts":
/*!*******************************!*\
  !*** ./src/scripts/module.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./application/FabricateLifecycle */ \"./src/scripts/application/FabricateLifecycle.ts\");\n/* harmony import */ var _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./application/FabricateApplication */ \"./src/scripts/application/FabricateApplication.ts\");\n/* harmony import */ var _system_CompendiumImporter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./system/CompendiumImporter */ \"./src/scripts/system/CompendiumImporter.ts\");\n/* harmony import */ var _system_CraftingSystemFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./system/CraftingSystemFactory */ \"./src/scripts/system/CraftingSystemFactory.ts\");\n/* harmony import */ var _5e_RollProvider5E__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./5e/RollProvider5E */ \"./src/scripts/5e/RollProvider5E.ts\");\n/* harmony import */ var _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./foundry/GameProvider */ \"./src/scripts/foundry/GameProvider.ts\");\n/* harmony import */ var _foundry_DiceRoller__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./foundry/DiceRoller */ \"./src/scripts/foundry/DiceRoller.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nHooks.on(\"renderSidebarTab\", (app, html) => {\r\n    const GAME = new _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_6__.GameProvider().globalGameObject();\r\n    if (!(app instanceof ItemDirectory) && !GAME.user.isGM) {\r\n        return;\r\n    }\r\n    const buttons = html.find(`.header-actions.action-buttons`);\r\n    const buttonClass = _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].ui.buttons.openCraftingSystemManager[\"class\"];\r\n    const buttonText = GAME.i18n.localize(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id}.ui.sidebar.buttons.openCraftingSystemManager`);\r\n    const button = $(`<button class=\"${buttonClass}\"><i class=\"fa-solid fa-flask-vial\"></i> ${buttonText}</button>`);\r\n    buttons.append(button);\r\n    button.on('click', (event) => __awaiter(void 0, void 0, void 0, function* () {\r\n        console.log(\"Clicky!\");\r\n        console.log(event.target);\r\n    }));\r\n});\r\nHooks.once('ready', loadCraftingSystems);\r\nHooks.once('ready', () => {\r\n    _application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_1__.FabricateLifecycle.init();\r\n});\r\n/**\r\n * Loads all Crafting Systems with a System Specification declared with the Crafting System Registry.\r\n * */\r\nfunction loadCraftingSystems() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const systemSpecifications = _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].systems.systemDefinitions;\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpecifications.length} crafting systems. `);\r\n        systemSpecifications.forEach(_application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_1__.FabricateLifecycle.registerCraftingSystemSettings);\r\n        systemSpecifications.forEach(loadCraftingSystem);\r\n        const systemNames = systemSpecifications.map((systemSpec) => systemSpec.name);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpecifications.length} crafting systems: ${systemNames.join(', ')} `);\r\n    });\r\n}\r\n/**\r\n * Loads a single Crafting System from a System Specification, which must include a Compendium Pack Key. Item data from\r\n * the Compendium Pack is used to load the Recipes and Crafting Components into the system from the compendium. The\r\n * Fabricator, supported systems and name provided in the spec are all preserved.\r\n *\r\n * @param systemDefinition `CraftingSystemDefinition` that determines how a system behaves and which compendium packs\r\n * content for the system should be loaded from.\r\n * */\r\nfunction loadCraftingSystem(systemDefinition) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemDefinition.name} from Compendium pack(s) ${systemDefinition.compendia.join(', ')}. `);\r\n        const globalGameObject = new _foundry_GameProvider__WEBPACK_IMPORTED_MODULE_6__.GameProvider().globalGameObject();\r\n        const gameSystemId = globalGameObject.system.id;\r\n        if (systemDefinition.gameSystem !== gameSystemId) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | ${systemDefinition.name} does not support the current game system (${gameSystemId}), and will not be loaded. `);\r\n            return;\r\n        }\r\n        const compendiumImporter = new _system_CompendiumImporter__WEBPACK_IMPORTED_MODULE_3__.CompendiumImporter();\r\n        const partDictionary = yield compendiumImporter.import(systemDefinition.id, systemDefinition.compendia, systemDefinition.essences);\r\n        const enabled = globalGameObject.settings.get(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].settingsKeys.craftingSystem.enabled(systemDefinition.id));\r\n        systemDefinition.enabled = enabled;\r\n        const craftingSystemFactory = new _system_CraftingSystemFactory__WEBPACK_IMPORTED_MODULE_4__.CraftingSystemFactory({\r\n            specification: systemDefinition,\r\n            partDictionary: partDictionary,\r\n            rollProviderFactory: new _5e_RollProvider5E__WEBPACK_IMPORTED_MODULE_5__.RollProvider5EFactory(),\r\n            diceRoller: new _foundry_DiceRoller__WEBPACK_IMPORTED_MODULE_7__.DiceRoller(\"1d20\")\r\n        });\r\n        const craftingSystem = craftingSystemFactory.make();\r\n        _application_FabricateApplication__WEBPACK_IMPORTED_MODULE_2__[\"default\"].systems.register(craftingSystem);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemDefinition.name}. `);\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUE4QyxZQUFZLDZCQUE2QixDQUFDLENBQUM7WUFDMUosT0FBTztTQUNWO1FBQ0QsTUFBTSxrQkFBa0IsR0FBdUIsSUFBSSwwRUFBa0IsRUFBRSxDQUFDO1FBQ3hFLE1BQU0sY0FBYyxHQUFtQixNQUFNLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25KLE1BQU0sT0FBTyxHQUFzQixnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLDZEQUFvQixFQUFFLHVGQUE4QyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDNUosZ0JBQWdCLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUNuQyxNQUFNLHFCQUFxQixHQUEwQixJQUFJLGdGQUFxQixDQUFDO1lBQzNFLGFBQWEsRUFBRSxnQkFBZ0I7WUFDL0IsY0FBYyxFQUFFLGNBQWM7WUFDOUIsbUJBQW1CLEVBQUUsSUFBSSxxRUFBcUIsRUFBRTtZQUNoRCxVQUFVLEVBQUUsSUFBSSwyREFBVSxDQUFDLE1BQU0sQ0FBQztTQUNyQyxDQUFDLENBQUM7UUFDSCxNQUFNLGNBQWMsR0FBbUIscUJBQXFCLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDcEUsMEZBQXFDLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGdFQUF1QixhQUFhLGdCQUFnQixDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDbEYsQ0FBQztDQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvbW9kdWxlLnRzPzU5NDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUxpZmVjeWNsZX0gZnJvbSBcIi4vYXBwbGljYXRpb24vRmFicmljYXRlTGlmZWN5Y2xlXCI7XHJcbmltcG9ydCBGYWJyaWNhdGVBcHBsaWNhdGlvbiBmcm9tIFwiLi9hcHBsaWNhdGlvbi9GYWJyaWNhdGVBcHBsaWNhdGlvblwiO1xyXG5pbXBvcnQge0NvbXBlbmRpdW1JbXBvcnRlcn0gZnJvbSBcIi4vc3lzdGVtL0NvbXBlbmRpdW1JbXBvcnRlclwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbn0gZnJvbSBcIi4vc3lzdGVtX2RlZmluaXRpb25zL0NyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvblwiO1xyXG5pbXBvcnQge0dhbWVTeXN0ZW19IGZyb20gXCIuL3N5c3RlbS9HYW1lU3lzdGVtXCI7XHJcbmltcG9ydCB7UGFydERpY3Rpb25hcnl9IGZyb20gXCIuL3N5c3RlbS9QYXJ0RGljdGlvbmFyeVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtRmFjdG9yeX0gZnJvbSBcIi4vc3lzdGVtL0NyYWZ0aW5nU3lzdGVtRmFjdG9yeVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi9zeXN0ZW0vQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IHtSb2xsUHJvdmlkZXI1RUZhY3Rvcnl9IGZyb20gXCIuLzVlL1JvbGxQcm92aWRlcjVFXCI7XHJcbmltcG9ydCB7R2FtZVByb3ZpZGVyfSBmcm9tIFwiLi9mb3VuZHJ5L0dhbWVQcm92aWRlclwiO1xyXG5pbXBvcnQge0RpY2VSb2xsZXJ9IGZyb20gXCIuL2ZvdW5kcnkvRGljZVJvbGxlclwiO1xyXG5cclxuSG9va3Mub24oXCJyZW5kZXJTaWRlYmFyVGFiXCIsIChhcHA6IGFueSwgaHRtbDogYW55KSA9PiB7XHJcblxyXG4gICAgY29uc3QgR0FNRSA9IG5ldyBHYW1lUHJvdmlkZXIoKS5nbG9iYWxHYW1lT2JqZWN0KCk7XHJcblxyXG4gICAgaWYgKCEoYXBwIGluc3RhbmNlb2YgSXRlbURpcmVjdG9yeSkgJiYgIUdBTUUudXNlci5pc0dNKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ1dHRvbnMgPSBodG1sLmZpbmQoYC5oZWFkZXItYWN0aW9ucy5hY3Rpb24tYnV0dG9uc2ApO1xyXG4gICAgY29uc3QgYnV0dG9uQ2xhc3MgPSBQcm9wZXJ0aWVzLnVpLmJ1dHRvbnMub3BlbkNyYWZ0aW5nU3lzdGVtTWFuYWdlci5jbGFzcztcclxuICAgIGNvbnN0IGJ1dHRvblRleHQgPSBHQU1FLmkxOG4ubG9jYWxpemUoYCR7UHJvcGVydGllcy5tb2R1bGUuaWR9LnVpLnNpZGViYXIuYnV0dG9ucy5vcGVuQ3JhZnRpbmdTeXN0ZW1NYW5hZ2VyYCk7XHJcbiAgICBjb25zdCBidXR0b24gPSAkKFxyXG4gICAgICAgIGA8YnV0dG9uIGNsYXNzPVwiJHtidXR0b25DbGFzc31cIj48aSBjbGFzcz1cImZhLXNvbGlkIGZhLWZsYXNrLXZpYWxcIj48L2k+ICR7YnV0dG9uVGV4dH08L2J1dHRvbj5gXHJcbiAgICApO1xyXG4gICAgYnV0dG9ucy5hcHBlbmQoYnV0dG9uKTtcclxuICAgIGJ1dHRvbi5vbignY2xpY2snLCBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkNsaWNreSFcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0KTtcclxuICAgIH0pO1xyXG5cclxufSk7XHJcblxyXG5Ib29rcy5vbmNlKCdyZWFkeScsIGxvYWRDcmFmdGluZ1N5c3RlbXMpO1xyXG5Ib29rcy5vbmNlKCdyZWFkeScsICgpID0+IHtcclxuICAgIEZhYnJpY2F0ZUxpZmVjeWNsZS5pbml0KCk7XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIExvYWRzIGFsbCBDcmFmdGluZyBTeXN0ZW1zIHdpdGggYSBTeXN0ZW0gU3BlY2lmaWNhdGlvbiBkZWNsYXJlZCB3aXRoIHRoZSBDcmFmdGluZyBTeXN0ZW0gUmVnaXN0cnkuXHJcbiAqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDcmFmdGluZ1N5c3RlbXMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBzeXN0ZW1TcGVjaWZpY2F0aW9ucyA9IEZhYnJpY2F0ZUFwcGxpY2F0aW9uLnN5c3RlbXMuc3lzdGVtRGVmaW5pdGlvbnM7XHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkaW5nICR7c3lzdGVtU3BlY2lmaWNhdGlvbnMubGVuZ3RofSBjcmFmdGluZyBzeXN0ZW1zLiBgKTtcclxuICAgIHN5c3RlbVNwZWNpZmljYXRpb25zLmZvckVhY2goRmFicmljYXRlTGlmZWN5Y2xlLnJlZ2lzdGVyQ3JhZnRpbmdTeXN0ZW1TZXR0aW5ncyk7XHJcbiAgICBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5mb3JFYWNoKGxvYWRDcmFmdGluZ1N5c3RlbSk7XHJcbiAgICBjb25zdCBzeXN0ZW1OYW1lcyA9IHN5c3RlbVNwZWNpZmljYXRpb25zLm1hcCgoc3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uKSA9PiBzeXN0ZW1TcGVjLm5hbWUpO1xyXG4gICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgTG9hZGVkICR7c3lzdGVtU3BlY2lmaWNhdGlvbnMubGVuZ3RofSBjcmFmdGluZyBzeXN0ZW1zOiAke3N5c3RlbU5hbWVzLmpvaW4oJywgJyl9IGApO1xyXG59XHJcblxyXG4vKipcclxuICogTG9hZHMgYSBzaW5nbGUgQ3JhZnRpbmcgU3lzdGVtIGZyb20gYSBTeXN0ZW0gU3BlY2lmaWNhdGlvbiwgd2hpY2ggbXVzdCBpbmNsdWRlIGEgQ29tcGVuZGl1bSBQYWNrIEtleS4gSXRlbSBkYXRhIGZyb21cclxuICogdGhlIENvbXBlbmRpdW0gUGFjayBpcyB1c2VkIHRvIGxvYWQgdGhlIFJlY2lwZXMgYW5kIENyYWZ0aW5nIENvbXBvbmVudHMgaW50byB0aGUgc3lzdGVtIGZyb20gdGhlIGNvbXBlbmRpdW0uIFRoZVxyXG4gKiBGYWJyaWNhdG9yLCBzdXBwb3J0ZWQgc3lzdGVtcyBhbmQgbmFtZSBwcm92aWRlZCBpbiB0aGUgc3BlYyBhcmUgYWxsIHByZXNlcnZlZC5cclxuICpcclxuICogQHBhcmFtIHN5c3RlbURlZmluaXRpb24gYENyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbmAgdGhhdCBkZXRlcm1pbmVzIGhvdyBhIHN5c3RlbSBiZWhhdmVzIGFuZCB3aGljaCBjb21wZW5kaXVtIHBhY2tzXHJcbiAqIGNvbnRlbnQgZm9yIHRoZSBzeXN0ZW0gc2hvdWxkIGJlIGxvYWRlZCBmcm9tLlxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ3JhZnRpbmdTeXN0ZW0oc3lzdGVtRGVmaW5pdGlvbjogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkaW5nICR7c3lzdGVtRGVmaW5pdGlvbi5uYW1lfSBmcm9tIENvbXBlbmRpdW0gcGFjayhzKSAke3N5c3RlbURlZmluaXRpb24uY29tcGVuZGlhLmpvaW4oJywgJyl9LiBgKTtcclxuICAgIGNvbnN0IGdsb2JhbEdhbWVPYmplY3QgPSBuZXcgR2FtZVByb3ZpZGVyKCkuZ2xvYmFsR2FtZU9iamVjdCgpO1xyXG4gICAgY29uc3QgZ2FtZVN5c3RlbUlkID0gZ2xvYmFsR2FtZU9iamVjdC5zeXN0ZW0uaWQ7XHJcbiAgICBpZiAoc3lzdGVtRGVmaW5pdGlvbi5nYW1lU3lzdGVtICE9PSBnYW1lU3lzdGVtSWQgYXMgR2FtZVN5c3RlbSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8ICR7c3lzdGVtRGVmaW5pdGlvbi5uYW1lfSBkb2VzIG5vdCBzdXBwb3J0IHRoZSBjdXJyZW50IGdhbWUgc3lzdGVtICgke2dhbWVTeXN0ZW1JZH0pLCBhbmQgd2lsbCBub3QgYmUgbG9hZGVkLiBgKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBjb21wZW5kaXVtSW1wb3J0ZXI6IENvbXBlbmRpdW1JbXBvcnRlciA9IG5ldyBDb21wZW5kaXVtSW1wb3J0ZXIoKTtcclxuICAgIGNvbnN0IHBhcnREaWN0aW9uYXJ5OiBQYXJ0RGljdGlvbmFyeSA9IGF3YWl0IGNvbXBlbmRpdW1JbXBvcnRlci5pbXBvcnQoc3lzdGVtRGVmaW5pdGlvbi5pZCwgc3lzdGVtRGVmaW5pdGlvbi5jb21wZW5kaWEsIHN5c3RlbURlZmluaXRpb24uZXNzZW5jZXMpO1xyXG4gICAgY29uc3QgZW5hYmxlZDogYm9vbGVhbiA9IDxib29sZWFuPiBnbG9iYWxHYW1lT2JqZWN0LnNldHRpbmdzLmdldChQcm9wZXJ0aWVzLm1vZHVsZS5pZCwgUHJvcGVydGllcy5zZXR0aW5nc0tleXMuY3JhZnRpbmdTeXN0ZW0uZW5hYmxlZChzeXN0ZW1EZWZpbml0aW9uLmlkKSk7XHJcbiAgICBzeXN0ZW1EZWZpbml0aW9uLmVuYWJsZWQgPSBlbmFibGVkO1xyXG4gICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1GYWN0b3J5OiBDcmFmdGluZ1N5c3RlbUZhY3RvcnkgPSBuZXcgQ3JhZnRpbmdTeXN0ZW1GYWN0b3J5KHtcclxuICAgICAgICBzcGVjaWZpY2F0aW9uOiBzeXN0ZW1EZWZpbml0aW9uLFxyXG4gICAgICAgIHBhcnREaWN0aW9uYXJ5OiBwYXJ0RGljdGlvbmFyeSxcclxuICAgICAgICByb2xsUHJvdmlkZXJGYWN0b3J5OiBuZXcgUm9sbFByb3ZpZGVyNUVGYWN0b3J5KCksXHJcbiAgICAgICAgZGljZVJvbGxlcjogbmV3IERpY2VSb2xsZXIoXCIxZDIwXCIpXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtOiBDcmFmdGluZ1N5c3RlbSA9IGNyYWZ0aW5nU3lzdGVtRmFjdG9yeS5tYWtlKCk7XHJcbiAgICBGYWJyaWNhdGVBcHBsaWNhdGlvbi5zeXN0ZW1zLnJlZ2lzdGVyKGNyYWZ0aW5nU3lzdGVtKTtcclxuICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IExvYWRlZCAke3N5c3RlbURlZmluaXRpb24ubmFtZX0uIGApO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/module.ts\n");

/***/ }),

/***/ "./src/scripts/registries/CraftingSystemRegistry.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/registries/CraftingSystemRegistry.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingSystemRegistry\": () => (/* binding */ CraftingSystemRegistry)\n/* harmony export */ });\n/* harmony import */ var _system_definitions_AlchemistsSuppliesV16__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../system_definitions/AlchemistsSuppliesV16 */ \"./src/scripts/system_definitions/AlchemistsSuppliesV16.ts\");\n\r\nclass CraftingSystemRegistry {\r\n    constructor() {\r\n        this._craftingSystemsById = new Map();\r\n        this._craftingSystemsByPartId = new Map();\r\n        this._systemDefinitions = CraftingSystemRegistry.defaultSystemSpecifications();\r\n    }\r\n    register(system) {\r\n        this._craftingSystemsById.set(system.id, system);\r\n        this._craftingSystemsByPartId = this.resolvePartsForSystem(system, this._craftingSystemsByPartId);\r\n    }\r\n    resolvePartsForSystem(system, parts) {\r\n        const recipeLinks = new Map(system.recipes.map((recipe) => [recipe.partId, system]));\r\n        const componentLinks = new Map(system.components.map((component) => [component.partId, system]));\r\n        const systemParts = new Map([...recipeLinks, ...componentLinks]);\r\n        if (systemParts.size !== (recipeLinks.size + componentLinks.size)) {\r\n            throw new Error(`The Crafting System with ID ${system.id} contains duplicate Part IDs. `);\r\n        }\r\n        const mergedParts = new Map([...parts, ...systemParts]);\r\n        if (mergedParts.size !== (systemParts.size + parts.size)) {\r\n            throw new Error(`The Crafting System with ID ${system.id} shares ${(systemParts.size + parts.size) - mergedParts.size} Part IDs with already registered systems. `);\r\n        }\r\n        return mergedParts;\r\n    }\r\n    getSystemById(id) {\r\n        if (this._craftingSystemsById.has(id)) {\r\n            return this._craftingSystemsById.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Compendium Pack Key ${id}. `);\r\n    }\r\n    getSystemByPartId(id) {\r\n        if (this._craftingSystemsByPartId.has(id)) {\r\n            return this._craftingSystemsByPartId.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Component with ID: \"${id}\". `);\r\n    }\r\n    getAllSystems() {\r\n        return Array.from(this._craftingSystemsById.values());\r\n    }\r\n    get systemDefinitions() {\r\n        return this._systemDefinitions;\r\n    }\r\n    define(craftingSystemDefinition) {\r\n        this._systemDefinitions.push(craftingSystemDefinition);\r\n    }\r\n    static defaultSystemSpecifications() {\r\n        const systemSpecifications = [];\r\n        systemSpecifications.push(_system_definitions_AlchemistsSuppliesV16__WEBPACK_IMPORTED_MODULE_0__.SYSTEM_DEFINITION);\r\n        return systemSpecifications;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFLcUc7QUFFckcsTUFBTSxzQkFBc0I7SUFBNUI7UUFFWSx5QkFBb0IsR0FBZ0MsSUFBSSxHQUFHLEVBQTBCLENBQUM7UUFDdEYsNkJBQXdCLEdBQWdDLElBQUksR0FBRyxFQUEwQixDQUFDO1FBQzFGLHVCQUFrQixHQUErQixzQkFBc0IsQ0FBQywyQkFBMkIsRUFBRSxDQUFDO0lBcURsSCxDQUFDO0lBbkRVLFFBQVEsQ0FBQyxNQUFzQjtRQUNsQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLHdCQUF3QixHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDdEcsQ0FBQztJQUVPLHFCQUFxQixDQUFDLE1BQXNCLEVBQUUsS0FBa0M7UUFDcEYsTUFBTSxXQUFXLEdBQWdDLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFILE1BQU0sY0FBYyxHQUFnQyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQTRCLEVBQUUsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakosTUFBTSxXQUFXLEdBQWdDLElBQUksR0FBRyxDQUFDLENBQUMsR0FBRyxXQUFXLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQyxDQUFDO1FBQzlGLElBQUksV0FBVyxDQUFDLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQy9ELE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQStCLE1BQU0sQ0FBQyxFQUFFLGdDQUFnQyxDQUFDLENBQUM7U0FDN0Y7UUFDRCxNQUFNLFdBQVcsR0FBZ0MsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssRUFBRSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDckYsSUFBSSxXQUFXLENBQUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEQsTUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBK0IsTUFBTSxDQUFDLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLFdBQVcsQ0FBQyxJQUFJLDZDQUE2QyxDQUFDLENBQUM7U0FDdks7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUN2QixDQUFDO0lBRU0sYUFBYSxDQUFDLEVBQVU7UUFDM0IsSUFBSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ25DLE9BQU8sSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUM1QztRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsK0VBQStFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDM0csQ0FBQztJQUVNLGlCQUFpQixDQUFDLEVBQVU7UUFDL0IsSUFBSSxJQUFJLENBQUMsd0JBQXdCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3ZDLE9BQU8sSUFBSSxDQUFDLHdCQUF3QixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNoRDtRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsK0VBQStFLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUcsQ0FBQztJQUVNLGFBQWE7UUFDaEIsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQzFELENBQUM7SUFFRCxJQUFXLGlCQUFpQjtRQUN4QixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNuQyxDQUFDO0lBRU0sTUFBTSxDQUFDLHdCQUFrRDtRQUM1RCxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVNLE1BQU0sQ0FBQywyQkFBMkI7UUFDckMsTUFBTSxvQkFBb0IsR0FBK0IsRUFBRSxDQUFDO1FBQzVELG9CQUFvQixDQUFDLElBQUksQ0FBQyx3RkFBbUIsQ0FBQyxDQUFDO1FBQy9DLE9BQU8sb0JBQW9CLENBQUM7SUFDaEMsQ0FBQztDQUVKO0FBRThCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LnRzPzE5ZmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDcmFmdGluZ1N5c3RlbX0gZnJvbSBcIi4uL3N5c3RlbS9DcmFmdGluZ1N5c3RlbVwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4uL2NyYWZ0aW5nL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9ufSBmcm9tIFwiLi4vc3lzdGVtX2RlZmluaXRpb25zL0NyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvblwiO1xyXG5cclxuaW1wb3J0IHtTWVNURU1fREVGSU5JVElPTiBhcyBBTENIRU1JU1RTX1NVUFBMSUVTfSBmcm9tIFwiLi4vc3lzdGVtX2RlZmluaXRpb25zL0FsY2hlbWlzdHNTdXBwbGllc1YxNlwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSB7XHJcblxyXG4gICAgcHJpdmF0ZSBfY3JhZnRpbmdTeXN0ZW1zQnlJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPigpO1xyXG4gICAgcHJpdmF0ZSBfY3JhZnRpbmdTeXN0ZW1zQnlQYXJ0SWQ6IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPiA9IG5ldyBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4oKTtcclxuICAgIHByaXZhdGUgX3N5c3RlbURlZmluaXRpb25zOiBDcmFmdGluZ1N5c3RlbURlZmluaXRpb25bXSA9IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuZGVmYXVsdFN5c3RlbVNwZWNpZmljYXRpb25zKCk7XHJcblxyXG4gICAgcHVibGljIHJlZ2lzdGVyKHN5c3RlbTogQ3JhZnRpbmdTeXN0ZW0pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9jcmFmdGluZ1N5c3RlbXNCeUlkLnNldChzeXN0ZW0uaWQsIHN5c3RlbSk7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlQYXJ0SWQgPSB0aGlzLnJlc29sdmVQYXJ0c0ZvclN5c3RlbShzeXN0ZW0sIHRoaXMuX2NyYWZ0aW5nU3lzdGVtc0J5UGFydElkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlc29sdmVQYXJ0c0ZvclN5c3RlbShzeXN0ZW06IENyYWZ0aW5nU3lzdGVtLCBwYXJ0czogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+KTogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+IHtcclxuICAgICAgICBjb25zdCByZWNpcGVMaW5rczogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcChzeXN0ZW0ucmVjaXBlcy5tYXAoKHJlY2lwZTogUmVjaXBlKSA9PiBbcmVjaXBlLnBhcnRJZCwgc3lzdGVtXSkpO1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudExpbmtzOiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwKHN5c3RlbS5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gW2NvbXBvbmVudC5wYXJ0SWQsIHN5c3RlbV0pKTtcclxuICAgICAgICBjb25zdCBzeXN0ZW1QYXJ0czogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcChbLi4ucmVjaXBlTGlua3MsIC4uLmNvbXBvbmVudExpbmtzXSk7XHJcbiAgICAgICAgaWYgKHN5c3RlbVBhcnRzLnNpemUgIT09IChyZWNpcGVMaW5rcy5zaXplICsgY29tcG9uZW50TGlua3Muc2l6ZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgQ3JhZnRpbmcgU3lzdGVtIHdpdGggSUQgJHtzeXN0ZW0uaWR9IGNvbnRhaW5zIGR1cGxpY2F0ZSBQYXJ0IElEcy4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1lcmdlZFBhcnRzOiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwKFsuLi5wYXJ0cywgLi4uc3lzdGVtUGFydHNdKTtcclxuICAgICAgICBpZiAobWVyZ2VkUGFydHMuc2l6ZSAhPT0gKHN5c3RlbVBhcnRzLnNpemUgKyBwYXJ0cy5zaXplKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBDcmFmdGluZyBTeXN0ZW0gd2l0aCBJRCAke3N5c3RlbS5pZH0gc2hhcmVzICR7KHN5c3RlbVBhcnRzLnNpemUgKyBwYXJ0cy5zaXplKSAtIG1lcmdlZFBhcnRzLnNpemV9IFBhcnQgSURzIHdpdGggYWxyZWFkeSByZWdpc3RlcmVkIHN5c3RlbXMuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWVyZ2VkUGFydHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFN5c3RlbUJ5SWQoaWQ6IHN0cmluZyk6IENyYWZ0aW5nU3lzdGVtIHtcclxuICAgICAgICBpZiAodGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlJZC5oYXMoaWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jcmFmdGluZ1N5c3RlbXNCeUlkLmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBDb21wZW5kaXVtIFBhY2sgS2V5ICR7aWR9LiBgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3lzdGVtQnlQYXJ0SWQoaWQ6IHN0cmluZyk6IENyYWZ0aW5nU3lzdGVtIHtcclxuICAgICAgICBpZiAodGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlQYXJ0SWQuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY3JhZnRpbmdTeXN0ZW1zQnlQYXJ0SWQuZ2V0KGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBDcmFmdGluZyBzeXN0ZW0gaXMgcmVnaXN0ZXJlZCB3aXRoIEZhYnJpY2F0ZSBmb3IgdGhlIENvbXBvbmVudCB3aXRoIElEOiBcIiR7aWR9XCIuIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBbGxTeXN0ZW1zKCk6IENyYWZ0aW5nU3lzdGVtW10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2NyYWZ0aW5nU3lzdGVtc0J5SWQudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc3lzdGVtRGVmaW5pdGlvbnMoKTogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zeXN0ZW1EZWZpbml0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVmaW5lKGNyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbjogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc3lzdGVtRGVmaW5pdGlvbnMucHVzaChjcmFmdGluZ1N5c3RlbURlZmluaXRpb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVmYXVsdFN5c3RlbVNwZWNpZmljYXRpb25zKCk6IENyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbltdIHtcclxuICAgICAgICBjb25zdCBzeXN0ZW1TcGVjaWZpY2F0aW9uczogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uW10gPSBbXTtcclxuICAgICAgICBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5wdXNoKEFMQ0hFTUlTVFNfU1VQUExJRVMpO1xyXG4gICAgICAgIHJldHVybiBzeXN0ZW1TcGVjaWZpY2F0aW9ucztcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/registries/CraftingSystemRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/registries/InventoryRegistry.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/registries/InventoryRegistry.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"InventoryRegistry\": () => (/* binding */ InventoryRegistry)\n/* harmony export */ });\nclass InventoryRegistry {\r\n    constructor() {\r\n        this._managedInventories = new Map();\r\n    }\r\n    addFor(actorId, inventory) {\r\n        if (this._managedInventories.has(actorId)) {\r\n            throw new Error(`The Crafting Inventory for Actor ID ${actorId} is already managed by Fabricate and should not be overridden. `);\r\n        }\r\n        this._managedInventories.set(actorId, inventory);\r\n    }\r\n    getFor(actorId) {\r\n        return this._managedInventories.get(actorId);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFFQSxNQUFNLGlCQUFpQjtJQUF2QjtRQUVZLHdCQUFtQixHQUFzQyxJQUFJLEdBQUcsRUFBZ0MsQ0FBQztJQWE3RyxDQUFDO0lBWFUsTUFBTSxDQUFDLE9BQWUsRUFBRSxTQUErQjtRQUMxRCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDdkMsTUFBTSxJQUFJLEtBQUssQ0FBQyx1Q0FBdUMsT0FBTyxpRUFBaUUsQ0FBQyxDQUFDO1NBQ3BJO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFlO1FBQ3pCLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNqRCxDQUFDO0NBRUo7QUFFeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzPzE4MzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9hY3Rvci9JbnZlbnRvcnlcIjtcclxuXHJcbmNsYXNzIEludmVudG9yeVJlZ2lzdHJ5IHtcclxuXHJcbiAgICBwcml2YXRlIF9tYW5hZ2VkSW52ZW50b3JpZXM6IE1hcDxzdHJpbmcsIEludmVudG9yeTx7fSwgQWN0b3I+PiA9IG5ldyBNYXA8c3RyaW5nLCBJbnZlbnRvcnk8e30sIEFjdG9yPj4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRm9yKGFjdG9ySWQ6IHN0cmluZywgaW52ZW50b3J5OiBJbnZlbnRvcnk8e30sIEFjdG9yPik6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9tYW5hZ2VkSW52ZW50b3JpZXMuaGFzKGFjdG9ySWQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIENyYWZ0aW5nIEludmVudG9yeSBmb3IgQWN0b3IgSUQgJHthY3RvcklkfSBpcyBhbHJlYWR5IG1hbmFnZWQgYnkgRmFicmljYXRlIGFuZCBzaG91bGQgbm90IGJlIG92ZXJyaWRkZW4uIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tYW5hZ2VkSW52ZW50b3JpZXMuc2V0KGFjdG9ySWQsIGludmVudG9yeSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEZvcihhY3RvcklkOiBzdHJpbmcpOiBJbnZlbnRvcnk8e30sIEFjdG9yPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZWRJbnZlbnRvcmllcy5nZXQoYWN0b3JJZCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0ludmVudG9yeVJlZ2lzdHJ5fSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/InventoryRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/system/CompendiumImporter.ts":
/*!**************************************************!*\
  !*** ./src/scripts/system/CompendiumImporter.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CompendiumImporter\": () => (/* binding */ CompendiumImporter)\n/* harmony export */ });\n/* harmony import */ var _PartDictionary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PartDictionary */ \"./src/scripts/system/PartDictionary.ts\");\n/* harmony import */ var _compendium_CompendiumProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../compendium/CompendiumProvider */ \"./src/scripts/compendium/CompendiumProvider.ts\");\n/* harmony import */ var _common_CraftingComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/CraftingComponent */ \"./src/scripts/common/CraftingComponent.ts\");\n/* harmony import */ var _crafting_Recipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../crafting/Recipe */ \"./src/scripts/crafting/Recipe.ts\");\n/* harmony import */ var _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../compendium/CompendiumData */ \"./src/scripts/compendium/CompendiumData.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _error_CompendiumEntryImportError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../error/CompendiumEntryImportError */ \"./src/scripts/error/CompendiumEntryImportError.ts\");\n/* harmony import */ var _error_CompendiumEntryReferencePopulationError__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../error/CompendiumEntryReferencePopulationError */ \"./src/scripts/error/CompendiumEntryReferencePopulationError.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CompendiumImporter {\r\n    constructor(compendiumProvider) {\r\n        this._compendiumProvider = compendiumProvider ? compendiumProvider : new _compendium_CompendiumProvider__WEBPACK_IMPORTED_MODULE_1__.DefaultCompendiumProvider();\r\n    }\r\n    import(systemId, compendiumPackKeys, essenceDefinitions) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const compendiums = compendiumPackKeys.map((packKey) => this._compendiumProvider.getCompendium(packKey));\r\n            const essencesBySlug = essenceDefinitions ? new Map(essenceDefinitions.map((essence) => [essence.slug, essence])) : new Map();\r\n            const partialPartDictionaries = [];\r\n            for (const compendium of compendiums) {\r\n                const partDictionary = yield this.importCompendiumContents(systemId, compendium, essencesBySlug);\r\n                partialPartDictionaries.push(partDictionary);\r\n            }\r\n            return this.rationaliseAndPopulateReferences(partialPartDictionaries);\r\n        });\r\n    }\r\n    importCompendiumContents(systemId, compendium, essencesBySlug) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!_Properties__WEBPACK_IMPORTED_MODULE_6__[\"default\"].module.compendiums.supportedTypes.includes(compendium.metadata.type)) {\r\n                throw new Error(`Compendium ${compendium.collection} has an unsupported Document type: ${compendium.metadata.type}. Supported Compendium Document types are: ${_Properties__WEBPACK_IMPORTED_MODULE_6__[\"default\"].module.compendiums.supportedTypes}. `);\r\n            }\r\n            const partDictionary = new _PartDictionary__WEBPACK_IMPORTED_MODULE_0__.PartDictionary();\r\n            const documents = yield this.loadCompendiumContent(compendium, 10);\r\n            documents.forEach((document) => {\r\n                if (!('fabricate' in document.flags)) {\r\n                    return;\r\n                }\r\n                const fabricateCompendiumData = document.flags.fabricate;\r\n                switch (fabricateCompendiumData.type) {\r\n                    case _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_4__.FabricateItemType.COMPONENT:\r\n                        const component = this.getComponent(document, fabricateCompendiumData, compendium, systemId, essencesBySlug);\r\n                        partDictionary.addComponent(component);\r\n                        break;\r\n                    case _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_4__.FabricateItemType.RECIPE:\r\n                        const recipe = this.getRecipe(document, fabricateCompendiumData, compendium, systemId, essencesBySlug);\r\n                        partDictionary.addRecipe(recipe);\r\n                        break;\r\n                    default:\r\n                        throw new Error(`${_Properties__WEBPACK_IMPORTED_MODULE_6__[\"default\"].module.label} | Unable to load item ${document.id}. Could not determine Fabricate Entity Type. `);\r\n                }\r\n            });\r\n            return partDictionary;\r\n        });\r\n    }\r\n    getRecipe(document, fabricateCompendiumData, compendium, systemId, essencesBySlug) {\r\n        try {\r\n            return new _crafting_Recipe__WEBPACK_IMPORTED_MODULE_3__.Recipe({\r\n                gameItem: {\r\n                    partId: fabricateCompendiumData.identity.partId,\r\n                    systemId: systemId,\r\n                    compendiumId: compendium.collection,\r\n                    name: document.name,\r\n                    imageUrl: document.img\r\n                },\r\n                ingredients: this.partialComponentsFromCompendiumData(fabricateCompendiumData.recipe.ingredients, compendium.collection, systemId),\r\n                catalysts: this.partialComponentsFromCompendiumData(fabricateCompendiumData.recipe.catalysts, compendium.collection, systemId),\r\n                essences: this.essencesFromCompendiumData(fabricateCompendiumData.recipe.essences, essencesBySlug),\r\n                results: this.partialComponentsFromCompendiumData(fabricateCompendiumData.recipe.results, compendium.collection, systemId)\r\n            });\r\n        }\r\n        catch (error) {\r\n            throw new _error_CompendiumEntryImportError__WEBPACK_IMPORTED_MODULE_7__.CompendiumEntryImportError(compendium.collection, document.id, fabricateCompendiumData, systemId, error);\r\n        }\r\n    }\r\n    getComponent(document, fabricateCompendiumData, compendium, systemId, essencesBySlug) {\r\n        try {\r\n            return new _common_CraftingComponent__WEBPACK_IMPORTED_MODULE_2__.CraftingComponent({\r\n                gameItem: {\r\n                    partId: fabricateCompendiumData.identity.partId,\r\n                    systemId: systemId,\r\n                    compendiumId: compendium.collection,\r\n                    name: document.name,\r\n                    imageUrl: document.img\r\n                },\r\n                salvage: this.partialComponentsFromCompendiumData(fabricateCompendiumData.component.salvage, compendium.collection, systemId),\r\n                essences: this.essencesFromCompendiumData(fabricateCompendiumData.component.essences, essencesBySlug)\r\n            });\r\n        }\r\n        catch (error) {\r\n            throw new _error_CompendiumEntryImportError__WEBPACK_IMPORTED_MODULE_7__.CompendiumEntryImportError(compendium.collection, document.id, fabricateCompendiumData, systemId, error);\r\n        }\r\n    }\r\n    rationaliseAndPopulateReferences(partDictionaries) {\r\n        const allComponents = partDictionaries.map((partDictionary) => partDictionary.getComponents())\r\n            .reduce((left, right) => left.concat(right), []);\r\n        const componentsById = new Map();\r\n        for (const component of allComponents) {\r\n            if (componentsById.has(component.id)) {\r\n                throw new Error(`Component ${component.id} does not have a unique Part ID and Compendium ID. `);\r\n            }\r\n            componentsById.set(component.id, component);\r\n        }\r\n        allComponents.filter((component) => this.hasReferences(component))\r\n            .map((component) => this.populateComponentReferences(component, componentsById))\r\n            .forEach((component) => componentsById.set(component.id, component));\r\n        const allRecipesPopulated = partDictionaries.map((partDictionary) => partDictionary.getRecipes())\r\n            .reduce((left, right) => left.concat(right), [])\r\n            .map((recipe) => this.populateRecipeReferences(recipe, componentsById));\r\n        const recipesById = new Map(allRecipesPopulated.map((recipe) => [recipe.id, recipe]));\r\n        return new _PartDictionary__WEBPACK_IMPORTED_MODULE_0__.PartDictionary(componentsById, recipesById);\r\n    }\r\n    hasReferences(component) {\r\n        return !component.salvage.isEmpty();\r\n    }\r\n    /**\r\n     * Fallback awaiter for loading compendium content, as this was observed to be unreliable during development after the\r\n     * game 'ready' Hook was fired\r\n     *\r\n     * @param compendium The Compendium from which to reliably load the Content\r\n     * @param maxAttempts The maximum number of times to attempt loading Compendium Content\r\n     * */\r\n    loadCompendiumContent(compendium, maxAttempts) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let documents = yield compendium.getDocuments();\r\n            let attempts = 0;\r\n            while (!documents && (attempts <= maxAttempts)) {\r\n                console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_6__[\"default\"].module.label} | Waiting for content in Compendium Pack ${compendium.collection} (Attempt ${attempts} of ${maxAttempts}. `);\r\n                yield this.wait(1000);\r\n                attempts++;\r\n                documents = yield compendium.getDocuments();\r\n            }\r\n            return documents;\r\n        });\r\n    }\r\n    /**\r\n     * Simple async awaiter delay function\r\n     *\r\n     * @param delay The number of millis to wait before resolving\r\n     * @return a promise that resolves once the delay period has elapsed\r\n     * */\r\n    wait(delay) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise(resolve => setTimeout(resolve, delay));\r\n        });\r\n    }\r\n    essencesFromCompendiumData(essenceRecord, essenceDefinitions) {\r\n        if (!essenceRecord) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY();\r\n        }\r\n        const essenceSlugs = Object.keys(essenceRecord);\r\n        if (essenceSlugs.length === 0) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY();\r\n        }\r\n        const essenceUnits = essenceSlugs.map((slug) => {\r\n            if (!essenceDefinitions.has(slug)) {\r\n                throw new Error(`Essence '${slug}' does not exist in the Crafting System Specification. The available Essences are ${Array.from(essenceDefinitions.values()).map(essence => `'${essence.slug}'`).join(', ')}`);\r\n            }\r\n            const essence = essenceDefinitions.get(slug);\r\n            const amount = essenceRecord[slug];\r\n            return new _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Unit(essence, amount);\r\n        });\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.ofUnits(essenceUnits);\r\n    }\r\n    partialComponentsFromCompendiumData(componentRecord, packKey, systemId) {\r\n        if (!componentRecord) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY();\r\n        }\r\n        const componentIds = Object.keys(componentRecord);\r\n        if (componentIds.length === 0) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY();\r\n        }\r\n        const componentUnits = componentIds.map((partId) => {\r\n            const component = new _common_CraftingComponent__WEBPACK_IMPORTED_MODULE_2__.CraftingComponent({\r\n                gameItem: {\r\n                    partId: partId,\r\n                    compendiumId: packKey,\r\n                    systemId: systemId,\r\n                    name: \"\",\r\n                    imageUrl: \"\"\r\n                },\r\n                salvage: _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY(),\r\n                essences: _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY()\r\n            });\r\n            const amount = componentRecord[partId];\r\n            return new _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Unit(component, amount);\r\n        });\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.ofUnits(componentUnits);\r\n    }\r\n    populateComponentReferences(component, componentsById) {\r\n        try {\r\n            return component.mutate({ salvage: this.populateCombination(component.salvage, componentsById) });\r\n        }\r\n        catch (error) {\r\n            throw new _error_CompendiumEntryReferencePopulationError__WEBPACK_IMPORTED_MODULE_8__.CompendiumEntryReferencePopulationError(component, error);\r\n        }\r\n    }\r\n    populateRecipeReferences(recipe, componentsById) {\r\n        try {\r\n            return recipe.mutate({\r\n                ingredients: this.populateCombination(recipe.ingredients, componentsById),\r\n                catalysts: this.populateCombination(recipe.catalysts, componentsById),\r\n                results: this.populateCombination(recipe.results, componentsById)\r\n            });\r\n        }\r\n        catch (error) {\r\n            throw new _error_CompendiumEntryReferencePopulationError__WEBPACK_IMPORTED_MODULE_8__.CompendiumEntryReferencePopulationError(recipe, error);\r\n        }\r\n    }\r\n    populateCombination(combination, componentsById) {\r\n        if (combination.isEmpty()) {\r\n            return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.EMPTY();\r\n        }\r\n        const populatedUnits = combination.units\r\n            .map((unit) => {\r\n            if (componentsById.has(unit.part.id)) {\r\n                return new _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Unit(componentsById.get(unit.part.id), unit.quantity);\r\n            }\r\n            throw new Error(`Crafting Component '${unit.part.id}' does not exist. `);\r\n        });\r\n        return _common_Combination__WEBPACK_IMPORTED_MODULE_5__.Combination.ofUnits(populatedUnits);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW0vQ29tcGVuZGl1bUltcG9ydGVyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFFK0M7QUFDakM7QUFDcEI7QUFDOEM7QUFDaEM7QUFDakI7QUFDd0M7QUFDMEI7QUFLekcsTUFBTSxrQkFBa0I7SUFJcEIsWUFBWSxrQkFBdUM7UUFDL0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxxRkFBeUIsRUFBRSxDQUFDO0lBQ3pHLENBQUM7SUFFWSxNQUFNLENBQUMsUUFBZ0IsRUFDaEIsa0JBQTRCLEVBQzVCLGtCQU1HOztZQUNuQixNQUFNLFdBQVcsR0FBMEQsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBZSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDeEssTUFBTSxjQUFjLEdBQW1DLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQU0zRyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFnQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUMzRSxNQUFNLHVCQUF1QixHQUFxQixFQUFFLENBQUM7WUFDckQsS0FBSyxNQUFNLFVBQVUsSUFBSSxXQUFXLEVBQUU7Z0JBQ2xDLE1BQU0sY0FBYyxHQUFtQixNQUFNLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxRQUFRLEVBQUUsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO2dCQUNqSCx1QkFBdUIsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7YUFDaEQ7WUFDRCxPQUFPLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyx1QkFBdUIsQ0FB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QWMsQ0FBQztnQkFDekUsU0FBUyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLGNBQWMsQ0FBQztnQkFDckUsT0FBTyxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLGNBQWMsQ0FBQzthQUNwRSxDQUFDLENBQUM7U0FDTjtRQUFDLE9BQU8sS0FBVSxFQUFFO1lBQ2pCLE1BQU0sSUFBSSxtSEFBdUMsQ0FBQyxNQUFNLEVBQUUsS0FBYyxDQUFDLENBQUM7U0FDN0U7SUFDTCxDQUFDO0lBRU8sbUJBQW1CLENBQUMsV0FBMkMsRUFBRSxjQUE4QztRQUNuSCxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsRUFBRTtZQUN2QixPQUFPLGtFQUFpQixFQUFFLENBQUM7U0FDOUI7UUFDRCxNQUFNLGNBQWMsR0FBOEIsV0FBVyxDQUFDLEtBQUs7YUFDOUQsR0FBRyxDQUFDLENBQUMsSUFBNkIsRUFBRSxFQUFFO1lBQ25DLElBQUksY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUNsQyxPQUFPLElBQUkscURBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3BFO1lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLG9CQUFvQixDQUFDLENBQUM7UUFDN0UsQ0FBQyxDQUFDLENBQUM7UUFDUCxPQUFPLG9FQUFtQixDQUFDLGNBQWMsQ0FBQztJQUM5QyxDQUFDO0NBQ0o7QUFFMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9zeXN0ZW0vQ29tcGVuZGl1bUltcG9ydGVyLnRzPzA4ZmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQYXJ0RGljdGlvbmFyeX0gZnJvbSBcIi4vUGFydERpY3Rpb25hcnlcIjtcclxuaW1wb3J0IHtFc3NlbmNlRGVmaW5pdGlvbn0gZnJvbSBcIi4uL2NvbW1vbi9Fc3NlbmNlRGVmaW5pdGlvblwiO1xyXG5pbXBvcnQge0NvbXBlbmRpdW1Qcm92aWRlciwgRGVmYXVsdENvbXBlbmRpdW1Qcm92aWRlcn0gZnJvbSBcIi4uL2NvbXBlbmRpdW0vQ29tcGVuZGl1bVByb3ZpZGVyXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jcmFmdGluZy9SZWNpcGVcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgRmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuLi9jb21wZW5kaXVtL0NvbXBlbmRpdW1EYXRhXCI7XHJcbmltcG9ydCB7Q29tYmluYXRpb24sIFVuaXR9IGZyb20gXCIuLi9jb21tb24vQ29tYmluYXRpb25cIjtcclxuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4uL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtDb21wZW5kaXVtRW50cnlJbXBvcnRFcnJvcn0gZnJvbSBcIi4uL2Vycm9yL0NvbXBlbmRpdW1FbnRyeUltcG9ydEVycm9yXCI7XHJcbmltcG9ydCB7Q29tcGVuZGl1bUVudHJ5UmVmZXJlbmNlUG9wdWxhdGlvbkVycm9yfSBmcm9tIFwiLi4vZXJyb3IvQ29tcGVuZGl1bUVudHJ5UmVmZXJlbmNlUG9wdWxhdGlvbkVycm9yXCI7XHJcbmltcG9ydCB7XHJcbiAgICBEb2N1bWVudEluc3RhbmNlRm9yQ29tcGVuZGl1bU1ldGFkYXRhXHJcbn0gZnJvbSBcIkBsZWFndWUtb2YtZm91bmRyeS1kZXZlbG9wZXJzL2ZvdW5kcnktdnR0LXR5cGVzL3NyYy9mb3VuZHJ5L2NsaWVudC9kYXRhL2NvbGxlY3Rpb25zL2NvbXBlbmRpdW1cIjtcclxuXHJcbmNsYXNzIENvbXBlbmRpdW1JbXBvcnRlciB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29tcGVuZGl1bVByb3ZpZGVyOiBDb21wZW5kaXVtUHJvdmlkZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29tcGVuZGl1bVByb3ZpZGVyPzogQ29tcGVuZGl1bVByb3ZpZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcGVuZGl1bVByb3ZpZGVyID0gY29tcGVuZGl1bVByb3ZpZGVyID8gY29tcGVuZGl1bVByb3ZpZGVyIDogbmV3IERlZmF1bHRDb21wZW5kaXVtUHJvdmlkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgaW1wb3J0KHN5c3RlbUlkOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBlbmRpdW1QYWNrS2V5czogc3RyaW5nW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzc2VuY2VEZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkNvZGU6IHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6IHN0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbHVnOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1bXSk6IFByb21pc2U8UGFydERpY3Rpb25hcnk+IHtcclxuICAgICAgICBjb25zdCBjb21wZW5kaXVtczogQ29tcGVuZGl1bUNvbGxlY3Rpb248Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+W10gPSBjb21wZW5kaXVtUGFja0tleXMubWFwKChwYWNrS2V5OiBzdHJpbmcpID0+IHRoaXMuX2NvbXBlbmRpdW1Qcm92aWRlci5nZXRDb21wZW5kaXVtKHBhY2tLZXkpKTtcclxuICAgICAgICBjb25zdCBlc3NlbmNlc0J5U2x1ZzogTWFwPHN0cmluZywgRXNzZW5jZURlZmluaXRpb24+ID0gZXNzZW5jZURlZmluaXRpb25zID8gbmV3IE1hcChlc3NlbmNlRGVmaW5pdGlvbnMubWFwKChlc3NlbmNlOiB7XHJcbiAgICAgICAgICAgIGljb25Db2RlOiBzdHJpbmc7XHJcbiAgICAgICAgICAgIHRvb2x0aXA6IHN0cmluZztcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICAgICAgICAgICAgc2x1Zzogc3RyaW5nO1xyXG4gICAgICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgfSkgPT4gW2Vzc2VuY2Uuc2x1ZywgZXNzZW5jZV0gYXMgW3N0cmluZywgRXNzZW5jZURlZmluaXRpb25dKSkgOiBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3QgcGFydGlhbFBhcnREaWN0aW9uYXJpZXM6IFBhcnREaWN0aW9uYXJ5W10gPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNvbXBlbmRpdW0gb2YgY29tcGVuZGl1bXMpIHtcclxuICAgICAgICAgICAgY29uc3QgcGFydERpY3Rpb25hcnk6IFBhcnREaWN0aW9uYXJ5ID0gYXdhaXQgdGhpcy5pbXBvcnRDb21wZW5kaXVtQ29udGVudHMoc3lzdGVtSWQsIGNvbXBlbmRpdW0sIGVzc2VuY2VzQnlTbHVnKTtcclxuICAgICAgICAgICAgcGFydGlhbFBhcnREaWN0aW9uYXJpZXMucHVzaChwYXJ0RGljdGlvbmFyeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnJhdGlvbmFsaXNlQW5kUG9wdWxhdGVSZWZlcmVuY2VzKHBhcnRpYWxQYXJ0RGljdGlvbmFyaWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIGltcG9ydENvbXBlbmRpdW1Db250ZW50cyhzeXN0ZW1JZDogc3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGVuZGl1bTogIENvbXBlbmRpdW1Db2xsZWN0aW9uPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVzc2VuY2VzQnlTbHVnOiBNYXA8c3RyaW5nLCBFc3NlbmNlRGVmaW5pdGlvbj4pOiBQcm9taXNlPFBhcnREaWN0aW9uYXJ5PiB7XHJcbiAgICAgICAgaWYgKCFQcm9wZXJ0aWVzLm1vZHVsZS5jb21wZW5kaXVtcy5zdXBwb3J0ZWRUeXBlcy5pbmNsdWRlcyhjb21wZW5kaXVtLm1ldGFkYXRhLnR5cGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcGVuZGl1bSAke2NvbXBlbmRpdW0uY29sbGVjdGlvbn0gaGFzIGFuIHVuc3VwcG9ydGVkIERvY3VtZW50IHR5cGU6ICR7Y29tcGVuZGl1bS5tZXRhZGF0YS50eXBlfS4gU3VwcG9ydGVkIENvbXBlbmRpdW0gRG9jdW1lbnQgdHlwZXMgYXJlOiAke1Byb3BlcnRpZXMubW9kdWxlLmNvbXBlbmRpdW1zLnN1cHBvcnRlZFR5cGVzfS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnREaWN0aW9uYXJ5OiBQYXJ0RGljdGlvbmFyeSA9IG5ldyBQYXJ0RGljdGlvbmFyeSgpO1xyXG4gICAgICAgIGNvbnN0IGRvY3VtZW50czogU3RvcmVkRG9jdW1lbnQ8RG9jdW1lbnRJbnN0YW5jZUZvckNvbXBlbmRpdW1NZXRhZGF0YTxDb21wZW5kaXVtQ29sbGVjdGlvbi5NZXRhZGF0YT4+W10gPSBhd2FpdCB0aGlzLmxvYWRDb21wZW5kaXVtQ29udGVudChjb21wZW5kaXVtLCAxMCk7XHJcbiAgICAgICAgZG9jdW1lbnRzLmZvckVhY2goKGRvY3VtZW50OiBTdG9yZWREb2N1bWVudDxEb2N1bWVudEluc3RhbmNlRm9yQ29tcGVuZGl1bU1ldGFkYXRhPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPj4pID0+IHtcclxuICAgICAgICAgICAgaWYgKCEoJ2ZhYnJpY2F0ZScgaW4gZG9jdW1lbnQuZmxhZ3MpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZmFicmljYXRlQ29tcGVuZGl1bURhdGE6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhID0gPEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhPmRvY3VtZW50LmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICAgICAgc3dpdGNoIChmYWJyaWNhdGVDb21wZW5kaXVtRGF0YS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50ID0gdGhpcy5nZXRDb21wb25lbnQoZG9jdW1lbnQsIGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBjb21wZW5kaXVtLCBzeXN0ZW1JZCwgZXNzZW5jZXNCeVNsdWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnREaWN0aW9uYXJ5LmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBGYWJyaWNhdGVJdGVtVHlwZS5SRUNJUEU6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjaXBlOiBSZWNpcGUgPSB0aGlzLmdldFJlY2lwZShkb2N1bWVudCwgZmFicmljYXRlQ29tcGVuZGl1bURhdGEsIGNvbXBlbmRpdW0sIHN5c3RlbUlkLCBlc3NlbmNlc0J5U2x1Zyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFydERpY3Rpb25hcnkuYWRkUmVjaXBlKHJlY2lwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBVbmFibGUgdG8gbG9hZCBpdGVtICR7ZG9jdW1lbnQuaWR9LiBDb3VsZCBub3QgZGV0ZXJtaW5lIEZhYnJpY2F0ZSBFbnRpdHkgVHlwZS4gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcGFydERpY3Rpb25hcnk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRSZWNpcGUoZG9jdW1lbnQ6IFN0b3JlZERvY3VtZW50PERvY3VtZW50SW5zdGFuY2VGb3JDb21wZW5kaXVtTWV0YWRhdGE8Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+PixcclxuICAgICAgICAgICAgICAgICAgICAgIGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBlbmRpdW06IENvbXBlbmRpdW1Db2xsZWN0aW9uPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPixcclxuICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbUlkOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBlc3NlbmNlc0J5U2x1ZzogTWFwPHN0cmluZywgRXNzZW5jZURlZmluaXRpb24+KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWNpcGUoe1xyXG4gICAgICAgICAgICAgICAgZ2FtZUl0ZW06IHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0SWQ6IGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLmlkZW50aXR5LnBhcnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW1JZDogc3lzdGVtSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGVuZGl1bUlkOiBjb21wZW5kaXVtLmNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZG9jdW1lbnQubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogZG9jdW1lbnQuaW1nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaW5ncmVkaWVudHM6IHRoaXMucGFydGlhbENvbXBvbmVudHNGcm9tQ29tcGVuZGl1bURhdGEoZmFicmljYXRlQ29tcGVuZGl1bURhdGEucmVjaXBlLmluZ3JlZGllbnRzLCBjb21wZW5kaXVtLmNvbGxlY3Rpb24sIHN5c3RlbUlkKSxcclxuICAgICAgICAgICAgICAgIGNhdGFseXN0czogdGhpcy5wYXJ0aWFsQ29tcG9uZW50c0Zyb21Db21wZW5kaXVtRGF0YShmYWJyaWNhdGVDb21wZW5kaXVtRGF0YS5yZWNpcGUuY2F0YWx5c3RzLCBjb21wZW5kaXVtLmNvbGxlY3Rpb24sIHN5c3RlbUlkKSxcclxuICAgICAgICAgICAgICAgIGVzc2VuY2VzOiB0aGlzLmVzc2VuY2VzRnJvbUNvbXBlbmRpdW1EYXRhKGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLnJlY2lwZS5lc3NlbmNlcywgZXNzZW5jZXNCeVNsdWcpLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0czogdGhpcy5wYXJ0aWFsQ29tcG9uZW50c0Zyb21Db21wZW5kaXVtRGF0YShmYWJyaWNhdGVDb21wZW5kaXVtRGF0YS5yZWNpcGUucmVzdWx0cywgY29tcGVuZGl1bS5jb2xsZWN0aW9uLCBzeXN0ZW1JZClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IENvbXBlbmRpdW1FbnRyeUltcG9ydEVycm9yKGNvbXBlbmRpdW0uY29sbGVjdGlvbiwgZG9jdW1lbnQuaWQsIGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBzeXN0ZW1JZCwgZXJyb3IgYXMgRXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDb21wb25lbnQoZG9jdW1lbnQ6IFN0b3JlZERvY3VtZW50PERvY3VtZW50SW5zdGFuY2VGb3JDb21wZW5kaXVtTWV0YWRhdGE8Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+PixcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBlbmRpdW06IENvbXBlbmRpdW1Db2xsZWN0aW9uPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbUlkOiBzdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBlc3NlbmNlc0J5U2x1ZzogTWFwPHN0cmluZywgRXNzZW5jZURlZmluaXRpb24+KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NvbXBvbmVudCh7XHJcbiAgICAgICAgICAgICAgICBnYW1lSXRlbToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRJZDogZmFicmljYXRlQ29tcGVuZGl1bURhdGEuaWRlbnRpdHkucGFydElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN5c3RlbUlkOiBzeXN0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICBjb21wZW5kaXVtSWQ6IGNvbXBlbmRpdW0uY29sbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBkb2N1bWVudC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBkb2N1bWVudC5pbWdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzYWx2YWdlOiB0aGlzLnBhcnRpYWxDb21wb25lbnRzRnJvbUNvbXBlbmRpdW1EYXRhKGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLmNvbXBvbmVudC5zYWx2YWdlLCBjb21wZW5kaXVtLmNvbGxlY3Rpb24sIHN5c3RlbUlkKSxcclxuICAgICAgICAgICAgICAgIGVzc2VuY2VzOiB0aGlzLmVzc2VuY2VzRnJvbUNvbXBlbmRpdW1EYXRhKGZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLmNvbXBvbmVudC5lc3NlbmNlcywgZXNzZW5jZXNCeVNsdWcpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBDb21wZW5kaXVtRW50cnlJbXBvcnRFcnJvcihjb21wZW5kaXVtLmNvbGxlY3Rpb24sIGRvY3VtZW50LmlkLCBmYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgc3lzdGVtSWQsIGVycm9yIGFzIEVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByYXRpb25hbGlzZUFuZFBvcHVsYXRlUmVmZXJlbmNlcyhwYXJ0RGljdGlvbmFyaWVzOiBQYXJ0RGljdGlvbmFyeVtdKTogUGFydERpY3Rpb25hcnkge1xyXG4gICAgICAgIGNvbnN0IGFsbENvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBwYXJ0RGljdGlvbmFyaWVzLm1hcCgocGFydERpY3Rpb25hcnk6IFBhcnREaWN0aW9uYXJ5KSA9PiBwYXJ0RGljdGlvbmFyeS5nZXRDb21wb25lbnRzKCkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IENyYWZ0aW5nQ29tcG9uZW50W10sIHJpZ2h0OiBDcmFmdGluZ0NvbXBvbmVudFtdKSA9PiBsZWZ0LmNvbmNhdChyaWdodCksIFtdKTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRzQnlJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIGFsbENvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudHNCeUlkLmhhcyhjb21wb25lbnQuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvbmVudCAke2NvbXBvbmVudC5pZH0gZG9lcyBub3QgaGF2ZSBhIHVuaXF1ZSBQYXJ0IElEIGFuZCBDb21wZW5kaXVtIElELiBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21wb25lbnRzQnlJZC5zZXQoY29tcG9uZW50LmlkLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhbGxDb21wb25lbnRzLmZpbHRlcigoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gdGhpcy5oYXNSZWZlcmVuY2VzKGNvbXBvbmVudCkpXHJcbiAgICAgICAgICAgIC5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHRoaXMucG9wdWxhdGVDb21wb25lbnRSZWZlcmVuY2VzKGNvbXBvbmVudCwgY29tcG9uZW50c0J5SWQpKVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50c0J5SWQuc2V0KGNvbXBvbmVudC5pZCwgY29tcG9uZW50KSk7XHJcbiAgICAgICAgY29uc3QgYWxsUmVjaXBlc1BvcHVsYXRlZDogUmVjaXBlW10gPSBwYXJ0RGljdGlvbmFyaWVzLm1hcCgocGFydERpY3Rpb25hcnk6IFBhcnREaWN0aW9uYXJ5KSA9PiBwYXJ0RGljdGlvbmFyeS5nZXRSZWNpcGVzKCkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IFJlY2lwZVtdLCByaWdodDogUmVjaXBlW10pID0+IGxlZnQuY29uY2F0KHJpZ2h0KSwgW10pXHJcbiAgICAgICAgICAgIC5tYXAoKHJlY2lwZTogUmVjaXBlKSA9PiB0aGlzLnBvcHVsYXRlUmVjaXBlUmVmZXJlbmNlcyhyZWNpcGUsIGNvbXBvbmVudHNCeUlkKSk7XHJcbiAgICAgICAgY29uc3QgcmVjaXBlc0J5SWQ6IE1hcDxzdHJpbmcsIFJlY2lwZT4gPSBuZXcgTWFwKGFsbFJlY2lwZXNQb3B1bGF0ZWQubWFwKChyZWNpcGU6UmVjaXBlKSA9PiBbcmVjaXBlLmlkLCByZWNpcGVdIGFzIFtzdHJpbmcsIFJlY2lwZV0pKTtcclxuICAgICAgICByZXR1cm4gbmV3IFBhcnREaWN0aW9uYXJ5KGNvbXBvbmVudHNCeUlkLCByZWNpcGVzQnlJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYXNSZWZlcmVuY2VzKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpIHtcclxuICAgICAgICByZXR1cm4gIWNvbXBvbmVudC5zYWx2YWdlLmlzRW1wdHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZhbGxiYWNrIGF3YWl0ZXIgZm9yIGxvYWRpbmcgY29tcGVuZGl1bSBjb250ZW50LCBhcyB0aGlzIHdhcyBvYnNlcnZlZCB0byBiZSB1bnJlbGlhYmxlIGR1cmluZyBkZXZlbG9wbWVudCBhZnRlciB0aGVcclxuICAgICAqIGdhbWUgJ3JlYWR5JyBIb29rIHdhcyBmaXJlZFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb21wZW5kaXVtIFRoZSBDb21wZW5kaXVtIGZyb20gd2hpY2ggdG8gcmVsaWFibHkgbG9hZCB0aGUgQ29udGVudFxyXG4gICAgICogQHBhcmFtIG1heEF0dGVtcHRzIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0byBhdHRlbXB0IGxvYWRpbmcgQ29tcGVuZGl1bSBDb250ZW50XHJcbiAgICAgKiAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyBsb2FkQ29tcGVuZGl1bUNvbnRlbnQoY29tcGVuZGl1bTogIENvbXBlbmRpdW1Db2xsZWN0aW9uPENvbXBlbmRpdW1Db2xsZWN0aW9uLk1ldGFkYXRhPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEF0dGVtcHRzOiBudW1iZXIpOiBQcm9taXNlPFN0b3JlZERvY3VtZW50PERvY3VtZW50SW5zdGFuY2VGb3JDb21wZW5kaXVtTWV0YWRhdGE8Q29tcGVuZGl1bUNvbGxlY3Rpb24uTWV0YWRhdGE+PltdPiB7XHJcbiAgICAgICAgbGV0IGRvY3VtZW50czogRG9jdW1lbnRbXSA9IGF3YWl0IGNvbXBlbmRpdW0uZ2V0RG9jdW1lbnRzKCk7XHJcbiAgICAgICAgbGV0IGF0dGVtcHRzOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIHdoaWxlICghZG9jdW1lbnRzICYmIChhdHRlbXB0cyA8PSBtYXhBdHRlbXB0cykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgV2FpdGluZyBmb3IgY29udGVudCBpbiBDb21wZW5kaXVtIFBhY2sgJHtjb21wZW5kaXVtLmNvbGxlY3Rpb259IChBdHRlbXB0ICR7YXR0ZW1wdHN9IG9mICR7bWF4QXR0ZW1wdHN9LiBgKTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0KDEwMDApO1xyXG4gICAgICAgICAgICBhdHRlbXB0cysrO1xyXG4gICAgICAgICAgICBkb2N1bWVudHMgPSBhd2FpdCBjb21wZW5kaXVtLmdldERvY3VtZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZG9jdW1lbnRzXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTaW1wbGUgYXN5bmMgYXdhaXRlciBkZWxheSBmdW5jdGlvblxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBkZWxheSBUaGUgbnVtYmVyIG9mIG1pbGxpcyB0byB3YWl0IGJlZm9yZSByZXNvbHZpbmdcclxuICAgICAqIEByZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSB0aGUgZGVsYXkgcGVyaW9kIGhhcyBlbGFwc2VkXHJcbiAgICAgKiAqL1xyXG4gICAgcHJpdmF0ZSBhc3luYyB3YWl0KGRlbGF5OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlc3NlbmNlc0Zyb21Db21wZW5kaXVtRGF0YShlc3NlbmNlUmVjb3JkOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCBlc3NlbmNlRGVmaW5pdGlvbnM6IE1hcDxzdHJpbmcsIEVzc2VuY2VEZWZpbml0aW9uPik6IENvbWJpbmF0aW9uPEVzc2VuY2VEZWZpbml0aW9uPiB7XHJcbiAgICAgICAgaWYgKCFlc3NlbmNlUmVjb3JkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb21iaW5hdGlvbi5FTVBUWSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlc3NlbmNlU2x1Z3M6IHN0cmluZ1tdID0gT2JqZWN0LmtleXMoZXNzZW5jZVJlY29yZCk7XHJcbiAgICAgICAgaWYgKGVzc2VuY2VTbHVncy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLkVNUFRZKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VVbml0czogVW5pdDxFc3NlbmNlRGVmaW5pdGlvbj5bXSA9IGVzc2VuY2VTbHVncy5tYXAoKHNsdWc6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVzc2VuY2VEZWZpbml0aW9ucy5oYXMoc2x1ZykpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXNzZW5jZSAnJHtzbHVnfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIENyYWZ0aW5nIFN5c3RlbSBTcGVjaWZpY2F0aW9uLiBUaGUgYXZhaWxhYmxlIEVzc2VuY2VzIGFyZSAke0FycmF5LmZyb20oZXNzZW5jZURlZmluaXRpb25zLnZhbHVlcygpKS5tYXAoZXNzZW5jZSA9PiBgJyR7ZXNzZW5jZS5zbHVnfSdgKS5qb2luKCcsICcpfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVzc2VuY2U6IEVzc2VuY2VEZWZpbml0aW9uID0gZXNzZW5jZURlZmluaXRpb25zLmdldChzbHVnKTtcclxuICAgICAgICAgICAgY29uc3QgYW1vdW50OiBudW1iZXIgPSBlc3NlbmNlUmVjb3JkW3NsdWddO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVuaXQ8RXNzZW5jZURlZmluaXRpb24+KGVzc2VuY2UsIGFtb3VudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLm9mVW5pdHMoZXNzZW5jZVVuaXRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnRpYWxDb21wb25lbnRzRnJvbUNvbXBlbmRpdW1EYXRhKGNvbXBvbmVudFJlY29yZDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgcGFja0tleTogc3RyaW5nLCBzeXN0ZW1JZDogc3RyaW5nKTogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+IHtcclxuICAgICAgICBpZiAoIWNvbXBvbmVudFJlY29yZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ29tYmluYXRpb24uRU1QVFkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50SWRzOiBzdHJpbmdbXSA9IE9iamVjdC5rZXlzKGNvbXBvbmVudFJlY29yZCk7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudElkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLkVNUFRZKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudFVuaXRzOiBVbml0PENyYWZ0aW5nQ29tcG9uZW50PltdID0gY29tcG9uZW50SWRzLm1hcCgocGFydElkOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCA9IG5ldyBDcmFmdGluZ0NvbXBvbmVudCh7XHJcbiAgICAgICAgICAgICAgICBnYW1lSXRlbToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRJZDogcGFydElkLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBlbmRpdW1JZDogcGFja0tleSxcclxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW1JZDogc3lzdGVtSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybDogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNhbHZhZ2U6IENvbWJpbmF0aW9uLkVNUFRZKCksXHJcbiAgICAgICAgICAgICAgICBlc3NlbmNlczogQ29tYmluYXRpb24uRU1QVFkoKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgYW1vdW50OiBudW1iZXIgPSBjb21wb25lbnRSZWNvcmRbcGFydElkXTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbml0PENyYWZ0aW5nQ29tcG9uZW50Pihjb21wb25lbnQsIGFtb3VudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLm9mVW5pdHMoY29tcG9uZW50VW5pdHMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwcml2YXRlIHBvcHVsYXRlQ29tcG9uZW50UmVmZXJlbmNlcyhjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBjb21wb25lbnRzQnlJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+KTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQubXV0YXRlKHsgc2FsdmFnZTogdGhpcy5wb3B1bGF0ZUNvbWJpbmF0aW9uKGNvbXBvbmVudC5zYWx2YWdlLCBjb21wb25lbnRzQnlJZCkgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IENvbXBlbmRpdW1FbnRyeVJlZmVyZW5jZVBvcHVsYXRpb25FcnJvcihjb21wb25lbnQsIGVycm9yIGFzIEVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcG9wdWxhdGVSZWNpcGVSZWZlcmVuY2VzKHJlY2lwZTogUmVjaXBlLCBjb21wb25lbnRzQnlJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+KTogUmVjaXBlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVjaXBlLm11dGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpbmdyZWRpZW50czogdGhpcy5wb3B1bGF0ZUNvbWJpbmF0aW9uKHJlY2lwZS5pbmdyZWRpZW50cywgY29tcG9uZW50c0J5SWQpLFxyXG4gICAgICAgICAgICAgICAgY2F0YWx5c3RzOiB0aGlzLnBvcHVsYXRlQ29tYmluYXRpb24ocmVjaXBlLmNhdGFseXN0cywgY29tcG9uZW50c0J5SWQpLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0czogdGhpcy5wb3B1bGF0ZUNvbWJpbmF0aW9uKHJlY2lwZS5yZXN1bHRzLCBjb21wb25lbnRzQnlJZClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQ29tcGVuZGl1bUVudHJ5UmVmZXJlbmNlUG9wdWxhdGlvbkVycm9yKHJlY2lwZSwgZXJyb3IgYXMgRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBvcHVsYXRlQ29tYmluYXRpb24oY29tYmluYXRpb246IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiwgY29tcG9uZW50c0J5SWQ6IE1hcDxzdHJpbmcsIENyYWZ0aW5nQ29tcG9uZW50Pik6IENvbWJpbmF0aW9uPENyYWZ0aW5nQ29tcG9uZW50PiB7XHJcbiAgICAgICAgaWYgKGNvbWJpbmF0aW9uLmlzRW1wdHkoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ29tYmluYXRpb24uRU1QVFkoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcG9wdWxhdGVkVW5pdHM6IFVuaXQ8Q3JhZnRpbmdDb21wb25lbnQ+W10gPSBjb21iaW5hdGlvbi51bml0c1xyXG4gICAgICAgICAgICAubWFwKCh1bml0OiBVbml0PENyYWZ0aW5nQ29tcG9uZW50PikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudHNCeUlkLmhhcyh1bml0LnBhcnQuaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVbml0KGNvbXBvbmVudHNCeUlkLmdldCh1bml0LnBhcnQuaWQpLCB1bml0LnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ3JhZnRpbmcgQ29tcG9uZW50ICcke3VuaXQucGFydC5pZH0nIGRvZXMgbm90IGV4aXN0LiBgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uLm9mVW5pdHMocG9wdWxhdGVkVW5pdHMpXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29tcGVuZGl1bUltcG9ydGVyfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/system/CompendiumImporter.ts\n");

/***/ }),

/***/ "./src/scripts/system/CraftingSystem.ts":
/*!**********************************************!*\
  !*** ./src/scripts/system/CraftingSystem.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingSystem\": () => (/* binding */ CraftingSystem)\n/* harmony export */ });\n/* harmony import */ var _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../crafting/check/CraftingCheck */ \"./src/scripts/crafting/check/CraftingCheck.ts\");\n/* harmony import */ var _crafting_alchemy_AlchemyAttemptFactory__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../crafting/alchemy/AlchemyAttemptFactory */ \"./src/scripts/crafting/alchemy/AlchemyAttemptFactory.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass CraftingSystem {\r\n    constructor({ id, name, gameSystem, craftingChecks = {\r\n        recipe: new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheck(),\r\n        alchemy: new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheck()\r\n    }, partDictionary, essences, alchemyAttemptFactory, craftingAttemptFactory, enabled }) {\r\n        var _a, _b;\r\n        this._id = id;\r\n        this._name = name;\r\n        this._gameSystem = gameSystem;\r\n        this._alchemyCraftingCheck = (_a = craftingChecks === null || craftingChecks === void 0 ? void 0 : craftingChecks.alchemy) !== null && _a !== void 0 ? _a : new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheck();\r\n        this._recipeCraftingCheck = (_b = craftingChecks === null || craftingChecks === void 0 ? void 0 : craftingChecks.recipe) !== null && _b !== void 0 ? _b : new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheck();\r\n        this._partDictionary = partDictionary;\r\n        this._essencesBySlug = new Map(essences.map((essence) => [essence.slug, essence]));\r\n        this._craftingAttemptFactory = craftingAttemptFactory;\r\n        this._alchemyAttemptFactory = alchemyAttemptFactory !== null && alchemyAttemptFactory !== void 0 ? alchemyAttemptFactory : new _crafting_alchemy_AlchemyAttemptFactory__WEBPACK_IMPORTED_MODULE_1__.DisabledAlchemyAttemptFactory();\r\n        this._enabled = enabled;\r\n    }\r\n    get alchemyFormulae() {\r\n        return this._alchemyAttemptFactory.formulaeByBasePartId;\r\n    }\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n    set enabled(value) {\r\n        this._enabled = value;\r\n    }\r\n    get essences() {\r\n        return Array.from(this._essencesBySlug.values());\r\n    }\r\n    getEssenceBySlug(slug) {\r\n        return this._essencesBySlug.get(slug);\r\n    }\r\n    get hasRecipeCraftingCheck() {\r\n        return this._recipeCraftingCheck !== null && !(this._recipeCraftingCheck instanceof _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheck);\r\n    }\r\n    get hasAlchemyCraftingCheck() {\r\n        return this._alchemyCraftingCheck !== null && !(this._alchemyCraftingCheck instanceof _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_0__.NoCraftingCheck);\r\n    }\r\n    get supportsAlchemy() {\r\n        return this._alchemyAttemptFactory.isEnabled();\r\n    }\r\n    get id() {\r\n        return this._id;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    /**\r\n     * Attempts to craft a Recipe for the given Actor, modifying the given inventory to reflect the result.\r\n     *\r\n     * @param actor The Actor performing the Crafting Attempt\r\n     * @param inventory The Inventory owned by the Actor\r\n     * @param recipe The Recipe to attempt to craft\r\n     *\r\n     * @return a CraftingResult describing the outcome of the Crafting attempt\r\n     *\r\n     * The Crafting Result returned by this function is self-describing. Once obtained, it can be used to create and\r\n     * send a Chat Message if required.\r\n     *\r\n     * @example\r\n     * const craftingResult: CraftingResult = await craft(actor, inventory, recipe);\r\n     * const craftingMessage: CraftingChatMessage = craftingResult.describe();\r\n     * await chatDialog.send(actor.id, craftingMessage);\r\n     * */\r\n    craft(actor, inventory, recipe) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const craftingAttempt = this._craftingAttemptFactory.make(inventory.ownedComponents, recipe);\r\n            const craftingResult = craftingAttempt.perform(actor, this._recipeCraftingCheck);\r\n            yield inventory.acceptCraftingResult(craftingResult);\r\n            return craftingResult;\r\n        });\r\n    }\r\n    // todo implement\r\n    doAlchemy(actor, inventory, baseComponent, componentSelection) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const alchemyAttempt = this._alchemyAttemptFactory.make(baseComponent, componentSelection);\r\n            const alchemyResult = alchemyAttempt.perform(actor, this._alchemyCraftingCheck);\r\n            yield inventory.acceptAlchemyResult(alchemyResult);\r\n            return alchemyResult;\r\n        });\r\n    }\r\n    get gameSystem() {\r\n        return this._gameSystem;\r\n    }\r\n    get recipes() {\r\n        return this._partDictionary.getRecipes();\r\n    }\r\n    get components() {\r\n        return this._partDictionary.getComponents();\r\n    }\r\n    getComponentByPartId(partId) {\r\n        return this._partDictionary.getComponent(partId, this.id);\r\n    }\r\n    getRecipeByPartId(partId) {\r\n        return this._partDictionary.getRecipe(partId, this.id);\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW0vQ3JhZnRpbmdTeXN0ZW0udHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBUStFO0FBTWdDO0FBRy9HLE1BQU0sY0FBYztJQWNoQixZQUFZLEVBQ1IsRUFBRSxFQUNGLElBQUksRUFDSixVQUFVLEVBQ1YsY0FBYyxHQUFHO1FBQ2IsTUFBTSxFQUFFLElBQUksMEVBQWUsRUFBRTtRQUM3QixPQUFPLEVBQUUsSUFBSSwwRUFBZSxFQUFFO0tBQ2pDLEVBQ0QsY0FBYyxFQUNkLFFBQVEsRUFDUixxQkFBcUIsRUFDckIsc0JBQXNCLEVBQ3RCLE9BQU8sRUFjVjs7UUFDRyxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxDQUFDO1FBQzlCLElBQUksQ0FBQyxxQkFBcUIsR0FBRyxvQkFBYyxhQUFkLGNBQWMsdUJBQWQsY0FBYyxDQUFFLE9BQU8sbUNBQUksSUFBSSwwRUFBZSxFQUFFLENBQUM7UUFDOUUsSUFBSSxDQUFDLG9CQUFvQixHQUFHLG9CQUFjLGFBQWQsY0FBYyx1QkFBZCxjQUFjLENBQUUsTUFBTSxtQ0FBSSxJQUFJLDBFQUFlLEVBQUUsQ0FBQztRQUM1RSxJQUFJLENBQUMsZUFBZSxHQUFHLGNBQWMsQ0FBQztRQUN0QyxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUEwQixFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RHLElBQUksQ0FBQyx1QkFBdUIsR0FBRyxzQkFBc0IsQ0FBQztRQUN0RCxJQUFJLENBQUMsc0JBQXNCLEdBQUcscUJBQXFCLGFBQXJCLHFCQUFxQixjQUFyQixxQkFBcUIsR0FBSSxJQUFJLGtHQUE2QixFQUFFLENBQUM7UUFD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QWlCLENBQUMsTUFBYztRQUM1QixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDM0QsQ0FBQztDQUVKO0FBRXVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZmFicmljYXRlLy4vc3JjL3NjcmlwdHMvc3lzdGVtL0NyYWZ0aW5nU3lzdGVtLnRzPzQ2OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJZGVudGlmaWFibGV9IGZyb20gXCIuLi9jb21tb24vRmFicmljYXRlSXRlbVwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4uL2NyYWZ0aW5nL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29tbW9uL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7RXNzZW5jZURlZmluaXRpb259IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9hY3Rvci9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtDb21iaW5hdGlvbn0gZnJvbSBcIi4uL2NvbW1vbi9Db21iaW5hdGlvblwiO1xyXG5pbXBvcnQge0dhbWVTeXN0ZW19IGZyb20gXCIuL0dhbWVTeXN0ZW1cIjtcclxuaW1wb3J0IHtQYXJ0RGljdGlvbmFyeX0gZnJvbSBcIi4vUGFydERpY3Rpb25hcnlcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NoZWNrLCBOb0NyYWZ0aW5nQ2hlY2t9IGZyb20gXCIuLi9jcmFmdGluZy9jaGVjay9DcmFmdGluZ0NoZWNrXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdBdHRlbXB0RmFjdG9yeX0gZnJvbSBcIi4uL2NyYWZ0aW5nL2F0dGVtcHQvQ3JhZnRpbmdBdHRlbXB0RmFjdG9yeVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQXR0ZW1wdH0gZnJvbSBcIi4uL2NyYWZ0aW5nL2F0dGVtcHQvQ3JhZnRpbmdBdHRlbXB0XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdSZXN1bHR9IGZyb20gXCIuLi9jcmFmdGluZy9yZXN1bHQvQ3JhZnRpbmdSZXN1bHRcIjtcclxuaW1wb3J0IHtBbGNoZW15QXR0ZW1wdH0gZnJvbSBcIi4uL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVteUF0dGVtcHRcIjtcclxuaW1wb3J0IHtBbGNoZW15UmVzdWx0fSBmcm9tIFwiLi4vY3JhZnRpbmcvYWxjaGVteS9BbGNoZW15UmVzdWx0XCI7XHJcbmltcG9ydCB7QWxjaGVteUF0dGVtcHRGYWN0b3J5LCBEaXNhYmxlZEFsY2hlbXlBdHRlbXB0RmFjdG9yeX0gZnJvbSBcIi4uL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVteUF0dGVtcHRGYWN0b3J5XCI7XHJcbmltcG9ydCB7QWxjaGVteUZvcm11bGF9IGZyb20gXCIuLi9jcmFmdGluZy9hbGNoZW15L0FsY2hlbXlGb3JtdWxhXCI7XHJcblxyXG5jbGFzcyBDcmFmdGluZ1N5c3RlbSBpbXBsZW1lbnRzIElkZW50aWZpYWJsZSB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaWQ6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2dhbWVTeXN0ZW06IEdhbWVTeXN0ZW07XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGVDcmFmdGluZ0NoZWNrOiBDcmFmdGluZ0NoZWNrPEFjdG9yPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FsY2hlbXlDcmFmdGluZ0NoZWNrOiBDcmFmdGluZ0NoZWNrPEFjdG9yPjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BhcnREaWN0aW9uYXJ5OiBQYXJ0RGljdGlvbmFyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VzQnlTbHVnOiBNYXA8c3RyaW5nLCBFc3NlbmNlRGVmaW5pdGlvbj47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hbGNoZW15QXR0ZW1wdEZhY3Rvcnk6IEFsY2hlbXlBdHRlbXB0RmFjdG9yeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NyYWZ0aW5nQXR0ZW1wdEZhY3Rvcnk6IENyYWZ0aW5nQXR0ZW1wdEZhY3Rvcnk7XHJcblxyXG4gICAgcHJpdmF0ZSBfZW5hYmxlZDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih7XHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBnYW1lU3lzdGVtLFxyXG4gICAgICAgIGNyYWZ0aW5nQ2hlY2tzID0ge1xyXG4gICAgICAgICAgICByZWNpcGU6IG5ldyBOb0NyYWZ0aW5nQ2hlY2soKSxcclxuICAgICAgICAgICAgYWxjaGVteTogbmV3IE5vQ3JhZnRpbmdDaGVjaygpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwYXJ0RGljdGlvbmFyeSxcclxuICAgICAgICBlc3NlbmNlcyxcclxuICAgICAgICBhbGNoZW15QXR0ZW1wdEZhY3RvcnksXHJcbiAgICAgICAgY3JhZnRpbmdBdHRlbXB0RmFjdG9yeSxcclxuICAgICAgICBlbmFibGVkXHJcbiAgICB9OiB7XHJcbiAgICAgICAgaWQ6IHN0cmluZztcclxuICAgICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgICAgZ2FtZVN5c3RlbTogR2FtZVN5c3RlbTtcclxuICAgICAgICBjcmFmdGluZ0NoZWNrcz86IHtcclxuICAgICAgICAgICAgcmVjaXBlPzogQ3JhZnRpbmdDaGVjazxBY3Rvcj47XHJcbiAgICAgICAgICAgIGFsY2hlbXk/OiBDcmFmdGluZ0NoZWNrPEFjdG9yPjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBhcnREaWN0aW9uYXJ5OiBQYXJ0RGljdGlvbmFyeTtcclxuICAgICAgICBlc3NlbmNlczogRXNzZW5jZURlZmluaXRpb25bXSxcclxuICAgICAgICBhbGNoZW15QXR0ZW1wdEZhY3Rvcnk/OiBBbGNoZW15QXR0ZW1wdEZhY3Rvcnk7XHJcbiAgICAgICAgY3JhZnRpbmdBdHRlbXB0RmFjdG9yeTogQ3JhZnRpbmdBdHRlbXB0RmFjdG9yeTtcclxuICAgICAgICBlbmFibGVkOiBib29sZWFuO1xyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX2lkID0gaWQ7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fZ2FtZVN5c3RlbSA9IGdhbWVTeXN0ZW07XHJcbiAgICAgICAgdGhpcy5fYWxjaGVteUNyYWZ0aW5nQ2hlY2sgPSBjcmFmdGluZ0NoZWNrcz8uYWxjaGVteSA/PyBuZXcgTm9DcmFmdGluZ0NoZWNrKCk7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlQ3JhZnRpbmdDaGVjayA9IGNyYWZ0aW5nQ2hlY2tzPy5yZWNpcGUgPz8gbmV3IE5vQ3JhZnRpbmdDaGVjaygpO1xyXG4gICAgICAgIHRoaXMuX3BhcnREaWN0aW9uYXJ5ID0gcGFydERpY3Rpb25hcnk7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZXNCeVNsdWcgPSBuZXcgTWFwKGVzc2VuY2VzLm1hcCgoZXNzZW5jZTogRXNzZW5jZURlZmluaXRpb24pID0+IFtlc3NlbmNlLnNsdWcsIGVzc2VuY2VdKSk7XHJcbiAgICAgICAgdGhpcy5fY3JhZnRpbmdBdHRlbXB0RmFjdG9yeSA9IGNyYWZ0aW5nQXR0ZW1wdEZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5fYWxjaGVteUF0dGVtcHRGYWN0b3J5ID0gYWxjaGVteUF0dGVtcHRGYWN0b3J5ID8/IG5ldyBEaXNhYmxlZEFsY2hlbXlBdHRlbXB0RmFjdG9yeSgpO1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBlbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhbGNoZW15Rm9ybXVsYWUoKTogTWFwPHN0cmluZywgQWxjaGVteUZvcm11bGE+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWxjaGVteUF0dGVtcHRGYWN0b3J5LmZvcm11bGFlQnlCYXNlUGFydElkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBlbmFibGVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlc3NlbmNlcygpOiBFc3NlbmNlRGVmaW5pdGlvbltdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9lc3NlbmNlc0J5U2x1Zy52YWx1ZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RXNzZW5jZUJ5U2x1ZyhzbHVnOiBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZXNCeVNsdWcuZ2V0KHNsdWcpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBoYXNSZWNpcGVDcmFmdGluZ0NoZWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNpcGVDcmFmdGluZ0NoZWNrICE9PSBudWxsICYmICEodGhpcy5fcmVjaXBlQ3JhZnRpbmdDaGVjayBpbnN0YW5jZW9mIE5vQ3JhZnRpbmdDaGVjayk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGhhc0FsY2hlbXlDcmFmdGluZ0NoZWNrKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hbGNoZW15Q3JhZnRpbmdDaGVjayAhPT0gbnVsbCAmJiAhKHRoaXMuX2FsY2hlbXlDcmFmdGluZ0NoZWNrIGluc3RhbmNlb2YgTm9DcmFmdGluZ0NoZWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3VwcG9ydHNBbGNoZW15KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hbGNoZW15QXR0ZW1wdEZhY3RvcnkuaXNFbmFibGVkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRlbXB0cyB0byBjcmFmdCBhIFJlY2lwZSBmb3IgdGhlIGdpdmVuIEFjdG9yLCBtb2RpZnlpbmcgdGhlIGdpdmVuIGludmVudG9yeSB0byByZWZsZWN0IHRoZSByZXN1bHQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFjdG9yIFRoZSBBY3RvciBwZXJmb3JtaW5nIHRoZSBDcmFmdGluZyBBdHRlbXB0XHJcbiAgICAgKiBAcGFyYW0gaW52ZW50b3J5IFRoZSBJbnZlbnRvcnkgb3duZWQgYnkgdGhlIEFjdG9yXHJcbiAgICAgKiBAcGFyYW0gcmVjaXBlIFRoZSBSZWNpcGUgdG8gYXR0ZW1wdCB0byBjcmFmdFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gYSBDcmFmdGluZ1Jlc3VsdCBkZXNjcmliaW5nIHRoZSBvdXRjb21lIG9mIHRoZSBDcmFmdGluZyBhdHRlbXB0XHJcbiAgICAgKlxyXG4gICAgICogVGhlIENyYWZ0aW5nIFJlc3VsdCByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIGlzIHNlbGYtZGVzY3JpYmluZy4gT25jZSBvYnRhaW5lZCwgaXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuZFxyXG4gICAgICogc2VuZCBhIENoYXQgTWVzc2FnZSBpZiByZXF1aXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogY29uc3QgY3JhZnRpbmdSZXN1bHQ6IENyYWZ0aW5nUmVzdWx0ID0gYXdhaXQgY3JhZnQoYWN0b3IsIGludmVudG9yeSwgcmVjaXBlKTtcclxuICAgICAqIGNvbnN0IGNyYWZ0aW5nTWVzc2FnZTogQ3JhZnRpbmdDaGF0TWVzc2FnZSA9IGNyYWZ0aW5nUmVzdWx0LmRlc2NyaWJlKCk7XHJcbiAgICAgKiBhd2FpdCBjaGF0RGlhbG9nLnNlbmQoYWN0b3IuaWQsIGNyYWZ0aW5nTWVzc2FnZSk7XHJcbiAgICAgKiAqL1xyXG4gICAgcHVibGljIGFzeW5jIGNyYWZ0KGFjdG9yOiBBY3RvciwgaW52ZW50b3J5OiBJbnZlbnRvcnksIHJlY2lwZTogUmVjaXBlKTogUHJvbWlzZTxDcmFmdGluZ1Jlc3VsdD4ge1xyXG5cclxuICAgICAgICBjb25zdCBjcmFmdGluZ0F0dGVtcHQ6IENyYWZ0aW5nQXR0ZW1wdCA9IHRoaXMuX2NyYWZ0aW5nQXR0ZW1wdEZhY3RvcnkubWFrZShpbnZlbnRvcnkub3duZWRDb21wb25lbnRzLCByZWNpcGUpO1xyXG5cclxuICAgICAgICBjb25zdCBjcmFmdGluZ1Jlc3VsdDogQ3JhZnRpbmdSZXN1bHQgPSBjcmFmdGluZ0F0dGVtcHQucGVyZm9ybShhY3RvciwgdGhpcy5fcmVjaXBlQ3JhZnRpbmdDaGVjayk7XHJcblxyXG4gICAgICAgIGF3YWl0IGludmVudG9yeS5hY2NlcHRDcmFmdGluZ1Jlc3VsdChjcmFmdGluZ1Jlc3VsdCk7XHJcblxyXG4gICAgICAgIHJldHVybiBjcmFmdGluZ1Jlc3VsdDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gdG9kbyBpbXBsZW1lbnRcclxuICAgIHB1YmxpYyBhc3luYyBkb0FsY2hlbXkoYWN0b3I6IEFjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnk6IEludmVudG9yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZUNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFNlbGVjdGlvbjogQ29tYmluYXRpb248Q3JhZnRpbmdDb21wb25lbnQ+KTogUHJvbWlzZTxBbGNoZW15UmVzdWx0PiB7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsY2hlbXlBdHRlbXB0OiBBbGNoZW15QXR0ZW1wdCA9IHRoaXMuX2FsY2hlbXlBdHRlbXB0RmFjdG9yeS5tYWtlKGJhc2VDb21wb25lbnQsIGNvbXBvbmVudFNlbGVjdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsY2hlbXlSZXN1bHQ6IEFsY2hlbXlSZXN1bHQgPSBhbGNoZW15QXR0ZW1wdC5wZXJmb3JtKGFjdG9yLCB0aGlzLl9hbGNoZW15Q3JhZnRpbmdDaGVjayk7XHJcblxyXG4gICAgICAgIGF3YWl0IGludmVudG9yeS5hY2NlcHRBbGNoZW15UmVzdWx0KGFsY2hlbXlSZXN1bHQpO1xyXG5cclxuICAgICAgICByZXR1cm4gYWxjaGVteVJlc3VsdDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGdhbWVTeXN0ZW0oKTogR2FtZVN5c3RlbSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dhbWVTeXN0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlY2lwZXMoKTogUmVjaXBlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJ0RGljdGlvbmFyeS5nZXRSZWNpcGVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudHMoKTogQ3JhZnRpbmdDb21wb25lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnREaWN0aW9uYXJ5LmdldENvbXBvbmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29tcG9uZW50QnlQYXJ0SWQocGFydElkOiBzdHJpbmcpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnREaWN0aW9uYXJ5LmdldENvbXBvbmVudChwYXJ0SWQsIHRoaXMuaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlY2lwZUJ5UGFydElkKHBhcnRJZDogc3RyaW5nKTogUmVjaXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcGFydERpY3Rpb25hcnkuZ2V0UmVjaXBlKHBhcnRJZCwgdGhpcy5pZCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nU3lzdGVtfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/system/CraftingSystem.ts\n");

/***/ }),

/***/ "./src/scripts/system/CraftingSystemFactory.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/system/CraftingSystemFactory.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CraftingSystemFactory\": () => (/* binding */ CraftingSystemFactory)\n/* harmony export */ });\n/* harmony import */ var _CraftingSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingSystem */ \"./src/scripts/system/CraftingSystem.ts\");\n/* harmony import */ var _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../crafting/check/CraftingCheck */ \"./src/scripts/crafting/check/CraftingCheck.ts\");\n/* harmony import */ var _GameSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameSystem */ \"./src/scripts/system/GameSystem.ts\");\n/* harmony import */ var _crafting_check_ContributionCounter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../crafting/check/ContributionCounter */ \"./src/scripts/crafting/check/ContributionCounter.ts\");\n/* harmony import */ var _crafting_attempt_CraftingAttemptFactory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../crafting/attempt/CraftingAttemptFactory */ \"./src/scripts/crafting/attempt/CraftingAttemptFactory.ts\");\n/* harmony import */ var _crafting_selection_DefaultComponentSelectionStrategy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../crafting/selection/DefaultComponentSelectionStrategy */ \"./src/scripts/crafting/selection/DefaultComponentSelectionStrategy.ts\");\n/* harmony import */ var _crafting_check_Threshold__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../crafting/check/Threshold */ \"./src/scripts/crafting/check/Threshold.ts\");\n/* harmony import */ var _crafting_alchemy_AlchemyAttemptFactory__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../crafting/alchemy/AlchemyAttemptFactory */ \"./src/scripts/crafting/alchemy/AlchemyAttemptFactory.ts\");\n/* harmony import */ var _crafting_alchemy_AlchemyFormula__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../crafting/alchemy/AlchemyFormula */ \"./src/scripts/crafting/alchemy/AlchemyFormula.ts\");\n/* harmony import */ var _common_EssenceDefinition__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/EssenceDefinition */ \"./src/scripts/common/EssenceDefinition.ts\");\n/* harmony import */ var _common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/ComponentConsumptionCalculator */ \"./src/scripts/common/ComponentConsumptionCalculator.ts\");\n/* harmony import */ var _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../5e/AlchemicalEffect5E */ \"./src/scripts/5e/AlchemicalEffect5E.ts\");\n/* harmony import */ var _common_Combination__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../common/Combination */ \"./src/scripts/common/Combination.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CraftingSystemFactory {\r\n    constructor({ specification, partDictionary, rollProviderFactory, diceRoller }) {\r\n        this._specification = specification;\r\n        this._partDictionary = partDictionary;\r\n        this._rollProviderFactory = rollProviderFactory;\r\n        this._diceRoller = diceRoller;\r\n    }\r\n    make() {\r\n        if (this._specification.gameSystem !== _GameSystem__WEBPACK_IMPORTED_MODULE_2__.GameSystem.DND5E) {\r\n            throw new Error(\"Fabricate only currently supports DnD 5th Edition. \");\r\n        }\r\n        const essenceDefinitions = this._specification.essences.map(essenceConfig => new _common_EssenceDefinition__WEBPACK_IMPORTED_MODULE_9__.EssenceDefinition(essenceConfig));\r\n        const essenceIdentityProvider = _common_EssenceDefinition__WEBPACK_IMPORTED_MODULE_9__.EssenceIdentityProvider[\"for\"](essenceDefinitions);\r\n        const consumptionCalculatorFactory = new _common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_10__.ComponentConsumptionCalculatorFactory();\r\n        const defaultCraftingCheck = this._specification.hasCraftingChecks ? this.buildCraftingCheck(this._specification.defaultCheck) : new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_1__.NoCraftingCheck();\r\n        const recipeCraftingCheck = this._specification.recipes.useCustomCheck ? this.buildCraftingCheck(this._specification.recipes.customCheck) : defaultCraftingCheck;\r\n        const alchemyCraftingCheck = this._specification.alchemy.useCustomCheck ? this.buildCraftingCheck(this._specification.alchemy.customCheck) : defaultCraftingCheck;\r\n        const gameSystem = this._specification.gameSystem;\r\n        return new _CraftingSystem__WEBPACK_IMPORTED_MODULE_0__.CraftingSystem({\r\n            name: this._specification.name,\r\n            id: this._specification.id,\r\n            essences: essenceDefinitions,\r\n            enabled: this._specification.enabled,\r\n            gameSystem: gameSystem,\r\n            craftingChecks: {\r\n                alchemy: alchemyCraftingCheck,\r\n                recipe: recipeCraftingCheck\r\n            },\r\n            partDictionary: this._partDictionary,\r\n            craftingAttemptFactory: new _crafting_attempt_CraftingAttemptFactory__WEBPACK_IMPORTED_MODULE_4__.CraftingAttemptFactory({\r\n                selectionStrategy: new _crafting_selection_DefaultComponentSelectionStrategy__WEBPACK_IMPORTED_MODULE_5__.DefaultComponentSelectionStrategy(),\r\n                wastageType: _common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_10__.WastageType[this._specification.recipes.wastage]\r\n            }),\r\n            alchemyAttemptFactory: this.buildAlchemyAttemptFactory(this._specification.alchemy.enabled, consumptionCalculatorFactory, essenceIdentityProvider)\r\n        });\r\n    }\r\n    buildAlchemyAttemptFactory(enabled, componentConsumptionCalculatorFactory, essenceIdentityProvider) {\r\n        if (!enabled) {\r\n            return new _crafting_alchemy_AlchemyAttemptFactory__WEBPACK_IMPORTED_MODULE_7__.DisabledAlchemyAttemptFactory();\r\n        }\r\n        return new _crafting_alchemy_AlchemyAttemptFactory__WEBPACK_IMPORTED_MODULE_7__.DefaultAlchemyAttemptFactory({\r\n            componentConsumptionCalculator: componentConsumptionCalculatorFactory.make(_common_ComponentConsumptionCalculator__WEBPACK_IMPORTED_MODULE_10__.WastageType[this._specification.alchemy.wastage]),\r\n            alchemicalCombiner: new _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.AlchemicalCombiner5e(),\r\n            constraints: this._specification.alchemy.constraints,\r\n            alchemyFormulae: this._specification.alchemy.formulae.map(formula => this.buildAlchemyFormula(essenceIdentityProvider, formula))\r\n        });\r\n    }\r\n    buildAlchemyFormula(essenceIdentityProvider, alchemyFormulaSpec) {\r\n        const alchemyFormula = new _crafting_alchemy_AlchemyFormula__WEBPACK_IMPORTED_MODULE_8__.DefaultAlchemyFormula({\r\n            basePartId: alchemyFormulaSpec.basePartId,\r\n            essenceIdentityProvider: essenceIdentityProvider\r\n        });\r\n        alchemyFormulaSpec.effects.map(alchemyEffectSpec => {\r\n            let result = {\r\n                alchemicalEffect: null,\r\n                essenceCombination: null\r\n            };\r\n            result.essenceCombination = Object.keys(alchemyEffectSpec.essenceMatch)\r\n                .map(essenceSlug => _common_Combination__WEBPACK_IMPORTED_MODULE_12__.Combination.of(essenceIdentityProvider.getEssenceDefinitionBySlug(essenceSlug), alchemyEffectSpec.essenceMatch[essenceSlug]))\r\n                .reduce((left, right) => left.combineWith(right));\r\n            switch (alchemyEffectSpec.type) {\r\n                case _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.Dnd5EAlchemicalEffectName.AOE_EXTENSION:\r\n                    const aoe = alchemyEffectSpec.aoe;\r\n                    const aoeEffect = new _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.AoeExtension5e({\r\n                        units: aoe.units,\r\n                        value: aoe.value\r\n                    });\r\n                    result.alchemicalEffect = aoeEffect;\r\n                    break;\r\n                case _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.Dnd5EAlchemicalEffectName.DAMAGE:\r\n                    const damageSpec = alchemyEffectSpec;\r\n                    const damageEffect = new _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.Damage5e({\r\n                        type: damageSpec.damage.type,\r\n                        roll: this._diceRoller.fromExpression(damageSpec.damage.expression),\r\n                        diceRoller: this._diceRoller\r\n                    });\r\n                    result.alchemicalEffect = damageEffect;\r\n                    break;\r\n                case _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.Dnd5EAlchemicalEffectName.DESCRIPTIVE:\r\n                    const description = alchemyEffectSpec.description;\r\n                    const descriptiveEffect = new _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.DescriptiveEffect5e(description);\r\n                    result.alchemicalEffect = descriptiveEffect;\r\n                    break;\r\n                case _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.Dnd5EAlchemicalEffectName.DAMAGE_MULTIPLIER:\r\n                    const multiplierValue = alchemyEffectSpec.diceMultiplier;\r\n                    const diceMultiplier = new _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.DiceMultiplier5e({\r\n                        multiplierValue: multiplierValue,\r\n                        diceRoller: this._diceRoller\r\n                    });\r\n                    result.alchemicalEffect = diceMultiplier;\r\n                    break;\r\n                case _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.Dnd5EAlchemicalEffectName.SAVE_MODIFIER:\r\n                    const saveModifier = alchemyEffectSpec.saveModifier;\r\n                    const savingThrowModifier = new _5e_AlchemicalEffect5E__WEBPACK_IMPORTED_MODULE_11__.SavingThrowModifier5e({\r\n                        value: saveModifier\r\n                    });\r\n                    result.alchemicalEffect = savingThrowModifier;\r\n                    break;\r\n            }\r\n            return result;\r\n        }).forEach(result => alchemyFormula.registerEffect(result.essenceCombination, result.alchemicalEffect));\r\n        return alchemyFormula;\r\n    }\r\n    buildCraftingCheck(specification) {\r\n        if (!specification) {\r\n            return new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_1__.NoCraftingCheck();\r\n        }\r\n        const contributionCounterFactory = new _crafting_check_ContributionCounter__WEBPACK_IMPORTED_MODULE_3__.ContributionCounterFactory({\r\n            essenceContribution: specification.threshold.contributions.essence,\r\n            ingredientContribution: specification.threshold.contributions.ingredient\r\n        });\r\n        const contributionCounter = contributionCounterFactory.make();\r\n        const thresholdCalculator = new _crafting_check_Threshold__WEBPACK_IMPORTED_MODULE_6__.DefaultThresholdCalculator({\r\n            baseValue: specification.threshold.baseValue,\r\n            contributionCounter: contributionCounter,\r\n            thresholdType: _crafting_check_Threshold__WEBPACK_IMPORTED_MODULE_6__.ThresholdType[specification.threshold.type]\r\n        });\r\n        const rollProvider = this._rollProviderFactory.make(specification);\r\n        return new _crafting_check_CraftingCheck__WEBPACK_IMPORTED_MODULE_1__.DefaultCraftingCheck({\r\n            thresholdCalculator: thresholdCalculator,\r\n            gameSystemRollModifierProvider: rollProvider,\r\n            diceRoller: this._diceRoller\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW0vQ3JhZnRpbmdTeXN0ZW1GYWN0b3J5LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSWdEO0FBRXFEO0FBQzdEO0FBQzhEO0FBRXBCO0FBQ3dCO0FBQ0M7QUFDVztBQUM3QjtBQUNGO0FBQ3FCO0FBTzFFO0FBQ2dCO0FBV2xELE1BQU0scUJBQXFCO0lBT3ZCLFlBQVksRUFDUixhQUFhLEVBQ2IsY0FBYyxFQUNkLG1CQUFtQixFQUNuQixVQUFVLEVBTWI7UUFDRyxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztRQUNwQyxJQUFJLENBQUMsZUFBZSxHQUFHLGNBQWMsQ0FBQztRQUN0QyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsbUJBQW1CLENBQUM7UUFDaEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7SUFDbEMsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxLQUFLLHlEQUFnQixFQUFFO1lBQ3JELE1BQU0sSUFBSSxLQUFLLENBQUMscURBQXFELENBQUMsQ0FBQztTQUMxRTtRQUVELE1BQU0sa0JBQWtCLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsSUFBSSx3RUFBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ25ILE1BQU0sdUJBQXVCLEdBQUcscUZBQTJCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRixNQUFNLDRCQUE0QixHQUFHLElBQUksMEdBQXFDLEVBQUUsQ0FBQztRQUVqRixNQUFNLG9CQUFvQixHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLDBFQUFlLEVBQUUsQ0FBQztRQUN2SixNQUFN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Q0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNuRixNQUFNLG1CQUFtQixHQUF3QixJQUFJLGlGQUEwQixDQUFDO1lBQzVFLFNBQVMsRUFBRSxhQUFhLENBQUMsU0FBUyxDQUFDLFNBQVM7WUFDNUMsbUJBQW1CLEVBQUUsbUJBQW1CO1lBQ3hDLGFBQWEsRUFBRSxvRUFBYSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO1NBQzdELENBQUMsQ0FBQztRQUNILE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDbkUsT0FBTyxJQUFJLCtFQUFvQixDQUFDO1lBQzVCLG1CQUFtQixFQUFFLG1CQUFtQjtZQUN4Qyw4QkFBOEIsRUFBRSxZQUFZO1lBQzVDLFVBQVUsRUFBRSxJQUFJLENBQUMsV0FBVztTQUMvQixDQUFDLENBQUM7SUFDUCxDQUFDO0NBRUo7QUFFNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhdGUvLi9zcmMvc2NyaXB0cy9zeXN0ZW0vQ3JhZnRpbmdTeXN0ZW1GYWN0b3J5LnRzPzE0YjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICAgIEFsY2hlbXlGb3JtdWxhRGVmaW5pdGlvbixcclxuICAgIENyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvblxyXG59IGZyb20gXCIuLi9zeXN0ZW1fZGVmaW5pdGlvbnMvQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7UGFydERpY3Rpb25hcnl9IGZyb20gXCIuL1BhcnREaWN0aW9uYXJ5XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDaGVjaywgRGVmYXVsdENyYWZ0aW5nQ2hlY2ssIE5vQ3JhZnRpbmdDaGVja30gZnJvbSBcIi4uL2NyYWZ0aW5nL2NoZWNrL0NyYWZ0aW5nQ2hlY2tcIjtcclxuaW1wb3J0IHtHYW1lU3lzdGVtfSBmcm9tIFwiLi9HYW1lU3lzdGVtXCI7XHJcbmltcG9ydCB7Q29udHJpYnV0aW9uQ291bnRlciwgQ29udHJpYnV0aW9uQ291bnRlckZhY3Rvcnl9IGZyb20gXCIuLi9jcmFmdGluZy9jaGVjay9Db250cmlidXRpb25Db3VudGVyXCI7XHJcbmltcG9ydCB7RGljZVJvbGxlcn0gZnJvbSBcIi4uL2ZvdW5kcnkvRGljZVJvbGxlclwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQXR0ZW1wdEZhY3Rvcnl9IGZyb20gXCIuLi9jcmFmdGluZy9hdHRlbXB0L0NyYWZ0aW5nQXR0ZW1wdEZhY3RvcnlcIjtcclxuaW1wb3J0IHtEZWZhdWx0Q29tcG9uZW50U2VsZWN0aW9uU3RyYXRlZ3l9IGZyb20gXCIuLi9jcmFmdGluZy9zZWxlY3Rpb24vRGVmYXVsdENvbXBvbmVudFNlbGVjdGlvblN0cmF0ZWd5XCI7XHJcbmltcG9ydCB7RGVmYXVsdFRocmVzaG9sZENhbGN1bGF0b3IsIFRocmVzaG9sZENhbGN1bGF0b3IsIFRocmVzaG9sZFR5cGV9IGZyb20gXCIuLi9jcmFmdGluZy9jaGVjay9UaHJlc2hvbGRcIjtcclxuaW1wb3J0IHtEZWZhdWx0QWxjaGVteUF0dGVtcHRGYWN0b3J5LCBEaXNhYmxlZEFsY2hlbXlBdHRlbXB0RmFjdG9yeX0gZnJvbSBcIi4uL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVteUF0dGVtcHRGYWN0b3J5XCI7XHJcbmltcG9ydCB7QWxjaGVteUZvcm11bGEsIERlZmF1bHRBbGNoZW15Rm9ybXVsYX0gZnJvbSBcIi4uL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVteUZvcm11bGFcIjtcclxuaW1wb3J0IHtFc3NlbmNlRGVmaW5pdGlvbiwgRXNzZW5jZUlkZW50aXR5UHJvdmlkZXJ9IGZyb20gXCIuLi9jb21tb24vRXNzZW5jZURlZmluaXRpb25cIjtcclxuaW1wb3J0IHtDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3JGYWN0b3J5LCBXYXN0YWdlVHlwZX0gZnJvbSBcIi4uL2NvbW1vbi9Db21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3JcIjtcclxuaW1wb3J0IHtcclxuICAgIEFsY2hlbWljYWxDb21iaW5hdGlvbjVlLFxyXG4gICAgQWxjaGVtaWNhbENvbWJpbmVyNWUsXHJcbiAgICBBb2VFeHRlbnNpb241ZSxcclxuICAgIERhbWFnZTVlLCBEZXNjcmlwdGl2ZUVmZmVjdDVlLCBEaWNlTXVsdGlwbGllcjVlLFxyXG4gICAgRG5kNUVBbGNoZW1pY2FsRWZmZWN0TmFtZSwgU2F2aW5nVGhyb3dNb2RpZmllcjVlXHJcbn0gZnJvbSBcIi4uLzVlL0FsY2hlbWljYWxFZmZlY3Q1RVwiO1xyXG5pbXBvcnQge0NvbWJpbmF0aW9ufSBmcm9tIFwiLi4vY29tbW9uL0NvbWJpbmF0aW9uXCI7XHJcbmltcG9ydCB7QWxjaGVtaWNhbEVmZmVjdH0gZnJvbSBcIi4uL2NyYWZ0aW5nL2FsY2hlbXkvQWxjaGVtaWNhbEVmZmVjdFwiO1xyXG5pbXBvcnQge1JvbGxNb2RpZmllclByb3ZpZGVyRmFjdG9yeX0gZnJvbSBcIi4uL2NyYWZ0aW5nL2NoZWNrL0dhbWVTeXN0ZW1Sb2xsTW9kaWZpZXJQcm92aWRlclwiO1xyXG5pbXBvcnQge1xyXG4gICAgRG5ENUVBbGNoZW15RWZmZWN0U3BlYyxcclxuICAgIERuRDVFQW9FRXh0ZW5zaW9uRWZmZWN0U3BlYyxcclxuICAgIERuRDVFQ3JhZnRpbmdDaGVja1NwZWMsIERuRDVFRGFtYWdlRWZmZWN0U3BlYyxcclxuICAgIERuRDVFRGFtYWdlTXVsdGlwbGllckVmZmVjdFNwZWMsXHJcbiAgICBEbkQ1RVNhdmVNb2RpZmllckVmZmVjdFNwZWNcclxufSBmcm9tIFwiLi4vc3lzdGVtX2RlZmluaXRpb25zL0RuRDVlXCI7XHJcblxyXG5jbGFzcyBDcmFmdGluZ1N5c3RlbUZhY3Rvcnkge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3NwZWNpZmljYXRpb246IENyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3BhcnREaWN0aW9uYXJ5OiBQYXJ0RGljdGlvbmFyeTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3JvbGxQcm92aWRlckZhY3Rvcnk6IFJvbGxNb2RpZmllclByb3ZpZGVyRmFjdG9yeTxBY3Rvcj47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kaWNlUm9sbGVyOiBEaWNlUm9sbGVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHtcclxuICAgICAgICBzcGVjaWZpY2F0aW9uLFxyXG4gICAgICAgIHBhcnREaWN0aW9uYXJ5LFxyXG4gICAgICAgIHJvbGxQcm92aWRlckZhY3RvcnksXHJcbiAgICAgICAgZGljZVJvbGxlclxyXG4gICAgfToge1xyXG4gICAgICAgIHNwZWNpZmljYXRpb246IENyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbjtcclxuICAgICAgICBwYXJ0RGljdGlvbmFyeTogUGFydERpY3Rpb25hcnk7XHJcbiAgICAgICAgcm9sbFByb3ZpZGVyRmFjdG9yeTogUm9sbE1vZGlmaWVyUHJvdmlkZXJGYWN0b3J5PEFjdG9yPjtcclxuICAgICAgICBkaWNlUm9sbGVyOiBEaWNlUm9sbGVyO1xyXG4gICAgfSkge1xyXG4gICAgICAgIHRoaXMuX3NwZWNpZmljYXRpb24gPSBzcGVjaWZpY2F0aW9uO1xyXG4gICAgICAgIHRoaXMuX3BhcnREaWN0aW9uYXJ5ID0gcGFydERpY3Rpb25hcnk7XHJcbiAgICAgICAgdGhpcy5fcm9sbFByb3ZpZGVyRmFjdG9yeSA9IHJvbGxQcm92aWRlckZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy5fZGljZVJvbGxlciA9IGRpY2VSb2xsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1ha2UoKTogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgIGlmICh0aGlzLl9zcGVjaWZpY2F0aW9uLmdhbWVTeXN0ZW0gIT09IEdhbWVTeXN0ZW0uRE5ENUUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFicmljYXRlIG9ubHkgY3VycmVudGx5IHN1cHBvcnRzIERuRCA1dGggRWRpdGlvbi4gXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZXNzZW5jZURlZmluaXRpb25zID0gdGhpcy5fc3BlY2lmaWNhdGlvbi5lc3NlbmNlcy5tYXAoZXNzZW5jZUNvbmZpZyA9PiBuZXcgRXNzZW5jZURlZmluaXRpb24oZXNzZW5jZUNvbmZpZykpO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VJZGVudGl0eVByb3ZpZGVyID0gRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuZm9yKGVzc2VuY2VEZWZpbml0aW9ucyk7XHJcbiAgICAgICAgY29uc3QgY29uc3VtcHRpb25DYWxjdWxhdG9yRmFjdG9yeSA9IG5ldyBDb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3JGYWN0b3J5KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRDcmFmdGluZ0NoZWNrID0gdGhpcy5fc3BlY2lmaWNhdGlvbi5oYXNDcmFmdGluZ0NoZWNrcyA/IHRoaXMuYnVpbGRDcmFmdGluZ0NoZWNrKHRoaXMuX3NwZWNpZmljYXRpb24uZGVmYXVsdENoZWNrKSA6IG5ldyBOb0NyYWZ0aW5nQ2hlY2soKTtcclxuICAgICAgICBjb25zdCByZWNpcGVDcmFmdGluZ0NoZWNrID0gdGhpcy5fc3BlY2lmaWNhdGlvbi5yZWNpcGVzLnVzZUN1c3RvbUNoZWNrID8gdGhpcy5idWlsZENyYWZ0aW5nQ2hlY2sodGhpcy5fc3BlY2lmaWNhdGlvbi5yZWNpcGVzLmN1c3RvbUNoZWNrKSA6IGRlZmF1bHRDcmFmdGluZ0NoZWNrO1xyXG4gICAgICAgIGNvbnN0IGFsY2hlbXlDcmFmdGluZ0NoZWNrID0gdGhpcy5fc3BlY2lmaWNhdGlvbi5hbGNoZW15LnVzZUN1c3RvbUNoZWNrID8gdGhpcy5idWlsZENyYWZ0aW5nQ2hlY2sodGhpcy5fc3BlY2lmaWNhdGlvbi5hbGNoZW15LmN1c3RvbUNoZWNrKSA6IGRlZmF1bHRDcmFmdGluZ0NoZWNrO1xyXG5cclxuICAgICAgICBjb25zdCBnYW1lU3lzdGVtID0gPEdhbWVTeXN0ZW0+IHRoaXMuX3NwZWNpZmljYXRpb24uZ2FtZVN5c3RlbTtcclxuICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nU3lzdGVtKHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fc3BlY2lmaWNhdGlvbi5uYW1lLFxyXG4gICAgICAgICAgICBpZDogdGhpcy5fc3BlY2lmaWNhdGlvbi5pZCxcclxuICAgICAgICAgICAgZXNzZW5jZXM6IGVzc2VuY2VEZWZpbml0aW9ucyxcclxuICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5fc3BlY2lmaWNhdGlvbi5lbmFibGVkLFxyXG4gICAgICAgICAgICBnYW1lU3lzdGVtOiBnYW1lU3lzdGVtLFxyXG4gICAgICAgICAgICBjcmFmdGluZ0NoZWNrczoge1xyXG4gICAgICAgICAgICAgICAgYWxjaGVteTogYWxjaGVteUNyYWZ0aW5nQ2hlY2ssXHJcbiAgICAgICAgICAgICAgICByZWNpcGU6IHJlY2lwZUNyYWZ0aW5nQ2hlY2tcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGFydERpY3Rpb25hcnk6IHRoaXMuX3BhcnREaWN0aW9uYXJ5LFxyXG4gICAgICAgICAgICBjcmFmdGluZ0F0dGVtcHRGYWN0b3J5OiBuZXcgQ3JhZnRpbmdBdHRlbXB0RmFjdG9yeSh7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25TdHJhdGVneTogbmV3IERlZmF1bHRDb21wb25lbnRTZWxlY3Rpb25TdHJhdGVneSgpLFxyXG4gICAgICAgICAgICAgICAgd2FzdGFnZVR5cGU6IFdhc3RhZ2VUeXBlW3RoaXMuX3NwZWNpZmljYXRpb24ucmVjaXBlcy53YXN0YWdlXVxyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgYWxjaGVteUF0dGVtcHRGYWN0b3J5OiB0aGlzLmJ1aWxkQWxjaGVteUF0dGVtcHRGYWN0b3J5KHRoaXMuX3NwZWNpZmljYXRpb24uYWxjaGVteS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgY29uc3VtcHRpb25DYWxjdWxhdG9yRmFjdG9yeSxcclxuICAgICAgICAgICAgICAgIGVzc2VuY2VJZGVudGl0eVByb3ZpZGVyKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGRBbGNoZW15QXR0ZW1wdEZhY3RvcnkoZW5hYmxlZDogYm9vbGVhbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yRmFjdG9yeTogQ29tcG9uZW50Q29uc3VtcHRpb25DYWxjdWxhdG9yRmFjdG9yeSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXNzZW5jZUlkZW50aXR5UHJvdmlkZXI6IEVzc2VuY2VJZGVudGl0eVByb3ZpZGVyKSB7XHJcbiAgICAgICAgaWYgKCFlbmFibGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGlzYWJsZWRBbGNoZW15QXR0ZW1wdEZhY3RvcnkoKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRBbGNoZW15QXR0ZW1wdEZhY3Rvcnkoe1xyXG4gICAgICAgICAgICBjb21wb25lbnRDb25zdW1wdGlvbkNhbGN1bGF0b3I6IGNvbXBvbmVudENvbnN1bXB0aW9uQ2FsY3VsYXRvckZhY3RvcnkubWFrZShXYXN0YWdlVHlwZVt0aGlzLl9zcGVjaWZpY2F0aW9uLmFsY2hlbXkud2FzdGFnZV0pLFxyXG4gICAgICAgICAgICBhbGNoZW1pY2FsQ29tYmluZXI6IG5ldyBBbGNoZW1pY2FsQ29tYmluZXI1ZSgpLFxyXG4gICAgICAgICAgICBjb25zdHJhaW50czogdGhpcy5fc3BlY2lmaWNhdGlvbi5hbGNoZW15LmNvbnN0cmFpbnRzLFxyXG4gICAgICAgICAgICBhbGNoZW15Rm9ybXVsYWU6IHRoaXMuX3NwZWNpZmljYXRpb24uYWxjaGVteS5mb3JtdWxhZS5tYXAoZm9ybXVsYSA9PiB0aGlzLmJ1aWxkQWxjaGVteUZvcm11bGEoZXNzZW5jZUlkZW50aXR5UHJvdmlkZXIsIGZvcm11bGEpKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGRBbGNoZW15Rm9ybXVsYShlc3NlbmNlSWRlbnRpdHlQcm92aWRlcjogRXNzZW5jZUlkZW50aXR5UHJvdmlkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxjaGVteUZvcm11bGFTcGVjOiBBbGNoZW15Rm9ybXVsYURlZmluaXRpb24pOiBBbGNoZW15Rm9ybXVsYSB7XHJcbiAgICAgICAgY29uc3QgYWxjaGVteUZvcm11bGEgPSBuZXcgRGVmYXVsdEFsY2hlbXlGb3JtdWxhKHtcclxuICAgICAgICAgICAgYmFzZVBhcnRJZDogYWxjaGVteUZvcm11bGFTcGVjLmJhc2VQYXJ0SWQsXHJcbiAgICAgICAgICAgIGVzc2VuY2VJZGVudGl0eVByb3ZpZGVyOiBlc3NlbmNlSWRlbnRpdHlQcm92aWRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFsY2hlbXlGb3JtdWxhU3BlYy5lZmZlY3RzLm1hcChhbGNoZW15RWZmZWN0U3BlYyA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IHtcclxuICAgICAgICAgICAgICAgIGVzc2VuY2VDb21iaW5hdGlvbjogQ29tYmluYXRpb248RXNzZW5jZURlZmluaXRpb24+LFxyXG4gICAgICAgICAgICAgICAgYWxjaGVtaWNhbEVmZmVjdDogQWxjaGVtaWNhbEVmZmVjdDxBbGNoZW1pY2FsQ29tYmluYXRpb241ZT5cclxuICAgICAgICAgICAgfSA9IHtcclxuICAgICAgICAgICAgICAgIGFsY2hlbWljYWxFZmZlY3Q6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBlc3NlbmNlQ29tYmluYXRpb246IG51bGxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVzdWx0LmVzc2VuY2VDb21iaW5hdGlvbiA9IE9iamVjdC5rZXlzKGFsY2hlbXlFZmZlY3RTcGVjLmVzc2VuY2VNYXRjaClcclxuICAgICAgICAgICAgICAgIC5tYXAoZXNzZW5jZVNsdWcgPT4gQ29tYmluYXRpb24ub2YoZXNzZW5jZUlkZW50aXR5UHJvdmlkZXIuZ2V0RXNzZW5jZURlZmluaXRpb25CeVNsdWcoZXNzZW5jZVNsdWcpLCBhbGNoZW15RWZmZWN0U3BlYy5lc3NlbmNlTWF0Y2hbZXNzZW5jZVNsdWddKSlcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0LmNvbWJpbmVXaXRoKHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYWxjaGVteUVmZmVjdFNwZWMudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBEbmQ1RUFsY2hlbWljYWxFZmZlY3ROYW1lLkFPRV9FWFRFTlNJT046XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYW9lID0gKGFsY2hlbXlFZmZlY3RTcGVjIGFzIERuRDVFQW9FRXh0ZW5zaW9uRWZmZWN0U3BlYykuYW9lO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFvZUVmZmVjdCA9IG5ldyBBb2VFeHRlbnNpb241ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRzOiBhb2UudW5pdHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhb2UudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWxjaGVtaWNhbEVmZmVjdCA9IGFvZUVmZmVjdDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRG5kNUVBbGNoZW1pY2FsRWZmZWN0TmFtZS5EQU1BR0U6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGFtYWdlU3BlYyA9IGFsY2hlbXlFZmZlY3RTcGVjIGFzIERuRDVFRGFtYWdlRWZmZWN0U3BlYztcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYW1hZ2VFZmZlY3QgPSBuZXcgRGFtYWdlNWUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBkYW1hZ2VTcGVjLmRhbWFnZS50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xsOiB0aGlzLl9kaWNlUm9sbGVyLmZyb21FeHByZXNzaW9uKGRhbWFnZVNwZWMuZGFtYWdlLmV4cHJlc3Npb24pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWNlUm9sbGVyOiB0aGlzLl9kaWNlUm9sbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWxjaGVtaWNhbEVmZmVjdCA9IGRhbWFnZUVmZmVjdDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgRG5kNUVBbGNoZW1pY2FsRWZmZWN0TmFtZS5ERVNDUklQVElWRTpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IChhbGNoZW15RWZmZWN0U3BlYyBhcyBEbkQ1RUFsY2hlbXlFZmZlY3RTcGVjKS5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdGl2ZUVmZmVjdCA9IG5ldyBEZXNjcmlwdGl2ZUVmZmVjdDVlKGRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWxjaGVtaWNhbEVmZmVjdCA9IGRlc2NyaXB0aXZlRWZmZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBEbmQ1RUFsY2hlbWljYWxFZmZlY3ROYW1lLkRBTUFHRV9NVUxUSVBMSUVSOlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXJWYWx1ZSA9IChhbGNoZW15RWZmZWN0U3BlYyBhcyBEbkQ1RURhbWFnZU11bHRpcGxpZXJFZmZlY3RTcGVjKS5kaWNlTXVsdGlwbGllcjtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWNlTXVsdGlwbGllciA9IG5ldyBEaWNlTXVsdGlwbGllcjVlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGllclZhbHVlOiBtdWx0aXBsaWVyVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY2VSb2xsZXI6IHRoaXMuX2RpY2VSb2xsZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWxjaGVtaWNhbEVmZmVjdCA9IGRpY2VNdWx0aXBsaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIERuZDVFQWxjaGVtaWNhbEVmZmVjdE5hbWUuU0FWRV9NT0RJRklFUjpcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYXZlTW9kaWZpZXIgPSAoYWxjaGVteUVmZmVjdFNwZWMgYXMgRG5ENUVTYXZlTW9kaWZpZXJFZmZlY3RTcGVjKS5zYXZlTW9kaWZpZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2F2aW5nVGhyb3dNb2RpZmllciA9IG5ldyBTYXZpbmdUaHJvd01vZGlmaWVyNWUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2F2ZU1vZGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFsY2hlbWljYWxFZmZlY3QgPSBzYXZpbmdUaHJvd01vZGlmaWVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSkuZm9yRWFjaChyZXN1bHQgPT4gYWxjaGVteUZvcm11bGEucmVnaXN0ZXJFZmZlY3QocmVzdWx0LmVzc2VuY2VDb21iaW5hdGlvbiwgcmVzdWx0LmFsY2hlbWljYWxFZmZlY3QpKTtcclxuICAgICAgICByZXR1cm4gYWxjaGVteUZvcm11bGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZENyYWZ0aW5nQ2hlY2soc3BlY2lmaWNhdGlvbj86IERuRDVFQ3JhZnRpbmdDaGVja1NwZWMpOiBDcmFmdGluZ0NoZWNrPEFjdG9yPiB7XHJcbiAgICAgICAgaWYgKCFzcGVjaWZpY2F0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9DcmFmdGluZ0NoZWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvbnRyaWJ1dGlvbkNvdW50ZXJGYWN0b3J5ID0gbmV3IENvbnRyaWJ1dGlvbkNvdW50ZXJGYWN0b3J5KHtcclxuICAgICAgICAgICAgZXNzZW5jZUNvbnRyaWJ1dGlvbjogc3BlY2lmaWNhdGlvbi50aHJlc2hvbGQuY29udHJpYnV0aW9ucy5lc3NlbmNlLFxyXG4gICAgICAgICAgICBpbmdyZWRpZW50Q29udHJpYnV0aW9uOiBzcGVjaWZpY2F0aW9uLnRocmVzaG9sZC5jb250cmlidXRpb25zLmluZ3JlZGllbnRcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBjb250cmlidXRpb25Db3VudGVyOiBDb250cmlidXRpb25Db3VudGVyID0gY29udHJpYnV0aW9uQ291bnRlckZhY3RvcnkubWFrZSgpO1xyXG4gICAgICAgIGNvbnN0IHRocmVzaG9sZENhbGN1bGF0b3I6IFRocmVzaG9sZENhbGN1bGF0b3IgPSBuZXcgRGVmYXVsdFRocmVzaG9sZENhbGN1bGF0b3Ioe1xyXG4gICAgICAgICAgICBiYXNlVmFsdWU6IHNwZWNpZmljYXRpb24udGhyZXNob2xkLmJhc2VWYWx1ZSxcclxuICAgICAgICAgICAgY29udHJpYnV0aW9uQ291bnRlcjogY29udHJpYnV0aW9uQ291bnRlcixcclxuICAgICAgICAgICAgdGhyZXNob2xkVHlwZTogVGhyZXNob2xkVHlwZVtzcGVjaWZpY2F0aW9uLnRocmVzaG9sZC50eXBlXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHJvbGxQcm92aWRlciA9IHRoaXMuX3JvbGxQcm92aWRlckZhY3RvcnkubWFrZShzcGVjaWZpY2F0aW9uKTtcclxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRDcmFmdGluZ0NoZWNrKHtcclxuICAgICAgICAgICAgdGhyZXNob2xkQ2FsY3VsYXRvcjogdGhyZXNob2xkQ2FsY3VsYXRvcixcclxuICAgICAgICAgICAgZ2FtZVN5c3RlbVJvbGxNb2RpZmllclByb3ZpZGVyOiByb2xsUHJvdmlkZXIsXHJcbiAgICAgICAgICAgIGRpY2VSb2xsZXI6IHRoaXMuX2RpY2VSb2xsZXJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdTeXN0ZW1GYWN0b3J5fSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/system/CraftingSystemFactory.ts\n");

/***/ }),

/***/ "./src/scripts/system/GameSystem.ts":
/*!******************************************!*\
  !*** ./src/scripts/system/GameSystem.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameSystem\": () => (/* binding */ GameSystem)\n/* harmony export */ });\nvar GameSystem;\r\n(function (GameSystem) {\r\n    GameSystem[\"DND5E\"] = \"dnd5e\";\r\n    GameSystem[\"PF2E\"] = \"pf2e\";\r\n})(GameSystem || (GameSystem = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW0vR2FtZVN5c3RlbS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBSyxVQUdKO0FBSEQsV0FBSyxVQUFVO0lBQ1gsNkJBQWU7SUFDZiwyQkFBYTtBQUNqQixDQUFDLEVBSEksVUFBVSxLQUFWLFVBQVUsUUFHZDtBQUVrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL3N5c3RlbS9HYW1lU3lzdGVtLnRzP2YzOGQiXSwic291cmNlc0NvbnRlbnQiOlsiZW51bSBHYW1lU3lzdGVtIHtcclxuICAgIERORDVFID0gXCJkbmQ1ZVwiLFxyXG4gICAgUEYyRSA9IFwicGYyZVwiXHJcbn1cclxuXHJcbmV4cG9ydCB7R2FtZVN5c3RlbX0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/system/GameSystem.ts\n");

/***/ }),

/***/ "./src/scripts/system/PartDictionary.ts":
/*!**********************************************!*\
  !*** ./src/scripts/system/PartDictionary.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PartDictionary\": () => (/* binding */ PartDictionary)\n/* harmony export */ });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _common_FabricateItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FabricateItem */ \"./src/scripts/common/FabricateItem.ts\");\n/* harmony import */ var _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../compendium/CompendiumData */ \"./src/scripts/compendium/CompendiumData.ts\");\n\r\n\r\n\r\nclass PartDictionary {\r\n    constructor(components = new Map(), recipes = new Map()) {\r\n        this._components = new Map();\r\n        this._recipes = new Map();\r\n        this._components = components;\r\n        this._recipes = recipes;\r\n    }\r\n    static typeOf(item) {\r\n        const itemType = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.item.fabricateItemType);\r\n        if (itemType) {\r\n            return itemType;\r\n        }\r\n        return 'NONE';\r\n    }\r\n    static validateType(item, expectedType) {\r\n        if (PartDictionary.typeOf(item) !== expectedType) {\r\n            const ownershipDescription = item.parent ? `owned by Actor '${item.parent.name}` : 'with no owning Actor';\r\n            throw new Error(`Item '${item.id}', with name '${item.name}' ${ownershipDescription} is not a ${expectedType}! `);\r\n        }\r\n    }\r\n    static getIdentifier(item) {\r\n        const identity = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.id, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.item.identity);\r\n        return _common_FabricateItem__WEBPACK_IMPORTED_MODULE_1__.FabricateItem.globalIdentifier(identity.partId, identity.systemId);\r\n    }\r\n    componentFrom(item) {\r\n        PartDictionary.validateType(item, _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_2__.FabricateItemType.COMPONENT);\r\n        const identifier = PartDictionary.getIdentifier(item);\r\n        if (this._components.has(identifier)) {\r\n            return this._components.get(identifier);\r\n        }\r\n        const ownershipDescription = item.parent ? `owned by Actor '${item.parent.name}` : 'with no owning Actor';\r\n        throw new Error(`Unable to look up Fabricate System Part for Item '${item.id}', with name '${item.name}' ${ownershipDescription}. `);\r\n    }\r\n    recipeFrom(item) {\r\n        PartDictionary.validateType(item, _compendium_CompendiumData__WEBPACK_IMPORTED_MODULE_2__.FabricateItemType.RECIPE);\r\n        const identifier = PartDictionary.getIdentifier(item);\r\n        if (this._recipes.has(identifier)) {\r\n            return this._recipes.get(identifier);\r\n        }\r\n        const ownershipDescription = item.parent ? `owned by Actor '${item.parent.name}` : 'with no owning Actor';\r\n        throw new Error(`Unable to look up Fabricate System Part for Item '${item.id}', with name '${item.name}' ${ownershipDescription}. `);\r\n    }\r\n    addRecipe(recipe) {\r\n        const globalIdentifier = _common_FabricateItem__WEBPACK_IMPORTED_MODULE_1__.FabricateItem.globalIdentifier(recipe.partId, recipe.systemId);\r\n        this._recipes.set(globalIdentifier, recipe);\r\n    }\r\n    addComponent(component) {\r\n        const globalIdentifier = _common_FabricateItem__WEBPACK_IMPORTED_MODULE_1__.FabricateItem.globalIdentifier(component.partId, component.systemId);\r\n        this._components.set(globalIdentifier, component);\r\n    }\r\n    getRecipe(partId, systemId) {\r\n        const globalIdentifier = _common_FabricateItem__WEBPACK_IMPORTED_MODULE_1__.FabricateItem.globalIdentifier(partId, systemId);\r\n        if (this._recipes.has(globalIdentifier)) {\r\n            return this._recipes.get(globalIdentifier);\r\n        }\r\n        throw new Error(`No Recipe was found with the identifier ${globalIdentifier}. `);\r\n    }\r\n    getComponent(partId, systemId) {\r\n        const globalIdentifier = _common_FabricateItem__WEBPACK_IMPORTED_MODULE_1__.FabricateItem.globalIdentifier(partId, systemId);\r\n        if (this._components.has(globalIdentifier)) {\r\n            return this._components.get(globalIdentifier);\r\n        }\r\n        throw new Error(`No Component was found with the identifier ${globalIdentifier}. `);\r\n    }\r\n    size() {\r\n        return this._recipes.size + this._components.size;\r\n    }\r\n    getComponents() {\r\n        const components = [];\r\n        for (const component of this._components.values()) {\r\n            components.push(component);\r\n        }\r\n        return components;\r\n    }\r\n    getRecipes() {\r\n        const recipes = [];\r\n        for (const recipe of this._recipes.values()) {\r\n            recipes.push(recipe);\r\n        }\r\n        return recipes;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW0vUGFydERpY3Rpb25hcnkudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUN1QztBQUNlO0FBRTBCO0FBRWhGLE1BQU0sY0FBYztJQUloQixZQUFZLGFBQTZDLElBQUksR0FBRyxFQUFFLEVBQUUsVUFBK0IsSUFBSSxHQUFHLEVBQUU7UUFIM0YsZ0JBQVcsR0FBbUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUN4RCxhQUFRLEdBQXdCLElBQUksR0FBRyxFQUFFLENBQUM7UUFHdkQsSUFBSSxDQUFDLFdBQVcsR0FBRyxVQUFVLENBQUM7UUFDOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7SUFDNUIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBUztRQUMxQixNQUFNLFFBQVEsR0FBMEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyw2REFBb0IsRUFBRSxtRkFBMEMsQ0FBQyxDQUFDO1FBQ3ZJLElBQUksUUFBUSxFQUFFO1lBQ1YsT0FBTyxRQUFRLENBQUM7U0FDbkI7UUFDRCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFTLEVBQUUsWUFBK0I7UUFDbEUsSUFBSSxjQUFjLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLFlBQVksRUFBRTtZQUM5QyxNQUFNLG9CQUFvQixHQUFXLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxzQkFBc0I7WUFDakgsTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLElBQUksQ0FBQyxFQUFFLGlCQUFpQixJQUFJLENBQUMsSUFBSSxLQUFLLG9CQUFvQixhQUFhLFlBQVksSUFBSSxDQUFDLENBQUM7U0FDckg7SUFDTCxDQUFDO0lBRU8sTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFTO1FBQ2xDLE1BQU0sUUFBUSxHQUFxQyxJQUFJLENB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QyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsRUFBRTtZQUN4QyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDakQ7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxnQkFBZ0IsSUFBSSxDQUFDLENBQUM7SUFDeEYsQ0FBQztJQUVNLElBQUk7UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDO0lBQ3RELENBQUM7SUFFTSxhQUFhO1FBQ2hCLE1BQU0sVUFBVSxHQUF3QixFQUFFLENBQUM7UUFDM0MsS0FBSyxNQUFNLFNBQVMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQy9DLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7U0FDOUI7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUN0QixDQUFDO0lBRU0sVUFBVTtRQUNiLE1BQU0sT0FBTyxHQUFhLEVBQUUsQ0FBQztRQUM3QixLQUFLLE1BQU0sTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDekMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztTQUN4QjtRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7Q0FFSjtBQUVzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL3N5c3RlbS9QYXJ0RGljdGlvbmFyeS50cz9jZjgwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb21tb24vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4uL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVJdGVtfSBmcm9tIFwiLi4vY29tbW9uL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jcmFmdGluZy9SZWNpcGVcIjtcclxuaW1wb3J0IHtDb21wZW5kaXVtRW50cnksIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi4vY29tcGVuZGl1bS9Db21wZW5kaXVtRGF0YVwiO1xyXG5cclxuY2xhc3MgUGFydERpY3Rpb25hcnkge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29tcG9uZW50czogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlczogTWFwPHN0cmluZywgUmVjaXBlPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnRzOiBNYXA8c3RyaW5nLCBDcmFmdGluZ0NvbXBvbmVudD4gPSBuZXcgTWFwKCksIHJlY2lwZXM6IE1hcDxzdHJpbmcsIFJlY2lwZT4gPSBuZXcgTWFwKCkpIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gY29tcG9uZW50cztcclxuICAgICAgICB0aGlzLl9yZWNpcGVzID0gcmVjaXBlcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHR5cGVPZihpdGVtOiBhbnkpOiBGYWJyaWNhdGVJdGVtVHlwZSB8ICdOT05FJyB7XHJcbiAgICAgICAgY29uc3QgaXRlbVR5cGU6IEZhYnJpY2F0ZUl0ZW1UeXBlID0gPEZhYnJpY2F0ZUl0ZW1UeXBlPiBpdGVtLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUuaWQsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5mYWJyaWNhdGVJdGVtVHlwZSk7XHJcbiAgICAgICAgaWYgKGl0ZW1UeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtVHlwZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICdOT05FJztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyB2YWxpZGF0ZVR5cGUoaXRlbTogYW55LCBleHBlY3RlZFR5cGU6IEZhYnJpY2F0ZUl0ZW1UeXBlKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKFBhcnREaWN0aW9uYXJ5LnR5cGVPZihpdGVtKSAhPT0gZXhwZWN0ZWRUeXBlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG93bmVyc2hpcERlc2NyaXB0aW9uOiBzdHJpbmcgPSBpdGVtLnBhcmVudCA/IGBvd25lZCBieSBBY3RvciAnJHtpdGVtLnBhcmVudC5uYW1lfWAgOiAnd2l0aCBubyBvd25pbmcgQWN0b3InXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSXRlbSAnJHtpdGVtLmlkfScsIHdpdGggbmFtZSAnJHtpdGVtLm5hbWV9JyAke293bmVyc2hpcERlc2NyaXB0aW9ufSBpcyBub3QgYSAke2V4cGVjdGVkVHlwZX0hIGApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRJZGVudGlmaWVyKGl0ZW06IGFueSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgaWRlbnRpdHk6IENvbXBlbmRpdW1FbnRyeSA9IDxDb21wZW5kaXVtRW50cnk+aXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLmlkLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLml0ZW0uaWRlbnRpdHkpO1xyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGVJdGVtLmdsb2JhbElkZW50aWZpZXIoaWRlbnRpdHkucGFydElkLCBpZGVudGl0eS5zeXN0ZW1JZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbXBvbmVudEZyb20oaXRlbTogYW55KTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIFBhcnREaWN0aW9uYXJ5LnZhbGlkYXRlVHlwZShpdGVtLCBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQpO1xyXG4gICAgICAgIGNvbnN0IGlkZW50aWZpZXI6IHN0cmluZyA9IFBhcnREaWN0aW9uYXJ5LmdldElkZW50aWZpZXIoaXRlbSk7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbXBvbmVudHMuaGFzKGlkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzLmdldChpZGVudGlmaWVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgb3duZXJzaGlwRGVzY3JpcHRpb246IHN0cmluZyA9IGl0ZW0ucGFyZW50ID8gYG93bmVkIGJ5IEFjdG9yICcke2l0ZW0ucGFyZW50Lm5hbWV9YCA6ICd3aXRoIG5vIG93bmluZyBBY3RvcidcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBsb29rIHVwIEZhYnJpY2F0ZSBTeXN0ZW0gUGFydCBmb3IgSXRlbSAnJHtpdGVtLmlkfScsIHdpdGggbmFtZSAnJHtpdGVtLm5hbWV9JyAke293bmVyc2hpcERlc2NyaXB0aW9ufS4gYCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlY2lwZUZyb20oaXRlbTogYW55KTogUmVjaXBlIHtcclxuICAgICAgICBQYXJ0RGljdGlvbmFyeS52YWxpZGF0ZVR5cGUoaXRlbSwgRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFKTtcclxuICAgICAgICBjb25zdCBpZGVudGlmaWVyOiBzdHJpbmcgPSBQYXJ0RGljdGlvbmFyeS5nZXRJZGVudGlmaWVyKGl0ZW0pO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWNpcGVzLmhhcyhpZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjaXBlcy5nZXQoaWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG93bmVyc2hpcERlc2NyaXB0aW9uOiBzdHJpbmcgPSBpdGVtLnBhcmVudCA/IGBvd25lZCBieSBBY3RvciAnJHtpdGVtLnBhcmVudC5uYW1lfWAgOiAnd2l0aCBubyBvd25pbmcgQWN0b3InXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9vayB1cCBGYWJyaWNhdGUgU3lzdGVtIFBhcnQgZm9yIEl0ZW0gJyR7aXRlbS5pZH0nLCB3aXRoIG5hbWUgJyR7aXRlbS5uYW1lfScgJHtvd25lcnNoaXBEZXNjcmlwdGlvbn0uIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRSZWNpcGUocmVjaXBlOiBSZWNpcGUpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBnbG9iYWxJZGVudGlmaWVyOiBzdHJpbmcgPSBGYWJyaWNhdGVJdGVtLmdsb2JhbElkZW50aWZpZXIocmVjaXBlLnBhcnRJZCwgcmVjaXBlLnN5c3RlbUlkKTtcclxuICAgICAgICB0aGlzLl9yZWNpcGVzLnNldChnbG9iYWxJZGVudGlmaWVyLCByZWNpcGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRDb21wb25lbnQoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGdsb2JhbElkZW50aWZpZXI6IHN0cmluZyA9IEZhYnJpY2F0ZUl0ZW0uZ2xvYmFsSWRlbnRpZmllcihjb21wb25lbnQucGFydElkLCBjb21wb25lbnQuc3lzdGVtSWQpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMuc2V0KGdsb2JhbElkZW50aWZpZXIsIGNvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJlY2lwZShwYXJ0SWQ6IHN0cmluZywgc3lzdGVtSWQ6IHN0cmluZyk6IFJlY2lwZSB7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsSWRlbnRpZmllcjogc3RyaW5nID0gRmFicmljYXRlSXRlbS5nbG9iYWxJZGVudGlmaWVyKHBhcnRJZCwgc3lzdGVtSWQpO1xyXG4gICAgICAgIGlmICh0aGlzLl9yZWNpcGVzLmhhcyhnbG9iYWxJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVjaXBlcy5nZXQoZ2xvYmFsSWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gUmVjaXBlIHdhcyBmb3VuZCB3aXRoIHRoZSBpZGVudGlmaWVyICR7Z2xvYmFsSWRlbnRpZmllcn0uIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRDb21wb25lbnQocGFydElkOiBzdHJpbmcsIHN5c3RlbUlkOiBzdHJpbmcpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsSWRlbnRpZmllcjogc3RyaW5nID0gRmFicmljYXRlSXRlbS5nbG9iYWxJZGVudGlmaWVyKHBhcnRJZCwgc3lzdGVtSWQpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jb21wb25lbnRzLmhhcyhnbG9iYWxJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cy5nZXQoZ2xvYmFsSWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ29tcG9uZW50IHdhcyBmb3VuZCB3aXRoIHRoZSBpZGVudGlmaWVyICR7Z2xvYmFsSWRlbnRpZmllcn0uIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaXplKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlY2lwZXMuc2l6ZSArIHRoaXMuX2NvbXBvbmVudHMuc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0Q29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgdGhpcy5fY29tcG9uZW50cy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFJlY2lwZXMoKTogUmVjaXBlW10ge1xyXG4gICAgICAgIGNvbnN0IHJlY2lwZXM6IFJlY2lwZVtdID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCByZWNpcGUgb2YgdGhpcy5fcmVjaXBlcy52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICByZWNpcGVzLnB1c2gocmVjaXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZXM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge1BhcnREaWN0aW9uYXJ5fSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/system/PartDictionary.ts\n");

/***/ }),

/***/ "./src/scripts/system_definitions/AlchemistsSuppliesV16.ts":
/*!*****************************************************************!*\
  !*** ./src/scripts/system_definitions/AlchemistsSuppliesV16.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SYSTEM_DEFINITION\": () => (/* binding */ SYSTEM_DEFINITION)\n/* harmony export */ });\nconst SYSTEM_DEFINITION = {\r\n    \"id\": \"alchemists-supplies-v1.6\",\r\n    \"gameSystem\": \"dnd5e\",\r\n    \"name\": \"Alchemist\\\"s Supplies v1.6\",\r\n    \"compendia\": [\"fabricate.alchemists-supplies-v16\"],\r\n    \"description\": \"Alchemy is the skill of exploiting unique properties of certain plants, minerals, and creature parts, combining them to produce fantastic substances. This allows even non-spellcasters to mimic minor magical effects, although the creations themselves are non-magical.\",\r\n    \"summary\": \"A crafting system for 5th Edition by u/calculusChild\",\r\n    \"author\": \"u/calculusChild\",\r\n    \"enabled\": true,\r\n    \"essences\": [\r\n        {\r\n            \"name\": \"Water\",\r\n            \"slug\": \"water\",\r\n            \"description\": \"Elemental water, one of the fundamental forces of nature\",\r\n            \"iconCode\": \"tint\",\r\n            \"tooltip\": \"Elemental water\"\r\n        },\r\n        {\r\n            \"name\": \"Earth\",\r\n            \"slug\": \"earth\",\r\n            \"description\": \"Elemental earth, one of the fundamental forces of nature\",\r\n            \"iconCode\": \"mountain\",\r\n            \"tooltip\": \"Elemental earth\"\r\n        },\r\n        {\r\n            \"name\": \"Air\",\r\n            \"slug\": \"air\",\r\n            \"description\": \"Elemental air, one of the fundamental forces of nature\",\r\n            \"iconCode\": \"wind\",\r\n            \"tooltip\": \"Elemental air\"\r\n        },\r\n        {\r\n            \"name\": \"Fire\",\r\n            \"slug\": \"fire\",\r\n            \"description\": \"Elemental fire, one of the fundamental forces of nature\",\r\n            \"iconCode\": \"fire\",\r\n            \"tooltip\": \"Elemental fire\"\r\n        },\r\n        {\r\n            \"name\": \"Negative Energy\",\r\n            \"slug\": \"negative-energy\",\r\n            \"description\": \"Negative Energy - The essence of death and destruction\",\r\n            \"iconCode\": \"moon\",\r\n            \"tooltip\": \"Negative energy\"\r\n        },\r\n        {\r\n            \"name\": \"Positive Energy\",\r\n            \"slug\": \"positive-energy\",\r\n            \"description\": \"Positive Energy - The essence of life and creation\",\r\n            \"iconCode\": \"sun\",\r\n            \"tooltip\": \"Positive energy\"\r\n        }\r\n    ],\r\n    \"hasCraftingChecks\": true,\r\n    \"defaultCheck\": {\r\n        \"ability\": \"int\",\r\n        \"addToolProficiency\": true,\r\n        \"tool\": {\r\n            \"name\": \"Alchemist's Supplies\",\r\n            \"skillProficiency\": \"Alchemy\"\r\n        },\r\n        \"threshold\": {\r\n            \"baseValue\": 6,\r\n            \"type\": \"MEET\",\r\n            \"contributions\": {\r\n                \"ingredient\": 1,\r\n                \"essence\": 0\r\n            }\r\n        }\r\n    },\r\n    \"recipes\": {\r\n        \"performCheck\": true,\r\n        \"wastage\": \"PUNITIVE\",\r\n        \"useCustomCheck\": false,\r\n        \"customCheck\": null\r\n    },\r\n    \"alchemy\": {\r\n        \"enabled\": true,\r\n        \"performCheck\": true,\r\n        \"wastage\": \"PUNITIVE\",\r\n        \"useCustomCheck\": false,\r\n        \"customCheck\": null,\r\n        \"formulae\": [\r\n            {\r\n                \"basePartId\": \"90z9nOwmGnP4aUUk\",\r\n                \"constraints\": {\r\n                    \"components\": {\r\n                        \"min\": 1,\r\n                        \"max\": 6\r\n                    },\r\n                    \"effects\": {\r\n                        \"min\": 1,\r\n                        \"max\": 6\r\n                    }\r\n                },\r\n                \"effects\": [\r\n                    {\r\n                        \"name\": \"Blind\",\r\n                        \"type\": \"DESCRIPTIVE\",\r\n                        \"description\": \"Release a burst of stinging dust. Affected targets are blinded for the next round. \",\r\n                        \"essenceMatch\": {\r\n                            \"earth\": 2\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Knock prone\",\r\n                        \"type\": \"DESCRIPTIVE\",\r\n                        \"description\": \"Release a puddle of slippery oil. Affected targets immediately fall prone.\",\r\n                        \"essenceMatch\": {\r\n                            \"water\": 2\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Persistent damage\",\r\n                        \"type\": \"DESCRIPTIVE\",\r\n                        \"description\": \"Release gel that sticks to targets. Each round, any damage-dealing effects continue to deal 1 damage each until an action is used to remove the gel with a DC 10 Dexterity check .\",\r\n                        \"essenceMatch\": {\r\n                            \"earth\": 1,\r\n                            \"water\": 1\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Lightning damage\",\r\n                        \"type\": \"DAMAGE\",\r\n                        \"description\": \"Deal 1d4 lightning damage on contact. Double damage to targets touching a metal surface or using metal weapons or armor. \",\r\n                        \"damage\": {\r\n                            \"expression\": \"1d4\",\r\n                            \"type\": \"lightning\"\r\n                        },\r\n                        \"essenceMatch\": {\r\n                            \"air\": 2\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Fire damage\",\r\n                        \"type\": \"DAMAGE\",\r\n                        \"description\": \"Deal 1d4 fire damage on contact. Double damage to targets with cloth or leather armor. \",\r\n                        \"damage\": {\r\n                            \"expression\": \"1d4\",\r\n                            \"type\": \"fire\"\r\n                        },\r\n                        \"essenceMatch\": {\r\n                            \"fire\": 2\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Cold damage\",\r\n                        \"type\": \"DAMAGE\",\r\n                        \"description\": \"Deal 1d4 cold damage on contact. Reduce target speed by 10 feet for the next round. \",\r\n                        \"damage\": {\r\n                            \"expression\": \"1d4\",\r\n                            \"type\": \"cold\"\r\n                        },\r\n                        \"essenceMatch\": {\r\n                            \"air\": 1,\r\n                            \"water\": 1\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Acid damage\",\r\n                        \"type\": \"DAMAGE\",\r\n                        \"description\": \"Deal 1d8 acid damage on contact. \",\r\n                        \"damage\": {\r\n                            \"expression\": \"1d8\",\r\n                            \"type\": \"acid\"\r\n                        },\r\n                        \"essenceMatch\": {\r\n                            \"fire\": 1,\r\n                            \"earth\": 1\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"AoE extension\",\r\n                        \"type\": \"AOE_EXTENSION\",\r\n                        \"description\": \"Release concentrated mist in all directions. Increase the radius of all effects by 5 feet. \",\r\n                        \"aoe\": {\r\n                            \"units\": \"ft\",\r\n                            \"value\": 5\r\n                        },\r\n                        \"essenceMatch\": {\r\n                            \"fire\": 1,\r\n                            \"air\": 1\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Damage multiplier\",\r\n                        \"type\": \"DAMAGE_MULTIPLIER\",\r\n                        \"description\": \"Roll double the number of all damage dice. \",\r\n                        \"diceMultiplier\": 2,\r\n                        \"essenceMatch\": {\r\n                            \"positive-energy\": 1\r\n                        }\r\n                    },\r\n                    {\r\n                        \"name\": \"Saving throw modifier\",\r\n                        \"type\": \"SAVE_MODIFIER\",\r\n                        \"description\": \"Increase the DC to avoid bomb effects by 2.  \",\r\n                        \"saveModifier\": 2,\r\n                        \"essenceMatch\": {\r\n                            \"negative-energy\": 1\r\n                        }\r\n                    }\r\n                ]\r\n            }\r\n        ],\r\n        \"constraints\": {\r\n            \"components\": {\r\n                \"min\": 1,\r\n                \"max\": 6\r\n            },\r\n            \"effects\": {\r\n                \"min\": 1,\r\n                \"max\": 6\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW1fZGVmaW5pdGlvbnMvQWxjaGVtaXN0c1N1cHBsaWVzVjE2LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFFQSxNQUFNLGlCQUFpQixHQUE2QjtJQUNoRCxJQUFJLEVBQUUsMEJBQTBCO0lBQ2hDLFlBQVksRUFBRSxPQUFPO0lBQ3JCLE1BQU0sRUFBRSw0QkFBNEI7SUFDcEMsV0FBVyxFQUFFLENBQUUsbUNBQW1DLENBQUU7SUFDcEQsYUFBYSxFQUFFLDRRQUE0UTtJQUMzUixTQUFTLEVBQUUsc0RBQXNEO0lBQ2pFLFFBQVEsRUFBRSxpQkFBaUI7SUFDM0IsU0FBUyxFQUFFLElBQUk7SUFDZixVQUFVLEVBQUU7UUFDUjtZQUNJLE1BQU0sRUFBRSxPQUFPO1lBQ2YsTUFBTSxFQUFFLE9BQU87WUFDZixhQUFhLEVBQUUsMERBQTBEO1lBQ3pFLFVBQVUsRUFBRSxNQUFNO1lBQ2xCLFNBQVMsRUFBRSxpQkFBaUI7U0FDL0I7UUFDRDtZQUNJLE1BQU0sRUFBRSxPQUFPO1lBQ2YsTUFBTSxFQUFFLE9BQU87WUFDZixhQUFhLEVBQUUsMERBQTBEO1lBQ3pFLFVBQVUsRUFBRSxVQUFVO1lBQ3RCLFNBQVMsRUFBRSxpQkFBaUI7U0FDL0I7UUFDRDtZQUNJLE1BQU0sRUFBRSxLQUFLO1lBQ2IsTUFBTSxFQUFFLEtBQUs7WUFDYixhQUFhLEVBQUUsd0RBQXdEO1lBQ3ZFLFVBQVUsRUFBRSxNQUFNO1lBQ2xCLFNBQVMsRUFBRSxlQUFlO1NBQzdCO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsTUFBTTtZQUNkLE1BQU0sRUFBRSxNQUFNO1lBQ2QsYUFBYSxFQUFFLHlEQUF5RDtZQUN4RSxVQUFVLEVBQUUsTUFBTTtZQUNsQixTQUFTLEVBQUUsZ0JBQWdCO1NBQzlCO1FBQ0Q7WUFDSSxNQUFNLEVBQUUsaUJBQWlCO1lBQ3pCLE1BQU0sRUFBRSxpQkFBaUI7WUFDekIsYUFBYSxFQUFFLHdEQUF3RDtZQUN2RSxVQUFVLEVBQUUsTUFBTTtZQUNsQixTQUFTLEVB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QUFFLENBQUM7YUFDWDtTQUNKO0tBQ0o7Q0FDSjtBQUUyQiIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhYnJpY2F0ZS8uL3NyYy9zY3JpcHRzL3N5c3RlbV9kZWZpbml0aW9ucy9BbGNoZW1pc3RzU3VwcGxpZXNWMTYudHM/ZjM4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nU3lzdGVtRGVmaW5pdGlvbn0gZnJvbSBcIi4vQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uXCI7XHJcblxyXG5jb25zdCBTWVNURU1fREVGSU5JVElPTjogQ3JhZnRpbmdTeXN0ZW1EZWZpbml0aW9uID0ge1xyXG4gICAgXCJpZFwiOiBcImFsY2hlbWlzdHMtc3VwcGxpZXMtdjEuNlwiLFxyXG4gICAgXCJnYW1lU3lzdGVtXCI6IFwiZG5kNWVcIixcclxuICAgIFwibmFtZVwiOiBcIkFsY2hlbWlzdFxcXCJzIFN1cHBsaWVzIHYxLjZcIixcclxuICAgIFwiY29tcGVuZGlhXCI6IFsgXCJmYWJyaWNhdGUuYWxjaGVtaXN0cy1zdXBwbGllcy12MTZcIiBdLFxyXG4gICAgXCJkZXNjcmlwdGlvblwiOiBcIkFsY2hlbXkgaXMgdGhlIHNraWxsIG9mIGV4cGxvaXRpbmcgdW5pcXVlIHByb3BlcnRpZXMgb2YgY2VydGFpbiBwbGFudHMsIG1pbmVyYWxzLCBhbmQgY3JlYXR1cmUgcGFydHMsIGNvbWJpbmluZyB0aGVtIHRvIHByb2R1Y2UgZmFudGFzdGljIHN1YnN0YW5jZXMuIFRoaXMgYWxsb3dzIGV2ZW4gbm9uLXNwZWxsY2FzdGVycyB0byBtaW1pYyBtaW5vciBtYWdpY2FsIGVmZmVjdHMsIGFsdGhvdWdoIHRoZSBjcmVhdGlvbnMgdGhlbXNlbHZlcyBhcmUgbm9uLW1hZ2ljYWwuXCIsXHJcbiAgICBcInN1bW1hcnlcIjogXCJBIGNyYWZ0aW5nIHN5c3RlbSBmb3IgNXRoIEVkaXRpb24gYnkgdS9jYWxjdWx1c0NoaWxkXCIsXHJcbiAgICBcImF1dGhvclwiOiBcInUvY2FsY3VsdXNDaGlsZFwiLFxyXG4gICAgXCJlbmFibGVkXCI6IHRydWUsXHJcbiAgICBcImVzc2VuY2VzXCI6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIldhdGVyXCIsXHJcbiAgICAgICAgICAgIFwic2x1Z1wiOiBcIndhdGVyXCIsXHJcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJFbGVtZW50YWwgd2F0ZXIsIG9uZSBvZiB0aGUgZnVuZGFtZW50YWwgZm9yY2VzIG9mIG5hdHVyZVwiLFxyXG4gICAgICAgICAgICBcImljb25Db2RlXCI6IFwidGludFwiLFxyXG4gICAgICAgICAgICBcInRvb2x0aXBcIjogXCJFbGVtZW50YWwgd2F0ZXJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBcIm5hbWVcIjogXCJFYXJ0aFwiLFxyXG4gICAgICAgICAgICBcInNsdWdcIjogXCJlYXJ0aFwiLFxyXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRWxlbWVudGFsIGVhcnRoLCBvbmUgb2YgdGhlIGZ1bmRhbWVudGFsIGZvcmNlcyBvZiBuYXR1cmVcIixcclxuICAgICAgICAgICAgXCJpY29uQ29kZVwiOiBcIm1vdW50YWluXCIsXHJcbiAgICAgICAgICAgIFwidG9vbHRpcFwiOiBcIkVsZW1lbnRhbCBlYXJ0aFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIkFpclwiLFxyXG4gICAgICAgICAgICBcInNsdWdcIjogXCJhaXJcIixcclxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIkVsZW1lbnRhbCBhaXIsIG9uZSBvZiB0aGUgZnVuZGFtZW50YWwgZm9yY2VzIG9mIG5hdHVyZVwiLFxyXG4gICAgICAgICAgICBcImljb25Db2RlXCI6IFwid2luZFwiLFxyXG4gICAgICAgICAgICBcInRvb2x0aXBcIjogXCJFbGVtZW50YWwgYWlyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiRmlyZVwiLFxyXG4gICAgICAgICAgICBcInNsdWdcIjogXCJmaXJlXCIsXHJcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJFbGVtZW50YWwgZmlyZSwgb25lIG9mIHRoZSBmdW5kYW1lbnRhbCBmb3JjZXMgb2YgbmF0dXJlXCIsXHJcbiAgICAgICAgICAgIFwiaWNvbkNvZGVcIjogXCJmaXJlXCIsXHJcbiAgICAgICAgICAgIFwidG9vbHRpcFwiOiBcIkVsZW1lbnRhbCBmaXJlXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiTmVnYXRpdmUgRW5lcmd5XCIsXHJcbiAgICAgICAgICAgIFwic2x1Z1wiOiBcIm5lZ2F0aXZlLWVuZXJneVwiLFxyXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiTmVnYXRpdmUgRW5lcmd5IC0gVGhlIGVzc2VuY2Ugb2YgZGVhdGggYW5kIGRlc3RydWN0aW9uXCIsXHJcbiAgICAgICAgICAgIFwiaWNvbkNvZGVcIjogXCJtb29uXCIsXHJcbiAgICAgICAgICAgIFwidG9vbHRpcFwiOiBcIk5lZ2F0aXZlIGVuZXJneVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFwibmFtZVwiOiBcIlBvc2l0aXZlIEVuZXJneVwiLFxyXG4gICAgICAgICAgICBcInNsdWdcIjogXCJwb3NpdGl2ZS1lbmVyZ3lcIixcclxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlBvc2l0aXZlIEVuZXJneSAtIFRoZSBlc3NlbmNlIG9mIGxpZmUgYW5kIGNyZWF0aW9uXCIsXHJcbiAgICAgICAgICAgIFwiaWNvbkNvZGVcIjogXCJzdW5cIixcclxuICAgICAgICAgICAgXCJ0b29sdGlwXCI6IFwiUG9zaXRpdmUgZW5lcmd5XCJcclxuICAgICAgICB9XHJcbiAgICBdLFxyXG4gICAgXCJoYXNDcmFmdGluZ0NoZWNrc1wiOiB0cnVlLFxyXG4gICAgXCJkZWZhdWx0Q2hlY2tcIjoge1xyXG4gICAgICAgIFwiYWJpbGl0eVwiOiBcImludFwiLFxyXG4gICAgICAgIFwiYWRkVG9vbFByb2ZpY2llbmN5XCI6IHRydWUsXHJcbiAgICAgICAgXCJ0b29sXCI6IHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IFwiQWxjaGVtaXN0J3MgU3VwcGxpZXNcIixcclxuICAgICAgICAgICAgXCJza2lsbFByb2ZpY2llbmN5XCI6IFwiQWxjaGVteVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInRocmVzaG9sZFwiOiB7XHJcbiAgICAgICAgICAgIFwiYmFzZVZhbHVlXCI6IDYsXHJcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIk1FRVRcIixcclxuICAgICAgICAgICAgXCJjb250cmlidXRpb25zXCI6IHtcclxuICAgICAgICAgICAgICAgIFwiaW5ncmVkaWVudFwiOiAxLFxyXG4gICAgICAgICAgICAgICAgXCJlc3NlbmNlXCI6IDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBcInJlY2lwZXNcIjoge1xyXG4gICAgICAgIFwicGVyZm9ybUNoZWNrXCI6IHRydWUsXHJcbiAgICAgICAgXCJ3YXN0YWdlXCI6IFwiUFVOSVRJVkVcIixcclxuICAgICAgICBcInVzZUN1c3RvbUNoZWNrXCI6IGZhbHNlLFxyXG4gICAgICAgIFwiY3VzdG9tQ2hlY2tcIjogbnVsbFxyXG4gICAgfSxcclxuICAgIFwiYWxjaGVteVwiOiB7XHJcbiAgICAgICAgXCJlbmFibGVkXCI6IHRydWUsXHJcbiAgICAgICAgXCJwZXJmb3JtQ2hlY2tcIjogdHJ1ZSxcclxuICAgICAgICBcIndhc3RhZ2VcIjogXCJQVU5JVElWRVwiLFxyXG4gICAgICAgIFwidXNlQ3VzdG9tQ2hlY2tcIjogZmFsc2UsXHJcbiAgICAgICAgXCJjdXN0b21DaGVja1wiOiBudWxsLFxyXG4gICAgICAgIFwiZm9ybXVsYWVcIjogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBcImJhc2VQYXJ0SWRcIjogXCI5MHo5bk93bUduUDRhVVVrXCIsXHJcbiAgICAgICAgICAgICAgICBcImNvbnN0cmFpbnRzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcImNvbXBvbmVudHNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1pblwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heFwiOiA2XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcImVmZmVjdHNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1pblwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm1heFwiOiA2XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiZWZmZWN0c1wiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIm5hbWVcIjogXCJCbGluZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJERVNDUklQVElWRVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiUmVsZWFzZSBhIGJ1cnN0IG9mIHN0aW5naW5nIGR1c3QuIEFmZmVjdGVkIHRhcmdldHMgYXJlIGJsaW5kZWQgZm9yIHRoZSBuZXh0IHJvdW5kLiBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlc3NlbmNlTWF0Y2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlYXJ0aFwiOiAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiS25vY2sgcHJvbmVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiREVTQ1JJUFRJVkVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIlJlbGVhc2UgYSBwdWRkbGUgb2Ygc2xpcHBlcnkgb2lsLiBBZmZlY3RlZCB0YXJnZXRzIGltbWVkaWF0ZWx5IGZhbGwgcHJvbmUuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXNzZW5jZU1hdGNoXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2F0ZXJcIjogMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlBlcnNpc3RlbnQgZGFtYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkRFU0NSSVBUSVZFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJSZWxlYXNlIGdlbCB0aGF0IHN0aWNrcyB0byB0YXJnZXRzLiBFYWNoIHJvdW5kLCBhbnkgZGFtYWdlLWRlYWxpbmcgZWZmZWN0cyBjb250aW51ZSB0byBkZWFsIDEgZGFtYWdlIGVhY2ggdW50aWwgYW4gYWN0aW9uIGlzIHVzZWQgdG8gcmVtb3ZlIHRoZSBnZWwgd2l0aCBhIERDIDEwIERleHRlcml0eSBjaGVjayAuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXNzZW5jZU1hdGNoXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZWFydGhcIjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2F0ZXJcIjogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIkxpZ2h0bmluZyBkYW1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiREFNQUdFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEZWFsIDFkNCBsaWdodG5pbmcgZGFtYWdlIG9uIGNvbnRhY3QuIERvdWJsZSBkYW1hZ2UgdG8gdGFyZ2V0cyB0b3VjaGluZyBhIG1ldGFsIHN1cmZhY2Ugb3IgdXNpbmcgbWV0YWwgd2VhcG9ucyBvciBhcm1vci4gXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGFtYWdlXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhwcmVzc2lvblwiOiBcIjFkNFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibGlnaHRuaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlc3NlbmNlTWF0Y2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaXJcIjogMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIkZpcmUgZGFtYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkRBTUFHRVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGVhbCAxZDQgZmlyZSBkYW1hZ2Ugb24gY29udGFjdC4gRG91YmxlIGRhbWFnZSB0byB0YXJnZXRzIHdpdGggY2xvdGggb3IgbGVhdGhlciBhcm1vci4gXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGFtYWdlXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhwcmVzc2lvblwiOiBcIjFkNFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiZmlyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXNzZW5jZU1hdGNoXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlyZVwiOiAyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiQ29sZCBkYW1hZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiREFNQUdFXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJEZWFsIDFkNCBjb2xkIGRhbWFnZSBvbiBjb250YWN0LiBSZWR1Y2UgdGFyZ2V0IHNwZWVkIGJ5IDEwIGZlZXQgZm9yIHRoZSBuZXh0IHJvdW5kLiBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYW1hZ2VcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJleHByZXNzaW9uXCI6IFwiMWQ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJjb2xkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlc3NlbmNlTWF0Y2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaXJcIjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwid2F0ZXJcIjogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIkFjaWQgZGFtYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkRBTUFHRVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiRGVhbCAxZDggYWNpZCBkYW1hZ2Ugb24gY29udGFjdC4gXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGFtYWdlXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhwcmVzc2lvblwiOiBcIjFkOFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYWNpZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXNzZW5jZU1hdGNoXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlyZVwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlYXJ0aFwiOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiQW9FIGV4dGVuc2lvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJBT0VfRVhURU5TSU9OXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJSZWxlYXNlIGNvbmNlbnRyYXRlZCBtaXN0IGluIGFsbCBkaXJlY3Rpb25zLiBJbmNyZWFzZSB0aGUgcmFkaXVzIG9mIGFsbCBlZmZlY3RzIGJ5IDUgZmVldC4gXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYW9lXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidW5pdHNcIjogXCJmdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiA1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXNzZW5jZU1hdGNoXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlyZVwiOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhaXJcIjogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIkRhbWFnZSBtdWx0aXBsaWVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIkRBTUFHRV9NVUxUSVBMSUVSXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJSb2xsIGRvdWJsZSB0aGUgbnVtYmVyIG9mIGFsbCBkYW1hZ2UgZGljZS4gXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGljZU11bHRpcGxpZXJcIjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlc3NlbmNlTWF0Y2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwb3NpdGl2ZS1lbmVyZ3lcIjogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBcIlNhdmluZyB0aHJvdyBtb2RpZmllclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJTQVZFX01PRElGSUVSXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCJJbmNyZWFzZSB0aGUgREMgdG8gYXZvaWQgYm9tYiBlZmZlY3RzIGJ5IDIuICBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzYXZlTW9kaWZpZXJcIjogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlc3NlbmNlTWF0Y2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZWdhdGl2ZS1lbmVyZ3lcIjogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXSxcclxuICAgICAgICBcImNvbnN0cmFpbnRzXCI6IHtcclxuICAgICAgICAgICAgXCJjb21wb25lbnRzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwibWluXCI6IDEsXHJcbiAgICAgICAgICAgICAgICBcIm1heFwiOiA2XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiZWZmZWN0c1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcIm1pblwiOiAxLFxyXG4gICAgICAgICAgICAgICAgXCJtYXhcIjogNlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBTWVNURU1fREVGSU5JVElPTiB9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/system_definitions/AlchemistsSuppliesV16.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/scripts/module.ts");
/******/ 	
/******/ })()
;