/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "E:\\Projects\\Foundry Development\\dev-modules\\fabricate\\module\\scripts";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/scripts/module.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/scripts/Properties.ts":
/*!***********************************!*\
  !*** ./src/scripts/Properties.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_FabricateFlags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/FabricateFlags */ \"./src/scripts/core/FabricateFlags.ts\");\n\r\nconst Properties = {\r\n    module: {\r\n        name: 'fabricate',\r\n        label: 'Fabricate',\r\n        templates: {\r\n            recipeTab: 'modules/fabricate/templates/recipe-tab.html'\r\n        }\r\n    },\r\n    types: {\r\n        recipe: _core_FabricateFlags__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].RECIPE,\r\n        component: _core_FabricateFlags__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT\r\n    }\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Properties);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzPzkwMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF3RDtBQUV4RCxNQUFNLFVBQVUsR0FBRztJQUNmLE1BQU0sRUFBRTtRQUNKLElBQUksRUFBRSxXQUFXO1FBQ2pCLEtBQUssRUFBRSxXQUFXO1FBQ2xCLFNBQVMsRUFBRTtZQUNQLFNBQVMsRUFBRSw2Q0FBNkM7U0FDM0Q7S0FDSjtJQUNELEtBQUssRUFBRTtRQUNILE1BQU0sRUFBRSxzRUFBaUIsQ0FBQyxNQUFNO1FBQ2hDLFNBQVMsRUFBRSxzRUFBaUIsQ0FBQyxTQUFTO0tBQ3pDO0NBQ0osQ0FBQztBQUVhLHlFQUFVLEVBQUMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vY29yZS9GYWJyaWNhdGVGbGFnc1wiO1xyXG5cclxuY29uc3QgUHJvcGVydGllcyA9IHtcclxuICAgIG1vZHVsZToge1xyXG4gICAgICAgIG5hbWU6ICdmYWJyaWNhdGUnLFxyXG4gICAgICAgIGxhYmVsOiAnRmFicmljYXRlJyxcclxuICAgICAgICB0ZW1wbGF0ZXM6IHtcclxuICAgICAgICAgICAgcmVjaXBlVGFiOiAnbW9kdWxlcy9mYWJyaWNhdGUvdGVtcGxhdGVzL3JlY2lwZS10YWIuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdHlwZXM6IHtcclxuICAgICAgICByZWNpcGU6IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSxcclxuICAgICAgICBjb21wb25lbnQ6IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVFxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvcGVydGllczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/Properties.ts\n");

/***/ }),

/***/ "./src/scripts/core/Action.ts":
/*!************************************!*\
  !*** ./src/scripts/core/Action.ts ***!
  \************************************/
/*! exports provided: Action */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Action\", function() { return Action; });\nvar Action;\r\n(function (Action) {\r\n    Action[\"ADD\"] = \"ADD\";\r\n    Action[\"REMOVE\"] = \"REMOVE\";\r\n})(Action || (Action = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0FjdGlvbi50cz85NzJlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxJQUFZLE1BR1g7QUFIRCxXQUFZLE1BQU07SUFDZCxxQkFBVztJQUNYLDJCQUFpQjtBQUNyQixDQUFDLEVBSFcsTUFBTSxLQUFOLE1BQU0sUUFHakIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0FjdGlvbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEFjdGlvbiB7XHJcbiAgICBBREQgPSAnQUREJyxcclxuICAgIFJFTU9WRSA9ICdSRU1PVkUnXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/Action.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingComponent.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/CraftingComponent.ts ***!
  \***********************************************/
/*! exports provided: CraftingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingComponent\", function() { return CraftingComponent; });\n/* harmony import */ var _FabricateFlags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricateFlags */ \"./src/scripts/core/FabricateFlags.ts\");\n\r\nclass CompendiumEntry {\r\n    constructor(compendiumKey, itemId) {\r\n        this._compendiumKey = compendiumKey;\r\n        this._itemId = itemId;\r\n    }\r\n    get compendiumKey() {\r\n        return this._compendiumKey;\r\n    }\r\n    get itemId() {\r\n        return this._itemId;\r\n    }\r\n}\r\nclass CraftingComponent {\r\n    constructor(builder) {\r\n        this._name = builder.name;\r\n        this._compendiumEntry = builder.compendiumEntry;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get compendiumEntry() {\r\n        return this._compendiumEntry;\r\n    }\r\n    static builder() {\r\n        return new CraftingComponent.Builder();\r\n    }\r\n    static fromFlags(fabricateFlags) {\r\n        if (fabricateFlags.type !== _FabricateFlags__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Crafting Component from ${fabricateFlags.type} data. `);\r\n        }\r\n        return new CraftingComponent(fabricateFlags.component);\r\n    }\r\n}\r\n(function (CraftingComponent) {\r\n    class Builder {\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumEntry(key, id) {\r\n            this.compendiumEntry = new CompendiumEntry(key, id);\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingComponent(this);\r\n        }\r\n    }\r\n    CraftingComponent.Builder = Builder;\r\n})(CraftingComponent || (CraftingComponent = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50LnRzPzlhZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQW1FO0FBRW5FLE1BQU0sZUFBZTtJQUlqQixZQUFZLGFBQXFCLEVBQUUsTUFBYztRQUM3QyxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztDQUNKO0FBRUQsTUFBTSxpQkFBaUI7SUFJbkIsWUFBWSxPQUFrQztRQUMxQyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUM7SUFDcEQsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxlQUFlO1FBQ2YsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUM7SUFDakMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMzQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUE4QjtRQUNsRCxJQUFJLGNBQWMsQ0FBQyxJQUFJLEtBQUssaUVBQWlCLENBQUMsU0FBUyxFQUFFO1lBQ3JELE1BQU0sSUFBSSxLQUFLLENBQUMsdUVBQXVFLGNBQWMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDO1NBQ3hIO1FBQ0QsT0FBTyxJQUFJLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzRCxDQUFDO0NBQ0o7QUFFRCxXQUFVLGlCQUFpQjtJQUN2QixNQUFhLE9BQU87UUFJVCxRQUFRLENBQUMsS0FBYTtZQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztZQUNsQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsbUJBQW1CLENBQUMsR0FBVyxFQUFFLEVBQVU7WUFDdkMsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDcEQsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsQ0FBQztLQUNKO0lBakJZLHlCQUFPLFVBaUJuQjtBQUNMLENBQUMsRUFuQlMsaUJBQWlCLEtBQWpCLGlCQUFpQixRQW1CMUI7QUFFeUIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVGbGFncywgRmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuL0ZhYnJpY2F0ZUZsYWdzXCI7XHJcblxyXG5jbGFzcyBDb21wZW5kaXVtRW50cnkge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29tcGVuZGl1bUtleTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2l0ZW1JZDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb21wZW5kaXVtS2V5OiBzdHJpbmcsIGl0ZW1JZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcGVuZGl1bUtleSA9IGNvbXBlbmRpdW1LZXk7XHJcbiAgICAgICAgdGhpcy5faXRlbUlkID0gaXRlbUlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wZW5kaXVtS2V5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wZW5kaXVtS2V5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpdGVtSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1JZDtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbmFtZTogc3RyaW5nO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29tcGVuZGl1bUVudHJ5OiBDb21wZW5kaXVtRW50cnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQ3JhZnRpbmdDb21wb25lbnQuQnVpbGRlcikge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBidWlsZGVyLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fY29tcGVuZGl1bUVudHJ5ID0gYnVpbGRlci5jb21wZW5kaXVtRW50cnk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcGVuZGl1bUVudHJ5KCk6IENvbXBlbmRpdW1FbnRyeSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBlbmRpdW1FbnRyeTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NvbXBvbmVudC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmFicmljYXRlRmxhZ3M6IEZhYnJpY2F0ZUZsYWdzKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIGlmIChmYWJyaWNhdGVGbGFncy50eXBlICE9PSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhdHRlbXB0aW5nIHRvIGluc3RhbnRpYXRlIGEgRmFicmljYXRlIENyYWZ0aW5nIENvbXBvbmVudCBmcm9tICR7ZmFicmljYXRlRmxhZ3MudHlwZX0gZGF0YS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDb21wb25lbnQoZmFicmljYXRlRmxhZ3MuY29tcG9uZW50KTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29tcGVuZGl1bUVudHJ5ITogQ29tcGVuZGl1bUVudHJ5O1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aE5hbWUodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoQ29tcGVuZGl1bUVudHJ5KGtleTogc3RyaW5nLCBpZDogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcGVuZGl1bUVudHJ5ID0gbmV3IENvbXBlbmRpdW1FbnRyeShrZXksIGlkKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nQ29tcG9uZW50KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingComponent.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingResult.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingResult.ts ***!
  \********************************************/
/*! exports provided: CraftingResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingResult\", function() { return CraftingResult; });\nclass CraftingResult {\r\n    constructor(builder) {\r\n        this._item = builder.item;\r\n        this._quantity = builder.quantity;\r\n        this._action = builder.action;\r\n    }\r\n    static builder() {\r\n        return new CraftingResult.Builder();\r\n    }\r\n    get item() {\r\n        return this._item;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n}\r\n(function (CraftingResult) {\r\n    class Builder {\r\n        withItem(value) {\r\n            this.item = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        withAction(value) {\r\n            this.action = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingResult(this);\r\n        }\r\n    }\r\n    CraftingResult.Builder = Builder;\r\n})(CraftingResult || (CraftingResult = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nUmVzdWx0LnRzPzA0NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQTtBQUFBLE1BQU0sY0FBYztJQUtoQixZQUFZLE9BQStCO1FBQ3ZDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7UUFDbEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO0lBQ2xDLENBQUM7SUFFTSxNQUFNLENBQUMsT0FBTztRQUNqQixPQUFPLElBQUksY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7Q0FDSjtBQUVELFdBQVUsY0FBYztJQUNwQixNQUFhLE9BQU87UUFLVCxRQUFRLENBQUMsS0FBd0I7WUFDcEMsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7WUFDbEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFlBQVksQ0FBQyxLQUFhO1lBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxVQUFVLENBQUMsS0FBYTtZQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztZQUNwQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sS0FBSztZQUNSLE9BQU8sSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEMsQ0FBQztLQUNKO0lBdkJZLHNCQUFPLFVBdUJuQjtBQUNMLENBQUMsRUF6QlMsY0FBYyxLQUFkLGNBQWMsUUF5QnZCO0FBRXNCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ1Jlc3VsdC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7QWN0aW9ufSBmcm9tIFwiLi9BY3Rpb25cIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nUmVzdWx0IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2l0ZW06IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcXVhbnRpdHk6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FjdGlvbjogQWN0aW9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IENyYWZ0aW5nUmVzdWx0LkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9pdGVtID0gYnVpbGRlci5pdGVtO1xyXG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gYnVpbGRlci5xdWFudGl0eTtcclxuICAgICAgICB0aGlzLl9hY3Rpb24gPSBidWlsZGVyLmFjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKTogQ3JhZnRpbmdSZXN1bHQuQnVpbGRlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ1Jlc3VsdC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW0oKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aW9uKCk6IEFjdGlvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nUmVzdWx0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgaXRlbSE6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgIHB1YmxpYyBxdWFudGl0eSE6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMgYWN0aW9uITogQWN0aW9uO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEl0ZW0odmFsdWU6IENyYWZ0aW5nQ29tcG9uZW50KTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUXVhbnRpdHkodmFsdWU6IG51bWJlcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhBY3Rpb24odmFsdWU6IEFjdGlvbik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBDcmFmdGluZ1Jlc3VsdCB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdSZXN1bHQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nUmVzdWx0fSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingResult.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingSystem.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingSystem.ts ***!
  \********************************************/
/*! exports provided: CraftingSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystem\", function() { return CraftingSystem; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _FabricateFlags__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricateFlags */ \"./src/scripts/core/FabricateFlags.ts\");\n/* harmony import */ var _InventoryRecord__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InventoryRecord */ \"./src/scripts/core/InventoryRecord.ts\");\n/* harmony import */ var _Action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Action */ \"./src/scripts/core/Action.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nclass CraftingSystem {\r\n    constructor(builder) {\r\n        this._name = builder.name;\r\n        this._compendiumPackKey = builder.compendiumPackKey;\r\n        this._fabricator = builder.fabricator;\r\n        this._fabricatorSupplier = builder.fabricatorSupplier;\r\n        this._recipes = builder.recipes;\r\n        this._components = builder.components;\r\n        this._supportedGameSystems = builder.supportedGameSystems;\r\n    }\r\n    static builder() {\r\n        return new CraftingSystem.Builder();\r\n    }\r\n    getFirstRecipeByName(name) {\r\n        return this._recipes.find((recipe) => {\r\n            return recipe.name === name;\r\n        });\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    craft(actorId, recipeId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const actor = game.actors.get(actorId);\r\n            const recipe = this._recipes.find((recipe) => recipe.itemId == recipeId);\r\n            const inventory = this.scanInventory(actor);\r\n            const craftingComponents = Array.from(inventory.values()).deepFlatten()\r\n                .map((inventoryRecord) => inventoryRecord.craftingComponent);\r\n            const fabricatorInstance = this.fabricator;\r\n            fabricatorInstance.prepare(recipe, craftingComponents);\r\n            if (!fabricatorInstance.ready()) {\r\n                throw new Error(`Unable to fabricate ${recipe.name}. `);\r\n            }\r\n            const craftingResults = fabricatorInstance.fabricate();\r\n            craftingResults.forEach((craftingResult) => {\r\n                this.applyCraftingResultToInventory(actor, inventory, craftingResult);\r\n            });\r\n        });\r\n    }\r\n    applyCraftingResultToInventory(actor, inventory, craftingResult) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const compendium = game.packs.get(this.compendiumPackKey);\r\n            if (craftingResult.action === _Action__WEBPACK_IMPORTED_MODULE_3__[\"Action\"].ADD) {\r\n                const itemData = yield compendium.getEntity(craftingResult.item.compendiumEntry.itemId);\r\n                yield actor.createOwnedItem(itemData);\r\n            }\r\n            else if (craftingResult.action === _Action__WEBPACK_IMPORTED_MODULE_3__[\"Action\"].REMOVE) {\r\n                const removalCandidates = inventory.get(craftingResult.item.compendiumEntry.itemId);\r\n                if (!removalCandidates || removalCandidates.length < craftingResult.quantity) {\r\n                    throw new Error(`Oops! Actor ${actor.id} does not own enough ${craftingResult.item.name}. `);\r\n                }\r\n                let remaining = craftingResult.quantity;\r\n                let position = 0;\r\n                while (remaining > 0) {\r\n                    yield actor.deleteOwnedItem(removalCandidates[position].item.id);\r\n                    position++;\r\n                    remaining--;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    scanInventory(actor) {\r\n        const inventoryRecords = actor.items.filter(this.isFabricateComponent())\r\n            .map((item) => {\r\n            return _InventoryRecord__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRecord\"].builder()\r\n                .withItem(item)\r\n                .withActor(actor)\r\n                .withCraftingComponent(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].fromFlags(item.data.flags.fabricate))\r\n                .build();\r\n        });\r\n        let result = new Map();\r\n        inventoryRecords.forEach((record) => {\r\n            const compendiumItemId = record.craftingComponent.compendiumEntry.itemId;\r\n            let recordsForItem = result.get(compendiumItemId);\r\n            if (!recordsForItem) {\r\n                result.set(compendiumItemId, [record]);\r\n            }\r\n            else {\r\n                recordsForItem.push(record);\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    isFabricateComponent() {\r\n        return (item) => {\r\n            if (!item.data.flags.fabricate) {\r\n                return false;\r\n            }\r\n            const flags = item.data.flags.fabricate;\r\n            return flags.type === _FabricateFlags__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItemType\"].COMPONENT;\r\n        };\r\n    }\r\n    get compendiumPackKey() {\r\n        return this._compendiumPackKey;\r\n    }\r\n    get fabricator() {\r\n        return this._fabricatorSupplier ? this._fabricatorSupplier() : this._fabricator;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get recipes() {\r\n        return this._recipes;\r\n    }\r\n    get components() {\r\n        return this._components;\r\n    }\r\n    supports(gameSystem) {\r\n        if (!this._supportedGameSystems || this._supportedGameSystems.length == 0) {\r\n            return true;\r\n        }\r\n        return this._supportedGameSystems.indexOf(gameSystem) > -1;\r\n    }\r\n}\r\n(function (CraftingSystem) {\r\n    class Builder {\r\n        constructor() {\r\n            this.supportedGameSystems = [];\r\n            this.recipes = [];\r\n            this.components = [];\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumPackKey(value) {\r\n            this.compendiumPackKey = value;\r\n            return this;\r\n        }\r\n        withFabricator(value) {\r\n            this.fabricator = value;\r\n            return this;\r\n        }\r\n        withFabricatorSupplier(value) {\r\n            this.fabricatorSupplier = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystems(value) {\r\n            this.supportedGameSystems = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystem(value) {\r\n            this.supportedGameSystems.push(value);\r\n            return this;\r\n        }\r\n        withRecipes(value) {\r\n            this.recipes = value;\r\n            return this;\r\n        }\r\n        withRecipe(value) {\r\n            this.recipes.push(value);\r\n            return this;\r\n        }\r\n        withComponents(value) {\r\n            this.components = value;\r\n            return this;\r\n        }\r\n        withComponent(value) {\r\n            this.components.push(value);\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingSystem(this);\r\n        }\r\n    }\r\n    CraftingSystem.Builder = Builder;\r\n})(CraftingSystem || (CraftingSystem = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nU3lzdGVtLnRzPzQ2ZGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRXNEO0FBQ2E7QUFFakI7QUFDbEI7QUFFaEMsTUFBTSxjQUFjO0lBU2hCLFlBQVksT0FBK0I7UUFDdkMsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUM7UUFDcEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO1FBQ3RDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUN0QyxJQUFJLENBQUMscUJBQXFCLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDO0lBQzlELENBQUM7SUFFTSxNQUFNLENBQUMsT0FBTztRQUNqQixPQUFPLElBQUksY0FBYyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hDLENBQUM7SUFFTSxvQkFBb0IsQ0FBQyxJQUFZO1FBQ3BDLE9BQWUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUN6QyxPQUFPLE1BQU0sQ0FBQyxJQUFJLEtBQUssSUFBSTtRQUMvQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVZLEtBQUssQ0FBQyxPQUFlLEVBQUUsUUFBZ0I7O1lBQ2hELE1BQU0sS0FBSyxHQUFVLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzlD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QUM7UUFFTSxzQkFBc0IsQ0FBQyxLQUF1QjtZQUNqRCxJQUFJLENBQUMsa0JBQWtCLEdBQUcsS0FBSyxDQUFDO1lBQ2hDLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSx3QkFBd0IsQ0FBQyxLQUFlO1lBQzNDLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUM7WUFDbEMsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHVCQUF1QixDQUFDLEtBQWE7WUFDeEMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN0QyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sV0FBVyxDQUFDLEtBQWU7WUFDOUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFVBQVUsQ0FBQyxLQUFhO1lBQzNCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxjQUFjLENBQUMsS0FBMEI7WUFDNUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGFBQWEsQ0FBQyxLQUF3QjtZQUN6QyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sS0FBSztZQUNSLE9BQU8sSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDcEMsQ0FBQztLQUNKO0lBOURZLHNCQUFPLFVBOERuQjtBQUNMLENBQUMsRUFoRVMsY0FBYyxLQUFkLGNBQWMsUUFnRXZCO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ1N5c3RlbS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRvcn0gZnJvbSBcIi4vRmFicmljYXRvclwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4vUmVjaXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7RmFicmljYXRlRmxhZ3MsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi9GYWJyaWNhdGVGbGFnc1wiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZH0gZnJvbSBcIi4vSW52ZW50b3J5UmVjb3JkXCI7XHJcbmltcG9ydCB7QWN0aW9ufSBmcm9tIFwiLi9BY3Rpb25cIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nU3lzdGVtIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBlbmRpdW1QYWNrS2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mYWJyaWNhdG9yOiBGYWJyaWNhdG9yO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZmFicmljYXRvclN1cHBsaWVyOiAoKSA9PiBGYWJyaWNhdG9yO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlczogUmVjaXBlW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3VwcG9ydGVkR2FtZVN5c3RlbXM6IHN0cmluZ1tdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gYnVpbGRlci5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2NvbXBlbmRpdW1QYWNrS2V5ID0gYnVpbGRlci5jb21wZW5kaXVtUGFja0tleTtcclxuICAgICAgICB0aGlzLl9mYWJyaWNhdG9yID0gYnVpbGRlci5mYWJyaWNhdG9yO1xyXG4gICAgICAgIHRoaXMuX2ZhYnJpY2F0b3JTdXBwbGllciA9IGJ1aWxkZXIuZmFicmljYXRvclN1cHBsaWVyO1xyXG4gICAgICAgIHRoaXMuX3JlY2lwZXMgPSBidWlsZGVyLnJlY2lwZXM7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50cyA9IGJ1aWxkZXIuY29tcG9uZW50cztcclxuICAgICAgICB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IGJ1aWxkZXIuc3VwcG9ydGVkR2FtZVN5c3RlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRGaXJzdFJlY2lwZUJ5TmFtZShuYW1lOiBzdHJpbmcpOiBSZWNpcGUge1xyXG4gICAgICAgIHJldHVybiA8UmVjaXBlPnRoaXMuX3JlY2lwZXMuZmluZCgocmVjaXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiByZWNpcGUubmFtZSA9PT0gbmFtZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGNyYWZ0KGFjdG9ySWQ6IHN0cmluZywgcmVjaXBlSWQ6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGFjdG9yOiBBY3RvciA9IGdhbWUuYWN0b3JzLmdldChhY3RvcklkKTtcclxuICAgICAgICBjb25zdCByZWNpcGU6IFJlY2lwZSA9IHRoaXMuX3JlY2lwZXMuZmluZCgocmVjaXBlOiBSZWNpcGUpID0+IHJlY2lwZS5pdGVtSWQgPT0gcmVjaXBlSWQpO1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeTogTWFwPHN0cmluZywgSW52ZW50b3J5UmVjb3JkW10+ID0gdGhpcy5zY2FuSW52ZW50b3J5KGFjdG9yKTtcclxuICAgICAgICBjb25zdCBjcmFmdGluZ0NvbXBvbmVudHMgPSBBcnJheS5mcm9tKGludmVudG9yeS52YWx1ZXMoKSkuZGVlcEZsYXR0ZW4oKVxyXG4gICAgICAgICAgICAubWFwKChpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZCkgPT4gaW52ZW50b3J5UmVjb3JkLmNyYWZ0aW5nQ29tcG9uZW50KTtcclxuICAgICAgICBjb25zdCBmYWJyaWNhdG9ySW5zdGFuY2UgPSB0aGlzLmZhYnJpY2F0b3I7XHJcbiAgICAgICAgZmFicmljYXRvckluc3RhbmNlLnByZXBhcmUocmVjaXBlLCBjcmFmdGluZ0NvbXBvbmVudHMpO1xyXG4gICAgICAgIGlmICghZmFicmljYXRvckluc3RhbmNlLnJlYWR5KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmFicmljYXRlICR7cmVjaXBlLm5hbWV9LiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdSZXN1bHRzOiBDcmFmdGluZ1Jlc3VsdFtdID0gZmFicmljYXRvckluc3RhbmNlLmZhYnJpY2F0ZSgpO1xyXG4gICAgICAgIGNyYWZ0aW5nUmVzdWx0cy5mb3JFYWNoKChjcmFmdGluZ1Jlc3VsdDogQ3JhZnRpbmdSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hcHBseUNyYWZ0aW5nUmVzdWx0VG9JbnZlbnRvcnkoYWN0b3IsIGludmVudG9yeSwgY3JhZnRpbmdSZXN1bHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgYXBwbHlDcmFmdGluZ1Jlc3VsdFRvSW52ZW50b3J5KGFjdG9yOiBBY3RvciwgaW52ZW50b3J5OiBNYXA8c3RyaW5nLCBJbnZlbnRvcnlSZWNvcmRbXT4sIGNyYWZ0aW5nUmVzdWx0OiBDcmFmdGluZ1Jlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBlbmRpdW06IENvbXBlbmRpdW0gPSBnYW1lLnBhY2tzLmdldCh0aGlzLmNvbXBlbmRpdW1QYWNrS2V5KTtcclxuICAgICAgICBpZiAoY3JhZnRpbmdSZXN1bHQuYWN0aW9uID09PSBBY3Rpb24uQUREKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhOiBFbnRpdHkgPSBhd2FpdCBjb21wZW5kaXVtLmdldEVudGl0eShjcmFmdGluZ1Jlc3VsdC5pdGVtLmNvbXBlbmRpdW1FbnRyeS5pdGVtSWQpO1xyXG4gICAgICAgICAgICBhd2FpdCBhY3Rvci5jcmVhdGVPd25lZEl0ZW0oaXRlbURhdGEpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY3JhZnRpbmdSZXN1bHQuYWN0aW9uID09PSBBY3Rpb24uUkVNT1ZFKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbW92YWxDYW5kaWRhdGVzOiBJbnZlbnRvcnlSZWNvcmRbXSA9IGludmVudG9yeS5nZXQoY3JhZnRpbmdSZXN1bHQuaXRlbS5jb21wZW5kaXVtRW50cnkuaXRlbUlkKTtcclxuICAgICAgICAgICAgaWYgKCFyZW1vdmFsQ2FuZGlkYXRlcyB8fCByZW1vdmFsQ2FuZGlkYXRlcy5sZW5ndGggPCBjcmFmdGluZ1Jlc3VsdC5xdWFudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPb3BzISBBY3RvciAke2FjdG9yLmlkfSBkb2VzIG5vdCBvd24gZW5vdWdoICR7Y3JhZnRpbmdSZXN1bHQuaXRlbS5uYW1lfS4gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHJlbWFpbmluZzogbnVtYmVyID0gY3JhZnRpbmdSZXN1bHQucXVhbnRpdHk7XHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbiA9IDA7XHJcbiAgICAgICAgICAgIHdoaWxlIChyZW1haW5pbmcgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhY3Rvci5kZWxldGVPd25lZEl0ZW0ocmVtb3ZhbENhbmRpZGF0ZXNbcG9zaXRpb25dLml0ZW0uaWQpO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24rKztcclxuICAgICAgICAgICAgICAgIHJlbWFpbmluZy0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2NhbkludmVudG9yeShhY3RvcjogQWN0b3IpOiBNYXA8c3RyaW5nLCBJbnZlbnRvcnlSZWNvcmRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeVJlY29yZHM6IEludmVudG9yeVJlY29yZFtdID0gYWN0b3IuaXRlbXMuZmlsdGVyKHRoaXMuaXNGYWJyaWNhdGVDb21wb25lbnQoKSlcclxuICAgICAgICAgICAgLm1hcCgoaXRlbTogSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeVJlY29yZC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEl0ZW0oaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEFjdG9yKGFjdG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQ3JhZnRpbmdDb21wb25lbnQoQ3JhZnRpbmdDb21wb25lbnQuZnJvbUZsYWdzKGl0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGUpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGxldCByZXN1bHQ6IE1hcDxzdHJpbmcsIEludmVudG9yeVJlY29yZFtdPiA9IG5ldyBNYXAoKTtcclxuICAgICAgICBpbnZlbnRvcnlSZWNvcmRzLmZvckVhY2goKHJlY29yZDogSW52ZW50b3J5UmVjb3JkKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBlbmRpdW1JdGVtSWQgPSByZWNvcmQuY3JhZnRpbmdDb21wb25lbnQuY29tcGVuZGl1bUVudHJ5Lml0ZW1JZDtcclxuICAgICAgICAgICAgbGV0IHJlY29yZHNGb3JJdGVtID0gcmVzdWx0LmdldChjb21wZW5kaXVtSXRlbUlkKTtcclxuICAgICAgICAgICAgaWYgKCFyZWNvcmRzRm9ySXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldChjb21wZW5kaXVtSXRlbUlkLCBbcmVjb3JkXSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlY29yZHNGb3JJdGVtLnB1c2gocmVjb3JkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0ZhYnJpY2F0ZUNvbXBvbmVudCgpOiAoaXRlbTogSXRlbSkgPT4gYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIChpdGVtOiBJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghaXRlbS5kYXRhLmZsYWdzLmZhYnJpY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGZsYWdzOiBGYWJyaWNhdGVGbGFncyA9IGl0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGU7XHJcbiAgICAgICAgICAgIHJldHVybiBmbGFncy50eXBlID09PSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wZW5kaXVtUGFja0tleSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wZW5kaXVtUGFja0tleTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZmFicmljYXRvcigpOiBGYWJyaWNhdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmFicmljYXRvclN1cHBsaWVyID8gdGhpcy5fZmFicmljYXRvclN1cHBsaWVyKCkgOiB0aGlzLl9mYWJyaWNhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdXBwb3J0ZWRHYW1lU3lzdGVtcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWNpcGVzKCk6IFJlY2lwZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjaXBlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3VwcG9ydHMoZ2FtZVN5c3RlbTogc3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcyB8fCB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zLmluZGV4T2YoZ2FtZVN5c3RlbSkgPiAtMTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nU3lzdGVtIHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29tcGVuZGl1bVBhY2tLZXkhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGZhYnJpY2F0b3IhOiBGYWJyaWNhdG9yO1xyXG4gICAgICAgIHB1YmxpYyBmYWJyaWNhdG9yU3VwcGxpZXIhOiAoKSA9PiBGYWJyaWNhdG9yO1xyXG4gICAgICAgIHB1YmxpYyBzdXBwb3J0ZWRHYW1lU3lzdGVtczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgcmVjaXBlczogUmVjaXBlW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSA9IFtdO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aE5hbWUodmFsdWU6IHN0cmluZykgOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhDb21wZW5kaXVtUGFja0tleSh2YWx1ZTogc3RyaW5nKSA6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBlbmRpdW1QYWNrS2V5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhGYWJyaWNhdG9yKHZhbHVlOiBGYWJyaWNhdG9yKSA6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmZhYnJpY2F0b3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEZhYnJpY2F0b3JTdXBwbGllcih2YWx1ZTogKCkgPT4gRmFicmljYXRvcikgOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5mYWJyaWNhdG9yU3VwcGxpZXIgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFN1cHBvcnRlZEdhbWVTeXN0ZW1zKHZhbHVlOiBzdHJpbmdbXSkgOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoU3VwcG9ydGVkR2FtZVN5c3RlbSh2YWx1ZTogc3RyaW5nKSA6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZEdhbWVTeXN0ZW1zLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUmVjaXBlcyh2YWx1ZTogUmVjaXBlW10pIDogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUmVjaXBlKHZhbHVlOiBSZWNpcGUpIDogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBlcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBvbmVudHModmFsdWU6IENyYWZ0aW5nQ29tcG9uZW50W10pIDogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQ29tcG9uZW50KHZhbHVlOiBDcmFmdGluZ0NvbXBvbmVudCkgOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpIDogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nU3lzdGVtKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQ3JhZnRpbmdTeXN0ZW0gfTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingSystem.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricateFlags.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/FabricateFlags.ts ***!
  \********************************************/
/*! exports provided: FabricateFlags, FabricateItemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateFlags\", function() { return FabricateFlags; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateItemType\", function() { return FabricateItemType; });\nvar FabricateItemType;\r\n(function (FabricateItemType) {\r\n    FabricateItemType[\"RECIPE\"] = \"RECIPE\";\r\n    FabricateItemType[\"COMPONENT\"] = \"COMPONENT\";\r\n})(FabricateItemType || (FabricateItemType = {}));\r\nclass FabricateFlags {\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0ZUZsYWdzLnRzP2VlMDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7QUFBQTtBQUFBO0FBQUEsSUFBSyxpQkFHSjtBQUhELFdBQUssaUJBQWlCO0lBQ2xCLHNDQUFpQjtJQUNqQiw0Q0FBdUI7QUFDM0IsQ0FBQyxFQUhJLGlCQUFpQixLQUFqQixpQkFBaUIsUUFHckI7QUFFRCxNQUFNLGNBQWM7Q0FJbkI7QUFFeUMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0ZUZsYWdzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuZW51bSBGYWJyaWNhdGVJdGVtVHlwZSB7XHJcbiAgICBSRUNJUEUgPSAnUkVDSVBFJyxcclxuICAgIENPTVBPTkVOVCA9ICdDT01QT05FTlQnXHJcbn1cclxuXHJcbmNsYXNzIEZhYnJpY2F0ZUZsYWdzIHtcclxuICAgIHB1YmxpYyB0eXBlOiBGYWJyaWNhdGVJdGVtVHlwZTtcclxuICAgIHB1YmxpYyByZWNpcGU/OiBSZWNpcGUuQnVpbGRlcjtcclxuICAgIHB1YmxpYyBjb21wb25lbnQ/OiBDcmFmdGluZ0NvbXBvbmVudC5CdWlsZGVyO1xyXG59XHJcblxyXG5leHBvcnQge0ZhYnJpY2F0ZUZsYWdzLCBGYWJyaWNhdGVJdGVtVHlwZX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricateFlags.ts\n");

/***/ }),

/***/ "./src/scripts/core/Fabricator.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Fabricator.ts ***!
  \****************************************/
/*! exports provided: DefaultFabricator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultFabricator\", function() { return DefaultFabricator; });\n/* harmony import */ var _CraftingResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n/* harmony import */ var _Action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Action */ \"./src/scripts/core/Action.ts\");\n\r\n\r\nclass DefaultFabricator {\r\n    constructor() {\r\n        this._preparedCraftingElements = [];\r\n        this._remainingComponents = new Map();\r\n    }\r\n    fabricate() {\r\n        if (!this._preparedRecipe) {\r\n            throw new Error(`The Default Fabricator requires a recipe and one was not prepared. `);\r\n        }\r\n        if (!this.ready()) {\r\n            throw new Error(`Unable to craft ${this._preparedRecipe.name}. `);\r\n        }\r\n        let input = this._preparedRecipe.components.map((component) => {\r\n            return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(component.ingredient)\r\n                .withQuantity(component.quantity)\r\n                .withAction(component.consumed ? _Action__WEBPACK_IMPORTED_MODULE_1__[\"Action\"].REMOVE : _Action__WEBPACK_IMPORTED_MODULE_1__[\"Action\"].ADD)\r\n                .build();\r\n        });\r\n        let output = this._preparedRecipe.results.map((result) => {\r\n            return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(result.item)\r\n                .withAction(_Action__WEBPACK_IMPORTED_MODULE_1__[\"Action\"].ADD)\r\n                .withQuantity(result.quantity)\r\n                .build();\r\n        });\r\n        return input.concat(output);\r\n    }\r\n    prepare(recipe, craftingElements) {\r\n        this._preparedRecipe = recipe;\r\n        if (craftingElements && craftingElements.length > 0) {\r\n            this._preparedCraftingElements.push(...craftingElements);\r\n        }\r\n        this._remainingComponents = new Map(this.preparedRecipe.components.map((component) => [component.ingredient.compendiumEntry.itemId, component.quantity]));\r\n        this._preparedCraftingElements.forEach((craftingElement) => this.accountFor(craftingElement));\r\n    }\r\n    accountFor(craftingElement) {\r\n        let remaining = this._remainingComponents.get(craftingElement.compendiumEntry.itemId);\r\n        if (remaining > 0) {\r\n            this._remainingComponents.set(craftingElement.compendiumEntry.itemId, --remaining);\r\n        }\r\n    }\r\n    add(craftingElement) {\r\n        this._preparedCraftingElements.push(craftingElement);\r\n        this.accountFor(craftingElement);\r\n    }\r\n    get preparedCraftingElements() {\r\n        return this._preparedCraftingElements;\r\n    }\r\n    get preparedRecipe() {\r\n        return this._preparedRecipe;\r\n    }\r\n    clear() {\r\n        let elementsRemoved = this._preparedRecipe != null || this._preparedCraftingElements.length > 0;\r\n        this._preparedRecipe = null;\r\n        this._preparedCraftingElements = [];\r\n        return elementsRemoved;\r\n    }\r\n    ready() {\r\n        if (!this._preparedRecipe) {\r\n            return false;\r\n        }\r\n        let ready = true;\r\n        this._remainingComponents.forEach((value) => {\r\n            if (value > 0) {\r\n                ready = false;\r\n            }\r\n        });\r\n        return ready;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0b3IudHM/Zjk1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFnRDtBQUVoQjtBQXFCaEMsTUFBTSxpQkFBaUI7SUFBdkI7UUFDWSw4QkFBeUIsR0FBd0IsRUFBRSxDQUFDO1FBRXBELHlCQUFvQixHQUF3QixJQUFJLEdBQUcsRUFBRSxDQUFDO0lBMEVsRSxDQUFDO0lBeEVHLFNBQVM7UUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRTtZQUN2QixNQUFNLElBQUksS0FBSyxDQUFDLHFFQUFxRSxDQUFDLENBQUM7U0FDMUY7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDO1NBQ3JFO1FBQ0QsSUFBSSxLQUFLLEdBQXFCLElBQUksQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFBRSxFQUFFO1lBQzVFLE9BQU8sOERBQWMsQ0FBQyxPQUFPLEVBQUU7aUJBQzFCLFFBQVEsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO2lCQUM5QixZQUFZLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQztpQkFDaEMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLDhDQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyw4Q0FBTSxDQUFDLEdBQUcsQ0FBQztpQkFDM0QsS0FBSyxFQUFFLENBQUM7UUFDakIsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLE1BQU0sR0FBcUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDdkUsT0FBTyw4REFBYyxDQUFDLE9BQU8sRUFBRTtpQkFDMUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7aUJBQ3JCLFVBQVUsQ0FBQyw4Q0FBTSxDQUFDLEdBQUcsQ0FBQztpQkFDdEIsWUFBWSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7aUJBQzdCLEtBQUssRUFBRSxDQUFDO1FBQ2pCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBYyxFQUFFLGdCQUFzQztRQUMxRCxJQUFJLENBQUMsZUFBZSxHQUFHLE1BQU0sQ0FBQztRQUM5QixJQUFJLGdCQUFnQixJQUFJLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDakQsSUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxHQUFHLGdCQUFnQixDQUFDLENBQUM7U0FDNUQ7UUFDRCxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBMEIsRUFBRSxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzSyxJQUFJLENBQUMseUJBQXlCLENBQUMsT0FBTyxDQUFDLENBQUMsZUFBa0MsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0lBQ3JILENBQUM7SUFFTyxVQUFVLENBQUMsZUFBa0M7UUFDakQsSUFBSSxTQUFTLEdBQVcsSUFBSSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzlGLElBQUksU0FBUyxHQUFHLENBQUMsRUFBRTtZQUNmLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUN0RjtJQUNMLENBQUM7SUFFRCxHQUFHLENBQUMsZUFBa0M7UUFDbEMsSUFBSSxDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUNyRCxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxJQUFJLHdCQUF3QjtRQUN4QixPQUFPLElBQUksQ0FBQyx5QkFBeUIsQ0FBQztJQUMxQyxDQUFDO0lBRUQsSUFBSSxjQUFjO1FBQ2QsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDO0lBQ2hDLENBQUM7SUFFRCxLQUFLO1FBQ0QsSUFBSSxlQUFlLEdBQVksSUFBSSxDQUFDLGVBQWUsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLHlCQUF5QixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDekcsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7UUFDNUIsSUFBSSxDQUFDLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztRQUNwQyxPQUFPLGVBQWUsQ0FBQztJQUMzQixDQUFDO0lBRUQsS0FBSztRQUNELElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFO1lBQ3ZCLE9BQU8sS0FBSyxDQUFDO1NBQ2hCO1FBQ0QsSUFBSSxLQUFLLEdBQVksSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUN4QyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUU7Z0JBQ1gsS0FBSyxHQUFHLEtBQUssQ0FBQzthQUNqQjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztDQUNKO0FBRXNDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9GYWJyaWNhdG9yLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0FjdGlvbn0gZnJvbSBcIi4vQWN0aW9uXCI7XHJcbmltcG9ydCB7UmVjaXBlQ29tcG9uZW50fSBmcm9tIFwiLi9SZWNpcGVDb21wb25lbnRcIjtcclxuXHJcbmludGVyZmFjZSBGYWJyaWNhdG9yIHtcclxuICAgIHByZXBhcmVkUmVjaXBlPzogUmVjaXBlO1xyXG4gICAgcHJlcGFyZWRDcmFmdGluZ0VsZW1lbnRzPzogQ3JhZnRpbmdDb21wb25lbnRbXTtcclxuXHJcbiAgICBwcmVwYXJlKHJlY2lwZTogUmVjaXBlLCBjcmFmdGluZ0VsZW1lbnRzPzogQ3JhZnRpbmdDb21wb25lbnRbXSk6IHZvaWQ7XHJcblxyXG4gICAgYWRkKGNyYWZ0aW5nRWxlbWVudHM6IENyYWZ0aW5nQ29tcG9uZW50KTogdm9pZDtcclxuXHJcbiAgICBjbGVhcigpOiBib29sZWFuO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICogKi9cclxuICAgIGZhYnJpY2F0ZSgpOiBDcmFmdGluZ1Jlc3VsdFtdO1xyXG5cclxuICAgIHJlYWR5KCk6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNsYXNzIERlZmF1bHRGYWJyaWNhdG9yIGltcGxlbWVudHMgRmFicmljYXRvciB7XHJcbiAgICBwcml2YXRlIF9wcmVwYXJlZENyYWZ0aW5nRWxlbWVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBbXTtcclxuICAgIHByaXZhdGUgX3ByZXBhcmVkUmVjaXBlITogUmVjaXBlO1xyXG4gICAgcHJpdmF0ZSBfcmVtYWluaW5nQ29tcG9uZW50czogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBmYWJyaWNhdGUoKTogQ3JhZnRpbmdSZXN1bHRbXSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9wcmVwYXJlZFJlY2lwZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBEZWZhdWx0IEZhYnJpY2F0b3IgcmVxdWlyZXMgYSByZWNpcGUgYW5kIG9uZSB3YXMgbm90IHByZXBhcmVkLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLnJlYWR5KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gY3JhZnQgJHt0aGlzLl9wcmVwYXJlZFJlY2lwZS5uYW1lfS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBpbnB1dDogQ3JhZnRpbmdSZXN1bHRbXSA9IHRoaXMuX3ByZXBhcmVkUmVjaXBlLmNvbXBvbmVudHMubWFwKChjb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nUmVzdWx0LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhJdGVtKGNvbXBvbmVudC5pbmdyZWRpZW50KVxyXG4gICAgICAgICAgICAgICAgLndpdGhRdWFudGl0eShjb21wb25lbnQucXVhbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAud2l0aEFjdGlvbihjb21wb25lbnQuY29uc3VtZWQgPyBBY3Rpb24uUkVNT1ZFIDogQWN0aW9uLkFERClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBvdXRwdXQ6IENyYWZ0aW5nUmVzdWx0W10gPSB0aGlzLl9wcmVwYXJlZFJlY2lwZS5yZXN1bHRzLm1hcCgocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ1Jlc3VsdC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgIC53aXRoSXRlbShyZXN1bHQuaXRlbSlcclxuICAgICAgICAgICAgICAgIC53aXRoQWN0aW9uKEFjdGlvbi5BREQpXHJcbiAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KHJlc3VsdC5xdWFudGl0eSlcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbnB1dC5jb25jYXQob3V0cHV0KTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVwYXJlKHJlY2lwZTogUmVjaXBlLCBjcmFmdGluZ0VsZW1lbnRzPzogQ3JhZnRpbmdDb21wb25lbnRbXSkge1xyXG4gICAgICAgIHRoaXMuX3ByZXBhcmVkUmVjaXBlID0gcmVjaXBlO1xyXG4gICAgICAgIGlmIChjcmFmdGluZ0VsZW1lbnRzICYmIGNyYWZ0aW5nRWxlbWVudHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wcmVwYXJlZENyYWZ0aW5nRWxlbWVudHMucHVzaCguLi5jcmFmdGluZ0VsZW1lbnRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nQ29tcG9uZW50cyA9IG5ldyBNYXAodGhpcy5wcmVwYXJlZFJlY2lwZS5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBSZWNpcGVDb21wb25lbnQpID0+IFtjb21wb25lbnQuaW5ncmVkaWVudC5jb21wZW5kaXVtRW50cnkuaXRlbUlkLCBjb21wb25lbnQucXVhbnRpdHldKSk7XHJcbiAgICAgICAgdGhpcy5fcHJlcGFyZWRDcmFmdGluZ0VsZW1lbnRzLmZvckVhY2goKGNyYWZ0aW5nRWxlbWVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHRoaXMuYWNjb3VudEZvcihjcmFmdGluZ0VsZW1lbnQpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFjY291bnRGb3IoY3JhZnRpbmdFbGVtZW50OiBDcmFmdGluZ0NvbXBvbmVudCkge1xyXG4gICAgICAgIGxldCByZW1haW5pbmc6IG51bWJlciA9IHRoaXMuX3JlbWFpbmluZ0NvbXBvbmVudHMuZ2V0KGNyYWZ0aW5nRWxlbWVudC5jb21wZW5kaXVtRW50cnkuaXRlbUlkKTtcclxuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW1haW5pbmdDb21wb25lbnRzLnNldChjcmFmdGluZ0VsZW1lbnQuY29tcGVuZGl1bUVudHJ5Lml0ZW1JZCwgLS1yZW1haW5pbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGQoY3JhZnRpbmdFbGVtZW50OiBDcmFmdGluZ0NvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuX3ByZXBhcmVkQ3JhZnRpbmdFbGVtZW50cy5wdXNoKGNyYWZ0aW5nRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5hY2NvdW50Rm9yKGNyYWZ0aW5nRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByZXBhcmVkQ3JhZnRpbmdFbGVtZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlcGFyZWRDcmFmdGluZ0VsZW1lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwcmVwYXJlZFJlY2lwZSgpOiBSZWNpcGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVwYXJlZFJlY2lwZTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpIHtcclxuICAgICAgICBsZXQgZWxlbWVudHNSZW1vdmVkOiBib29sZWFuID0gdGhpcy5fcHJlcGFyZWRSZWNpcGUgIT0gbnVsbCB8fCB0aGlzLl9wcmVwYXJlZENyYWZ0aW5nRWxlbWVudHMubGVuZ3RoID4gMDtcclxuICAgICAgICB0aGlzLl9wcmVwYXJlZFJlY2lwZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fcHJlcGFyZWRDcmFmdGluZ0VsZW1lbnRzID0gW107XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnRzUmVtb3ZlZDtcclxuICAgIH1cclxuXHJcbiAgICByZWFkeSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3ByZXBhcmVkUmVjaXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlYWR5OiBib29sZWFuID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9yZW1haW5pbmdDb21wb25lbnRzLmZvckVhY2goKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVhZHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRvciwgRGVmYXVsdEZhYnJpY2F0b3J9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/Fabricator.ts\n");

/***/ }),

/***/ "./src/scripts/core/InventoryRecord.ts":
/*!*********************************************!*\
  !*** ./src/scripts/core/InventoryRecord.ts ***!
  \*********************************************/
/*! exports provided: InventoryRecord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRecord\", function() { return InventoryRecord; });\nclass InventoryRecord {\r\n    constructor(builder) {\r\n        this._actor = builder.actor;\r\n        this._item = builder.item;\r\n        this._quantity = builder.quantity;\r\n        this._craftingComponent = builder.craftingComponent;\r\n    }\r\n    static builder() {\r\n        return new InventoryRecord.Builder();\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get item() {\r\n        return this._item;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get craftingComponent() {\r\n        return this._craftingComponent;\r\n    }\r\n}\r\n(function (InventoryRecord) {\r\n    class Builder {\r\n        withActor(value) {\r\n            this.actor = value;\r\n            return this;\r\n        }\r\n        withItem(value) {\r\n            this.item = value;\r\n            return this;\r\n        }\r\n        withCraftingComponent(value) {\r\n            this.craftingComponent = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new InventoryRecord(this);\r\n        }\r\n    }\r\n    InventoryRecord.Builder = Builder;\r\n})(InventoryRecord || (InventoryRecord = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ludmVudG9yeVJlY29yZC50cz9hOWVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQSxNQUFNLGVBQWU7SUFNakIsWUFBWSxPQUFnQztRQUN4QyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztRQUNsQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDO0lBQ3hELENBQUM7SUFFTSxNQUFNLENBQUMsT0FBTztRQUNqQixPQUFPLElBQUksZUFBZSxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxJQUFJLEtBQUs7UUFDTCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLGlCQUFpQjtRQUNqQixPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNuQyxDQUFDO0NBQ0o7QUFFRCxXQUFVLGVBQWU7SUFDckIsTUFBYSxPQUFPO1FBTVQsU0FBUyxDQUFDLEtBQVk7WUFDekIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDbkIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUNNLFFBQVEsQ0FBQyxLQUFXO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxxQkFBcUIsQ0FBQyxLQUF3QjtZQUNqRCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1lBQy9CLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBYTtZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sS0FBSztZQUNSLE9BQU8sSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsQ0FBQztLQUVKO0lBN0JZLHVCQUFPLFVBNkJuQjtBQUNMLENBQUMsRUEvQlMsZUFBZSxLQUFmLGVBQWUsUUErQnhCO0FBRXVCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9JbnZlbnRvcnlSZWNvcmQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgSW52ZW50b3J5UmVjb3JkIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FjdG9yOiBBY3RvcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2l0ZW06IEl0ZW07XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGluZ0NvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9xdWFudGl0eTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IEludmVudG9yeVJlY29yZC5CdWlsZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fYWN0b3IgPSBidWlsZGVyLmFjdG9yO1xyXG4gICAgICAgIHRoaXMuX2l0ZW0gPSBidWlsZGVyLml0ZW07XHJcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBidWlsZGVyLnF1YW50aXR5O1xyXG4gICAgICAgIHRoaXMuX2NyYWZ0aW5nQ29tcG9uZW50ID0gYnVpbGRlci5jcmFmdGluZ0NvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKTogSW52ZW50b3J5UmVjb3JkLkJ1aWxkZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW52ZW50b3J5UmVjb3JkLkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0b3IoKTogQWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbSgpOiBJdGVtIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcXVhbnRpdHkoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbnRpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNyYWZ0aW5nQ29tcG9uZW50KCk6IENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBJbnZlbnRvcnlSZWNvcmQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG4gICAgICAgIHB1YmxpYyBhY3RvciE6IEFjdG9yO1xyXG4gICAgICAgIHB1YmxpYyBpdGVtITogSXRlbTtcclxuICAgICAgICBwdWJsaWMgY3JhZnRpbmdDb21wb25lbnQhOiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgICAgICBwdWJsaWMgcXVhbnRpdHkhOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQWN0b3IodmFsdWU6IEFjdG9yKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0b3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyB3aXRoSXRlbSh2YWx1ZTogSXRlbSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENyYWZ0aW5nQ29tcG9uZW50KHZhbHVlOiBDcmFmdGluZ0NvbXBvbmVudCk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmNyYWZ0aW5nQ29tcG9uZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhRdWFudGl0eSh2YWx1ZTogbnVtYmVyKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogSW52ZW50b3J5UmVjb3JkIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZlbnRvcnlSZWNvcmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJbnZlbnRvcnlSZWNvcmR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/InventoryRecord.ts\n");

/***/ }),

/***/ "./src/scripts/core/Recipe.ts":
/*!************************************!*\
  !*** ./src/scripts/core/Recipe.ts ***!
  \************************************/
/*! exports provided: Recipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Recipe\", function() { return Recipe; });\n/* harmony import */ var _FabricateFlags__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricateFlags */ \"./src/scripts/core/FabricateFlags.ts\");\n\r\nclass Recipe {\r\n    constructor(builder) {\r\n        this._components = builder.components;\r\n        this._results = builder.results;\r\n        this._name = builder.name;\r\n        this._itemId = builder.itemId;\r\n    }\r\n    static fromFlags(fabricateFlags) {\r\n        if (fabricateFlags.type !== _FabricateFlags__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].RECIPE) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Recipe from ${fabricateFlags.type} data. `);\r\n        }\r\n        return new Recipe(fabricateFlags.recipe);\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get components() {\r\n        return this._components;\r\n    }\r\n    get results() {\r\n        return this._results;\r\n    }\r\n    get itemId() {\r\n        return this._itemId;\r\n    }\r\n    static builder() {\r\n        return new Recipe.Builder();\r\n    }\r\n}\r\n(function (Recipe) {\r\n    class Builder {\r\n        constructor() {\r\n            this.components = [];\r\n            this.results = [];\r\n        }\r\n        build() {\r\n            return new Recipe(this);\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withComponent(value) {\r\n            this.components.push(value);\r\n            return this;\r\n        }\r\n        withResult(value) {\r\n            this.results.push(value);\r\n            return this;\r\n        }\r\n        withResults(value) {\r\n            this.results = value;\r\n            return this;\r\n        }\r\n        withItemId(value) {\r\n            this.itemId = value;\r\n            return this;\r\n        }\r\n    }\r\n    Recipe.Builder = Builder;\r\n})(Recipe || (Recipe = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL1JlY2lwZS50cz81N2VkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFtRTtBQUVuRSxNQUFNLE1BQU07SUFNUixZQUFZLE9BQXVCO1FBQy9CLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDaEMsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztJQUNsQyxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUE4QjtRQUNsRCxJQUFJLGNBQWMsQ0FBQyxJQUFJLEtBQUssaUVBQWlCLENBQUMsTUFBTSxFQUFFO1lBQ2xELE1BQU0sSUFBSSxLQUFLLENBQUMsMkRBQTJELGNBQWMsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDO1NBQzVHO1FBQ0QsT0FBTyxJQUFJLE1BQU0sQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxVQUFVO1FBQ1YsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUdELElBQUksTUFBTTtRQUNOLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQztJQUN4QixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0NBQ0o7QUFFRCxXQUFVLE1BQU07SUFDWixNQUFhLE9BQU87UUFBcEI7WUFDVyxlQUFVLEdBQXNCLEVBQUUsQ0FBQztZQUNuQyxZQUFPLEdBQXFCLEVBQUUsQ0FBQztRQWdDMUMsQ0FBQztRQTVCVSxLQUFLO1lBQ1IsT0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QixDQUFDO1FBRUQsUUFBUSxDQUFDLEtBQWE7WUFDbEIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7WUFDbEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELGFBQWEsQ0FBQyxLQUFzQjtZQUNoQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM1QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsVUFBVSxDQUFDLEtBQXFCO1lBQzVCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxXQUFXLENBQUMsS0FBdUI7WUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELFVBQVUsQ0FBQyxLQUFhO1lBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7S0FDSjtJQWxDWSxjQUFPLFVBa0NuQjtBQUNMLENBQUMsRUFwQ1MsTUFBTSxLQUFOLE1BQU0sUUFvQ2Y7QUFFZSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvUmVjaXBlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWNpcGVDb21wb25lbnR9IGZyb20gXCIuL1JlY2lwZUNvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUZsYWdzLCBGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vRmFicmljYXRlRmxhZ3NcIjtcclxuXHJcbmNsYXNzIFJlY2lwZSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzOiBSZWNpcGVDb21wb25lbnRbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdHM6IENyYWZ0aW5nUmVzdWx0W107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9uYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pdGVtSWQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyOiBSZWNpcGUuQnVpbGRlcikge1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHMgPSBidWlsZGVyLmNvbXBvbmVudHM7XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IGJ1aWxkZXIucmVzdWx0cztcclxuICAgICAgICB0aGlzLl9uYW1lID0gYnVpbGRlci5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1JZCA9IGJ1aWxkZXIuaXRlbUlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUZsYWdzKGZhYnJpY2F0ZUZsYWdzOiBGYWJyaWNhdGVGbGFncyk6IFJlY2lwZSB7XHJcbiAgICAgICAgaWYgKGZhYnJpY2F0ZUZsYWdzLnR5cGUgIT09IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGF0dGVtcHRpbmcgdG8gaW5zdGFudGlhdGUgYSBGYWJyaWNhdGUgUmVjaXBlIGZyb20gJHtmYWJyaWNhdGVGbGFncy50eXBlfSBkYXRhLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWNpcGUoZmFicmljYXRlRmxhZ3MucmVjaXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IFJlY2lwZUNvbXBvbmVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVzdWx0cygpOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVzdWx0cztcclxuICAgIH1cclxuXHJcblxyXG4gICAgZ2V0IGl0ZW1JZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtSWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVjaXBlLkJ1aWxkZXIoKTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIFJlY2lwZSB7XHJcbiAgICBleHBvcnQgY2xhc3MgQnVpbGRlciB7XHJcbiAgICAgICAgcHVibGljIGNvbXBvbmVudHM6IFJlY2lwZUNvbXBvbmVudFtdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlc3VsdHM6IENyYWZ0aW5nUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgaXRlbUlkITogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVjaXBlKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aE5hbWUodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoQ29tcG9uZW50KHZhbHVlOiBSZWNpcGVDb21wb25lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhSZXN1bHQodmFsdWU6IENyYWZ0aW5nUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUmVzdWx0cyh2YWx1ZTogQ3JhZnRpbmdSZXN1bHRbXSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoSXRlbUlkKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtSWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1JlY2lwZX07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/Recipe.ts\n");

/***/ }),

/***/ "./src/scripts/interface/ItemRecipeTab.ts":
/*!************************************************!*\
  !*** ./src/scripts/interface/ItemRecipeTab.ts ***!
  \************************************************/
/*! exports provided: ItemRecipeTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemRecipeTab\", function() { return ItemRecipeTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _core_Recipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _systems_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../systems/CraftingSystemRegistry */ \"./src/scripts/systems/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass ItemRecipeTab {\r\n    constructor(itemSheet) {\r\n        this._sheetData = itemSheet;\r\n        this._item = itemSheet.item;\r\n        this._recipe = _core_Recipe__WEBPACK_IMPORTED_MODULE_1__[\"Recipe\"].fromFlags(itemSheet.item.data.flags.fabricate);\r\n    }\r\n    static bind(itemSheet, sheetHtml) {\r\n        if (itemSheet.item.data.flags.fabricate.type !== ItemRecipeTab.recipeType) {\r\n            return;\r\n        }\r\n        let tab = ItemRecipeTab.tabs.get(itemSheet.id);\r\n        if (!tab) {\r\n            tab = new ItemRecipeTab(itemSheet);\r\n            ItemRecipeTab.tabs.set(itemSheet.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToItemSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.recipeTab, { recipe: this._recipe, item: this._item });\r\n            let element = this._sheetHtml.find('.recipe-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-recipe').append(template);\r\n            }\r\n            this.handleItemSheetEvents();\r\n        });\r\n    }\r\n    addTabToItemSheet(sheetHtml) {\r\n        let tabs = sheetHtml.find(`form nav.sheet-navigation.tabs`);\r\n        tabs.append($('<a class=\"item\" data-tab=\"fabricate\">Recipe</a>'));\r\n        $(sheetHtml.find(`.sheet-body`)).append($('<div class=\"tab fabricate-recipe\" data-group=\"primary\" data-tab=\"fabricate\"></div>'));\r\n    }\r\n    handleItemSheetEvents() {\r\n        this._sheetHtml.find('.craft-button').click((event) => {\r\n            let recipeId = event.target.getAttribute('data-recipe-id');\r\n            let actorId = event.target.getAttribute('data-actor-id');\r\n            let craftingSystem = _systems_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_2__[\"CraftingSystemRegistry\"].getSystemByRecipeId(recipeId);\r\n            craftingSystem.craft(actorId, recipeId);\r\n            this.render();\r\n        });\r\n    }\r\n}\r\nItemRecipeTab.recipeType = _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types.recipe;\r\nItemRecipeTab.tabs = new Map();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cz8wY2I3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0Q7QUFDbUM7QUFFekUsTUFBTSxhQUFhO0lBc0JmLFlBQVksU0FBb0I7UUFDNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxPQUFPLEdBQUcsbURBQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pFLENBQUM7SUFoQk0sTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFvQixFQUFFLFNBQXNCO1FBQzNELElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEtBQUssYUFBYSxDQUFDLFVBQVUsRUFBRTtZQUN2RSxPQUFPO1NBQ1Y7UUFDRCxJQUFJLEdBQUcsR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDTixHQUFHLEdBQUcsSUFBSSxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDbkMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM3QztRQUNELEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQVFPLElBQUksQ0FBQyxTQUFjO1FBQ3ZCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDbEIsQ0FBQztJQUVhLE1BQU07O1lBQ2hCLElBQUksUUFBUSxHQUFnQixNQUFNLGNBQWMsQ0FBQyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLEVBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUMsQ0FBQyxDQUFDO1lBQ2xJLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7WUFDMUQsSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sRUFBRTtnQkFDM0IsT0FBTyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNqQztpQkFBTTtnQkFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQzthQUNsRTtZQUNELElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQ2pDLENBQUM7S0FBQTtJQUVPLGlCQUFpQixDQUFDLFNBQWM7UUFDcEMsSUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO1FBQzVELElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUNULGlEQUFpRCxDQUNwRCxDQUFDLENBQUM7UUFFSCxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQ3JDLG9GQUFvRixDQUN2RixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU8scUJBQXFCO1FBQ3pCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQVUsRUFBRSxFQUFFO1lBQ3ZELElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDM0QsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDekQsSUFBSSxjQUFjLEdBQUcsc0ZBQXNCLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDMUUsY0FBYyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDeEMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2xCLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQzs7QUFoRXVCLHdCQUFVLEdBQVcsbURBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQzdDLGtCQUFJLEdBQStCLElBQUksR0FBRyxFQUFFLENBQUM7QUFrRW5EIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvaW50ZXJmYWNlL0l0ZW1SZWNpcGVUYWIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4uL2NvcmUvUmVjaXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0gZnJvbSBcIi4uL3N5c3RlbXMvQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeVwiO1xyXG5cclxuY2xhc3MgSXRlbVJlY2lwZVRhYiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZWNpcGVUeXBlOiBzdHJpbmcgPSBQcm9wZXJ0aWVzLnR5cGVzLnJlY2lwZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRhYnM6IE1hcDxzdHJpbmcsIEl0ZW1SZWNpcGVUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHByaXZhdGUgX3NoZWV0RGF0YTogSXRlbVNoZWV0O1xyXG4gICAgcHJpdmF0ZSBfc2hlZXRIdG1sOiBhbnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pdGVtOiBhbnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGU6IFJlY2lwZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJpbmQoaXRlbVNoZWV0OiBJdGVtU2hlZXQsIHNoZWV0SHRtbDogSFRNTEVsZW1lbnQpOiB2b2lkIHtcclxuICAgICAgICBpZiAoaXRlbVNoZWV0Lml0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGUudHlwZSAhPT0gSXRlbVJlY2lwZVRhYi5yZWNpcGVUeXBlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRhYjogSXRlbVJlY2lwZVRhYiA9IEl0ZW1SZWNpcGVUYWIudGFicy5nZXQoaXRlbVNoZWV0LmlkKTtcclxuICAgICAgICBpZiAoIXRhYikge1xyXG4gICAgICAgICAgICB0YWIgPSBuZXcgSXRlbVJlY2lwZVRhYihpdGVtU2hlZXQpO1xyXG4gICAgICAgICAgICBJdGVtUmVjaXBlVGFiLnRhYnMuc2V0KGl0ZW1TaGVldC5pZCwgdGFiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFiLmluaXQoc2hlZXRIdG1sKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpdGVtU2hlZXQ6IEl0ZW1TaGVldCkge1xyXG4gICAgICAgIHRoaXMuX3NoZWV0RGF0YSA9IGl0ZW1TaGVldDtcclxuICAgICAgICB0aGlzLl9pdGVtID0gaXRlbVNoZWV0Lml0ZW07XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlID0gUmVjaXBlLmZyb21GbGFncyhpdGVtU2hlZXQuaXRlbS5kYXRhLmZsYWdzLmZhYnJpY2F0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KHNoZWV0SHRtbDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sID0gc2hlZXRIdG1sO1xyXG4gICAgICAgIHRoaXMuYWRkVGFiVG9JdGVtU2hlZXQoc2hlZXRIdG1sKTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZTogSFRNTEVsZW1lbnQgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShQcm9wZXJ0aWVzLm1vZHVsZS50ZW1wbGF0ZXMucmVjaXBlVGFiLCB7cmVjaXBlOiB0aGlzLl9yZWNpcGUsIGl0ZW06IHRoaXMuX2l0ZW19KTtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuX3NoZWV0SHRtbC5maW5kKCcucmVjaXBlLXRhYi1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy50YWIuZmFicmljYXRlLXJlY2lwZScpLmFwcGVuZCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaGFuZGxlSXRlbVNoZWV0RXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRUYWJUb0l0ZW1TaGVldChzaGVldEh0bWw6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGxldCB0YWJzID0gc2hlZXRIdG1sLmZpbmQoYGZvcm0gbmF2LnNoZWV0LW5hdmlnYXRpb24udGFic2ApO1xyXG4gICAgICAgIHRhYnMuYXBwZW5kKCQoXHJcbiAgICAgICAgICAgICc8YSBjbGFzcz1cIml0ZW1cIiBkYXRhLXRhYj1cImZhYnJpY2F0ZVwiPlJlY2lwZTwvYT4nXHJcbiAgICAgICAgKSk7XHJcblxyXG4gICAgICAgICQoc2hlZXRIdG1sLmZpbmQoYC5zaGVldC1ib2R5YCkpLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRhYiBmYWJyaWNhdGUtcmVjaXBlXCIgZGF0YS1ncm91cD1cInByaW1hcnlcIiBkYXRhLXRhYj1cImZhYnJpY2F0ZVwiPjwvZGl2PidcclxuICAgICAgICApKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhbmRsZUl0ZW1TaGVldEV2ZW50cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmNyYWZ0LWJ1dHRvbicpLmNsaWNrKChldmVudDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZWNpcGVJZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVjaXBlLWlkJyk7XHJcbiAgICAgICAgICAgIGxldCBhY3RvcklkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rvci1pZCcpO1xyXG4gICAgICAgICAgICBsZXQgY3JhZnRpbmdTeXN0ZW0gPSBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmdldFN5c3RlbUJ5UmVjaXBlSWQocmVjaXBlSWQpO1xyXG4gICAgICAgICAgICBjcmFmdGluZ1N5c3RlbS5jcmFmdChhY3RvcklkLCByZWNpcGVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0l0ZW1SZWNpcGVUYWJ9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/interface/ItemRecipeTab.ts\n");

/***/ }),

/***/ "./src/scripts/module.ts":
/*!*******************************!*\
  !*** ./src/scripts/module.ts ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interface/ItemRecipeTab */ \"./src/scripts/interface/ItemRecipeTab.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _core_FabricateFlags__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/FabricateFlags */ \"./src/scripts/core/FabricateFlags.ts\");\n/* harmony import */ var _core_Recipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _systems_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./systems/CraftingSystemRegistry */ \"./src/scripts/systems/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nHooks.once('ready', loadCraftingSystems);\r\nfunction loadCraftingSystems() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let systemSpecifications = _systems_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_5__[\"CraftingSystemRegistry\"].systemSpecifications;\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].module.label} | Loading ${systemSpecifications.length} crafting systems. `);\r\n        systemSpecifications.forEach(loadCraftingSystem);\r\n    });\r\n}\r\n/**\r\n * Loads a single Crafting System from a System Specification, which must include a Compendium Pack Key. Item data from\r\n * the Compendium Pack is used to load the Recipes and Crafting Components into the system from the compendium. The\r\n * Fabricator, supported systems and name provided in the spec are all preserved\r\n *\r\n * @param systemSpec A partially populated `CraftingSystem.Builder` to which the Recipes and Components will be added\r\n * once imported from the Compendium. Must specify a Compendium Pack Key.\r\n * */\r\nfunction loadCraftingSystem(systemSpec) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].module.label} | Loading ${systemSpec.name} from Compendium pack ${systemSpec.compendiumPackKey}. `);\r\n        let systemPack = game.packs.get(systemSpec.compendiumPackKey);\r\n        let content = yield loadCompendiumContent(systemPack, 10);\r\n        content.forEach((item) => {\r\n            let itemConfig = item.data.flags.fabricate;\r\n            switch (itemConfig.type) {\r\n                case _core_FabricateFlags__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItemType\"].COMPONENT:\r\n                    systemSpec.withComponent(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__[\"CraftingComponent\"].fromFlags(itemConfig));\r\n                    break;\r\n                case _core_FabricateFlags__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItemType\"].RECIPE:\r\n                    systemSpec.withRecipe(_core_Recipe__WEBPACK_IMPORTED_MODULE_3__[\"Recipe\"].fromFlags(itemConfig));\r\n                    break;\r\n                default:\r\n                    throw new Error(`${_Properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].module.label} | Unable to load item ${item.id}. Could not determine Fabricate Entity Type. `);\r\n            }\r\n        });\r\n        let system = systemSpec.build();\r\n        _systems_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_5__[\"CraftingSystemRegistry\"].register(system);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].module.label} | Loaded ${systemSpec.name}. `);\r\n    });\r\n}\r\n/**\r\n * Fallback awaiter for loading compendium content, as this was observed to be unreliable during development after the\r\n * game 'ready' Hook was fired\r\n *\r\n * @param compendium The Compendium from which to reliably load the Content\r\n * @param maxAttempts The maximum number of times to attempt loading Compendium Content\r\n * */\r\nfunction loadCompendiumContent(compendium, maxAttempts) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let content = yield compendium.getContent();\r\n        let attempts = 0;\r\n        while ((!content || (content.length === 0)) && (attempts <= maxAttempts)) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_1__[\"default\"].module.label} | Waiting for content in Compendium Pack ${compendium.id} (Attempt ${attempts} of ${maxAttempts}. `);\r\n            yield wait(1000);\r\n            attempts++;\r\n            content = yield compendium.getContent();\r\n        }\r\n        return content;\r\n    });\r\n}\r\n/**\r\n * Simple async awaiter delay function\r\n * @param delay The number of millis to wait before resolving\r\n * @return a promise that resolves once the delay period has elapsed\r\n * */\r\nfunction wait(delay) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return new Promise(resolve => setTimeout(resolve, delay));\r\n    });\r\n}\r\nHooks.on('renderItemSheet5e', (sheetData, sheetHtml) => {\r\n    _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__[\"ItemRecipeTab\"].bind(sheetData, sheetHtml);\r\n});\r\nHandlebars.registerHelper('ifEquals', function (arg1, arg2, options) {\r\n    // @ts-ignore\r\n    return (arg1 == arg2) ? options.fn(this) : options.inverse(this);\r\n});\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2R1bGUudHM/NTk0MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBRWxCO0FBQ2tDO0FBQ25DO0FBQ3NCO0FBQ2E7QUFFeEUsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztBQUV6QyxTQUFlLG1CQUFtQjs7UUFDOUIsSUFBSSxvQkFBb0IsR0FBRyxzRkFBc0IsQ0FBQyxvQkFBb0IsQ0FBQztRQUN2RSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbURBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxjQUFjLG9CQUFvQixDQUFDLE1BQU0scUJBQXFCLENBQUMsQ0FBQztRQUN0RyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUNyRCxDQUFDO0NBQUE7QUFFRDs7Ozs7OztLQU9LO0FBQ0wsU0FBZSxrQkFBa0IsQ0FBQyxVQUFrQzs7UUFDaEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLG1EQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssY0FBYyxVQUFVLENBQUMsSUFBSSx5QkFBeUIsVUFBVSxDQUFDLGlCQUFpQixJQUFJLENBQUMsQ0FBQztRQUM5SCxJQUFJLFVBQVUsR0FBZSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUM7UUFDekUsSUFBSSxPQUFPLEdBQUcsTUFBTSxxQkFBcUIsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDMUQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQVksRUFBRSxFQUFFO1lBQzdCLElBQUksVUFBVSxHQUFtQixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUM7WUFDM0QsUUFBUSxVQUFVLENBQUMsSUFBSSxFQUFFO2dCQUNyQixLQUFLLHNFQUFpQixDQUFDLFNBQVM7b0JBQzVCLFVBQVUsQ0FBQyxhQUFhLENBQUMseUVBQWlCLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7b0JBQ2xFLE1BQU07Z0JBQ1YsS0FBSyxzRUFBaUIsQ0FBQyxNQUFNO29CQUN6QixVQUFVLENBQUMsVUFBVSxDQUFDLG1EQUFNLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7b0JBQ3BELE1BQU07Z0JBQ1Y7b0JBQ0ksTUFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLG1EQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssMEJBQTBCLElBQUksQ0FBQyxFQUFFLCtDQUErQyxDQUFDLENBQUM7YUFDbkk7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksTUFBTSxHQUFtQixVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDaEQsc0ZBQXNCLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLGFBQWEsVUFBVSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7SUFDNUUsQ0FBQztDQUFBO0FBRUQ7Ozs7OztLQU1LO0FBQ0wsU0FBZSxxQkFBcUIsQ0FBQyxVQUFzQixFQUFFLFdBQW1COztRQUM1RSxJQUFJLE9BQU8sR0FBYSxNQUFNLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN0RCxJQUFJLFFBQVEsR0FBVyxDQUFDLENBQUM7UUFDekIsT0FBTyxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLFdBQVcsQ0FBQyxFQUFFO1lBQ3RFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLDZDQUE2QyxVQUFVLENBQUMsRUFBRSxhQUFhLFFBQVEsT0FBTyxXQUFXLElBQUksQ0FBQyxDQUFDO1lBQzdJLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLFFBQVEsRUFBRSxDQUFDO1lBQ1gsT0FBTyxHQUFHLE1BQU0sVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFDO1NBQzNDO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztDQUFBO0FBRUQ7Ozs7S0FJSztBQUNMLFNBQWUsSUFBSSxDQUFDLEtBQWE7O1FBQzdCLE9BQU8sSUFBSSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDOUQsQ0FBQztDQUFBO0FBRUQsS0FBSyxDQUFDLEVBQUUsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLFNBQW9CLEVBQUUsU0FBYyxFQUFFLEVBQUU7SUFDbkUsc0VBQWEsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQzdDLENBQUMsQ0FBQyxDQUFDO0FBRUgsVUFBVSxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsVUFBUyxJQUFJLEVBQUUsSUFBSSxFQUFFLE9BQU87SUFDOUQsYUFBYTtJQUNiLE9BQU8sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckUsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tb2R1bGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0l0ZW1SZWNpcGVUYWJ9IGZyb20gXCIuL2ludGVyZmFjZS9JdGVtUmVjaXBlVGFiXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuL2NvcmUvQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUZsYWdzLCBGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vY29yZS9GYWJyaWNhdGVGbGFnc1wiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4vY29yZS9SZWNpcGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnl9IGZyb20gXCIuL3N5c3RlbXMvQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeVwiO1xyXG5cclxuSG9va3Mub25jZSgncmVhZHknLCBsb2FkQ3JhZnRpbmdTeXN0ZW1zKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDcmFmdGluZ1N5c3RlbXMoKSB7XHJcbiAgICBsZXQgc3lzdGVtU3BlY2lmaWNhdGlvbnMgPSBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LnN5c3RlbVNwZWNpZmljYXRpb25zO1xyXG4gICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgTG9hZGluZyAke3N5c3RlbVNwZWNpZmljYXRpb25zLmxlbmd0aH0gY3JhZnRpbmcgc3lzdGVtcy4gYCk7XHJcbiAgICBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5mb3JFYWNoKGxvYWRDcmFmdGluZ1N5c3RlbSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkcyBhIHNpbmdsZSBDcmFmdGluZyBTeXN0ZW0gZnJvbSBhIFN5c3RlbSBTcGVjaWZpY2F0aW9uLCB3aGljaCBtdXN0IGluY2x1ZGUgYSBDb21wZW5kaXVtIFBhY2sgS2V5LiBJdGVtIGRhdGEgZnJvbVxyXG4gKiB0aGUgQ29tcGVuZGl1bSBQYWNrIGlzIHVzZWQgdG8gbG9hZCB0aGUgUmVjaXBlcyBhbmQgQ3JhZnRpbmcgQ29tcG9uZW50cyBpbnRvIHRoZSBzeXN0ZW0gZnJvbSB0aGUgY29tcGVuZGl1bS4gVGhlXHJcbiAqIEZhYnJpY2F0b3IsIHN1cHBvcnRlZCBzeXN0ZW1zIGFuZCBuYW1lIHByb3ZpZGVkIGluIHRoZSBzcGVjIGFyZSBhbGwgcHJlc2VydmVkXHJcbiAqXHJcbiAqIEBwYXJhbSBzeXN0ZW1TcGVjIEEgcGFydGlhbGx5IHBvcHVsYXRlZCBgQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcmAgdG8gd2hpY2ggdGhlIFJlY2lwZXMgYW5kIENvbXBvbmVudHMgd2lsbCBiZSBhZGRlZFxyXG4gKiBvbmNlIGltcG9ydGVkIGZyb20gdGhlIENvbXBlbmRpdW0uIE11c3Qgc3BlY2lmeSBhIENvbXBlbmRpdW0gUGFjayBLZXkuXHJcbiAqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDcmFmdGluZ1N5c3RlbShzeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkaW5nICR7c3lzdGVtU3BlYy5uYW1lfSBmcm9tIENvbXBlbmRpdW0gcGFjayAke3N5c3RlbVNwZWMuY29tcGVuZGl1bVBhY2tLZXl9LiBgKTtcclxuICAgIGxldCBzeXN0ZW1QYWNrOiBDb21wZW5kaXVtID0gZ2FtZS5wYWNrcy5nZXQoc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSlcclxuICAgIGxldCBjb250ZW50ID0gYXdhaXQgbG9hZENvbXBlbmRpdW1Db250ZW50KHN5c3RlbVBhY2ssIDEwKTtcclxuICAgIGNvbnRlbnQuZm9yRWFjaCgoaXRlbTogRW50aXR5KSA9PiB7XHJcbiAgICAgICAgbGV0IGl0ZW1Db25maWc6IEZhYnJpY2F0ZUZsYWdzID0gaXRlbS5kYXRhLmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICBzd2l0Y2ggKGl0ZW1Db25maWcudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVDpcclxuICAgICAgICAgICAgICAgIHN5c3RlbVNwZWMud2l0aENvbXBvbmVudChDcmFmdGluZ0NvbXBvbmVudC5mcm9tRmxhZ3MoaXRlbUNvbmZpZykpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFOlxyXG4gICAgICAgICAgICAgICAgc3lzdGVtU3BlYy53aXRoUmVjaXBlKFJlY2lwZS5mcm9tRmxhZ3MoaXRlbUNvbmZpZykpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgVW5hYmxlIHRvIGxvYWQgaXRlbSAke2l0ZW0uaWR9LiBDb3VsZCBub3QgZGV0ZXJtaW5lIEZhYnJpY2F0ZSBFbnRpdHkgVHlwZS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBsZXQgc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSA9IHN5c3RlbVNwZWMuYnVpbGQoKTtcclxuICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkucmVnaXN0ZXIoc3lzdGVtKTtcclxuICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IExvYWRlZCAke3N5c3RlbVNwZWMubmFtZX0uIGApO1xyXG59XHJcblxyXG4vKipcclxuICogRmFsbGJhY2sgYXdhaXRlciBmb3IgbG9hZGluZyBjb21wZW5kaXVtIGNvbnRlbnQsIGFzIHRoaXMgd2FzIG9ic2VydmVkIHRvIGJlIHVucmVsaWFibGUgZHVyaW5nIGRldmVsb3BtZW50IGFmdGVyIHRoZVxyXG4gKiBnYW1lICdyZWFkeScgSG9vayB3YXMgZmlyZWRcclxuICpcclxuICogQHBhcmFtIGNvbXBlbmRpdW0gVGhlIENvbXBlbmRpdW0gZnJvbSB3aGljaCB0byByZWxpYWJseSBsb2FkIHRoZSBDb250ZW50XHJcbiAqIEBwYXJhbSBtYXhBdHRlbXB0cyBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gYXR0ZW1wdCBsb2FkaW5nIENvbXBlbmRpdW0gQ29udGVudFxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ29tcGVuZGl1bUNvbnRlbnQoY29tcGVuZGl1bTogQ29tcGVuZGl1bSwgbWF4QXR0ZW1wdHM6IG51bWJlcik6IFByb21pc2U8RW50aXR5PHt9PltdPiB7XHJcbiAgICBsZXQgY29udGVudDogRW50aXR5W10gPSBhd2FpdCBjb21wZW5kaXVtLmdldENvbnRlbnQoKTtcclxuICAgIGxldCBhdHRlbXB0czogbnVtYmVyID0gMDtcclxuICAgIHdoaWxlICgoIWNvbnRlbnQgfHwgKGNvbnRlbnQubGVuZ3RoID09PSAwKSkgJiYgKGF0dGVtcHRzIDw9IG1heEF0dGVtcHRzKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IFdhaXRpbmcgZm9yIGNvbnRlbnQgaW4gQ29tcGVuZGl1bSBQYWNrICR7Y29tcGVuZGl1bS5pZH0gKEF0dGVtcHQgJHthdHRlbXB0c30gb2YgJHttYXhBdHRlbXB0c30uIGApO1xyXG4gICAgICAgIGF3YWl0IHdhaXQoMTAwMCk7XHJcbiAgICAgICAgYXR0ZW1wdHMrKztcclxuICAgICAgICBjb250ZW50ID0gYXdhaXQgY29tcGVuZGl1bS5nZXRDb250ZW50KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSBhc3luYyBhd2FpdGVyIGRlbGF5IGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSBkZWxheSBUaGUgbnVtYmVyIG9mIG1pbGxpcyB0byB3YWl0IGJlZm9yZSByZXNvbHZpbmdcclxuICogQHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSBkZWxheSBwZXJpb2QgaGFzIGVsYXBzZWRcclxuICogKi9cclxuYXN5bmMgZnVuY3Rpb24gd2FpdChkZWxheTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XHJcbn1cclxuXHJcbkhvb2tzLm9uKCdyZW5kZXJJdGVtU2hlZXQ1ZScsIChzaGVldERhdGE6IEl0ZW1TaGVldCwgc2hlZXRIdG1sOiBhbnkpID0+IHtcclxuICAgIEl0ZW1SZWNpcGVUYWIuYmluZChzaGVldERhdGEsIHNoZWV0SHRtbCk7XHJcbn0pO1xyXG5cclxuSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZFcXVhbHMnLCBmdW5jdGlvbihhcmcxLCBhcmcyLCBvcHRpb25zKSB7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICByZXR1cm4gKGFyZzEgPT0gYXJnMikgPyBvcHRpb25zLmZuKHRoaXMpIDogb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xyXG59KTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/module.ts\n");

/***/ }),

/***/ "./src/scripts/systems/CraftingSystemRegistry.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/systems/CraftingSystemRegistry.ts ***!
  \*******************************************************/
/*! exports provided: CraftingSystemRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystemRegistry\", function() { return CraftingSystemRegistry; });\n/* harmony import */ var _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CraftingSystem */ \"./src/scripts/core/CraftingSystem.ts\");\n/* harmony import */ var _core_Fabricator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Fabricator */ \"./src/scripts/core/Fabricator.ts\");\n\r\n\r\nclass CraftingSystemRegistry {\r\n    constructor() {\r\n        if (CraftingSystemRegistry.instance) {\r\n            throw new Error('CraftingSystemRegistry is a singleton. Use `CraftingSystemRegistry.getInstance()` instead. ');\r\n        }\r\n    }\r\n    static getInstance() {\r\n        return CraftingSystemRegistry.instance;\r\n    }\r\n    static register(system) {\r\n        CraftingSystemRegistry.craftingSystemsByCompendiumKey.set(system.compendiumPackKey, system);\r\n        CraftingSystemRegistry.resolveRecipesForSystem(system);\r\n    }\r\n    static resolveRecipesForSystem(system) {\r\n        system.recipes.forEach((recipe) => {\r\n            CraftingSystemRegistry.craftingSystemsByRecipeId.set(recipe.itemId, system);\r\n        });\r\n    }\r\n    static getSystemByCompendiumPackKey(id) {\r\n        if (CraftingSystemRegistry.craftingSystemsByCompendiumKey.has(id)) {\r\n            return CraftingSystemRegistry.craftingSystemsByCompendiumKey.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Compendium Pack Key ${id}. `);\r\n    }\r\n    static getSystemByRecipeId(id) {\r\n        if (CraftingSystemRegistry.craftingSystemsByRecipeId.has(id)) {\r\n            return CraftingSystemRegistry.craftingSystemsByRecipeId.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Recipe ${id}. `);\r\n    }\r\n    static get systemSpecifications() {\r\n        return this._systemSpecifications;\r\n    }\r\n    static declareSpecification(spec) {\r\n        CraftingSystemRegistry._systemSpecifications.push(spec);\r\n    }\r\n}\r\nCraftingSystemRegistry.instance = new CraftingSystemRegistry();\r\nCraftingSystemRegistry.craftingSystemsByCompendiumKey = new Map();\r\nCraftingSystemRegistry.craftingSystemsByRecipeId = new Map();\r\nCraftingSystemRegistry._systemSpecifications = [];\r\nconst testSystemSpec = _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__[\"CraftingSystem\"].builder()\r\n    .withName('Test System')\r\n    .withCompendiumPackKey('fabricate.fabricate-test')\r\n    .withSupportedGameSystem('dnd5e')\r\n    .withFabricator(new _core_Fabricator__WEBPACK_IMPORTED_MODULE_1__[\"DefaultFabricator\"]());\r\nCraftingSystemRegistry.declareSpecification(testSystemSpec);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9zeXN0ZW1zL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHM/ZWFlYSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRDtBQUNEO0FBR3JELE1BQU0sc0JBQXNCO0lBT3hCO1FBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxRQUFRLEVBQUU7WUFDakMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2RkFBNkYsQ0FBQyxDQUFDO1NBQ2xIO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxXQUFXO1FBQ3JCLE9BQU8sc0JBQXNCLENBQUMsUUFBUSxDQUFDO0lBQzNDLENBQUM7SUFFTSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQXNCO1FBQ3pDLHNCQUFzQixDQUFDLDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDNUYsc0JBQXNCLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVPLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxNQUFzQjtRQUN6RCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQWMsRUFBRSxFQUFFO1lBQ3RDLHNCQUFzQixDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2hGLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxFQUFTO1FBQ2hELElBQUksc0JBQXNCLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQy9ELE9BQU8sc0JBQXNCLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3hFO1FBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQywrRUFBK0UsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMzRyxDQUFDO0lBRU0sTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQVM7UUFDdkMsSUFBSSxzQkFBc0IsQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDMUQsT0FBTyxzQkFBc0IsQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDbkU7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLGtFQUFrRSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFFTSxNQUFNLEtBQUssb0JBQW9CO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDO0lBQ3RDLENBQUM7SUFFTSxNQUFNLENBQUMsb0JBQW9CLENBQUMsSUFBNEI7UUFDM0Qsc0JBQXNCLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVELENBQUM7O0FBL0NjLCtCQUFRLEdBQTJCLElBQUksc0JBQXNCLEVBQUUsQ0FBQztBQUVoRSxxREFBOEIsR0FBZ0MsSUFBSSxHQUFHLEVBQTBCLENBQUM7QUFDaEcsZ0RBQXlCLEdBQWdDLElBQUksR0FBRyxFQUEwQixDQUFDO0FBQzNGLDRDQUFxQixHQUE2QixFQUFFLENBQUM7QUE4Q3hFLE1BQU0sY0FBYyxHQUEyQixtRUFBYyxDQUFDLE9BQU8sRUFBRTtLQUNsRSxRQUFRLENBQUMsYUFBYSxDQUFDO0tBQ3ZCLHFCQUFxQixDQUFDLDBCQUEwQixDQUFDO0tBQ2pELHVCQUF1QixDQUFDLE9BQU8sQ0FBQztLQUNoQyxjQUFjLENBQUMsSUFBSSxrRUFBaUIsRUFBRSxDQUFDLENBQUM7QUFDN0Msc0JBQXNCLENBQUMsb0JBQW9CLENBQUMsY0FBYyxDQUFDLENBQUM7QUFFN0IiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9zeXN0ZW1zL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ1N5c3RlbVwiO1xyXG5pbXBvcnQge0RlZmF1bHRGYWJyaWNhdG9yfSBmcm9tIFwiLi4vY29yZS9GYWJyaWNhdG9yXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY29yZS9SZWNpcGVcIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkgPSBuZXcgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSgpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGNyYWZ0aW5nU3lzdGVtc0J5Q29tcGVuZGl1bUtleTogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPigpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JhZnRpbmdTeXN0ZW1zQnlSZWNpcGVJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPigpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3N5c3RlbVNwZWNpZmljYXRpb25zOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBpZiAoQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkgaXMgYSBzaW5nbGV0b24uIFVzZSBgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5nZXRJbnN0YW5jZSgpYCBpbnN0ZWFkLiAnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5IHtcclxuICAgICAgICByZXR1cm4gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyKHN5c3RlbTogQ3JhZnRpbmdTeXN0ZW0pOiB2b2lkIHtcclxuICAgICAgICBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5Q29tcGVuZGl1bUtleS5zZXQoc3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5LCBzeXN0ZW0pO1xyXG4gICAgICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkucmVzb2x2ZVJlY2lwZXNGb3JTeXN0ZW0oc3lzdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZXNvbHZlUmVjaXBlc0ZvclN5c3RlbShzeXN0ZW06IENyYWZ0aW5nU3lzdGVtKTogdm9pZCB7XHJcbiAgICAgICAgc3lzdGVtLnJlY2lwZXMuZm9yRWFjaCgocmVjaXBlOiBSZWNpcGUpID0+IHtcclxuICAgICAgICAgICAgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5jcmFmdGluZ1N5c3RlbXNCeVJlY2lwZUlkLnNldChyZWNpcGUuaXRlbUlkLCBzeXN0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U3lzdGVtQnlDb21wZW5kaXVtUGFja0tleShpZDpzdHJpbmcpOiBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICAgICAgaWYgKENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBDb21wZW5kaXVtIFBhY2sgS2V5ICR7aWR9LiBgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFN5c3RlbUJ5UmVjaXBlSWQoaWQ6c3RyaW5nKTogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgIGlmIChDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5UmVjaXBlSWQuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5jcmFmdGluZ1N5c3RlbXNCeVJlY2lwZUlkLmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBSZWNpcGUgJHtpZH0uIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHN5c3RlbVNwZWNpZmljYXRpb25zKCk6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N5c3RlbVNwZWNpZmljYXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVjbGFyZVNwZWNpZmljYXRpb24oc3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcikge1xyXG4gICAgICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuX3N5c3RlbVNwZWNpZmljYXRpb25zLnB1c2goc3BlYyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHRlc3RTeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyID0gQ3JhZnRpbmdTeXN0ZW0uYnVpbGRlcigpXHJcbiAgICAud2l0aE5hbWUoJ1Rlc3QgU3lzdGVtJylcclxuICAgIC53aXRoQ29tcGVuZGl1bVBhY2tLZXkoJ2ZhYnJpY2F0ZS5mYWJyaWNhdGUtdGVzdCcpXHJcbiAgICAud2l0aFN1cHBvcnRlZEdhbWVTeXN0ZW0oJ2RuZDVlJylcclxuICAgIC53aXRoRmFicmljYXRvcihuZXcgRGVmYXVsdEZhYnJpY2F0b3IoKSk7XHJcbkNyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuZGVjbGFyZVNwZWNpZmljYXRpb24odGVzdFN5c3RlbVNwZWMpO1xyXG5cclxuZXhwb3J0IHtDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5fSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/systems/CraftingSystemRegistry.ts\n");

/***/ })

/******/ });