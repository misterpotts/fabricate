/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "E:\\Projects\\Foundry Development\\dev-modules\\fabricate\\module\\scripts";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/scripts/module.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/scripts/FabricateLifecycle.ts":
/*!*******************************************!*\
  !*** ./src/scripts/FabricateLifecycle.ts ***!
  \*******************************************/
/*! exports provided: FabricateLifecycle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateLifecycle\", function() { return FabricateLifecycle; });\n/* harmony import */ var _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./interface/ItemRecipeTab */ \"./src/scripts/interface/ItemRecipeTab.ts\");\n/* harmony import */ var _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./interface/CraftingTab */ \"./src/scripts/interface/CraftingTab.ts\");\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\n/* harmony import */ var _core_EssenceType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/EssenceType */ \"./src/scripts/core/EssenceType.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass FabricateLifecycle {\r\n    static init() {\r\n        this.registerHandlebarsHelperFunctions();\r\n        this.registerItemRecipeTab();\r\n        this.registerActorCraftingTab();\r\n        this.registerApplicationListeners();\r\n    }\r\n    static registerHandlebarsHelperFunctions() {\r\n        Handlebars.registerHelper('ifEquals', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return (arg1 == arg2) ? options.fn(this) : options.inverse(this);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIcon', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return _core_EssenceType__WEBPACK_IMPORTED_MODULE_3__[\"EssenceTypeIconConverter\"].convertToIconMarkup(arg1);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIconSeries', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return _core_EssenceType__WEBPACK_IMPORTED_MODULE_3__[\"EssenceTypeIconConverter\"].convertSeriesToIconMarkup(arg1);\r\n        });\r\n    }\r\n    static registerActorCraftingTab() {\r\n        Hooks.on('renderActorSheet5e', (sheetData, sheetHtml, eventData) => {\r\n            _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__[\"CraftingTab\"].bind(sheetData, sheetHtml, eventData);\r\n        });\r\n    }\r\n    static registerItemRecipeTab() {\r\n        Hooks.on('renderItemSheet5e', (sheetData, sheetHtml) => {\r\n            _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__[\"ItemRecipeTab\"].bind(sheetData, sheetHtml);\r\n        });\r\n    }\r\n    static registerApplicationListeners() {\r\n        Hooks.on('createOwnedItem', (actor) => {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n            if (inventory) {\r\n                inventory.update();\r\n            }\r\n        });\r\n        Hooks.on('deleteOwnedItem', (actor) => {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n            if (inventory) {\r\n                inventory.update();\r\n            }\r\n        });\r\n        Hooks.on('updateOwnedItem', (actor, item, update) => __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n            if (inventory) {\r\n                if (typeof update.data !== 'undefined') {\r\n                    yield inventory.updateQuantityFor(item);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    static registerCraftingSystemSettings(systemSpec) {\r\n        game.settings.register(\"fabricate\", systemSpec.compendiumPackKey + \".enabled\", {\r\n            name: systemSpec.name,\r\n            hint: systemSpec.enableHint,\r\n            scope: \"world\",\r\n            type: Boolean,\r\n            default: true,\r\n            config: true,\r\n            onChange: (enabled) => { _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].getSystemByCompendiumPackKey(systemSpec.compendiumPackKey).enabled = enabled; }\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9GYWJyaWNhdGVMaWZlY3ljbGUudHM/ZDQxMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQ0o7QUFDYTtBQUVMO0FBRWU7QUFFM0UsTUFBTSxrQkFBa0I7SUFFYixNQUFNLENBQUMsSUFBSTtRQUNkLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtJQUN2QyxDQUFDO0lBRU8sTUFBTSxDQUFDLGlDQUFpQztRQUU1QyxVQUFVLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxVQUFTLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTztZQUM5RCxhQUFhO1lBQ2IsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyRSxDQUFDLENBQUMsQ0FBQztRQUVILGFBQWE7UUFDYixVQUFVLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRSxVQUFTLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTztZQUNqRSxhQUFhO1lBQ2IsT0FBTywwRUFBd0IsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxDQUFDLENBQUMsQ0FBQztRQUVILGFBQWE7UUFDYixVQUFVLENBQUMsY0FBYyxDQUFDLG1CQUFtQixFQUFFLFVBQVMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPO1lBQ3ZFLGFBQWE7WUFDYixPQUFPLDBFQUF3QixDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLE1BQU0sQ0FBQyx3QkFBd0I7UUFFbkMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFNBQW9CLEVBQUUsU0FBYyxFQUFFLFNBQWMsRUFBRSxFQUFFO1lBQ3BGLGtFQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sTUFBTSxDQUFDLHFCQUFxQjtRQUVoQyxLQUFLLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLENBQUMsU0FBb0IsRUFBRSxTQUFjLEVBQUUsRUFBRTtZQUNuRSxzRUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sTUFBTSxDQUFDLDRCQUE0QjtRQUV2QyxLQUFLLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUMsS0FBVSxFQUFFLEVBQUU7WUFDdkMsTUFBTSxTQUFTLEdBQUcsK0VBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNyRCxJQUFJLFNBQVMsRUFBRTtnQkFDWCxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDdEI7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEtBQUssQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUN2QyxNQUFNLFNBQVMsR0FBRywrRUFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3JELElBQUksU0FBUyxFQUFFO2dCQUNYLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUN0QjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFPLEtBQVUsRUFBRSxJQUFTLEVBQUUsTUFBVyxFQUFFLEVBQUU7WUFDckUsTUFBTSxTQUFTLEdBQWMsK0VBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoRSxJQUFJLFNBQVMsRUFBRTtnQkFDWCxJQUFJLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7b0JBQ3BDLE1BQU0sU0FBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMzQzthQUNKO1FBQ0wsQ0FBQyxFQUFDLENBQUM7SUFFUCxDQUFDO0lBRU0sTUFBTSxDQUFDLDhCQUE4QixDQUFDLFVBQWtDO1FBQzNFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsaUJBQWlCLEdBQUcsVUFBVSxFQUFFO1lBQzNFLElBQUksRUFBRSxVQUFVLENBQUMsSUFBSTtZQUNyQixJQUFJLEVBQUUsVUFBVSxDQUFDLFVBQVU7WUFDM0IsS0FBSyxFQUFFLE9BQU87WUFDZCxJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxJQUFJO1lBQ2IsTUFBTSxFQUFFLElBQUk7WUFDWixRQUFRLEVBQUUsQ0FBQyxPQUFnQixFQUFFLEVBQUUsR0FBRyx5RkFBc0IsQ0FBQyw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUMzSSxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUFFMEIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9GYWJyaWNhdGVMaWZlY3ljbGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0l0ZW1SZWNpcGVUYWJ9IGZyb20gXCIuL2ludGVyZmFjZS9JdGVtUmVjaXBlVGFiXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdUYWJ9IGZyb20gXCIuL2ludGVyZmFjZS9DcmFmdGluZ1RhYlwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlZ2lzdHJ5fSBmcm9tIFwiLi9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi9jb3JlL0ludmVudG9yeVwiO1xyXG5pbXBvcnQge0Vzc2VuY2VUeXBlSWNvbkNvbnZlcnRlcn0gZnJvbSBcIi4vY29yZS9Fc3NlbmNlVHlwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0gZnJvbSBcIi4vcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5XCI7XHJcblxyXG5jbGFzcyBGYWJyaWNhdGVMaWZlY3ljbGUge1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVySGFuZGxlYmFyc0hlbHBlckZ1bmN0aW9ucygpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJJdGVtUmVjaXBlVGFiKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckFjdG9yQ3JhZnRpbmdUYWIoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVyQXBwbGljYXRpb25MaXN0ZW5lcnMoKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlZ2lzdGVySGFuZGxlYmFyc0hlbHBlckZ1bmN0aW9ucygpIHtcclxuXHJcbiAgICAgICAgSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignaWZFcXVhbHMnLCBmdW5jdGlvbihhcmcxLCBhcmcyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgcmV0dXJuIChhcmcxID09IGFyZzIpID8gb3B0aW9ucy5mbih0aGlzKSA6IG9wdGlvbnMuaW52ZXJzZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2Vzc2VuY2VJY29uJywgZnVuY3Rpb24oYXJnMSwgYXJnMiwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJldHVybiBFc3NlbmNlVHlwZUljb25Db252ZXJ0ZXIuY29udmVydFRvSWNvbk1hcmt1cChhcmcxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2Vzc2VuY2VJY29uU2VyaWVzJywgZnVuY3Rpb24oYXJnMSwgYXJnMiwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJldHVybiBFc3NlbmNlVHlwZUljb25Db252ZXJ0ZXIuY29udmVydFNlcmllc1RvSWNvbk1hcmt1cChhcmcxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJBY3RvckNyYWZ0aW5nVGFiKCkge1xyXG5cclxuICAgICAgICBIb29rcy5vbigncmVuZGVyQWN0b3JTaGVldDVlJywgKHNoZWV0RGF0YTogSXRlbVNoZWV0LCBzaGVldEh0bWw6IGFueSwgZXZlbnREYXRhOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgQ3JhZnRpbmdUYWIuYmluZChzaGVldERhdGEsIHNoZWV0SHRtbCwgZXZlbnREYXRhKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVnaXN0ZXJJdGVtUmVjaXBlVGFiKCkge1xyXG5cclxuICAgICAgICBIb29rcy5vbigncmVuZGVySXRlbVNoZWV0NWUnLCAoc2hlZXREYXRhOiBJdGVtU2hlZXQsIHNoZWV0SHRtbDogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIEl0ZW1SZWNpcGVUYWIuYmluZChzaGVldERhdGEsIHNoZWV0SHRtbCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlZ2lzdGVyQXBwbGljYXRpb25MaXN0ZW5lcnMoKSB7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCdjcmVhdGVPd25lZEl0ZW0nLCAoYWN0b3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnkgPSBJbnZlbnRvcnlSZWdpc3RyeS5nZXRGb3IoYWN0b3IuaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW52ZW50b3J5KSB7XHJcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnkudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgSG9va3Mub24oJ2RlbGV0ZU93bmVkSXRlbScsIChhY3RvcjogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeSA9IEludmVudG9yeVJlZ2lzdHJ5LmdldEZvcihhY3Rvci5pZCk7XHJcbiAgICAgICAgICAgIGlmIChpbnZlbnRvcnkpIHtcclxuICAgICAgICAgICAgICAgIGludmVudG9yeS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBIb29rcy5vbigndXBkYXRlT3duZWRJdGVtJywgYXN5bmMgKGFjdG9yOiBhbnksIGl0ZW06IGFueSwgdXBkYXRlOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5OiBJbnZlbnRvcnkgPSBJbnZlbnRvcnlSZWdpc3RyeS5nZXRGb3IoYWN0b3IuaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW52ZW50b3J5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZS5kYXRhICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGludmVudG9yeS51cGRhdGVRdWFudGl0eUZvcihpdGVtKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyQ3JhZnRpbmdTeXN0ZW1TZXR0aW5ncyhzeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKSB7XHJcbiAgICAgICAgZ2FtZS5zZXR0aW5ncy5yZWdpc3RlcihcImZhYnJpY2F0ZVwiLCBzeXN0ZW1TcGVjLmNvbXBlbmRpdW1QYWNrS2V5ICsgXCIuZW5hYmxlZFwiLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IHN5c3RlbVNwZWMubmFtZSxcclxuICAgICAgICAgICAgaGludDogc3lzdGVtU3BlYy5lbmFibGVIaW50LFxyXG4gICAgICAgICAgICBzY29wZTogXCJ3b3JsZFwiLFxyXG4gICAgICAgICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiB0cnVlLFxyXG4gICAgICAgICAgICBjb25maWc6IHRydWUsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAoZW5hYmxlZDogYm9vbGVhbikgPT4geyBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSkuZW5hYmxlZCA9IGVuYWJsZWQ7IH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtGYWJyaWNhdGVMaWZlY3ljbGV9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/FabricateLifecycle.ts\n");

/***/ }),

/***/ "./src/scripts/FabricationHelper.ts":
/*!******************************************!*\
  !*** ./src/scripts/FabricationHelper.ts ***!
  \******************************************/
/*! exports provided: FabricationHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricationHelper\", function() { return FabricationHelper; });\n/* harmony import */ var _core_CraftingResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n\r\nclass FabricationHelper {\r\n    static asCraftingResults(components, action) {\r\n        const componentsById = new Map();\r\n        components.forEach((component) => {\r\n            const identicalComponents = componentsById.get(component.compendiumEntry.entryId);\r\n            if (!identicalComponents) {\r\n                componentsById.set(component.compendiumEntry.entryId, [component]);\r\n            }\r\n            else {\r\n                identicalComponents.push(component);\r\n            }\r\n        });\r\n        if (Object.keys(componentsById).length === components.length) {\r\n            return components.map((component) => {\r\n                return _core_CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                    .withItem(component)\r\n                    .withQuantity(1)\r\n                    .withAction(action)\r\n                    .build();\r\n            });\r\n        }\r\n        const results = [];\r\n        componentsById.forEach((componentsOfType) => {\r\n            const craftingResult = _core_CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(componentsOfType[0])\r\n                .withQuantity(componentsOfType.length)\r\n                .withAction(action)\r\n                .build();\r\n            results.push(craftingResult);\r\n        });\r\n        return results;\r\n    }\r\n    ;\r\n    static essenceCombinationIdentity(essences, essenceIdentities) {\r\n        return essences.map((essence) => essenceIdentities.get(essence))\r\n            .reduce((left, right) => left * right);\r\n    }\r\n    static assignEssenceIdentities(essences) {\r\n        const uniqueEssences = essences.filter((essence, index, collection) => collection.indexOf(essence) === index);\r\n        const primes = this.generatePrimes(uniqueEssences.length);\r\n        const essenceIdentities = new Map();\r\n        uniqueEssences.forEach((value, index) => essenceIdentities.set(value, primes[index]));\r\n        return essenceIdentities;\r\n    }\r\n    static generatePrimes(quantity) {\r\n        if (quantity <= FabricationHelper.primes.length) {\r\n            return FabricationHelper.primes.slice(0, quantity);\r\n        }\r\n        let candidate = 98;\r\n        while (FabricationHelper.primes.length < quantity) {\r\n            if (FabricationHelper.primes.every((p) => candidate % p)) {\r\n                FabricationHelper.primes.push(candidate);\r\n            }\r\n            candidate++;\r\n        }\r\n        return FabricationHelper.primes;\r\n    }\r\n    static combinationHistogram(components) {\r\n        const combinations = [];\r\n        const iterations = Math.pow(2, components.length);\r\n        for (let i = 0; i < iterations; i++) {\r\n            const combination = [];\r\n            for (let j = 0; j < components.length; j++) {\r\n                if (i & Math.pow(2, j)) {\r\n                    combination.push(components[j]);\r\n                }\r\n            }\r\n            if (combination.length > 0) {\r\n                combinations.push(combination);\r\n            }\r\n        }\r\n        return combinations.sort((left, right) => left.length - right.length);\r\n    }\r\n}\r\nFabricationHelper.primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97];\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9GYWJyaWNhdGlvbkhlbHBlci50cz8wNjJmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFxRDtBQUVyRCxNQUFNLGlCQUFpQjtJQUlaLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxVQUErQixFQUFFLE1BQWtCO1FBQy9FLE1BQU0sY0FBYyxHQUFxQyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ25FLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUU7WUFDaEQsTUFBTSxtQkFBbUIsR0FBd0IsY0FBYyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ3ZHLElBQUksQ0FBQyxtQkFBbUIsRUFBRTtnQkFDdEIsY0FBYyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7YUFDdEU7aUJBQU07Z0JBQ0gsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ3ZDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsTUFBTSxLQUFLLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDMUQsT0FBTyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBNEIsRUFBRSxFQUFFO2dCQUNuRCxPQUFPLG1FQUFjLENBQUMsT0FBTyxFQUFFO3FCQUMxQixRQUFRLENBQUMsU0FBUyxDQUFDO3FCQUNuQixZQUFZLENBQUMsQ0FBQyxDQUFDO3FCQUNmLFVBQVUsQ0FBQyxNQUFNLENBQUM7cUJBQ2xCLEtBQUssRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDO1NBQ047UUFDRCxNQUFNLE9BQU8sR0FBcUIsRUFBRSxDQUFDO1FBQ3JDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBcUMsRUFBRSxFQUFFO1lBQzdELE1BQU0sY0FBYyxHQUFHLG1FQUFjLENBQUMsT0FBTyxFQUFFO2lCQUMxQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUM7aUJBQzdCLFlBQVksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUM7aUJBQ3JDLFVBQVUsQ0FBQyxNQUFNLENBQUM7aUJBQ2xCLEtBQUssRUFBRSxDQUFDO1lBQ2IsT0FBTyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNqQyxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFBQSxDQUFDO0lBRUssTUFBTSxDQUFDLDBCQUEwQixDQUFDLFFBQWtCLEVBQUUsaUJBQXNDO1FBQy9GLE9BQU8sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2FBQ25FLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sTUFBTSxDQUFDLHVCQUF1QixDQUFDLFFBQWtCO1FBQ3BELE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFlLEVBQUUsS0FBYSxFQUFFLFVBQW9CLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssS0FBSyxDQUFDLENBQUM7UUFDeEksTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDMUQsTUFBTSxpQkFBaUIsR0FBd0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUN6RCxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RGLE9BQU8saUJBQWlCLENBQUM7SUFDN0IsQ0FBQztJQUVNLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBZ0I7UUFDekMsSUFBSSxRQUFRLElBQUksaUJBQWlCLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRTtZQUM3QyxPQUFPLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1NBQ3REO1FBQ0QsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ25CLE9BQU8saUJBQWlCLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxRQUFRLEVBQUU7WUFDL0MsSUFBSSxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3RELGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDNUM7WUFDRCxTQUFTLEVBQUUsQ0FBQztTQUNmO1FBQ0QsT0FBTyxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7SUFDcEMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxVQUFnQztRQUMvRCxNQUFNLFlBQVksR0FBMEIsRUFBRSxDQUFDO1FBQy9DLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVsRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2pDLE1BQU0sV0FBVyxHQUF3QixFQUFFLENBQUM7WUFDNUMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQ3hDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO29CQUNwQixXQUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNuQzthQUNKO1lBQ0QsSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDeEIsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUNsQztTQUNKO1FBQ0QsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDMUUsQ0FBQzs7QUE1RXVCLHdCQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQWdGNUciLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9GYWJyaWNhdGlvbkhlbHBlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL2NvcmUvQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtBY3Rpb25UeXBlfSBmcm9tIFwiLi9jb3JlL0FjdGlvblR5cGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1Jlc3VsdH0gZnJvbSBcIi4vY29yZS9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5cclxuY2xhc3MgRmFicmljYXRpb25IZWxwZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHByaW1lcyA9IFsyLCAzLCA1LCA3LCAxMSwgMTMsIDE3LCAxOSwgMjMsIDI5LCAzMSwgMzcsIDQxLCA0MywgNDcsIDUzLCA1OSwgNjEsIDY3LCA3MSwgNzMsIDc5LCA4MywgODksIDk3XTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFzQ3JhZnRpbmdSZXN1bHRzKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10sIGFjdGlvbjogQWN0aW9uVHlwZSk6IENyYWZ0aW5nUmVzdWx0W10ge1xyXG4gICAgICAgIGNvbnN0IGNvbXBvbmVudHNCeUlkOiBNYXA8c3RyaW5nLCBDcmFmdGluZ0NvbXBvbmVudFtdPiA9IG5ldyBNYXAoKTtcclxuICAgICAgICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaWRlbnRpY2FsQ29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSA9IGNvbXBvbmVudHNCeUlkLmdldChjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpO1xyXG4gICAgICAgICAgICBpZiAoIWlkZW50aWNhbENvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNCeUlkLnNldChjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQsIFtjb21wb25lbnRdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlkZW50aWNhbENvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbXBvbmVudHNCeUlkKS5sZW5ndGggPT09IGNvbXBvbmVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nUmVzdWx0LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoSXRlbShjb21wb25lbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhRdWFudGl0eSgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQWN0aW9uKGFjdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdHM6IENyYWZ0aW5nUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBjb21wb25lbnRzQnlJZC5mb3JFYWNoKChjb21wb25lbnRzT2ZUeXBlOiBDcmFmdGluZ0NvbXBvbmVudFtdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nUmVzdWx0ID0gQ3JhZnRpbmdSZXN1bHQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aEl0ZW0oY29tcG9uZW50c09mVHlwZVswXSlcclxuICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoY29tcG9uZW50c09mVHlwZS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAud2l0aEFjdGlvbihhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGNyYWZ0aW5nUmVzdWx0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0cztcclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBlc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eShlc3NlbmNlczogc3RyaW5nW10sIGVzc2VuY2VJZGVudGl0aWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+KTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gZXNzZW5jZXMubWFwKChlc3NlbmNlOiBzdHJpbmcpID0+IGVzc2VuY2VJZGVudGl0aWVzLmdldChlc3NlbmNlKSlcclxuICAgICAgICAgICAgLnJlZHVjZSgobGVmdCwgcmlnaHQpID0+IGxlZnQgKiByaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhc3NpZ25Fc3NlbmNlSWRlbnRpdGllcyhlc3NlbmNlczogc3RyaW5nW10pOiBNYXA8c3RyaW5nLCBudW1iZXI+IHtcclxuICAgICAgICBjb25zdCB1bmlxdWVFc3NlbmNlcyA9IGVzc2VuY2VzLmZpbHRlcigoZXNzZW5jZTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBjb2xsZWN0aW9uOiBzdHJpbmdbXSkgPT4gY29sbGVjdGlvbi5pbmRleE9mKGVzc2VuY2UpID09PSBpbmRleCk7XHJcbiAgICAgICAgY29uc3QgcHJpbWVzID0gdGhpcy5nZW5lcmF0ZVByaW1lcyh1bmlxdWVFc3NlbmNlcy5sZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VJZGVudGl0aWVzOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHVuaXF1ZUVzc2VuY2VzLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4gZXNzZW5jZUlkZW50aXRpZXMuc2V0KHZhbHVlLCBwcmltZXNbaW5kZXhdKSk7XHJcbiAgICAgICAgcmV0dXJuIGVzc2VuY2VJZGVudGl0aWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2VuZXJhdGVQcmltZXMocXVhbnRpdHk6IG51bWJlcik6IG51bWJlcltdIHtcclxuICAgICAgICBpZiAocXVhbnRpdHkgPD0gRmFicmljYXRpb25IZWxwZXIucHJpbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gRmFicmljYXRpb25IZWxwZXIucHJpbWVzLnNsaWNlKDAsIHF1YW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNhbmRpZGF0ZSA9IDk4O1xyXG4gICAgICAgIHdoaWxlIChGYWJyaWNhdGlvbkhlbHBlci5wcmltZXMubGVuZ3RoIDwgcXVhbnRpdHkpIHtcclxuICAgICAgICAgICAgaWYgKEZhYnJpY2F0aW9uSGVscGVyLnByaW1lcy5ldmVyeSgocCkgPT4gY2FuZGlkYXRlICUgcCkpIHtcclxuICAgICAgICAgICAgICAgIEZhYnJpY2F0aW9uSGVscGVyLnByaW1lcy5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FuZGlkYXRlKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGlvbkhlbHBlci5wcmltZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb21iaW5hdGlvbkhpc3RvZ3JhbShjb21wb25lbnRzOiAgQ3JhZnRpbmdDb21wb25lbnRbXSk6IENyYWZ0aW5nQ29tcG9uZW50W11bXSB7XHJcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25zOiBDcmFmdGluZ0NvbXBvbmVudFtdW10gPSBbXTtcclxuICAgICAgICBjb25zdCBpdGVyYXRpb25zID0gTWF0aC5wb3coMiwgY29tcG9uZW50cy5sZW5ndGgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb21iaW5hdGlvbjogQ3JhZnRpbmdDb21wb25lbnRbXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbXBvbmVudHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICYgTWF0aC5wb3coMiwgaikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21iaW5hdGlvbi5wdXNoKGNvbXBvbmVudHNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb21iaW5hdGlvbi5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb21iaW5hdGlvbnMucHVzaChjb21iaW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9ucy5zb3J0KChsZWZ0LCByaWdodCkgPT4gbGVmdC5sZW5ndGggLSByaWdodC5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtGYWJyaWNhdGlvbkhlbHBlcn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/FabricationHelper.ts\n");

/***/ }),

/***/ "./src/scripts/Properties.ts":
/*!***********************************!*\
  !*** ./src/scripts/Properties.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core/CompendiumData */ \"./src/scripts/core/CompendiumData.ts\");\n\r\nconst Properties = {\r\n    module: {\r\n        name: 'fabricate',\r\n        label: 'Fabricate',\r\n        templates: {\r\n            recipeTab: 'modules/fabricate/templates/recipe-tab.html',\r\n            craftingTab: 'modules/fabricate/templates/crafting-tab.html'\r\n        }\r\n    },\r\n    types: {\r\n        recipe: _core_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].RECIPE,\r\n        component: _core_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT,\r\n        allowableItems: ['consumable', 'loot']\r\n    }\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Properties);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzPzkwMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF3RDtBQUV4RCxNQUFNLFVBQVUsR0FBRztJQUNmLE1BQU0sRUFBRTtRQUNKLElBQUksRUFBRSxXQUFXO1FBQ2pCLEtBQUssRUFBRSxXQUFXO1FBQ2xCLFNBQVMsRUFBRTtZQUNQLFNBQVMsRUFBRSw2Q0FBNkM7WUFDeEQsV0FBVyxFQUFFLCtDQUErQztTQUMvRDtLQUNKO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsTUFBTSxFQUFFLHNFQUFpQixDQUFDLE1BQU07UUFDaEMsU0FBUyxFQUFFLHNFQUFpQixDQUFDLFNBQVM7UUFDdEMsY0FBYyxFQUFFLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQztLQUN6QztDQUNKLENBQUM7QUFFYSx5RUFBVSxFQUFDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvUHJvcGVydGllcy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuL2NvcmUvQ29tcGVuZGl1bURhdGFcIjtcclxuXHJcbmNvbnN0IFByb3BlcnRpZXMgPSB7XHJcbiAgICBtb2R1bGU6IHtcclxuICAgICAgICBuYW1lOiAnZmFicmljYXRlJyxcclxuICAgICAgICBsYWJlbDogJ0ZhYnJpY2F0ZScsXHJcbiAgICAgICAgdGVtcGxhdGVzOiB7XHJcbiAgICAgICAgICAgIHJlY2lwZVRhYjogJ21vZHVsZXMvZmFicmljYXRlL3RlbXBsYXRlcy9yZWNpcGUtdGFiLmh0bWwnLFxyXG4gICAgICAgICAgICBjcmFmdGluZ1RhYjogJ21vZHVsZXMvZmFicmljYXRlL3RlbXBsYXRlcy9jcmFmdGluZy10YWIuaHRtbCdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdHlwZXM6IHtcclxuICAgICAgICByZWNpcGU6IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSxcclxuICAgICAgICBjb21wb25lbnQ6IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVCxcclxuICAgICAgICBhbGxvd2FibGVJdGVtczogWydjb25zdW1hYmxlJywgJ2xvb3QnXVxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgUHJvcGVydGllczsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/Properties.ts\n");

/***/ }),

/***/ "./src/scripts/core/ActionType.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/ActionType.ts ***!
  \****************************************/
/*! exports provided: ActionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionType\", function() { return ActionType; });\nvar ActionType;\r\n(function (ActionType) {\r\n    ActionType[\"ADD\"] = \"ADD\";\r\n    ActionType[\"REMOVE\"] = \"REMOVE\";\r\n})(ActionType || (ActionType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0FjdGlvblR5cGUudHM/NGFiZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsSUFBWSxVQUdYO0FBSEQsV0FBWSxVQUFVO0lBQ2xCLHlCQUFXO0lBQ1gsK0JBQWlCO0FBQ3JCLENBQUMsRUFIVyxVQUFVLEtBQVYsVUFBVSxRQUdyQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQWN0aW9uVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEFjdGlvblR5cGUge1xyXG4gICAgQUREID0gJ0FERCcsXHJcbiAgICBSRU1PVkUgPSAnUkVNT1ZFJ1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/ActionType.ts\n");

/***/ }),

/***/ "./src/scripts/core/CompendiumData.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CompendiumData.ts ***!
  \********************************************/
/*! exports provided: FabricateItemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateItemType\", function() { return FabricateItemType; });\nvar FabricateItemType;\r\n(function (FabricateItemType) {\r\n    FabricateItemType[\"RECIPE\"] = \"RECIPE\";\r\n    FabricateItemType[\"COMPONENT\"] = \"COMPONENT\";\r\n})(FabricateItemType || (FabricateItemType = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NvbXBlbmRpdW1EYXRhLnRzP2M3Y2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBLElBQUssaUJBR0o7QUFIRCxXQUFLLGlCQUFpQjtJQUNsQixzQ0FBaUI7SUFDakIsNENBQXVCO0FBQzNCLENBQUMsRUFISSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBR3JCO0FBcUM0SSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQ29tcGVuZGl1bURhdGEudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuL0FjdGlvblR5cGVcIjtcclxuXHJcbmVudW0gRmFicmljYXRlSXRlbVR5cGUge1xyXG4gICAgUkVDSVBFID0gJ1JFQ0lQRScsXHJcbiAgICBDT01QT05FTlQgPSAnQ09NUE9ORU5UJ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGVuZGl1bUVudHJ5IHtcclxuICAgIGNvbXBlbmRpdW1LZXk6IHN0cmluZyxcclxuICAgIGVudHJ5SWQ6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRmFicmljYXRlQ29tcG9uZW50RmxhZ3Mge1xyXG4gICAgbmFtZTogc3RyaW5nLFxyXG4gICAgZXNzZW5jZXM6IHN0cmluZ1tdO1xyXG4gICAgY29tcGVuZGl1bUVudHJ5OiBDb21wZW5kaXVtRW50cnlcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZUluZ3JlZGllbnRGbGFncyB7XHJcbiAgICBxdWFudGl0eTogbnVtYmVyLFxyXG4gICAgY29uc3VtZWQ6IGJvb2xlYW4sXHJcbiAgICBjb21wb25lbnRUeXBlOiBGYWJyaWNhdGVDb21wb25lbnRGbGFnc1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRmFicmljYXRlUmVzdWx0RmxhZ3Mge1xyXG4gICAgYWN0aW9uOiBBY3Rpb25UeXBlLFxyXG4gICAgaXRlbTogRmFicmljYXRlQ29tcG9uZW50RmxhZ3MsXHJcbiAgICBxdWFudGl0eTogbnVtYmVyXHJcbn1cclxuXHJcbmludGVyZmFjZSBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSB7XHJcbiAgICB0eXBlOiBGYWJyaWNhdGVJdGVtVHlwZTtcclxuICAgIHJlY2lwZT86IHtcclxuICAgICAgICBlbnRyeUlkOiBzdHJpbmcsXHJcbiAgICAgICAgbmFtZTogc3RyaW5nLFxyXG4gICAgICAgIGVzc2VuY2VzOiBzdHJpbmdbXSxcclxuICAgICAgICBpbmdyZWRpZW50czogRmFicmljYXRlSW5ncmVkaWVudEZsYWdzW10sXHJcbiAgICAgICAgcmVzdWx0czogRmFicmljYXRlUmVzdWx0RmxhZ3NbXVxyXG4gICAgfTtcclxuICAgIGNvbXBvbmVudD86IEZhYnJpY2F0ZUNvbXBvbmVudEZsYWdzO1xyXG59XHJcblxyXG5leHBvcnQge0ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBGYWJyaWNhdGVJdGVtVHlwZSwgRmFicmljYXRlSW5ncmVkaWVudEZsYWdzLCBGYWJyaWNhdGVSZXN1bHRGbGFncywgRmFicmljYXRlQ29tcG9uZW50RmxhZ3MsIENvbXBlbmRpdW1FbnRyeX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/CompendiumData.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingComponent.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/CraftingComponent.ts ***!
  \***********************************************/
/*! exports provided: CraftingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingComponent\", function() { return CraftingComponent; });\n/* harmony import */ var _CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CompendiumData */ \"./src/scripts/core/CompendiumData.ts\");\n\r\nclass CompendiumEntry {\r\n    constructor(compendiumKey, entryId) {\r\n        this._compendiumKey = compendiumKey;\r\n        this._entryId = entryId;\r\n    }\r\n    get compendiumKey() {\r\n        return this._compendiumKey;\r\n    }\r\n    get entryId() {\r\n        return this._entryId;\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return (this.entryId === other.entryId)\r\n            && (this.compendiumKey === other.compendiumKey);\r\n    }\r\n    isValid() {\r\n        return (this.entryId != null && this.entryId.length > 0)\r\n            && (this.compendiumKey != null && this.compendiumKey.length > 0);\r\n    }\r\n}\r\nclass CraftingComponent {\r\n    constructor(builder) {\r\n        this._name = builder.name;\r\n        this._compendiumEntry = builder.compendiumEntry;\r\n        this._essences = builder.essences;\r\n        this._imageUrl = builder.imageUrl;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get compendiumEntry() {\r\n        return this._compendiumEntry;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    get imageUrl() {\r\n        return this._imageUrl;\r\n    }\r\n    set imageUrl(imageUrl) {\r\n        this._imageUrl = imageUrl;\r\n    }\r\n    static builder() {\r\n        return new CraftingComponent.Builder();\r\n    }\r\n    static fromFlags(fabricateFlags, imageUrl) {\r\n        if (fabricateFlags.type !== _CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Crafting Component from ${fabricateFlags.type} data. `);\r\n        }\r\n        const compendiumEntryConfig = fabricateFlags.component.compendiumEntry;\r\n        const builder = CraftingComponent.builder()\r\n            .withName(fabricateFlags.component.name)\r\n            .withCompendiumEntry(compendiumEntryConfig.compendiumKey, compendiumEntryConfig.entryId)\r\n            .withEssences(fabricateFlags.component.essences);\r\n        if (imageUrl && imageUrl.length > 0) {\r\n            builder.withImageUrl(imageUrl);\r\n        }\r\n        return builder.build();\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this._compendiumEntry.equals(other.compendiumEntry);\r\n    }\r\n    isValid() {\r\n        return (this.name != null && this.name.length > 0)\r\n            && (this.essences != null)\r\n            && this.compendiumEntry.isValid();\r\n    }\r\n}\r\n(function (CraftingComponent) {\r\n    class Builder {\r\n        constructor() {\r\n            this.essences = [];\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumEntry(key, id) {\r\n            this.compendiumEntry = new CompendiumEntry(key, id);\r\n            return this;\r\n        }\r\n        withEssences(value) {\r\n            this.essences = value;\r\n            return this;\r\n        }\r\n        withEssence(value) {\r\n            this.essences.push(value);\r\n            return this;\r\n        }\r\n        withImageUrl(value) {\r\n            this.imageUrl = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingComponent(this);\r\n        }\r\n    }\r\n    CraftingComponent.Builder = Builder;\r\n})(CraftingComponent || (CraftingComponent = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50LnRzPzlhZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQTRFO0FBRTVFLE1BQU0sZUFBZTtJQUlqQixZQUFZLGFBQXFCLEVBQUUsT0FBZTtRQUM5QyxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztRQUNwQyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFzQjtRQUNoQyxJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sS0FBSyxLQUFLLENBQUMsT0FBTyxDQUFDO2VBQ2hDLENBQUMsSUFBSSxDQUFDLGFBQWEsS0FBSyxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELE9BQU87UUFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2VBQ2pELENBQUMsSUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDekUsQ0FBQztDQUNKO0FBRUQsTUFBTSxpQkFBaUI7SUFNbkIsWUFBWSxPQUFrQztRQUMxQyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUM7UUFDaEQsSUFBSSxDQUFD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LENBQUMsS0FBSyxDQUFDLENBQUM7WUFDMUIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELFlBQVksQ0FBQyxLQUFhO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxLQUFLO1lBQ1IsT0FBTyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7S0FFSjtJQW5DWSx5QkFBTyxVQW1DbkI7QUFDTCxDQUFDLEVBckNTLGlCQUFpQixLQUFqQixpQkFBaUIsUUFxQzFCO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ0NvbXBvbmVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RmFicmljYXRlQ29tcGVuZGl1bURhdGEsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi9Db21wZW5kaXVtRGF0YVwiO1xyXG5cclxuY2xhc3MgQ29tcGVuZGl1bUVudHJ5IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBlbmRpdW1LZXk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lbnRyeUlkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbXBlbmRpdW1LZXk6IHN0cmluZywgZW50cnlJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fY29tcGVuZGl1bUtleSA9IGNvbXBlbmRpdW1LZXk7XHJcbiAgICAgICAgdGhpcy5fZW50cnlJZCA9IGVudHJ5SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBlbmRpdW1LZXkoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBlbmRpdW1LZXk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVudHJ5SWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VudHJ5SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvdGhlcjogQ29tcGVuZGl1bUVudHJ5KTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCFvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAodGhpcy5lbnRyeUlkID09PSBvdGhlci5lbnRyeUlkKVxyXG4gICAgICAgICAgICAmJiAodGhpcy5jb21wZW5kaXVtS2V5ID09PSBvdGhlci5jb21wZW5kaXVtS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5lbnRyeUlkICE9IG51bGwgJiYgdGhpcy5lbnRyeUlkLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICYmICh0aGlzLmNvbXBlbmRpdW1LZXkgIT0gbnVsbCAmJiB0aGlzLmNvbXBlbmRpdW1LZXkubGVuZ3RoID4gMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBlbmRpdW1FbnRyeTogQ29tcGVuZGl1bUVudHJ5O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZXM6IHN0cmluZ1tdO1xyXG4gICAgcHJpdmF0ZSBfaW1hZ2VVcmw6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyOiBDcmFmdGluZ0NvbXBvbmVudC5CdWlsZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGJ1aWxkZXIubmFtZTtcclxuICAgICAgICB0aGlzLl9jb21wZW5kaXVtRW50cnkgPSBidWlsZGVyLmNvbXBlbmRpdW1FbnRyeTtcclxuICAgICAgICB0aGlzLl9lc3NlbmNlcyA9IGJ1aWxkZXIuZXNzZW5jZXM7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBidWlsZGVyLmltYWdlVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBlbmRpdW1FbnRyeSgpOiBDb21wZW5kaXVtRW50cnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wZW5kaXVtRW50cnk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGltYWdlVXJsKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ltYWdlVXJsO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBpbWFnZVVybChpbWFnZVVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5faW1hZ2VVcmwgPSBpbWFnZVVybDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ0NvbXBvbmVudC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmFicmljYXRlRmxhZ3M6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBpbWFnZVVybD86IHN0cmluZyk6IENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgICAgICBpZiAoZmFicmljYXRlRmxhZ3MudHlwZSAhPT0gRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYXR0ZW1wdGluZyB0byBpbnN0YW50aWF0ZSBhIEZhYnJpY2F0ZSBDcmFmdGluZyBDb21wb25lbnQgZnJvbSAke2ZhYnJpY2F0ZUZsYWdzLnR5cGV9IGRhdGEuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb21wZW5kaXVtRW50cnlDb25maWcgPSBmYWJyaWNhdGVGbGFncy5jb21wb25lbnQuY29tcGVuZGl1bUVudHJ5O1xyXG4gICAgICAgIGNvbnN0IGJ1aWxkZXIgPSBDcmFmdGluZ0NvbXBvbmVudC5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhOYW1lKGZhYnJpY2F0ZUZsYWdzLmNvbXBvbmVudC5uYW1lKVxyXG4gICAgICAgICAgICAud2l0aENvbXBlbmRpdW1FbnRyeShjb21wZW5kaXVtRW50cnlDb25maWcuY29tcGVuZGl1bUtleSwgY29tcGVuZGl1bUVudHJ5Q29uZmlnLmVudHJ5SWQpXHJcbiAgICAgICAgICAgIC53aXRoRXNzZW5jZXMoZmFicmljYXRlRmxhZ3MuY29tcG9uZW50LmVzc2VuY2VzKTtcclxuICAgICAgICBpZiAoaW1hZ2VVcmwgJiYgaW1hZ2VVcmwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBidWlsZGVyLndpdGhJbWFnZVVybChpbWFnZVVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBidWlsZGVyLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVxdWFscyhvdGhlcjogQ3JhZnRpbmdDb21wb25lbnQpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIW90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBlbmRpdW1FbnRyeS5lcXVhbHMob3RoZXIuY29tcGVuZGl1bUVudHJ5KTtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5uYW1lICE9IG51bGwgJiYgdGhpcy5uYW1lLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICYmICh0aGlzLmVzc2VuY2VzICE9IG51bGwpXHJcbiAgICAgICAgICAgICYmIHRoaXMuY29tcGVuZGl1bUVudHJ5LmlzVmFsaWQoKTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgY29tcGVuZGl1bUVudHJ5ITogQ29tcGVuZGl1bUVudHJ5O1xyXG4gICAgICAgIHB1YmxpYyBlc3NlbmNlczogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgaW1hZ2VVcmw6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhDb21wZW5kaXVtRW50cnkoa2V5OiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wZW5kaXVtRW50cnkgPSBuZXcgQ29tcGVuZGl1bUVudHJ5KGtleSwgaWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRXNzZW5jZXModmFsdWU6IHN0cmluZ1tdKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZXMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEVzc2VuY2UodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVzc2VuY2VzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhJbWFnZVVybCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VVcmwgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nQ29tcG9uZW50KHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingComponent.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingInventory.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/CraftingInventory.ts ***!
  \***********************************************/
/*! exports provided: CraftingInventory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingInventory\", function() { return CraftingInventory; });\nclass CraftingInventory {\r\n    constructor(actor) {\r\n        this._actor = actor;\r\n        this._supportedGameSystems = [];\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get actorId() {\r\n        return this._actor.id;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get size() {\r\n        return this.contents.length;\r\n    }\r\n    supportsGameSystem(gameSystem) {\r\n        return this._supportedGameSystems.some((supported) => supported === gameSystem);\r\n    }\r\n    contains(ingredient) {\r\n        const quantity = this.contents.filter((candidate) => candidate.componentType.equals(ingredient.componentType))\r\n            .map((candidate) => candidate.quantity)\r\n            .reduce((left, right) => left + right, 0);\r\n        return ingredient.quantity <= quantity;\r\n    }\r\n    hasAllIngredientsFor(recipe) {\r\n        const ingredientsByType = new Map();\r\n        let failedToFind = false;\r\n        let duplicatedIngredient = false;\r\n        recipe.ingredients.forEach((ingredient) => {\r\n            const present = this.contains(ingredient);\r\n            if (!present) {\r\n                failedToFind = true;\r\n                return;\r\n            }\r\n            const occurrences = ingredientsByType.get(ingredient.componentType.compendiumEntry.entryId) + 1;\r\n            ingredientsByType.set(ingredient.componentType.compendiumEntry.entryId, occurrences);\r\n            if (occurrences > 1) {\r\n                duplicatedIngredient = true;\r\n            }\r\n        });\r\n        if (duplicatedIngredient) {\r\n            throw new Error(`One or more ingredients were duplicated in a call to CraftingInventory.containsMany(ingredients: Ingredient[]). \r\n            Recipe[name='${recipe.name}',id='${recipe.entryId}'] seems to be misconfigured! Recipes should be specified as \r\n            Ingredient[Mud, 2], not [Ingredient[Mud, 1], Ingredient[Mud 1]]. `);\r\n        }\r\n        return !failedToFind;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nSW52ZW50b3J5LnRzPzM3OTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0E7QUFBQTtBQUFBLE1BQWUsaUJBQWlCO0lBSzVCLFlBQXNCLEtBQVk7UUFDOUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLG9CQUFvQjtRQUNwQixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN0QyxDQUFDO0lBSUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNoQyxDQUFDO0lBRU0sa0JBQWtCLENBQUMsVUFBMEI7UUFDaEQsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBeUIsRUFBRSxFQUFFLENBQUMsU0FBUyxLQUFLLFVBQVUsQ0FBQyxDQUFDO0lBQ3BHLENBQUM7SUFJRCxRQUFRLENBQUMsVUFBc0I7UUFDM0IsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUEwQixFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUM7YUFDMUgsR0FBRyxDQUFDLENBQUMsU0FBMEIsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzthQUN2RCxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzlDLE9BQU8sVUFBVSxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUM7SUFDM0MsQ0FBQztJQUVELG9CQUFvQixDQUFDLE1BQWM7UUFDL0IsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsRUFBa0IsQ0FBQztRQUNwRCxJQUFJLFlBQVksR0FBWSxLQUFLLENBQUM7UUFDbEMsSUFBSSxvQkFBb0IsR0FBWSxLQUFLLENBQUM7UUFDMUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFzQixFQUFFLEVBQUU7WUFDbEQsTUFBTSxPQUFPLEdBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNWLFlBQVksR0FBRyxJQUFJLENBQUM7Z0JBQ3BCLE9BQU87YUFDVjtZQUNELE1BQU0sV0FBVyxHQUFHLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMsR0FBRSxDQUFDLENBQUM7WUFDL0YsaUJBQWlCLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztZQUNyRixJQUFJLFdBQVcsR0FBRyxDQUFDLEVBQUU7Z0JBQ2pCLG9CQUFvQixHQUFHLElBQUksQ0FBQzthQUMvQjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxvQkFBb0IsRUFBRTtZQUN0QixNQUFNLElBQUksS0FBSyxDQUFDOzJCQUNELE1BQU0sQ0FBQyxJQUFJLFNBQVMsTUFBTSxDQUFDLE9BQU87OEVBQ2lCLENBQUMsQ0FBQztTQUN2RTtRQUNELE9BQU8sQ0FBQyxZQUFZLENBQUM7SUFDekIsQ0FBQztDQVVKO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ0ludmVudG9yeS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnlSZWNvcmR9IGZyb20gXCIuL0ludmVudG9yeVJlY29yZFwiO1xyXG5pbXBvcnQge0dhbWVTeXN0ZW1UeXBlfSBmcm9tIFwiLi9HYW1lU3lzdGVtVHlwZVwiO1xyXG5pbXBvcnQge0luZ3JlZGllbnR9IGZyb20gXCIuL0luZ3JlZGllbnRcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5cclxuYWJzdHJhY3QgY2xhc3MgQ3JhZnRpbmdJbnZlbnRvcnkgaW1wbGVtZW50cyBJbnZlbnRvcnkge1xyXG5cclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfYWN0b3I6IGFueTtcclxuICAgIHByb3RlY3RlZCBfc3VwcG9ydGVkR2FtZVN5c3RlbXM6IEdhbWVTeXN0ZW1UeXBlW107XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGFjdG9yOiBBY3Rvcikge1xyXG4gICAgICAgIHRoaXMuX2FjdG9yID0gYWN0b3I7XHJcbiAgICAgICAgdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0b3IoKTogQWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0b3JJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rvci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc3VwcG9ydGVkR2FtZVN5c3RlbXMoKTogR2FtZVN5c3RlbVR5cGVbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IGdldCBjb250ZW50cygpOiBJbnZlbnRvcnlSZWNvcmRbXTtcclxuXHJcbiAgICBnZXQgc2l6ZSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRzLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3VwcG9ydHNHYW1lU3lzdGVtKGdhbWVTeXN0ZW06IEdhbWVTeXN0ZW1UeXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zLnNvbWUoKHN1cHBvcnRlZDogR2FtZVN5c3RlbVR5cGUpID0+IHN1cHBvcnRlZCA9PT0gZ2FtZVN5c3RlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGFkZChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBxdWFudGl0eT86IG51bWJlcik6IFByb21pc2U8SW52ZW50b3J5UmVjb3JkPjtcclxuXHJcbiAgICBjb250YWlucyhpbmdyZWRpZW50OiBJbmdyZWRpZW50KTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgcXVhbnRpdHkgPSB0aGlzLmNvbnRlbnRzLmZpbHRlcigoY2FuZGlkYXRlOiBJbnZlbnRvcnlSZWNvcmQpID0+IGNhbmRpZGF0ZS5jb21wb25lbnRUeXBlLmVxdWFscyhpbmdyZWRpZW50LmNvbXBvbmVudFR5cGUpKVxyXG4gICAgICAgICAgICAubWFwKChjYW5kaWRhdGU6IEludmVudG9yeVJlY29yZCkgPT4gY2FuZGlkYXRlLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0LCByaWdodCkgPT4gbGVmdCArIHJpZ2h0LCAwKTtcclxuICAgICAgICByZXR1cm4gaW5ncmVkaWVudC5xdWFudGl0eSA8PSBxdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBoYXNBbGxJbmdyZWRpZW50c0ZvcihyZWNpcGU6IFJlY2lwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGluZ3JlZGllbnRzQnlUeXBlID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICAgICAgICBsZXQgZmFpbGVkVG9GaW5kOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGR1cGxpY2F0ZWRJbmdyZWRpZW50OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcmVjaXBlLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJlc2VudDogYm9vbGVhbiA9IHRoaXMuY29udGFpbnMoaW5ncmVkaWVudCk7XHJcbiAgICAgICAgICAgIGlmICghcHJlc2VudCkge1xyXG4gICAgICAgICAgICAgICAgZmFpbGVkVG9GaW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvY2N1cnJlbmNlcyA9IGluZ3JlZGllbnRzQnlUeXBlLmdldChpbmdyZWRpZW50LmNvbXBvbmVudFR5cGUuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpICsxO1xyXG4gICAgICAgICAgICBpbmdyZWRpZW50c0J5VHlwZS5zZXQoaW5ncmVkaWVudC5jb21wb25lbnRUeXBlLmNvbXBlbmRpdW1FbnRyeS5lbnRyeUlkLCBvY2N1cnJlbmNlcyk7XHJcbiAgICAgICAgICAgIGlmIChvY2N1cnJlbmNlcyA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGR1cGxpY2F0ZWRJbmdyZWRpZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChkdXBsaWNhdGVkSW5ncmVkaWVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE9uZSBvciBtb3JlIGluZ3JlZGllbnRzIHdlcmUgZHVwbGljYXRlZCBpbiBhIGNhbGwgdG8gQ3JhZnRpbmdJbnZlbnRvcnkuY29udGFpbnNNYW55KGluZ3JlZGllbnRzOiBJbmdyZWRpZW50W10pLiBcclxuICAgICAgICAgICAgUmVjaXBlW25hbWU9JyR7cmVjaXBlLm5hbWV9JyxpZD0nJHtyZWNpcGUuZW50cnlJZH0nXSBzZWVtcyB0byBiZSBtaXNjb25maWd1cmVkISBSZWNpcGVzIHNob3VsZCBiZSBzcGVjaWZpZWQgYXMgXHJcbiAgICAgICAgICAgIEluZ3JlZGllbnRbTXVkLCAyXSwgbm90IFtJbmdyZWRpZW50W011ZCwgMV0sIEluZ3JlZGllbnRbTXVkIDFdXS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAhZmFpbGVkVG9GaW5kO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IHVwZGF0ZVF1YW50aXR5Rm9yKGl0ZW06IGFueSk6IFByb21pc2U8SW52ZW50b3J5UmVjb3JkPjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVtb3ZlKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIHF1YW50aXR5PzogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgYWJzdHJhY3QgZGVub3JtYWxpemVkQ29udGVudHMoKTogQ3JhZnRpbmdDb21wb25lbnRbXTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdJbnZlbnRvcnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingInventory.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingResult.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingResult.ts ***!
  \********************************************/
/*! exports provided: CraftingResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingResult\", function() { return CraftingResult; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n\r\n\r\nclass CraftingResult {\r\n    constructor(builder) {\r\n        this._item = builder.item;\r\n        this._quantity = builder.quantity;\r\n        this._action = builder.action;\r\n        this._customData = builder.customData;\r\n    }\r\n    static builder() {\r\n        return new CraftingResult.Builder();\r\n    }\r\n    get item() {\r\n        return this._item;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    get customData() {\r\n        return this._customData;\r\n    }\r\n    static fromFlags(flags) {\r\n        return this.builder()\r\n            .withAction(flags.action)\r\n            .withQuantity(flags.quantity)\r\n            .withItem(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].builder()\r\n            .withName(flags.item.name)\r\n            .withCompendiumEntry(flags.item.compendiumEntry.compendiumKey, flags.item.compendiumEntry.entryId)\r\n            .build())\r\n            .build();\r\n    }\r\n    static manyFromFlags(flags) {\r\n        return flags.map((flagData) => CraftingResult.fromFlags(flagData));\r\n    }\r\n    isValid() {\r\n        return (this.quantity != null && this.quantity > 0)\r\n            && (this.action != null)\r\n            && (this.action == _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD || this.action == _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE)\r\n            && this.item.isValid();\r\n    }\r\n}\r\n(function (CraftingResult) {\r\n    class Builder {\r\n        withItem(value) {\r\n            this.item = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        withAction(value) {\r\n            this.action = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingResult(this);\r\n        }\r\n        withCustomData(value) {\r\n            this.customData = value;\r\n            return this;\r\n        }\r\n    }\r\n    CraftingResult.Builder = Builder;\r\n})(CraftingResult || (CraftingResult = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nUmVzdWx0LnRzPzA0NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0Q7QUFDZDtBQUd4QyxNQUFNLGNBQWM7SUFNaEIsWUFBWSxPQUErQjtRQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDMUMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEMsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUEyQjtRQUMvQyxPQUFPLElBQUksQ0FBQyxPQUFPLEVBQUU7YUFDaEIsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7YUFDeEIsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDNUIsUUFBUSxDQUFDLG9FQUFpQixDQUFDLE9BQU8sRUFBRTthQUNoQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7YUFDekIsbUJBQW1CLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQzthQUNqRyxLQUFLLEVBQUUsQ0FBQzthQUNaLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTSxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQTZCO1FBQ3JELE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFFRCxPQUFPO1FBQ0gsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2VBQzVDLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUM7ZUFDckIsQ0FBQyxJQUFJLENBQUMsTUFBTSxJQUFJLHNEQUFVLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLElBQUksc0RBQVUsQ0FBQyxNQUFNLENBQUM7ZUFDbkUsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMvQixDQUFDO0NBQ0o7QUFFRCxXQUFVLGNBQWM7SUFDcEIsTUFBYSxPQUFPO1FBTVQsUUFBUSxDQUFDLEtBQXdCO1lBQ3BDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBYTtZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sVUFBVSxDQUFDLEtBQWlCO1lBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxLQUFLO1lBQ1IsT0FBTyxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBRUQsY0FBYyxDQUFDLEtBQVU7WUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztLQUNKO0lBN0JZLHNCQUFPLFVBNkJuQjtBQUNMLENBQUMsRUEvQlMsY0FBYyxLQUFkLGNBQWMsUUErQnZCO0FBRXNCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ1Jlc3VsdC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7QWN0aW9uVHlwZX0gZnJvbSBcIi4vQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZVJlc3VsdEZsYWdzfSBmcm9tIFwiLi9Db21wZW5kaXVtRGF0YVwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdSZXN1bHQge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXRlbTogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9xdWFudGl0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWN0aW9uOiBBY3Rpb25UeXBlO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY3VzdG9tRGF0YTogYW55O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IENyYWZ0aW5nUmVzdWx0LkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9pdGVtID0gYnVpbGRlci5pdGVtO1xyXG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gYnVpbGRlci5xdWFudGl0eTtcclxuICAgICAgICB0aGlzLl9hY3Rpb24gPSBidWlsZGVyLmFjdGlvbjtcclxuICAgICAgICB0aGlzLl9jdXN0b21EYXRhID0gYnVpbGRlci5jdXN0b21EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRlcigpOiBDcmFmdGluZ1Jlc3VsdC5CdWlsZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nUmVzdWx0LkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXRlbSgpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhY3Rpb24oKTogQWN0aW9uVHlwZSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY3VzdG9tRGF0YSgpOiBhbnkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXN0b21EYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUZsYWdzKGZsYWdzOiBGYWJyaWNhdGVSZXN1bHRGbGFncyk6IENyYWZ0aW5nUmVzdWx0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhBY3Rpb24oZmxhZ3MuYWN0aW9uKVxyXG4gICAgICAgICAgICAud2l0aFF1YW50aXR5KGZsYWdzLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAud2l0aEl0ZW0oQ3JhZnRpbmdDb21wb25lbnQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aE5hbWUoZmxhZ3MuaXRlbS5uYW1lKVxyXG4gICAgICAgICAgICAgICAgLndpdGhDb21wZW5kaXVtRW50cnkoZmxhZ3MuaXRlbS5jb21wZW5kaXVtRW50cnkuY29tcGVuZGl1bUtleSwgZmxhZ3MuaXRlbS5jb21wZW5kaXVtRW50cnkuZW50cnlJZClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hbnlGcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZVJlc3VsdEZsYWdzW10pOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuICAgICAgICByZXR1cm4gZmxhZ3MubWFwKChmbGFnRGF0YSkgPT4gQ3JhZnRpbmdSZXN1bHQuZnJvbUZsYWdzKGZsYWdEYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNWYWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucXVhbnRpdHkgIT0gbnVsbCAmJiB0aGlzLnF1YW50aXR5ID4gMClcclxuICAgICAgICAgICAgJiYgKHRoaXMuYWN0aW9uICE9IG51bGwpXHJcbiAgICAgICAgICAgICYmICh0aGlzLmFjdGlvbiA9PSBBY3Rpb25UeXBlLkFERCB8fCB0aGlzLmFjdGlvbiA9PSBBY3Rpb25UeXBlLlJFTU9WRSlcclxuICAgICAgICAgICAgJiYgdGhpcy5pdGVtLmlzVmFsaWQoKTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIENyYWZ0aW5nUmVzdWx0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgaXRlbSE6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgIHB1YmxpYyBxdWFudGl0eSE6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMgYWN0aW9uITogQWN0aW9uVHlwZTtcclxuICAgICAgICBwdWJsaWMgY3VzdG9tRGF0YTogYW55O1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEl0ZW0odmFsdWU6IENyYWZ0aW5nQ29tcG9uZW50KTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUXVhbnRpdHkodmFsdWU6IG51bWJlcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhBY3Rpb24odmFsdWU6IEFjdGlvblR5cGUpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogQ3JhZnRpbmdSZXN1bHQge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nUmVzdWx0KHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEN1c3RvbURhdGEodmFsdWU6IGFueSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1c3RvbURhdGEgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nUmVzdWx0fSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingResult.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingSystem.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingSystem.ts ***!
  \********************************************/
/*! exports provided: CraftingSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystem\", function() { return CraftingSystem; });\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass CraftingSystem {\r\n    constructor(builder) {\r\n        this._name = builder.name;\r\n        this._compendiumPackKey = builder.compendiumPackKey;\r\n        this._fabricator = builder.fabricator;\r\n        this._recipes = builder.recipes;\r\n        this._componentsById = new Map(builder.components.map((component) => [component.compendiumEntry.entryId, component]));\r\n        this._supportedGameSystems = builder.supportedGameSystems;\r\n        this._enabled = builder.enabled;\r\n        this._enableHint = builder.enableHint;\r\n    }\r\n    static builder() {\r\n        return new CraftingSystem.Builder();\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n    set enabled(value) {\r\n        this._enabled = value;\r\n    }\r\n    get enableHint() {\r\n        return this._enableHint;\r\n    }\r\n    craft(actorId, recipeId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRegistry\"].getFor(actorId);\r\n            const recipe = this._recipes.find((recipe) => recipe.entryId == recipeId);\r\n            const missingIngredients = [];\r\n            recipe.ingredients.forEach((ingredient) => {\r\n                if (!inventory.contains(ingredient)) {\r\n                    missingIngredients.push(ingredient);\r\n                }\r\n            });\r\n            if (missingIngredients.length > 0) {\r\n                const message = missingIngredients.map((ingredient) => ingredient.quantity + ':' + ingredient.componentType.name).join(',');\r\n                throw new Error(`Unable to craft recipe ${recipe.name}. The following ingredients were missing: ${message}`);\r\n            }\r\n            const fabricator = this.fabricator;\r\n            const craftingResults = fabricator.fabricateFromRecipe(recipe, inventory.denormalizedContents());\r\n            for (const craftingResult of craftingResults) {\r\n                switch (craftingResult.action) {\r\n                    case _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].ADD:\r\n                        yield inventory.add(craftingResult.item, craftingResult.quantity);\r\n                        break;\r\n                    case _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].REMOVE:\r\n                        yield inventory.remove(craftingResult.item, craftingResult.quantity);\r\n                        break;\r\n                    default:\r\n                        throw new Error(`The Crafting Action Type ${craftingResult.action} is not supported. Allowable \r\n                        values are: ADD, REMOVE. `);\r\n                }\r\n            }\r\n            return craftingResults;\r\n        });\r\n    }\r\n    get compendiumPackKey() {\r\n        return this._compendiumPackKey;\r\n    }\r\n    get fabricator() {\r\n        return this._fabricator;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get recipes() {\r\n        return this._recipes;\r\n    }\r\n    get components() {\r\n        return Array.from(this._componentsById.values());\r\n    }\r\n    getComponentByEntryId(entryId) {\r\n        return this._componentsById.get(entryId);\r\n    }\r\n    supports(gameSystem) {\r\n        if (!this._supportedGameSystems || this._supportedGameSystems.length == 0) {\r\n            return true;\r\n        }\r\n        return this._supportedGameSystems.indexOf(gameSystem) > -1;\r\n    }\r\n}\r\n(function (CraftingSystem) {\r\n    class Builder {\r\n        constructor() {\r\n            this.supportedGameSystems = [];\r\n            this.recipes = [];\r\n            this.components = [];\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumPackKey(value) {\r\n            this.compendiumPackKey = value;\r\n            return this;\r\n        }\r\n        withFabricator(value) {\r\n            this.fabricator = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystems(value) {\r\n            this.supportedGameSystems = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystem(value) {\r\n            this.supportedGameSystems.push(value);\r\n            return this;\r\n        }\r\n        withRecipes(value) {\r\n            this.recipes = value;\r\n            return this;\r\n        }\r\n        withRecipe(value) {\r\n            this.recipes.push(value);\r\n            return this;\r\n        }\r\n        withComponents(value) {\r\n            this.components = value;\r\n            return this;\r\n        }\r\n        withComponent(value) {\r\n            this.components.push(value);\r\n            return this;\r\n        }\r\n        isEnabled(value) {\r\n            this.enabled = value;\r\n            return this;\r\n        }\r\n        withEnableHint(value) {\r\n            this.enableHint = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingSystem(this);\r\n        }\r\n    }\r\n    CraftingSystem.Builder = Builder;\r\n})(CraftingSystem || (CraftingSystem = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nU3lzdGVtLnRzPzQ2ZGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU13QztBQUMwQjtBQUVsRSxNQUFNLGNBQWM7SUFVaEIsWUFBWSxPQUErQjtRQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztRQUNwRCxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7UUFDdEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6SSxJQUFJLENBQUMscUJBQXFCLEdBQUcsT0FBTyxDQUFDLG9CQUFvQixDQUFDO1FBQzFELElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQztRQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDMUMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEMsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxJQUFJLE9BQU8sQ0FBQyxLQUFjO1FBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxD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LENBQUM7WUFDekIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGNBQWMsQ0FBQyxLQUEwQjtZQUM1QyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUN4QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sYUFBYSxDQUFDLEtBQXdCO1lBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxTQUFTLENBQUMsS0FBYztZQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sY0FBYyxDQUFDLEtBQWE7WUFDL0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BDLENBQUM7S0FDSjtJQXBFWSxzQkFBTyxVQW9FbkI7QUFDTCxDQUFDLEVBdEVTLGNBQWMsS0FBZCxjQUFjLFFBc0V2QjtBQUV5QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQ3JhZnRpbmdTeXN0ZW0udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZhYnJpY2F0b3J9IGZyb20gXCIuL0ZhYnJpY2F0b3JcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0ludmVudG9yeX0gZnJvbSBcIi4vSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4vSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuL0FjdGlvblR5cGVcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnlSZWdpc3RyeX0gZnJvbSBcIi4uL3JlZ2lzdHJpZXMvSW52ZW50b3J5UmVnaXN0cnlcIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nU3lzdGVtIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBlbmRpdW1QYWNrS2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mYWJyaWNhdG9yOiBGYWJyaWNhdG9yO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlczogUmVjaXBlW107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzQnlJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3VwcG9ydGVkR2FtZVN5c3RlbXM6IHN0cmluZ1tdO1xyXG4gICAgcHJpdmF0ZSBfZW5hYmxlZDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VuYWJsZUhpbnQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGJ1aWxkZXIubmFtZTtcclxuICAgICAgICB0aGlzLl9jb21wZW5kaXVtUGFja0tleSA9IGJ1aWxkZXIuY29tcGVuZGl1bVBhY2tLZXk7XHJcbiAgICAgICAgdGhpcy5fZmFicmljYXRvciA9IGJ1aWxkZXIuZmFicmljYXRvcjtcclxuICAgICAgICB0aGlzLl9yZWNpcGVzID0gYnVpbGRlci5yZWNpcGVzO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNCeUlkID0gbmV3IE1hcChidWlsZGVyLmNvbXBvbmVudHMubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiBbY29tcG9uZW50LmNvbXBlbmRpdW1FbnRyeS5lbnRyeUlkLCBjb21wb25lbnRdKSk7XHJcbiAgICAgICAgdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMgPSBidWlsZGVyLnN1cHBvcnRlZEdhbWVTeXN0ZW1zO1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBidWlsZGVyLmVuYWJsZWQ7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlSGludCA9IGJ1aWxkZXIuZW5hYmxlSGludDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW5hYmxlZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZW5hYmxlZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZW5hYmxlSGludCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVIaW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBjcmFmdChhY3RvcklkOiBzdHJpbmcsIHJlY2lwZUlkOiBzdHJpbmcpOiBQcm9taXNlPENyYWZ0aW5nUmVzdWx0W10+IHtcclxuICAgICAgICBjb25zdCBpbnZlbnRvcnk6IEludmVudG9yeSA9IEludmVudG9yeVJlZ2lzdHJ5LmdldEZvcihhY3RvcklkKTtcclxuICAgICAgICBjb25zdCByZWNpcGU6IFJlY2lwZSA9IHRoaXMuX3JlY2lwZXMuZmluZCgocmVjaXBlOiBSZWNpcGUpID0+IHJlY2lwZS5lbnRyeUlkID09IHJlY2lwZUlkKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWlzc2luZ0luZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXTtcclxuICAgICAgICByZWNpcGUuaW5ncmVkaWVudHMuZm9yRWFjaCgoaW5ncmVkaWVudDogSW5ncmVkaWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWludmVudG9yeS5jb250YWlucyhpbmdyZWRpZW50KSkge1xyXG4gICAgICAgICAgICAgICAgbWlzc2luZ0luZ3JlZGllbnRzLnB1c2goaW5ncmVkaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAobWlzc2luZ0luZ3JlZGllbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1pc3NpbmdJbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IGluZ3JlZGllbnQucXVhbnRpdHkgKyAnOicgKyBpbmdyZWRpZW50LmNvbXBvbmVudFR5cGUubmFtZSkuam9pbignLCcpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjcmFmdCByZWNpcGUgJHtyZWNpcGUubmFtZX0uIFRoZSBmb2xsb3dpbmcgaW5ncmVkaWVudHMgd2VyZSBtaXNzaW5nOiAke21lc3NhZ2V9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmYWJyaWNhdG9yOiBGYWJyaWNhdG9yID0gdGhpcy5mYWJyaWNhdG9yO1xyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nUmVzdWx0czogQ3JhZnRpbmdSZXN1bHRbXSA9IGZhYnJpY2F0b3IuZmFicmljYXRlRnJvbVJlY2lwZShyZWNpcGUsIGludmVudG9yeS5kZW5vcm1hbGl6ZWRDb250ZW50cygpKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjcmFmdGluZ1Jlc3VsdCBvZiBjcmFmdGluZ1Jlc3VsdHMpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChjcmFmdGluZ1Jlc3VsdC5hY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5BREQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgaW52ZW50b3J5LmFkZChjcmFmdGluZ1Jlc3VsdC5pdGVtLCBjcmFmdGluZ1Jlc3VsdC5xdWFudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuUkVNT1ZFOlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGludmVudG9yeS5yZW1vdmUoY3JhZnRpbmdSZXN1bHQuaXRlbSwgY3JhZnRpbmdSZXN1bHQucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBDcmFmdGluZyBBY3Rpb24gVHlwZSAke2NyYWZ0aW5nUmVzdWx0LmFjdGlvbn0gaXMgbm90IHN1cHBvcnRlZC4gQWxsb3dhYmxlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgYXJlOiBBREQsIFJFTU9WRS4gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNyYWZ0aW5nUmVzdWx0cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcGVuZGl1bVBhY2tLZXkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcGVuZGl1bVBhY2tLZXk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhYnJpY2F0b3IoKTogRmFicmljYXRvciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhYnJpY2F0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN1cHBvcnRlZEdhbWVTeXN0ZW1zKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlY2lwZXMoKTogUmVjaXBlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNpcGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IENyYWZ0aW5nQ29tcG9uZW50W10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2NvbXBvbmVudHNCeUlkLnZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb21wb25lbnRCeUVudHJ5SWQoZW50cnlJZDogc3RyaW5nKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzQnlJZC5nZXQoZW50cnlJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN1cHBvcnRzKGdhbWVTeXN0ZW06IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMgfHwgdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcy5pbmRleE9mKGdhbWVTeXN0ZW0pID4gLTE7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICBleHBvcnQgY2xhc3MgQnVpbGRlciB7XHJcbiAgICAgICAgcHVibGljIG5hbWUhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGNvbXBlbmRpdW1QYWNrS2V5ITogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBmYWJyaWNhdG9yITogRmFicmljYXRvcjtcclxuICAgICAgICBwdWJsaWMgc3VwcG9ydGVkR2FtZVN5c3RlbXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlY2lwZXM6IFJlY2lwZVtdID0gW107XHJcbiAgICAgICAgcHVibGljIGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZW5hYmxlZDogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgZW5hYmxlSGludDogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aE5hbWUodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBlbmRpdW1QYWNrS2V5KHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wZW5kaXVtUGFja0tleSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRmFicmljYXRvcih2YWx1ZTogRmFicmljYXRvcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmZhYnJpY2F0b3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFN1cHBvcnRlZEdhbWVTeXN0ZW1zKHZhbHVlOiBzdHJpbmdbXSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZEdhbWVTeXN0ZW1zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhTdXBwb3J0ZWRHYW1lU3lzdGVtKHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRHYW1lU3lzdGVtcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFJlY2lwZXModmFsdWU6IFJlY2lwZVtdKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUmVjaXBlKHZhbHVlOiBSZWNpcGUpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNpcGVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQ29tcG9uZW50cyh2YWx1ZTogQ3JhZnRpbmdDb21wb25lbnRbXSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBvbmVudCh2YWx1ZTogQ3JhZnRpbmdDb21wb25lbnQpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFbmFibGVIaW50KHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVIaW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCkgOiBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdTeXN0ZW0odGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBDcmFmdGluZ1N5c3RlbSB9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingSystem.ts\n");

/***/ }),

/***/ "./src/scripts/core/EssenceType.ts":
/*!*****************************************!*\
  !*** ./src/scripts/core/EssenceType.ts ***!
  \*****************************************/
/*! exports provided: EssenceType, EssenceTypeIconConverter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceType\", function() { return EssenceType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceTypeIconConverter\", function() { return EssenceTypeIconConverter; });\nvar EssenceType;\r\n(function (EssenceType) {\r\n    EssenceType[\"EARTH\"] = \"EARTH\";\r\n    EssenceType[\"AIR\"] = \"AIR\";\r\n    EssenceType[\"WATER\"] = \"WATER\";\r\n    EssenceType[\"FIRE\"] = \"FIRE\";\r\n    EssenceType[\"POSITIVE_ENERGY\"] = \"POSITIVE_ENERGY\";\r\n    EssenceType[\"NEGATIVE_ENERGY\"] = \"NEGATIVE_ENERGY\";\r\n})(EssenceType || (EssenceType = {}));\r\nclass EssenceTypeIconConverter {\r\n    static convertToIconMarkup(essenceType) {\r\n        const iconMarkup = this._registeredIcons.get(essenceType);\r\n        if (iconMarkup && iconMarkup.length > 0) {\r\n            return iconMarkup;\r\n        }\r\n        return essenceType;\r\n    }\r\n    static convertSeriesToIconMarkup(essenceTypes) {\r\n        const essenceFrequencies = new Map();\r\n        essenceTypes.forEach((essence) => {\r\n            if (essenceFrequencies.has(essence)) {\r\n                const currentCount = essenceFrequencies.get(essence);\r\n                essenceFrequencies.set(essence, currentCount + 1);\r\n            }\r\n            else {\r\n                essenceFrequencies.set(essence, 1);\r\n            }\r\n        });\r\n        const parts = [];\r\n        essenceFrequencies.forEach((amount, essenceType) => {\r\n            parts.push(`${this.convertToIconMarkup(essenceType)} x${amount}`);\r\n        });\r\n        return parts.join(', ');\r\n    }\r\n}\r\nEssenceTypeIconConverter._registeredIcons = new Map([\r\n    [EssenceType.NEGATIVE_ENERGY, '<i class=\"fas fa-moon\" title=\"Negative Energy\"></i>'],\r\n    [EssenceType.POSITIVE_ENERGY, '<i class=\"fas fa-sun\" title=\"Positive Energy\"></i>'],\r\n    [EssenceType.AIR, '<i class=\"fas fa-wind\" title=\"Air\"></i>'],\r\n    [EssenceType.EARTH, '<i class=\"fas fa-mountain\" title=\"Earth\"></i>'],\r\n    [EssenceType.WATER, '<i class=\"fas fa-tint\" title=\"Water\"></i>'],\r\n    [EssenceType.FIRE, '<i class=\"fas fa-fire\" title=\"Fire\"></i>']\r\n]);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VUeXBlLnRzPzQzYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUEsSUFBSyxXQU9KO0FBUEQsV0FBSyxXQUFXO0lBQ1osOEJBQWU7SUFDZiwwQkFBVztJQUNYLDhCQUFlO0lBQ2YsNEJBQWE7SUFDYixrREFBbUM7SUFDbkMsa0RBQW1DO0FBQ3ZDLENBQUMsRUFQSSxXQUFXLEtBQVgsV0FBVyxRQU9mO0FBRUQsTUFBTSx3QkFBd0I7SUFXbkIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFdBQXdCO1FBRXRELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUQsSUFBSSxVQUFVLElBQUksVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDckMsT0FBTyxVQUFVLENBQUM7U0FDckI7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUV2QixDQUFDO0lBRU0sTUFBTSxDQUFDLHlCQUF5QixDQUFDLFlBQTJCO1FBQy9ELE1BQU0sa0JBQWtCLEdBQTZCLElBQUksR0FBRyxFQUFFLENBQUM7UUFDL0QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQW9CLEVBQUUsRUFBRTtZQUMxQyxJQUFJLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDakMsTUFBTSxZQUFZLEdBQVcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM3RCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQzthQUNyRDtpQkFBTTtnQkFDSCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ3RDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLEtBQUssR0FBYSxFQUFFLENBQUM7UUFDM0Isa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBYyxFQUFFLFdBQXdCLEVBQUUsRUFBRTtZQUNwRSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxLQUFLLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQzs7QUFsQ3VCLHlDQUFnQixHQUE2QixJQUFJLEdBQUcsQ0FBQztJQUN6RSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUscURBQXFELENBQUM7SUFDcEYsQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLG9EQUFvRCxDQUFDO0lBQ25GLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSx5Q0FBeUMsQ0FBQztJQUM1RCxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsK0NBQStDLENBQUM7SUFDcEUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDJDQUEyQyxDQUFDO0lBQ2hFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSwwQ0FBMEMsQ0FBQztDQUNqRSxDQUFDLENBQUM7QUErQnVDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9Fc3NlbmNlVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImVudW0gRXNzZW5jZVR5cGUge1xyXG4gICAgRUFSVEggPSAnRUFSVEgnLFxyXG4gICAgQUlSID0gJ0FJUicsXHJcbiAgICBXQVRFUiA9ICdXQVRFUicsXHJcbiAgICBGSVJFID0gJ0ZJUkUnLFxyXG4gICAgUE9TSVRJVkVfRU5FUkdZID0gJ1BPU0lUSVZFX0VORVJHWScsXHJcbiAgICBORUdBVElWRV9FTkVSR1kgPSAnTkVHQVRJVkVfRU5FUkdZJ1xyXG59XHJcblxyXG5jbGFzcyBFc3NlbmNlVHlwZUljb25Db252ZXJ0ZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9yZWdpc3RlcmVkSWNvbnM6IE1hcDxFc3NlbmNlVHlwZSwgc3RyaW5nPiA9IG5ldyBNYXAoW1xyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5ORUdBVElWRV9FTkVSR1ksICc8aSBjbGFzcz1cImZhcyBmYS1tb29uXCIgdGl0bGU9XCJOZWdhdGl2ZSBFbmVyZ3lcIj48L2k+J10sXHJcbiAgICAgICAgW0Vzc2VuY2VUeXBlLlBPU0lUSVZFX0VORVJHWSwgJzxpIGNsYXNzPVwiZmFzIGZhLXN1blwiIHRpdGxlPVwiUG9zaXRpdmUgRW5lcmd5XCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5BSVIsICc8aSBjbGFzcz1cImZhcyBmYS13aW5kXCIgdGl0bGU9XCJBaXJcIj48L2k+J10sXHJcbiAgICAgICAgW0Vzc2VuY2VUeXBlLkVBUlRILCAnPGkgY2xhc3M9XCJmYXMgZmEtbW91bnRhaW5cIiB0aXRsZT1cIkVhcnRoXCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5XQVRFUiwgJzxpIGNsYXNzPVwiZmFzIGZhLXRpbnRcIiB0aXRsZT1cIldhdGVyXCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5GSVJFLCAnPGkgY2xhc3M9XCJmYXMgZmEtZmlyZVwiIHRpdGxlPVwiRmlyZVwiPjwvaT4nXVxyXG4gICAgXSk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9JY29uTWFya3VwKGVzc2VuY2VUeXBlOiBFc3NlbmNlVHlwZSk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb25NYXJrdXAgPSB0aGlzLl9yZWdpc3RlcmVkSWNvbnMuZ2V0KGVzc2VuY2VUeXBlKTtcclxuICAgICAgICBpZiAoaWNvbk1hcmt1cCAmJiBpY29uTWFya3VwLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGljb25NYXJrdXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlc3NlbmNlVHlwZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb252ZXJ0U2VyaWVzVG9JY29uTWFya3VwKGVzc2VuY2VUeXBlczogRXNzZW5jZVR5cGVbXSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZUZyZXF1ZW5jaWVzOiBNYXA8RXNzZW5jZVR5cGUsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZXNzZW5jZVR5cGVzLmZvckVhY2goKGVzc2VuY2U6IEVzc2VuY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlc3NlbmNlRnJlcXVlbmNpZXMuaGFzKGVzc2VuY2UpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQ6IG51bWJlciA9IGVzc2VuY2VGcmVxdWVuY2llcy5nZXQoZXNzZW5jZSk7XHJcbiAgICAgICAgICAgICAgICBlc3NlbmNlRnJlcXVlbmNpZXMuc2V0KGVzc2VuY2UsIGN1cnJlbnRDb3VudCArIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXNzZW5jZUZyZXF1ZW5jaWVzLnNldChlc3NlbmNlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGVzc2VuY2VGcmVxdWVuY2llcy5mb3JFYWNoKChhbW91bnQ6IG51bWJlciwgZXNzZW5jZVR5cGU6IEVzc2VuY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goYCR7dGhpcy5jb252ZXJ0VG9JY29uTWFya3VwKGVzc2VuY2VUeXBlKX0geCR7YW1vdW50fWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcsICcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtFc3NlbmNlVHlwZSwgRXNzZW5jZVR5cGVJY29uQ29udmVydGVyfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/EssenceType.ts\n");

/***/ }),

/***/ "./src/scripts/core/Fabricator.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Fabricator.ts ***!
  \****************************************/
/*! exports provided: DefaultFabricator, EssenceCombiningFabricator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultFabricator\", function() { return DefaultFabricator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceCombiningFabricator\", function() { return EssenceCombiningFabricator; });\n/* harmony import */ var _CraftingResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _FabricationHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FabricationHelper */ \"./src/scripts/FabricationHelper.ts\");\n\r\n\r\n\r\n\r\nclass DefaultFabricator {\r\n    fabricateFromRecipe(recipe) {\r\n        let input = recipe.ingredients.map((component) => {\r\n            return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(component.componentType)\r\n                .withQuantity(component.quantity)\r\n                .withAction(component.consumed ? _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE : _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                .build();\r\n        });\r\n        let output = recipe.results.map((result) => {\r\n            return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(result.item)\r\n                .withAction(_ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                .withQuantity(result.quantity)\r\n                .build();\r\n        });\r\n        return input.concat(output);\r\n    }\r\n    fabricateFromComponents() {\r\n        throw new Error(`The Default Fabricator requires a Recipe and one was not provided. `);\r\n    }\r\n}\r\nclass EssenceCombiningFabricator {\r\n    constructor(essenceCombiner) {\r\n        this._essenceCombiner = essenceCombiner;\r\n    }\r\n    fabricateFromComponents(components) {\r\n        if (!this._essenceCombiner) {\r\n            throw new Error(`No Essence Combiner has been provided for this system. You may only craft from Recipes. `);\r\n        }\r\n        const alchemicalResult = this._essenceCombiner.combine(components);\r\n        const resultantItem = this._essenceCombiner.resultantItem;\r\n        return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n            .withAction(_ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n            .withQuantity(1)\r\n            .withCustomData(alchemicalResult.asItemData())\r\n            .withItem(_CraftingComponent__WEBPACK_IMPORTED_MODULE_2__[\"CraftingComponent\"].builder()\r\n            .withCompendiumEntry(resultantItem.compendiumKey, resultantItem.entryId)\r\n            .build())\r\n            .build();\r\n    }\r\n    fabricateFromRecipe(recipe, craftingComponents) {\r\n        if (!craftingComponents || craftingComponents.length === 0) {\r\n            throw new Error(`Essence Combining Fabricators require components to Fabricate Recipes. `);\r\n        }\r\n        const craftingComponentCombinations = this.analyzeCombinationsForRecipe(craftingComponents, recipe);\r\n        const selectedCombination = this.selectBestCombinationFrom(recipe, craftingComponentCombinations);\r\n        if (!selectedCombination || selectedCombination.length === 0) {\r\n            throw new Error(`There are insufficient components available to craft Recipe ${recipe.entryId}. `);\r\n        }\r\n        return _FabricationHelper__WEBPACK_IMPORTED_MODULE_3__[\"FabricationHelper\"].asCraftingResults(selectedCombination, _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE).concat(recipe.results);\r\n    }\r\n    analyzeCombinationsForRecipe(components, recipe) {\r\n        const essenceIdentities = _FabricationHelper__WEBPACK_IMPORTED_MODULE_3__[\"FabricationHelper\"].assignEssenceIdentities(recipe.essences);\r\n        const usableComponents = components.filter((component) => component.essences.filter((essence) => recipe.essences.includes(essence)).length > 0);\r\n        const recipeIdentity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_3__[\"FabricationHelper\"].essenceCombinationIdentity(recipe.essences, essenceIdentities);\r\n        const componentEssenceIdentity = new Map();\r\n        usableComponents.forEach((component) => {\r\n            if (!componentEssenceIdentity.has(component.compendiumEntry.entryId)) {\r\n                componentEssenceIdentity.set(component.compendiumEntry.entryId, _FabricationHelper__WEBPACK_IMPORTED_MODULE_3__[\"FabricationHelper\"].essenceCombinationIdentity(component.essences, essenceIdentities));\r\n            }\r\n        });\r\n        return _FabricationHelper__WEBPACK_IMPORTED_MODULE_3__[\"FabricationHelper\"].combinationHistogram(usableComponents).map((combination) => {\r\n            const essenceCombinationIdentity = combination.map((component) => componentEssenceIdentity.get(component.compendiumEntry.entryId))\r\n                .reduce((left, right) => left * right, 1);\r\n            const craftableRecipes = [];\r\n            if (this.isCraftableFromEssencesIn(recipe, combination)) {\r\n                craftableRecipes.push(recipe);\r\n            }\r\n            const essenceIdentityMatchForRecipes = [];\r\n            if (essenceCombinationIdentity === recipeIdentity) {\r\n                essenceIdentityMatchForRecipes.push(recipe);\r\n            }\r\n            return new CraftingComponentCombination(combination, craftableRecipes, essenceCombinationIdentity, essenceIdentityMatchForRecipes);\r\n        });\r\n    }\r\n    isCraftableFromEssencesIn(recipe, components) {\r\n        const essences = components.map((component) => component.essences)\r\n            .reduce((left, right) => left.concat(right), []);\r\n        return essences.every((essence) => recipe.essences.includes(essence)\r\n            && (essences.filter((essence) => essence === essence).length >= recipe.essences.filter((essence) => essence === essence).length));\r\n    }\r\n    filterCraftableRecipesFor(craftingComponents, recipes) {\r\n        return recipes.filter((recipe) => this.isCraftableFromEssencesIn(recipe, craftingComponents));\r\n    }\r\n    selectBestCombinationFrom(recipe, combinations) {\r\n        const exactMatches = [];\r\n        const supersets = [];\r\n        combinations.forEach((combination) => {\r\n            if (combination.essenceIdentityMatches.find((match) => match.entryId === recipe.entryId)) {\r\n                exactMatches.push(combination);\r\n            }\r\n            if (combination.craftableRecipes.find((craftable) => craftable.entryId === recipe.entryId)) {\r\n                supersets.push(combination);\r\n            }\r\n        });\r\n        const selectFewestComponents = (combinations) => {\r\n            return combinations.sort((left, right) => left.components.length - right.components.length)\r\n                .find(() => true)\r\n                .components;\r\n        };\r\n        if (exactMatches.length === 1) {\r\n            return exactMatches[0].components;\r\n        }\r\n        else if (exactMatches.length > 1) {\r\n            return selectFewestComponents(exactMatches);\r\n        }\r\n        else if (supersets.length === 1) {\r\n            return supersets[0].components;\r\n        }\r\n        else if (supersets.length > 1) {\r\n            return selectFewestComponents(supersets);\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n}\r\nclass CraftingComponentCombination {\r\n    constructor(components, craftableRecipes, essenceIdentity, essencceIdentityMatches) {\r\n        this._components = components;\r\n        this._craftableRecipes = craftableRecipes;\r\n        this._essenceIdentity = essenceIdentity;\r\n        this._essenceIdentityMatches = essencceIdentityMatches;\r\n    }\r\n    get components() {\r\n        return this._components;\r\n    }\r\n    get craftableRecipes() {\r\n        return this._craftableRecipes;\r\n    }\r\n    get essenceIdentity() {\r\n        return this._essenceIdentity;\r\n    }\r\n    get essenceIdentityMatches() {\r\n        return this._essenceIdentityMatches;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0b3IudHM/Zjk1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFnRDtBQUNSO0FBQ2M7QUFDQztBQVN2RCxNQUFNLGlCQUFpQjtJQUVaLG1CQUFtQixDQUFDLE1BQWM7UUFFckMsSUFBSSxLQUFLLEdBQXFCLE1BQU0sQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDL0QsT0FBTyw4REFBYyxDQUFDLE9BQU8sRUFBRTtpQkFDMUIsUUFBUSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUM7aUJBQ2pDLFlBQVksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2lCQUNoQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsc0RBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLHNEQUFVLENBQUMsR0FBRyxDQUFDO2lCQUNuRSxLQUFLLEVBQUUsQ0FBQztRQUNqQixDQUFDLENBQUMsQ0FBQztRQUVILElBQUksTUFBTSxHQUFxQixNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ3pELE9BQU8sOERBQWMsQ0FBQyxPQUFPLEVBQUU7aUJBQzFCLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO2lCQUNyQixVQUFVLENBQUMsc0RBQVUsQ0FBQyxHQUFHLENBQUM7aUJBQzFCLFlBQVksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO2lCQUM3QixLQUFLLEVBQUUsQ0FBQztRQUNqQixDQUFDLENBQUMsQ0FBQztRQUVILE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVoQyxDQUFDO0lBRU0sdUJBQXVCO1FBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMscUVBQXFFLENBQUMsQ0FBQztJQUMzRixDQUFDO0NBRUo7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QixHQUFHLHVCQUF1QixDQUFDO0lBQzNELENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksZ0JBQWdCO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLGVBQWU7UUFDZixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNqQyxDQUFDO0lBRUQsSUFBSSxzQkFBc0I7UUFDdEIsT0FBTyxJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDeEMsQ0FBQztDQUNKO0FBRWtFIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9GYWJyaWNhdG9yLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuL0FjdGlvblR5cGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGlvbkhlbHBlcn0gZnJvbSBcIi4uL0ZhYnJpY2F0aW9uSGVscGVyXCI7XHJcbmltcG9ydCB7RXNzZW5jZUNvbWJpbmVyfSBmcm9tIFwiLi9Fc3NlbmNlQ29tYmluZXJcIjtcclxuXHJcbmludGVyZmFjZSBGYWJyaWNhdG9yIHtcclxuICAgIGZhYnJpY2F0ZUZyb21SZWNpcGUocmVjaXBlOiBSZWNpcGUsIGNvbXBvbmVudHM/OiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQ3JhZnRpbmdSZXN1bHRbXTtcclxuXHJcbiAgICBmYWJyaWNhdGVGcm9tQ29tcG9uZW50cyhjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQ3JhZnRpbmdSZXN1bHQ7XHJcbn1cclxuXHJcbmNsYXNzIERlZmF1bHRGYWJyaWNhdG9yIGltcGxlbWVudHMgRmFicmljYXRvciB7XHJcblxyXG4gICAgcHVibGljIGZhYnJpY2F0ZUZyb21SZWNpcGUocmVjaXBlOiBSZWNpcGUpOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuXHJcbiAgICAgICAgbGV0IGlucHV0OiBDcmFmdGluZ1Jlc3VsdFtdID0gcmVjaXBlLmluZ3JlZGllbnRzLm1hcCgoY29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ1Jlc3VsdC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgIC53aXRoSXRlbShjb21wb25lbnQuY29tcG9uZW50VHlwZSlcclxuICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoY29tcG9uZW50LnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rpb24oY29tcG9uZW50LmNvbnN1bWVkID8gQWN0aW9uVHlwZS5SRU1PVkUgOiBBY3Rpb25UeXBlLkFERClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgb3V0cHV0OiBDcmFmdGluZ1Jlc3VsdFtdID0gcmVjaXBlLnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nUmVzdWx0LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhJdGVtKHJlc3VsdC5pdGVtKVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rpb24oQWN0aW9uVHlwZS5BREQpXHJcbiAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KHJlc3VsdC5xdWFudGl0eSlcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXQuY29uY2F0KG91dHB1dCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmYWJyaWNhdGVGcm9tQ29tcG9uZW50cygpOiBDcmFmdGluZ1Jlc3VsdCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgRGVmYXVsdCBGYWJyaWNhdG9yIHJlcXVpcmVzIGEgUmVjaXBlIGFuZCBvbmUgd2FzIG5vdCBwcm92aWRlZC4gYCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jbGFzcyBFc3NlbmNlQ29tYmluaW5nRmFicmljYXRvcjxUPiBpbXBsZW1lbnRzIEZhYnJpY2F0b3Ige1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUNvbWJpbmVyOiBFc3NlbmNlQ29tYmluZXI8VD47XHJcblxyXG4gICAgY29uc3RydWN0b3IoZXNzZW5jZUNvbWJpbmVyPzogRXNzZW5jZUNvbWJpbmVyPFQ+KSB7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUNvbWJpbmVyID0gZXNzZW5jZUNvbWJpbmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmYWJyaWNhdGVGcm9tQ29tcG9uZW50cyhjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQ3JhZnRpbmdSZXN1bHQge1xyXG4gICAgICAgIGlmICghdGhpcy5fZXNzZW5jZUNvbWJpbmVyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gRXNzZW5jZSBDb21iaW5lciBoYXMgYmVlbiBwcm92aWRlZCBmb3IgdGhpcyBzeXN0ZW0uIFlvdSBtYXkgb25seSBjcmFmdCBmcm9tIFJlY2lwZXMuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhbGNoZW1pY2FsUmVzdWx0ID0gdGhpcy5fZXNzZW5jZUNvbWJpbmVyLmNvbWJpbmUoY29tcG9uZW50cyk7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0YW50SXRlbSA9IHRoaXMuX2Vzc2VuY2VDb21iaW5lci5yZXN1bHRhbnRJdGVtO1xyXG4gICAgICAgIHJldHVybiBDcmFmdGluZ1Jlc3VsdC5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhBY3Rpb24oQWN0aW9uVHlwZS5BREQpXHJcbiAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoMSlcclxuICAgICAgICAgICAgLndpdGhDdXN0b21EYXRhKGFsY2hlbWljYWxSZXN1bHQuYXNJdGVtRGF0YSgpKVxyXG4gICAgICAgICAgICAud2l0aEl0ZW0oQ3JhZnRpbmdDb21wb25lbnQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aENvbXBlbmRpdW1FbnRyeShyZXN1bHRhbnRJdGVtLmNvbXBlbmRpdW1LZXksIHJlc3VsdGFudEl0ZW0uZW50cnlJZClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZmFicmljYXRlRnJvbVJlY2lwZShyZWNpcGU6IFJlY2lwZSwgY3JhZnRpbmdDb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQ3JhZnRpbmdSZXN1bHRbXSB7XHJcbiAgICAgICAgaWYgKCFjcmFmdGluZ0NvbXBvbmVudHMgfHwgY3JhZnRpbmdDb21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVzc2VuY2UgQ29tYmluaW5nIEZhYnJpY2F0b3JzIHJlcXVpcmUgY29tcG9uZW50cyB0byBGYWJyaWNhdGUgUmVjaXBlcy4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb25zID0gdGhpcy5hbmFseXplQ29tYmluYXRpb25zRm9yUmVjaXBlKGNyYWZ0aW5nQ29tcG9uZW50cywgcmVjaXBlKTtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZENvbWJpbmF0aW9uOiBDcmFmdGluZ0NvbXBvbmVudFtdID0gdGhpcy5zZWxlY3RCZXN0Q29tYmluYXRpb25Gcm9tKHJlY2lwZSwgY3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbnMpO1xyXG4gICAgICAgIGlmICghc2VsZWN0ZWRDb21iaW5hdGlvbiB8fHNlbGVjdGVkQ29tYmluYXRpb24ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgYXJlIGluc3VmZmljaWVudCBjb21wb25lbnRzIGF2YWlsYWJsZSB0byBjcmFmdCBSZWNpcGUgJHtyZWNpcGUuZW50cnlJZH0uIGApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGYWJyaWNhdGlvbkhlbHBlci5hc0NyYWZ0aW5nUmVzdWx0cyhzZWxlY3RlZENvbWJpbmF0aW9uLCBBY3Rpb25UeXBlLlJFTU9WRSkuY29uY2F0KHJlY2lwZS5yZXN1bHRzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFuYWx5emVDb21iaW5hdGlvbnNGb3JSZWNpcGUoY29tcG9uZW50czogIENyYWZ0aW5nQ29tcG9uZW50W10sIHJlY2lwZTogUmVjaXBlKTogQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbltdIHtcclxuICAgICAgICBjb25zdCBlc3NlbmNlSWRlbnRpdGllczogTWFwPHN0cmluZywgbnVtYmVyPiA9IEZhYnJpY2F0aW9uSGVscGVyLmFzc2lnbkVzc2VuY2VJZGVudGl0aWVzKHJlY2lwZS5lc3NlbmNlcyk7XHJcbiAgICAgICAgY29uc3QgdXNhYmxlQ29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSA9IGNvbXBvbmVudHMuZmlsdGVyKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiBjb21wb25lbnQuZXNzZW5jZXMuZmlsdGVyKChlc3NlbmNlOiBzdHJpbmcpID0+IHJlY2lwZS5lc3NlbmNlcy5pbmNsdWRlcyhlc3NlbmNlKSkubGVuZ3RoID4gMCk7XHJcbiAgICAgICAgY29uc3QgcmVjaXBlSWRlbnRpdHkgPSBGYWJyaWNhdGlvbkhlbHBlci5lc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eShyZWNpcGUuZXNzZW5jZXMsIGVzc2VuY2VJZGVudGl0aWVzKTtcclxuICAgICAgICBjb25zdCBjb21wb25lbnRFc3NlbmNlSWRlbnRpdHk6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdXNhYmxlQ29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghY29tcG9uZW50RXNzZW5jZUlkZW50aXR5Lmhhcyhjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRFc3NlbmNlSWRlbnRpdHkuc2V0KGNvbXBvbmVudC5jb21wZW5kaXVtRW50cnkuZW50cnlJZCwgRmFicmljYXRpb25IZWxwZXIuZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkoY29tcG9uZW50LmVzc2VuY2VzLCBlc3NlbmNlSWRlbnRpdGllcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIEZhYnJpY2F0aW9uSGVscGVyLmNvbWJpbmF0aW9uSGlzdG9ncmFtKHVzYWJsZUNvbXBvbmVudHMpLm1hcCgoY29tYmluYXRpb246IENyYWZ0aW5nQ29tcG9uZW50W10pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkgPSBjb21iaW5hdGlvbi5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IGNvbXBvbmVudEVzc2VuY2VJZGVudGl0eS5nZXQoY29tcG9uZW50LmNvbXBlbmRpdW1FbnRyeS5lbnRyeUlkKSlcclxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IG51bWJlciwgcmlnaHQ6IG51bWJlcikgPT4gbGVmdCAqIHJpZ2h0LCAxKTtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRhYmxlUmVjaXBlczogUmVjaXBlW10gPSBbXTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDcmFmdGFibGVGcm9tRXNzZW5jZXNJbihyZWNpcGUsIGNvbWJpbmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgY3JhZnRhYmxlUmVjaXBlcy5wdXNoKHJlY2lwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZXNzZW5jZUlkZW50aXR5TWF0Y2hGb3JSZWNpcGVzOiBSZWNpcGVbXSA9IFtdO1xyXG4gICAgICAgICAgICBpZiAoZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkgPT09IHJlY2lwZUlkZW50aXR5KSB7XHJcbiAgICAgICAgICAgICAgICBlc3NlbmNlSWRlbnRpdHlNYXRjaEZvclJlY2lwZXMucHVzaChyZWNpcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbihjb21iaW5hdGlvbiwgY3JhZnRhYmxlUmVjaXBlcywgZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHksIGVzc2VuY2VJZGVudGl0eU1hdGNoRm9yUmVjaXBlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0NyYWZ0YWJsZUZyb21Fc3NlbmNlc0luKHJlY2lwZTogUmVjaXBlLCBjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZXMgPSBjb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50LmVzc2VuY2VzKVxyXG4gICAgICAgICAgICAucmVkdWNlKChsZWZ0OiBzdHJpbmdbXSwgcmlnaHQ6IHN0cmluZ1tdKSA9PiBsZWZ0LmNvbmNhdChyaWdodCksIFtdKTtcclxuICAgICAgICByZXR1cm4gZXNzZW5jZXMuZXZlcnkoKGVzc2VuY2U6IHN0cmluZykgPT4gcmVjaXBlLmVzc2VuY2VzLmluY2x1ZGVzKGVzc2VuY2UpXHJcbiAgICAgICAgICAgICYmICAoZXNzZW5jZXMuZmlsdGVyKChlc3NlbmNlOnN0cmluZykgPT4gZXNzZW5jZSA9PT0gZXNzZW5jZSkubGVuZ3RoID49IHJlY2lwZS5lc3NlbmNlcy5maWx0ZXIoKGVzc2VuY2U6c3RyaW5nKSA9PiBlc3NlbmNlID09PSBlc3NlbmNlKS5sZW5ndGgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZmlsdGVyQ3JhZnRhYmxlUmVjaXBlc0ZvcihjcmFmdGluZ0NvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10sIHJlY2lwZXM6IFJlY2lwZVtdKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZXMuZmlsdGVyKChyZWNpcGU6IFJlY2lwZSkgPT4gdGhpcy5pc0NyYWZ0YWJsZUZyb21Fc3NlbmNlc0luKHJlY2lwZSwgY3JhZnRpbmdDb21wb25lbnRzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZWxlY3RCZXN0Q29tYmluYXRpb25Gcm9tKHJlY2lwZTogUmVjaXBlLCBjb21iaW5hdGlvbnM6IENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb25bXSk6IENyYWZ0aW5nQ29tcG9uZW50W10ge1xyXG4gICAgICAgIGNvbnN0IGV4YWN0TWF0Y2hlczogQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbltdID0gW107XHJcbiAgICAgICAgY29uc3Qgc3VwZXJzZXRzOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uW10gPSBbXTtcclxuICAgICAgICBjb21iaW5hdGlvbnMuZm9yRWFjaCgoY29tYmluYXRpb246IENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb24pID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbWJpbmF0aW9uLmVzc2VuY2VJZGVudGl0eU1hdGNoZXMuZmluZCgobWF0Y2g6IFJlY2lwZSkgPT4gbWF0Y2guZW50cnlJZCA9PT0gcmVjaXBlLmVudHJ5SWQpKSB7XHJcbiAgICAgICAgICAgICAgICBleGFjdE1hdGNoZXMucHVzaChjb21iaW5hdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbWJpbmF0aW9uLmNyYWZ0YWJsZVJlY2lwZXMuZmluZCgoY3JhZnRhYmxlOiBSZWNpcGUpID0+IGNyYWZ0YWJsZS5lbnRyeUlkID09PSByZWNpcGUuZW50cnlJZCkpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyc2V0cy5wdXNoKGNvbWJpbmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdEZld2VzdENvbXBvbmVudHMgPSAoY29tYmluYXRpb25zOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uW10pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9ucy5zb3J0KChsZWZ0LCByaWdodCkgPT4gbGVmdC5jb21wb25lbnRzLmxlbmd0aCAtIHJpZ2h0LmNvbXBvbmVudHMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoKCkgPT4gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIC5jb21wb25lbnRzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCBleGFjdE1hdGNoZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleGFjdE1hdGNoZXNbMF0uY29tcG9uZW50cztcclxuICAgICAgICB9IGVsc2UgaWYgKCBleGFjdE1hdGNoZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0RmV3ZXN0Q29tcG9uZW50cyhleGFjdE1hdGNoZXMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwZXJzZXRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXJzZXRzWzBdLmNvbXBvbmVudHM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzdXBlcnNldHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0RmV3ZXN0Q29tcG9uZW50cyhzdXBlcnNldHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb24ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGFibGVSZWNpcGVzOiBSZWNpcGVbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VJZGVudGl0eU1hdGNoZXM6IFJlY2lwZVtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUlkZW50aXR5OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSwgY3JhZnRhYmxlUmVjaXBlczogUmVjaXBlW10sIGVzc2VuY2VJZGVudGl0eTogbnVtYmVyLCBlc3NlbmNjZUlkZW50aXR5TWF0Y2hlczogUmVjaXBlW10pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gY29tcG9uZW50cztcclxuICAgICAgICB0aGlzLl9jcmFmdGFibGVSZWNpcGVzID0gY3JhZnRhYmxlUmVjaXBlcztcclxuICAgICAgICB0aGlzLl9lc3NlbmNlSWRlbnRpdHkgPSBlc3NlbmNlSWRlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUlkZW50aXR5TWF0Y2hlcyA9IGVzc2VuY2NlSWRlbnRpdHlNYXRjaGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IENyYWZ0aW5nQ29tcG9uZW50W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjcmFmdGFibGVSZWNpcGVzKCk6IFJlY2lwZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JhZnRhYmxlUmVjaXBlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZUlkZW50aXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vzc2VuY2VJZGVudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZUlkZW50aXR5TWF0Y2hlcygpOiBSZWNpcGVbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vzc2VuY2VJZGVudGl0eU1hdGNoZXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRvciwgRGVmYXVsdEZhYnJpY2F0b3IsIEVzc2VuY2VDb21iaW5pbmdGYWJyaWNhdG9yfTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/Fabricator.ts\n");

/***/ }),

/***/ "./src/scripts/core/GameSystemType.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/GameSystemType.ts ***!
  \********************************************/
/*! exports provided: GameSystemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameSystemType\", function() { return GameSystemType; });\nvar GameSystemType;\r\n(function (GameSystemType) {\r\n    GameSystemType[\"DND5E\"] = \"dnd5e\";\r\n})(GameSystemType || (GameSystemType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0dhbWVTeXN0ZW1UeXBlLnRzPzdkODciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLElBQVksY0FFWDtBQUZELFdBQVksY0FBYztJQUN0QixpQ0FBZTtBQUNuQixDQUFDLEVBRlcsY0FBYyxLQUFkLGNBQWMsUUFFekIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0dhbWVTeXN0ZW1UeXBlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gR2FtZVN5c3RlbVR5cGUge1xyXG4gICAgRE5ENUUgPSAnZG5kNWUnXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/GameSystemType.ts\n");

/***/ }),

/***/ "./src/scripts/core/Ingredient.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Ingredient.ts ***!
  \****************************************/
/*! exports provided: Ingredient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Ingredient\", function() { return Ingredient; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n\r\nclass Ingredient {\r\n    constructor(builder) {\r\n        this._componentType = builder.componentType;\r\n        this._quantity = builder.quantity;\r\n        this._consumed = builder.consumed;\r\n    }\r\n    static builder() {\r\n        return new Ingredient.Builder();\r\n    }\r\n    get componentType() {\r\n        return this._componentType;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    matchesType(other) {\r\n        return other.componentType.equals(this._componentType);\r\n    }\r\n    is(other) {\r\n        return this._componentType.equals(other.componentType)\r\n            && (this._quantity === other.quantity)\r\n            && (this._consumed === other.consumed);\r\n    }\r\n    static fromFlags(flags) {\r\n        return this.builder()\r\n            .isConsumed(flags.consumed)\r\n            .withQuantity(flags.quantity)\r\n            .withComponentType(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].builder()\r\n            .withName(flags.componentType.name)\r\n            .withCompendiumEntry(flags.componentType.compendiumEntry.compendiumKey, flags.componentType.compendiumEntry.entryId)\r\n            .build())\r\n            .build();\r\n    }\r\n    static manyFromFlags(flags) {\r\n        return flags.map((flagData) => Ingredient.fromFlags(flagData));\r\n    }\r\n    isValid() {\r\n        return (this.quantity != null && this.quantity > 0)\r\n            && this.componentType.isValid();\r\n    }\r\n}\r\n(function (Ingredient) {\r\n    class Builder {\r\n        withComponentType(value) {\r\n            this.componentType = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        isConsumed(value) {\r\n            this.consumed = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new Ingredient(this);\r\n        }\r\n    }\r\n    Ingredient.Builder = Builder;\r\n})(Ingredient || (Ingredient = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0luZ3JlZGllbnQudHM/N2JjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBc0Q7QUFHdEQsTUFBTSxVQUFVO0lBS1osWUFBWSxPQUEyQjtRQUNuQyxJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFDNUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUN0QyxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLFVBQVUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQWlCO1FBQ2hDLE9BQU8sS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFTSxFQUFFLENBQUMsS0FBaUI7UUFDdkIsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO2VBQy9DLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDO2VBQ25DLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBK0I7UUFDbkQsT0FBTyxJQUFJLENBQUMsT0FBTyxFQUFFO2FBQ2hCLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO2FBQzFCLFlBQVksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO2FBQzVCLGlCQUFpQixDQUFDLG9FQUFpQixDQUFDLE9BQU8sRUFBRTthQUN6QyxRQUFRLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7YUFDbEMsbUJBQW1CLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQzthQUNuSCxLQUFLLEVBQUUsQ0FBQzthQUNaLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFTSxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQWlDO1FBQ3pELE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ25FLENBQUM7SUFFRCxPQUFPO1FBQ0gsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUcsSUFBSSxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO2VBQy9DLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDcEMsQ0FBQztDQUNKO0FBRUQsV0FBVSxVQUFVO0lBQ2hCLE1BQWEsT0FBTztRQUtULGlCQUFpQixDQUFDLEtBQXdCO1lBQzdDLElBQUksQ0FBQyxhQUFhLEdBQUcsS0FBSyxDQUFDO1lBQzNCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBYTtZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sVUFBVSxDQUFDLEtBQWM7WUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLENBQUM7S0FDSjtJQXZCWSxrQkFBTyxVQXVCbkI7QUFDTCxDQUFDLEVBekJTLFVBQVUsS0FBVixVQUFVLFFBeUJuQjtBQUVxQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvSW5ncmVkaWVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7RmFicmljYXRlSW5ncmVkaWVudEZsYWdzfSBmcm9tIFwiLi9Db21wZW5kaXVtRGF0YVwiO1xyXG5cclxuY2xhc3MgSW5ncmVkaWVudCB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRUeXBlOiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3F1YW50aXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb25zdW1lZDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyOiBJbmdyZWRpZW50LkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRUeXBlID0gYnVpbGRlci5jb21wb25lbnRUeXBlO1xyXG4gICAgICAgIHRoaXMuX3F1YW50aXR5ID0gYnVpbGRlci5xdWFudGl0eTtcclxuICAgICAgICB0aGlzLl9jb25zdW1lZCA9IGJ1aWxkZXIuY29uc3VtZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgSW5ncmVkaWVudC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudFR5cGUoKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29uc3VtZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN1bWVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtYXRjaGVzVHlwZShvdGhlcjogSW5ncmVkaWVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBvdGhlci5jb21wb25lbnRUeXBlLmVxdWFscyh0aGlzLl9jb21wb25lbnRUeXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXMob3RoZXI6IEluZ3JlZGllbnQpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50VHlwZS5lcXVhbHMob3RoZXIuY29tcG9uZW50VHlwZSlcclxuICAgICAgICAgICAgJiYgKHRoaXMuX3F1YW50aXR5ID09PSBvdGhlci5xdWFudGl0eSlcclxuICAgICAgICAgICAgJiYgKHRoaXMuX2NvbnN1bWVkID09PSBvdGhlci5jb25zdW1lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZUluZ3JlZGllbnRGbGFncyk6IEluZ3JlZGllbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAuaXNDb25zdW1lZChmbGFncy5jb25zdW1lZClcclxuICAgICAgICAgICAgLndpdGhRdWFudGl0eShmbGFncy5xdWFudGl0eSlcclxuICAgICAgICAgICAgLndpdGhDb21wb25lbnRUeXBlKENyYWZ0aW5nQ29tcG9uZW50LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhOYW1lKGZsYWdzLmNvbXBvbmVudFR5cGUubmFtZSlcclxuICAgICAgICAgICAgICAgIC53aXRoQ29tcGVuZGl1bUVudHJ5KGZsYWdzLmNvbXBvbmVudFR5cGUuY29tcGVuZGl1bUVudHJ5LmNvbXBlbmRpdW1LZXksIGZsYWdzLmNvbXBvbmVudFR5cGUuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpXHJcbiAgICAgICAgICAgICAgICAuYnVpbGQoKSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBtYW55RnJvbUZsYWdzKGZsYWdzOiBGYWJyaWNhdGVJbmdyZWRpZW50RmxhZ3NbXSk6IEluZ3JlZGllbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIGZsYWdzLm1hcCgoZmxhZ0RhdGEpID0+IEluZ3JlZGllbnQuZnJvbUZsYWdzKGZsYWdEYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNWYWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucXVhbnRpdHkhPSBudWxsICYmIHRoaXMucXVhbnRpdHkgPiAwKVxyXG4gICAgICAgICYmIHRoaXMuY29tcG9uZW50VHlwZS5pc1ZhbGlkKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBJbmdyZWRpZW50IHtcclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuICAgICAgICBwdWJsaWMgY29tcG9uZW50VHlwZSE6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgIHB1YmxpYyBxdWFudGl0eSE6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMgY29uc3VtZWQhOiBib29sZWFuO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBvbmVudFR5cGUodmFsdWU6IENyYWZ0aW5nQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUXVhbnRpdHkodmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGlzQ29uc3VtZWQodmFsdWU6IGJvb2xlYW4pIHtcclxuICAgICAgICAgICAgdGhpcy5jb25zdW1lZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbmdyZWRpZW50KHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgSW5ncmVkaWVudCB9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/Ingredient.ts\n");

/***/ }),

/***/ "./src/scripts/core/InventoryRecord.ts":
/*!*********************************************!*\
  !*** ./src/scripts/core/InventoryRecord.ts ***!
  \*********************************************/
/*! exports provided: InventoryRecord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRecord\", function() { return InventoryRecord; });\nclass InventoryRecord {\r\n    constructor(builder) {\r\n        this._actor = builder.actor;\r\n        this._item = builder.item;\r\n        this._quantity = builder.quantity;\r\n        this._componentType = builder.craftingComponent;\r\n    }\r\n    static builder() {\r\n        return new InventoryRecord.Builder();\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get item() {\r\n        return this._item;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    set quantity(value) {\r\n        this._quantity = value;\r\n    }\r\n    get componentType() {\r\n        return this._componentType;\r\n    }\r\n}\r\n(function (InventoryRecord) {\r\n    class Builder {\r\n        withActor(value) {\r\n            this.actor = value;\r\n            return this;\r\n        }\r\n        withItem(value) {\r\n            this.item = value;\r\n            return this;\r\n        }\r\n        withCraftingComponent(value) {\r\n            this.craftingComponent = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new InventoryRecord(this);\r\n        }\r\n    }\r\n    InventoryRecord.Builder = Builder;\r\n})(InventoryRecord || (InventoryRecord = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ludmVudG9yeVJlY29yZC50cz9hOWVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQSxNQUFNLGVBQWU7SUFNakIsWUFBWSxPQUFnQztRQUN4QyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQzFCLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztRQUNsQyxJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztJQUNwRCxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGVBQWUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLElBQUk7UUFDSixPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxRQUFRLENBQUMsS0FBYTtRQUN0QixJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7Q0FDSjtBQUVELFdBQVUsZUFBZTtJQUNyQixNQUFhLE9BQU87UUFNVCxTQUFTLENBQUMsS0FBWTtZQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNuQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ00sUUFBUSxDQUFDLEtBQVc7WUFDdkIsSUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7WUFDbEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHFCQUFxQixDQUFDLEtBQXdCO1lBQ2pELElBQUksQ0FBQyxpQkFBaUIsR0FBRyxLQUFLLENBQUM7WUFDL0IsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFlBQVksQ0FBQyxLQUFhO1lBQzdCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxLQUFLO1lBQ1IsT0FBTyxJQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyQyxDQUFDO0tBRUo7SUE3QlksdUJBQU8sVUE2Qm5CO0FBQ0wsQ0FBQyxFQS9CUyxlQUFlLEtBQWYsZUFBZSxRQStCeEI7QUFFdUIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ludmVudG9yeVJlY29yZC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcblxyXG5jbGFzcyBJbnZlbnRvcnlSZWNvcmQge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWN0b3I6IEFjdG9yO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXRlbTogSXRlbTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudFR5cGU6IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgcHJpdmF0ZSBfcXVhbnRpdHk6IG51bWJlcjsgLy8gVE9ETzogcmVtb3ZlIHRoaXMgYW5kIHJlbHkgb24gYGl0ZW0ucXVhbnRpdHlgXHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogSW52ZW50b3J5UmVjb3JkLkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9hY3RvciA9IGJ1aWxkZXIuYWN0b3I7XHJcbiAgICAgICAgdGhpcy5faXRlbSA9IGJ1aWxkZXIuaXRlbTtcclxuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IGJ1aWxkZXIucXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50VHlwZSA9IGJ1aWxkZXIuY3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCk6IEludmVudG9yeVJlY29yZC5CdWlsZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IEludmVudG9yeVJlY29yZC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdG9yKCk6IEFjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW0oKTogSXRlbSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHF1YW50aXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBxdWFudGl0eSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcG9uZW50VHlwZSgpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBvbmVudFR5cGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBJbnZlbnRvcnlSZWNvcmQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG4gICAgICAgIHB1YmxpYyBhY3RvciE6IEFjdG9yO1xyXG4gICAgICAgIHB1YmxpYyBpdGVtITogSXRlbTtcclxuICAgICAgICBwdWJsaWMgY3JhZnRpbmdDb21wb25lbnQhOiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgICAgICBwdWJsaWMgcXVhbnRpdHkhOiBudW1iZXI7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQWN0b3IodmFsdWU6IEFjdG9yKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0b3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHB1YmxpYyB3aXRoSXRlbSh2YWx1ZTogSXRlbSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLml0ZW0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENyYWZ0aW5nQ29tcG9uZW50KHZhbHVlOiBDcmFmdGluZ0NvbXBvbmVudCk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmNyYWZ0aW5nQ29tcG9uZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhRdWFudGl0eSh2YWx1ZTogbnVtYmVyKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogSW52ZW50b3J5UmVjb3JkIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZlbnRvcnlSZWNvcmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJbnZlbnRvcnlSZWNvcmR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/InventoryRecord.ts\n");

/***/ }),

/***/ "./src/scripts/core/Recipe.ts":
/*!************************************!*\
  !*** ./src/scripts/core/Recipe.ts ***!
  \************************************/
/*! exports provided: Recipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Recipe\", function() { return Recipe; });\n/* harmony import */ var _Ingredient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ingredient */ \"./src/scripts/core/Ingredient.ts\");\n/* harmony import */ var _CraftingResult__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n/* harmony import */ var _CompendiumData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CompendiumData */ \"./src/scripts/core/CompendiumData.ts\");\n\r\n\r\n\r\nclass Recipe {\r\n    constructor(builder) {\r\n        this._ingredients = builder.ingredients;\r\n        this._essences = builder.essences;\r\n        this._results = builder.results;\r\n        this._name = builder.name;\r\n        this._entryId = builder.entryId;\r\n    }\r\n    static fromFlags(flags) {\r\n        if (flags.type !== _CompendiumData__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItemType\"].RECIPE) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Recipe from ${flags.type} data. `);\r\n        }\r\n        return Recipe.builder()\r\n            .withName(flags.recipe.name)\r\n            .withEntryId(flags.recipe.entryId)\r\n            .withEssences(flags.recipe.essences)\r\n            .withResults(_CraftingResult__WEBPACK_IMPORTED_MODULE_1__[\"CraftingResult\"].manyFromFlags(flags.recipe.results))\r\n            .withIngredients(_Ingredient__WEBPACK_IMPORTED_MODULE_0__[\"Ingredient\"].manyFromFlags(flags.recipe.ingredients))\r\n            .build();\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get ingredients() {\r\n        return this._ingredients;\r\n    }\r\n    get results() {\r\n        return this._results;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    get entryId() {\r\n        return this._entryId;\r\n    }\r\n    static builder() {\r\n        return new Recipe.Builder();\r\n    }\r\n    isValid() {\r\n        const nameValid = this.name != null && this.name.length > 0;\r\n        const idValid = this.entryId != null && this.entryId.length > 0;\r\n        let ingredientsValid = true;\r\n        this.ingredients.forEach((ingredient) => {\r\n            if (!ingredient.isValid()) {\r\n                ingredientsValid = false;\r\n            }\r\n        });\r\n        let resultsValid = true;\r\n        this.results.forEach((result) => {\r\n            if (!result.isValid()) {\r\n                resultsValid = false;\r\n            }\r\n        });\r\n        const essencesValid = this.essences !== null;\r\n        const hasInputSpecified = this.essences.length > 0 || this.ingredients.length > 0;\r\n        return nameValid && idValid && ingredientsValid && resultsValid && essencesValid && hasInputSpecified;\r\n    }\r\n}\r\n(function (Recipe) {\r\n    class Builder {\r\n        constructor() {\r\n            this.ingredients = [];\r\n            this.essences = [];\r\n            this.results = [];\r\n        }\r\n        build() {\r\n            return new Recipe(this);\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withIngredient(value) {\r\n            this.ingredients.push(value);\r\n            return this;\r\n        }\r\n        withIngredients(value) {\r\n            this.ingredients.push(...value);\r\n            return this;\r\n        }\r\n        withEssence(value) {\r\n            this.essences.push(value);\r\n            return this;\r\n        }\r\n        withEssences(values) {\r\n            this.essences.push(...values);\r\n            return this;\r\n        }\r\n        withResult(value) {\r\n            this.results.push(value);\r\n            return this;\r\n        }\r\n        withResults(value) {\r\n            this.results = value;\r\n            return this;\r\n        }\r\n        withEntryId(value) {\r\n            this.entryId = value;\r\n            return this;\r\n        }\r\n    }\r\n    Recipe.Builder = Builder;\r\n})(Recipe || (Recipe = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL1JlY2lwZS50cz81N2VkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBd0M7QUFDUTtBQUM0QjtBQUU1RSxNQUFNLE1BQU07SUFPUixZQUFZLE9BQXVCO1FBQy9CLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUN4QyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7UUFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7SUFDcEMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBOEI7UUFDbEQsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLGlFQUFpQixDQUFDLE1BQU0sRUFBRTtZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDJEQUEyRCxLQUFLLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQztTQUNuRztRQUNELE9BQU8sTUFBTSxDQUFDLE9BQU8sRUFBRTthQUNsQixRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7YUFDM0IsV0FBVyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO2FBQ2pDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQzthQUNuQyxXQUFXLENBQUMsOERBQWMsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUMvRCxlQUFlLENBQUMsc0RBQVUsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUNuRSxLQUFLLEVBQUUsQ0FBQztJQUNq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SSxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUM7WUFDOUIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELFVBQVUsQ0FBQyxLQUFxQjtZQUM1QixJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN6QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsV0FBVyxDQUFDLEtBQXVCO1lBQy9CLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1lBQ3JCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxXQUFXLENBQUMsS0FBYTtZQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO0tBQ0o7SUFsRFksY0FBTyxVQWtEbkI7QUFDTCxDQUFDLEVBcERTLE1BQU0sS0FBTixNQUFNLFFBb0RmO0FBRWUiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL1JlY2lwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4vSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vQ29tcGVuZGl1bURhdGFcIjtcclxuXHJcbmNsYXNzIFJlY2lwZSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pbmdyZWRpZW50czogSW5ncmVkaWVudFtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZXM6IHN0cmluZ1tdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVzdWx0czogQ3JhZnRpbmdSZXN1bHRbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VudHJ5SWQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyOiBSZWNpcGUuQnVpbGRlcikge1xyXG4gICAgICAgIHRoaXMuX2luZ3JlZGllbnRzID0gYnVpbGRlci5pbmdyZWRpZW50cztcclxuICAgICAgICB0aGlzLl9lc3NlbmNlcyA9IGJ1aWxkZXIuZXNzZW5jZXM7XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0cyA9IGJ1aWxkZXIucmVzdWx0cztcclxuICAgICAgICB0aGlzLl9uYW1lID0gYnVpbGRlci5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2VudHJ5SWQgPSBidWlsZGVyLmVudHJ5SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhKTogUmVjaXBlIHtcclxuICAgICAgICBpZiAoZmxhZ3MudHlwZSAhPT0gRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYXR0ZW1wdGluZyB0byBpbnN0YW50aWF0ZSBhIEZhYnJpY2F0ZSBSZWNpcGUgZnJvbSAke2ZsYWdzLnR5cGV9IGRhdGEuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUmVjaXBlLmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAud2l0aE5hbWUoZmxhZ3MucmVjaXBlLm5hbWUpXHJcbiAgICAgICAgICAgIC53aXRoRW50cnlJZChmbGFncy5yZWNpcGUuZW50cnlJZClcclxuICAgICAgICAgICAgLndpdGhFc3NlbmNlcyhmbGFncy5yZWNpcGUuZXNzZW5jZXMpXHJcbiAgICAgICAgICAgIC53aXRoUmVzdWx0cyhDcmFmdGluZ1Jlc3VsdC5tYW55RnJvbUZsYWdzKGZsYWdzLnJlY2lwZS5yZXN1bHRzKSlcclxuICAgICAgICAgICAgLndpdGhJbmdyZWRpZW50cyhJbmdyZWRpZW50Lm1hbnlGcm9tRmxhZ3MoZmxhZ3MucmVjaXBlLmluZ3JlZGllbnRzKSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5ncmVkaWVudHMoKTogSW5ncmVkaWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5ncmVkaWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc3VsdHMoKTogQ3JhZnRpbmdSZXN1bHRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVudHJ5SWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZW50cnlJZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWNpcGUuQnVpbGRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgbmFtZVZhbGlkID0gdGhpcy5uYW1lICE9IG51bGwgJiYgdGhpcy5uYW1lLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgY29uc3QgaWRWYWxpZCA9IHRoaXMuZW50cnlJZCAhPSBudWxsICYmIHRoaXMuZW50cnlJZC5sZW5ndGggPiAwO1xyXG4gICAgICAgIGxldCBpbmdyZWRpZW50c1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbmdyZWRpZW50LmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgaW5ncmVkaWVudHNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdHNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRzLmZvckVhY2goKHJlc3VsdDogQ3JhZnRpbmdSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VzVmFsaWQ6IGJvb2xlYW4gPSB0aGlzLmVzc2VuY2VzICE9PSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGhhc0lucHV0U3BlY2lmaWVkOiBib29sZWFuID0gdGhpcy5lc3NlbmNlcy5sZW5ndGggPiAwIHx8IHRoaXMuaW5ncmVkaWVudHMubGVuZ3RoID4gMDtcclxuICAgICAgICByZXR1cm4gbmFtZVZhbGlkICYmIGlkVmFsaWQgJiYgaW5ncmVkaWVudHNWYWxpZCAmJiByZXN1bHRzVmFsaWQgJiYgZXNzZW5jZXNWYWxpZCAmJiBoYXNJbnB1dFNwZWNpZmllZDtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIFJlY2lwZSB7XHJcbiAgICBleHBvcnQgY2xhc3MgQnVpbGRlciB7XHJcbiAgICAgICAgcHVibGljIGluZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZXNzZW5jZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlc3VsdHM6IENyYWZ0aW5nUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgZW50cnlJZCE6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY2lwZSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEluZ3JlZGllbnQodmFsdWU6IEluZ3JlZGllbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmdyZWRpZW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoSW5ncmVkaWVudHModmFsdWU6IEluZ3JlZGllbnRbXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluZ3JlZGllbnRzLnB1c2goLi4udmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhFc3NlbmNlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5lc3NlbmNlcy5wdXNoKHZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhFc3NlbmNlcyh2YWx1ZXM6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZXMucHVzaCguLi52YWx1ZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhSZXN1bHQodmFsdWU6IENyYWZ0aW5nUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUmVzdWx0cyh2YWx1ZTogQ3JhZnRpbmdSZXN1bHRbXSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoRW50cnlJZCh2YWx1ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50cnlJZCA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7UmVjaXBlfTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/Recipe.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/Inventory5E.ts":
/*!******************************************!*\
  !*** ./src/scripts/dnd5e/Inventory5E.ts ***!
  \******************************************/
/*! exports provided: Inventory5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Inventory5E\", function() { return Inventory5E; });\n/* harmony import */ var _core_CraftingInventory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CraftingInventory */ \"./src/scripts/core/CraftingInventory.ts\");\n/* harmony import */ var _core_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/InventoryRecord */ \"./src/scripts/core/InventoryRecord.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _core_CompendiumData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/CompendiumData */ \"./src/scripts/core/CompendiumData.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_Ingredient__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/Ingredient */ \"./src/scripts/core/Ingredient.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Inventory5E extends _core_CraftingInventory__WEBPACK_IMPORTED_MODULE_0__[\"CraftingInventory\"] {\r\n    constructor(actor) {\r\n        super(actor);\r\n        this._itemDirectory = new Map();\r\n        this._supportedGameSystems = [_core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__[\"GameSystemType\"].DND5E];\r\n        this.index();\r\n    }\r\n    index() {\r\n        if (!this._actor) {\r\n            throw new Error(`No Actor was set for this Inventory to index`);\r\n        }\r\n        const items = Array.from(this._actor.items.values());\r\n        this._itemDirectory.clear();\r\n        const allowableItems = _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].types.allowableItems;\r\n        items.filter((item) => (allowableItems.indexOf(item.type) >= 0)\r\n            && item.data.flags.fabricate\r\n            && item.data.flags.fabricate.type === _core_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT)\r\n            .map((item) => {\r\n            const itemConfig = item.data.flags.fabricate;\r\n            return _core_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                .withActor(this._actor)\r\n                .withItem(item)\r\n                .withQuantity(item.data.data.quantity)\r\n                .withCraftingComponent(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__[\"CraftingComponent\"].fromFlags(itemConfig))\r\n                .build();\r\n        })\r\n            .forEach((inventoryRecord) => {\r\n            const inventoryRecordsForType = this._itemDirectory.get(inventoryRecord.componentType.compendiumEntry.entryId);\r\n            if (inventoryRecordsForType) {\r\n                inventoryRecordsForType.push(inventoryRecord);\r\n            }\r\n            else {\r\n                this._itemDirectory.set(inventoryRecord.componentType.compendiumEntry.entryId, [inventoryRecord]);\r\n            }\r\n        });\r\n    }\r\n    add(component, amountToAdd = 1) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const itemsOfType = this._itemDirectory.get(component.compendiumEntry.entryId);\r\n            if (!itemsOfType || itemsOfType.length == 0) {\r\n                const compendium = game.packs.get(component.compendiumEntry.compendiumKey);\r\n                const itemData = yield compendium.getEntity(component.compendiumEntry.entryId);\r\n                itemData.quantity = amountToAdd;\r\n                const createdItem = yield this._actor.createEmbeddedEntity('OwnedItem', itemData);\r\n                const inventoryRecord = _core_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                    .withActor(this._actor)\r\n                    .withItem(createdItem)\r\n                    .withQuantity(createdItem.data.quantity)\r\n                    .withCraftingComponent(component)\r\n                    .build();\r\n                this._itemDirectory.set(component.compendiumEntry.entryId, [inventoryRecord]);\r\n                return inventoryRecord;\r\n            }\r\n            else {\r\n                itemsOfType.sort((left, right) => left.quantity - right.quantity);\r\n                const item = itemsOfType[0].item;\r\n                const updatedQuantity = item.data.data.quantity + amountToAdd;\r\n                // @ts-ignore\r\n                yield this.actor.updateEmbeddedEntity('OwnedItem', { _id: item.id, data: { quantity: updatedQuantity } });\r\n                itemsOfType[0].quantity = updatedQuantity;\r\n                return itemsOfType[0];\r\n            }\r\n        });\r\n    }\r\n    get contents() {\r\n        const contents = [];\r\n        for (const records of this._itemDirectory.values()) {\r\n            contents.push(...records);\r\n        }\r\n        return contents;\r\n    }\r\n    remove(component, amountToRemove = 1) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.contains(_core_Ingredient__WEBPACK_IMPORTED_MODULE_6__[\"Ingredient\"].builder().withQuantity(amountToRemove).withComponentType(component).build())) {\r\n                throw new Error(`Cannot remove ${amountToRemove} ${component.name} from Inventory for Actor ${this.actorId} - \r\n            there is not enough of the component in their inventory! `);\r\n            }\r\n            const itemsOfType = this._itemDirectory.get(component.compendiumEntry.entryId);\r\n            itemsOfType.sort((left, right) => left.quantity - right.quantity);\r\n            let removed = 0;\r\n            let currentItemIndex = 0;\r\n            while (removed < amountToRemove) {\r\n                const thisRecord = itemsOfType[currentItemIndex];\r\n                const remaining = amountToRemove - removed;\r\n                if (remaining < thisRecord.quantity) {\r\n                    const updatedQuantity = thisRecord.quantity - remaining;\r\n                    // @ts-ignore\r\n                    yield this.actor.updateEmbeddedEntity('OwnedItem', {\r\n                        _id: thisRecord.item.id,\r\n                        data: { quantity: updatedQuantity }\r\n                    });\r\n                    thisRecord.quantity = updatedQuantity;\r\n                    removed += amountToRemove;\r\n                }\r\n                else {\r\n                    // @ts-ignore\r\n                    yield this.actor.deleteEmbeddedEntity('OwnedItem', thisRecord.item.id);\r\n                    removed += thisRecord.quantity;\r\n                    thisRecord.quantity = 0;\r\n                }\r\n                currentItemIndex++;\r\n            }\r\n            const remainingInventoryRecords = itemsOfType.filter((inventoryRecord) => inventoryRecord.quantity > 0);\r\n            this._itemDirectory.set(component.compendiumEntry.entryId, remainingInventoryRecords);\r\n            return true;\r\n        });\r\n    }\r\n    updateQuantityFor(updatedItem) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!updatedItem.flags.fabricate || (updatedItem.flags.fabricate.type !== _core_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT)) {\r\n                return;\r\n            }\r\n            const flags = updatedItem.flags.fabricate;\r\n            const matches = this._itemDirectory.get(flags.component.compendiumEntry.entryId)\r\n                .filter((candidate) => candidate.item.id === updatedItem._id);\r\n            if (matches.length === 0) {\r\n                throw new Error(`Found no Inventory Records for Item ID ${updatedItem.id} owned by Actor ${this._actor.id}. \r\n            Could not update Item quantity.`);\r\n            }\r\n            else if (matches.length > 1) {\r\n                throw new Error(`Found no Inventory Records for Item ID ${updatedItem.id} owned by Actor ${this._actor.id}. \r\n            This is a strange place to find ourselves in, but here we are. `);\r\n            }\r\n            else {\r\n                const inventoryRecord = matches[0];\r\n                inventoryRecord.quantity = updatedItem.data.quantity;\r\n                return inventoryRecord;\r\n            }\r\n        });\r\n    }\r\n    denormalizedContents() {\r\n        return Array.from(this._itemDirectory.values()).map((records) => {\r\n            const denormalizedComponents = [];\r\n            records.forEach((record) => {\r\n                for (let i = 0; i < record.quantity; i++) {\r\n                    const compendiumEntry = record.componentType.compendiumEntry;\r\n                    denormalizedComponents.push(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__[\"CraftingComponent\"].builder()\r\n                        .withName(record.componentType.name)\r\n                        .withEssences(record.componentType.essences)\r\n                        .withCompendiumEntry(compendiumEntry.compendiumKey, compendiumEntry.entryId)\r\n                        .build());\r\n                }\r\n            });\r\n            return denormalizedComponents;\r\n        }).reduce((left, right) => left.concat(right), []);\r\n    }\r\n    update() {\r\n        this.index();\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9JbnZlbnRvcnk1RS50cz9iMzcxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE0RDtBQUNKO0FBQ2pCO0FBQzJDO0FBQ3RCO0FBQ047QUFDUjtBQUU5QyxNQUFNLFdBQVksU0FBUSx5RUFBaUI7SUFHdkMsWUFBWSxLQUFVO1FBQ2xCLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUhBLG1CQUFjLEdBQW1DLElBQUksR0FBRyxFQUFFLENBQUM7UUFJeEUsSUFBSSxDQUFDLHFCQUFxQixHQUFHLENBQUMsbUVBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNwRCxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVPLEtBQUs7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsOENBQThDLENBQUMsQ0FBQztTQUNuRTtRQUNELE1BQU0sS0FBSyxHQUFRLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUMxRCxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzVCLE1BQU0sY0FBYyxHQUFhLG1EQUFVLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQztRQUNqRSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBUyxFQUFFLEVBQUUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztlQUM3RCxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTO2VBQ3pCLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEtBQUssc0VBQWlCLENBQUMsU0FBUyxDQUFDO2FBQ2pFLEdBQUcsQ0FBQyxDQUFDLElB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QUFDLEdBQUcsQ0FBQyxDQUFDLE9BQTBCLEVBQUUsRUFBRTtZQUMvRSxNQUFNLHNCQUFzQixHQUF3QixFQUFFLENBQUM7WUFDdkQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQXVCLEVBQUUsRUFBRTtnQkFDeEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ3RDLE1BQU0sZUFBZSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsZUFBZSxDQUFDO29CQUM3RCxzQkFBc0IsQ0FBQyxJQUFJLENBQUMseUVBQWlCLENBQUMsT0FBTyxFQUFFO3lCQUNsRCxRQUFRLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUM7eUJBQ25DLFlBQVksQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQzt5QkFDM0MsbUJBQW1CLENBQUMsZUFBZSxDQUFDLGFBQWEsRUFBRSxlQUFlLENBQUMsT0FBTyxDQUFDO3lCQUMzRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO2lCQUNqQjtZQUNMLENBQUMsQ0FBQyxDQUFDO1lBQ0gsT0FBTyxzQkFBc0IsQ0FBQztRQUNsQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLEtBQUssRUFBRTtJQUNoQixDQUFDO0NBQ0o7QUFFbUIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9kbmQ1ZS9JbnZlbnRvcnk1RS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdJbnZlbnRvcnl9IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7SW52ZW50b3J5UmVjb3JkfSBmcm9tIFwiLi4vY29yZS9JbnZlbnRvcnlSZWNvcmRcIjtcclxuaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4uL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgRmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuLi9jb3JlL0NvbXBlbmRpdW1EYXRhXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7R2FtZVN5c3RlbVR5cGV9IGZyb20gXCIuLi9jb3JlL0dhbWVTeXN0ZW1UeXBlXCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4uL2NvcmUvSW5ncmVkaWVudFwiO1xyXG5cclxuY2xhc3MgSW52ZW50b3J5NUUgZXh0ZW5kcyBDcmFmdGluZ0ludmVudG9yeSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pdGVtRGlyZWN0b3J5OiBNYXA8c3RyaW5nLCBJbnZlbnRvcnlSZWNvcmRbXT4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYWN0b3I6IGFueSkge1xyXG4gICAgICAgIHN1cGVyKGFjdG9yKTtcclxuICAgICAgICB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IFtHYW1lU3lzdGVtVHlwZS5ETkQ1RV07XHJcbiAgICAgICAgdGhpcy5pbmRleCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5kZXgoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9hY3Rvcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIEFjdG9yIHdhcyBzZXQgZm9yIHRoaXMgSW52ZW50b3J5IHRvIGluZGV4YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGl0ZW1zOiBhbnkgPSBBcnJheS5mcm9tKHRoaXMuX2FjdG9yLml0ZW1zLnZhbHVlcygpKTtcclxuICAgICAgICB0aGlzLl9pdGVtRGlyZWN0b3J5LmNsZWFyKCk7XHJcbiAgICAgICAgY29uc3QgYWxsb3dhYmxlSXRlbXM6IHN0cmluZ1tdID0gUHJvcGVydGllcy50eXBlcy5hbGxvd2FibGVJdGVtcztcclxuICAgICAgICBpdGVtcy5maWx0ZXIoKGl0ZW06IGFueSkgPT4gKGFsbG93YWJsZUl0ZW1zLmluZGV4T2YoaXRlbS50eXBlKSA+PSAwKVxyXG4gICAgICAgICAgICAmJiBpdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlXHJcbiAgICAgICAgICAgICYmIGl0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGUudHlwZSA9PT0gRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UKVxyXG4gICAgICAgICAgICAubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Db25maWc6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhID0gaXRlbS5kYXRhLmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlSZWNvcmQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhBY3Rvcih0aGlzLl9hY3RvcilcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEl0ZW0oaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KGl0ZW0uZGF0YS5kYXRhLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoQ3JhZnRpbmdDb21wb25lbnQoQ3JhZnRpbmdDb21wb25lbnQuZnJvbUZsYWdzKGl0ZW1Db25maWcpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZm9yRWFjaCgoaW52ZW50b3J5UmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGludmVudG9yeVJlY29yZHNGb3JUeXBlOiBJbnZlbnRvcnlSZWNvcmRbXSA9IHRoaXMuX2l0ZW1EaXJlY3RvcnkuZ2V0KGludmVudG9yeVJlY29yZC5jb21wb25lbnRUeXBlLmNvbXBlbmRpdW1FbnRyeS5lbnRyeUlkKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnZlbnRvcnlSZWNvcmRzRm9yVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGludmVudG9yeVJlY29yZHNGb3JUeXBlLnB1c2goaW52ZW50b3J5UmVjb3JkKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXRlbURpcmVjdG9yeS5zZXQoaW52ZW50b3J5UmVjb3JkLmNvbXBvbmVudFR5cGUuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQsIFtpbnZlbnRvcnlSZWNvcmRdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYWRkKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIGFtb3VudFRvQWRkOiBudW1iZXIgPSAxKTogUHJvbWlzZTxJbnZlbnRvcnlSZWNvcmQ+IHtcclxuICAgICAgICBjb25zdCBpdGVtc09mVHlwZTogSW52ZW50b3J5UmVjb3JkW10gPSB0aGlzLl9pdGVtRGlyZWN0b3J5LmdldChjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpO1xyXG4gICAgICAgIGlmICghaXRlbXNPZlR5cGUgfHwgaXRlbXNPZlR5cGUubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgY29tcGVuZGl1bTogQ29tcGVuZGl1bSA9IGdhbWUucGFja3MuZ2V0KGNvbXBvbmVudC5jb21wZW5kaXVtRW50cnkuY29tcGVuZGl1bUtleSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1EYXRhOiBhbnkgPSBhd2FpdCBjb21wZW5kaXVtLmdldEVudGl0eShjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpO1xyXG4gICAgICAgICAgICBpdGVtRGF0YS5xdWFudGl0eSA9IGFtb3VudFRvQWRkO1xyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkSXRlbSA9IGF3YWl0IHRoaXMuX2FjdG9yLmNyZWF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCBpdGVtRGF0YSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeVJlY29yZCA9IEludmVudG9yeVJlY29yZC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgIC53aXRoQWN0b3IodGhpcy5fYWN0b3IpXHJcbiAgICAgICAgICAgICAgICAud2l0aEl0ZW0oY3JlYXRlZEl0ZW0pXHJcbiAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KGNyZWF0ZWRJdGVtLmRhdGEucXVhbnRpdHkpXHJcbiAgICAgICAgICAgICAgICAud2l0aENyYWZ0aW5nQ29tcG9uZW50KGNvbXBvbmVudClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtRGlyZWN0b3J5LnNldChjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQsIFtpbnZlbnRvcnlSZWNvcmRdKTtcclxuICAgICAgICAgICAgcmV0dXJuIGludmVudG9yeVJlY29yZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpdGVtc09mVHlwZS5zb3J0KChsZWZ0LCByaWdodCkgPT4gbGVmdC5xdWFudGl0eSAtIHJpZ2h0LnF1YW50aXR5KTtcclxuICAgICAgICAgICAgY29uc3QgaXRlbTogYW55ID0gaXRlbXNPZlR5cGVbMF0uaXRlbTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFF1YW50aXR5ID0gaXRlbS5kYXRhLmRhdGEucXVhbnRpdHkgKyBhbW91bnRUb0FkZDtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCB7X2lkOiBpdGVtLmlkLCBkYXRhOiB7cXVhbnRpdHk6IHVwZGF0ZWRRdWFudGl0eX19KTtcclxuICAgICAgICAgICAgaXRlbXNPZlR5cGVbMF0ucXVhbnRpdHkgPSB1cGRhdGVkUXVhbnRpdHk7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtc09mVHlwZVswXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbnRlbnRzKCk6IEludmVudG9yeVJlY29yZFtdIHtcclxuICAgICAgICBjb25zdCBjb250ZW50czogSW52ZW50b3J5UmVjb3JkW10gPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHJlY29yZHMgb2YgdGhpcy5faXRlbURpcmVjdG9yeS52YWx1ZXMoKSkge1xyXG4gICAgICAgICAgICBjb250ZW50cy5wdXNoKC4uLnJlY29yZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcmVtb3ZlKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIGFtb3VudFRvUmVtb3ZlOiBudW1iZXIgPSAxKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zKEluZ3JlZGllbnQuYnVpbGRlcigpLndpdGhRdWFudGl0eShhbW91bnRUb1JlbW92ZSkud2l0aENvbXBvbmVudFR5cGUoY29tcG9uZW50KS5idWlsZCgpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZW1vdmUgJHthbW91bnRUb1JlbW92ZX0gJHtjb21wb25lbnQubmFtZX0gZnJvbSBJbnZlbnRvcnkgZm9yIEFjdG9yICR7dGhpcy5hY3RvcklkfSAtIFxyXG4gICAgICAgICAgICB0aGVyZSBpcyBub3QgZW5vdWdoIG9mIHRoZSBjb21wb25lbnQgaW4gdGhlaXIgaW52ZW50b3J5ISBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXRlbXNPZlR5cGU6IEludmVudG9yeVJlY29yZFtdID0gdGhpcy5faXRlbURpcmVjdG9yeS5nZXQoY29tcG9uZW50LmNvbXBlbmRpdW1FbnRyeS5lbnRyeUlkKTtcclxuICAgICAgICBpdGVtc09mVHlwZS5zb3J0KChsZWZ0LCByaWdodCkgPT4gbGVmdC5xdWFudGl0eSAtIHJpZ2h0LnF1YW50aXR5KTtcclxuICAgICAgICBsZXQgcmVtb3ZlZDogbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgY3VycmVudEl0ZW1JbmRleCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKHJlbW92ZWQgPCBhbW91bnRUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0aGlzUmVjb3JkID0gaXRlbXNPZlR5cGVbY3VycmVudEl0ZW1JbmRleF07XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGFtb3VudFRvUmVtb3ZlIC0gcmVtb3ZlZDtcclxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8IHRoaXNSZWNvcmQucXVhbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRRdWFudGl0eSA9IHRoaXNSZWNvcmQucXVhbnRpdHkgLSByZW1haW5pbmc7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiB0aGlzUmVjb3JkLml0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge3F1YW50aXR5OiB1cGRhdGVkUXVhbnRpdHl9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXNSZWNvcmQucXVhbnRpdHkgPSB1cGRhdGVkUXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVkICs9IGFtb3VudFRvUmVtb3ZlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci5kZWxldGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywgdGhpc1JlY29yZC5pdGVtLmlkKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZWQgKz0gdGhpc1JlY29yZC5xdWFudGl0eTtcclxuICAgICAgICAgICAgICAgIHRoaXNSZWNvcmQucXVhbnRpdHkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnRJdGVtSW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nSW52ZW50b3J5UmVjb3JkcyA9IGl0ZW1zT2ZUeXBlLmZpbHRlcigoaW52ZW50b3J5UmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQpID0+IGludmVudG9yeVJlY29yZC5xdWFudGl0eSA+IDApO1xyXG4gICAgICAgIHRoaXMuX2l0ZW1EaXJlY3Rvcnkuc2V0KGNvbXBvbmVudC5jb21wZW5kaXVtRW50cnkuZW50cnlJZCwgcmVtYWluaW5nSW52ZW50b3J5UmVjb3Jkcyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZVF1YW50aXR5Rm9yKHVwZGF0ZWRJdGVtOiBhbnkpOiBQcm9taXNlPEludmVudG9yeVJlY29yZD4ge1xyXG4gICAgICAgIGlmICghdXBkYXRlZEl0ZW0uZmxhZ3MuZmFicmljYXRlIHx8ICh1cGRhdGVkSXRlbS5mbGFncy5mYWJyaWNhdGUudHlwZSAhPT0gRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZsYWdzOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSA9IHVwZGF0ZWRJdGVtLmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5faXRlbURpcmVjdG9yeS5nZXQoZmxhZ3MuY29tcG9uZW50LmNvbXBlbmRpdW1FbnRyeS5lbnRyeUlkKVxyXG4gICAgICAgICAgICAuZmlsdGVyKChjYW5kaWRhdGU6IEludmVudG9yeVJlY29yZCkgPT4gY2FuZGlkYXRlLml0ZW0uaWQgPT09IHVwZGF0ZWRJdGVtLl9pZCk7XHJcbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm91bmQgbm8gSW52ZW50b3J5IFJlY29yZHMgZm9yIEl0ZW0gSUQgJHt1cGRhdGVkSXRlbS5pZH0gb3duZWQgYnkgQWN0b3IgJHt0aGlzLl9hY3Rvci5pZH0uIFxyXG4gICAgICAgICAgICBDb3VsZCBub3QgdXBkYXRlIEl0ZW0gcXVhbnRpdHkuYCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChtYXRjaGVzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGb3VuZCBubyBJbnZlbnRvcnkgUmVjb3JkcyBmb3IgSXRlbSBJRCAke3VwZGF0ZWRJdGVtLmlkfSBvd25lZCBieSBBY3RvciAke3RoaXMuX2FjdG9yLmlkfS4gXHJcbiAgICAgICAgICAgIFRoaXMgaXMgYSBzdHJhbmdlIHBsYWNlIHRvIGZpbmQgb3Vyc2VsdmVzIGluLCBidXQgaGVyZSB3ZSBhcmUuIGApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeVJlY29yZCA9IG1hdGNoZXNbMF07XHJcbiAgICAgICAgICAgIGludmVudG9yeVJlY29yZC5xdWFudGl0eSA9IHVwZGF0ZWRJdGVtLmRhdGEucXVhbnRpdHk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnZlbnRvcnlSZWNvcmQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZW5vcm1hbGl6ZWRDb250ZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9pdGVtRGlyZWN0b3J5LnZhbHVlcygpKS5tYXAoKHJlY29yZHM6IEludmVudG9yeVJlY29yZFtdKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbm9ybWFsaXplZENvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBbXTtcclxuICAgICAgICAgICAgcmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQ6IEludmVudG9yeVJlY29yZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvcmQucXVhbnRpdHk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBlbmRpdW1FbnRyeSA9IHJlY29yZC5jb21wb25lbnRUeXBlLmNvbXBlbmRpdW1FbnRyeTtcclxuICAgICAgICAgICAgICAgICAgICBkZW5vcm1hbGl6ZWRDb21wb25lbnRzLnB1c2goQ3JhZnRpbmdDb21wb25lbnQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC53aXRoTmFtZShyZWNvcmQuY29tcG9uZW50VHlwZS5uYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAud2l0aEVzc2VuY2VzKHJlY29yZC5jb21wb25lbnRUeXBlLmVzc2VuY2VzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAud2l0aENvbXBlbmRpdW1FbnRyeShjb21wZW5kaXVtRW50cnkuY29tcGVuZGl1bUtleSwgY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5idWlsZCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBkZW5vcm1hbGl6ZWRDb21wb25lbnRzO1xyXG4gICAgICAgIH0pLnJlZHVjZSgobGVmdCwgcmlnaHQpID0+IGxlZnQuY29uY2F0KHJpZ2h0KSwgW10pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZSgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmluZGV4KClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJbnZlbnRvcnk1RX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/Inventory5E.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTab.ts":
/*!**********************************************!*\
  !*** ./src/scripts/interface/CraftingTab.ts ***!
  \**********************************************/
/*! exports provided: CraftingTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingTab\", function() { return CraftingTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _dnd5e_Inventory5E__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dnd5e/Inventory5E */ \"./src/scripts/dnd5e/Inventory5E.ts\");\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass CraftingTab {\r\n    constructor() {\r\n        this._suppressedInNav = false;\r\n    }\r\n    static bind(itemSheet, sheetHtml, eventData) {\r\n        const actor = game.actors.get(eventData.actor._id);\r\n        if (!game.user.isGM || !actor.owner) {\r\n            return;\r\n        }\r\n        let tab = CraftingTab.tabs.get(itemSheet.id);\r\n        if (!tab) {\r\n            tab = new CraftingTab();\r\n            CraftingTab.tabs.set(itemSheet.id, tab);\r\n        }\r\n        tab.init(sheetHtml, actor);\r\n    }\r\n    init(sheetHtml, actor) {\r\n        let inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n        if (inventory) {\r\n            this._inventory = inventory;\r\n        }\r\n        else {\r\n            inventory = new _dnd5e_Inventory5E__WEBPACK_IMPORTED_MODULE_1__[\"Inventory5E\"](actor);\r\n            _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].addFor(actor.id, inventory);\r\n            this._inventory = inventory;\r\n        }\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToCharacterSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.craftingTab, { inventory: this._inventory });\r\n            let element = this._sheetHtml.find('.recipe-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-crafting').append(template);\r\n            }\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetHtml.find('.item[data-tab=\"fabricate-crafting\"]').addClass('active');\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToCharacterSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($('<a class=\"item fabricate-crafting\" data-tab=\"fabricate-crafting\">Crafting</a>'));\r\n        $(sheetHtml.find(`.sheet-body`)).append($('<div class=\"tab fabricate-crafting\" data-group=\"primary\" data-tab=\"fabricate-crafting\"></div>'));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find('a.fabricate-component-list[data-tab=\"magicitems\"]').hasClass('active');\r\n    }\r\n}\r\nCraftingTab.tabs = new Map();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHM/YzFlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF1QztBQUVVO0FBQ2lCO0FBRWxFLE1BQU0sV0FBVztJQUFqQjtRQUtZLHFCQUFnQixHQUFZLEtBQUssQ0FBQztJQXlEOUMsQ0FBQztJQXZEVSxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQW9CLEVBQUUsU0FBc0IsRUFBRSxTQUFjO1FBQzNFLE1BQU0sS0FBSyxHQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRztZQUNsQyxPQUFPO1NBQ1Y7UUFDRCxJQUFJLEdBQUcsR0FBZ0IsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDTixHQUFHLEdBQUcsSUFBSSxXQUFXLEVBQUUsQ0FBQztZQUN4QixXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzNDO1FBQ0QsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVPLElBQUksQ0FBQyxTQUFjLEVBQUUsS0FBVTtRQUNuQyxJQUFJLFNBQVMsR0FBRywrRUFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25ELElBQUksU0FBUyxFQUFFO1lBQ1gsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7U0FDL0I7YUFBTTtZQUNILFNBQVMsR0FBRyxJQUFJLDhEQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDbkMsK0VBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7U0FDL0I7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsc0JBQXNCLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2xCLENBQUM7SUFFYSxNQUFNOztZQUNoQixJQUFJLFFBQVEsR0FBZ0IsTUFBTSxjQUFjLENBQUMsbURBQVUsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxFQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFDLENBQUMsQ0FBQztZQUN4SCxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO1lBQzFELElBQUksT0FBTyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7Z0JBQzNCLE9BQU8sQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDakM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDcEU7WUFDRCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRTtnQkFDaEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsc0NBQXNDLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hGLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7YUFDakM7UUFDTCxDQUFDO0tBQUE7SUFFTyxzQkFBc0IsQ0FBQyxTQUFjO1FBQ3pDLE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FDVCwrRUFBK0UsQ0FDbEYsQ0FBQyxDQUFDO1FBRUgsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUNyQywrRkFBK0YsQ0FDbEcsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVPLGFBQWE7UUFDakIsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxtREFBbUQsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzRyxDQUFDOztBQTVEdUIsZ0JBQUksR0FBNkIsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQStEbkQiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi4vUHJvcGVydGllc1wiO1xyXG5pbXBvcnQge0ludmVudG9yeX0gZnJvbSBcIi4uL2NvcmUvSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7SW52ZW50b3J5NUV9IGZyb20gXCIuLi9kbmQ1ZS9JbnZlbnRvcnk1RVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlZ2lzdHJ5fSBmcm9tIFwiLi4vcmVnaXN0cmllcy9JbnZlbnRvcnlSZWdpc3RyeVwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdUYWIge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgdGFiczogTWFwPHN0cmluZywgQ3JhZnRpbmdUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHByaXZhdGUgX3NoZWV0SHRtbDogYW55O1xyXG4gICAgcHJpdmF0ZSBfaW52ZW50b3J5OiBJbnZlbnRvcnk7XHJcbiAgICBwcml2YXRlIF9zdXBwcmVzc2VkSW5OYXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJpbmQoaXRlbVNoZWV0OiBJdGVtU2hlZXQsIHNoZWV0SHRtbDogSFRNTEVsZW1lbnQsIGV2ZW50RGF0YTogYW55KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgYWN0b3I6IGFueSA9IGdhbWUuYWN0b3JzLmdldChldmVudERhdGEuYWN0b3IuX2lkKTtcclxuICAgICAgICBpZiAoIWdhbWUudXNlci5pc0dNIHx8ICFhY3Rvci5vd25lciApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgdGFiOiBDcmFmdGluZ1RhYiA9IENyYWZ0aW5nVGFiLnRhYnMuZ2V0KGl0ZW1TaGVldC5pZCk7XHJcbiAgICAgICAgaWYgKCF0YWIpIHtcclxuICAgICAgICAgICAgdGFiID0gbmV3IENyYWZ0aW5nVGFiKCk7XHJcbiAgICAgICAgICAgIENyYWZ0aW5nVGFiLnRhYnMuc2V0KGl0ZW1TaGVldC5pZCwgdGFiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFiLmluaXQoc2hlZXRIdG1sLCBhY3Rvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KHNoZWV0SHRtbDogYW55LCBhY3RvcjogYW55KSB7XHJcbiAgICAgICAgbGV0IGludmVudG9yeSA9IEludmVudG9yeVJlZ2lzdHJ5LmdldEZvcihhY3Rvci5pZCk7XHJcbiAgICAgICAgaWYgKGludmVudG9yeSkge1xyXG4gICAgICAgICAgICB0aGlzLl9pbnZlbnRvcnkgPSBpbnZlbnRvcnk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW52ZW50b3J5ID0gbmV3IEludmVudG9yeTVFKGFjdG9yKTtcclxuICAgICAgICAgICAgSW52ZW50b3J5UmVnaXN0cnkuYWRkRm9yKGFjdG9yLmlkLCBpbnZlbnRvcnkpO1xyXG4gICAgICAgICAgICB0aGlzLl9pbnZlbnRvcnkgPSBpbnZlbnRvcnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbCA9IHNoZWV0SHRtbDtcclxuICAgICAgICB0aGlzLmFkZFRhYlRvQ2hhcmFjdGVyU2hlZXQoc2hlZXRIdG1sKTtcclxuICAgICAgICB0aGlzLnJlbmRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgcmVuZGVyKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIGxldCB0ZW1wbGF0ZTogSFRNTEVsZW1lbnQgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShQcm9wZXJ0aWVzLm1vZHVsZS50ZW1wbGF0ZXMuY3JhZnRpbmdUYWIsIHtpbnZlbnRvcnk6IHRoaXMuX2ludmVudG9yeX0pO1xyXG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5yZWNpcGUtdGFiLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHRlbXBsYXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLnRhYi5mYWJyaWNhdGUtY3JhZnRpbmcnKS5hcHBlbmQodGVtcGxhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NlZEluTmF2ICYmICF0aGlzLmlzQWN0aXZlSW5OYXYoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLml0ZW1bZGF0YS10YWI9XCJmYWJyaWNhdGUtY3JhZnRpbmdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFRhYlRvQ2hhcmFjdGVyU2hlZXQoc2hlZXRIdG1sOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0YWJzID0gc2hlZXRIdG1sLmZpbmQoYC50YWJzW2RhdGEtZ3JvdXA9XCJwcmltYXJ5XCJdYCk7XHJcbiAgICAgICAgdGFicy5hcHBlbmQoJChcclxuICAgICAgICAgICAgJzxhIGNsYXNzPVwiaXRlbSBmYWJyaWNhdGUtY3JhZnRpbmdcIiBkYXRhLXRhYj1cImZhYnJpY2F0ZS1jcmFmdGluZ1wiPkNyYWZ0aW5nPC9hPidcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgJChzaGVldEh0bWwuZmluZChgLnNoZWV0LWJvZHlgKSkuYXBwZW5kKCQoXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFiIGZhYnJpY2F0ZS1jcmFmdGluZ1wiIGRhdGEtZ3JvdXA9XCJwcmltYXJ5XCIgZGF0YS10YWI9XCJmYWJyaWNhdGUtY3JhZnRpbmdcIj48L2Rpdj4nXHJcbiAgICAgICAgKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FjdGl2ZUluTmF2KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAkKHRoaXMuX3NoZWV0SHRtbCkuZmluZCgnYS5mYWJyaWNhdGUtY29tcG9uZW50LWxpc3RbZGF0YS10YWI9XCJtYWdpY2l0ZW1zXCJdJykuaGFzQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nVGFifSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTab.ts\n");

/***/ }),

/***/ "./src/scripts/interface/ItemRecipeTab.ts":
/*!************************************************!*\
  !*** ./src/scripts/interface/ItemRecipeTab.ts ***!
  \************************************************/
/*! exports provided: ItemRecipeTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemRecipeTab\", function() { return ItemRecipeTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _core_Recipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass ItemRecipeTab {\r\n    constructor(itemApplication) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = itemApplication;\r\n        this._item = itemApplication.item;\r\n        this._recipe = _core_Recipe__WEBPACK_IMPORTED_MODULE_1__[\"Recipe\"].fromFlags(itemApplication.item.data.flags.fabricate);\r\n        this._craftingSystem = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_2__[\"CraftingSystemRegistry\"].getSystemByRecipeId(this._recipe.entryId);\r\n        this._recipe.ingredients.forEach((ingredient) => {\r\n            const component = ingredient.componentType;\r\n            component.imageUrl = this._craftingSystem.getComponentByEntryId(component.compendiumEntry.entryId).imageUrl;\r\n        });\r\n        this._recipe.results.forEach((result) => {\r\n            const component = result.item;\r\n            component.imageUrl = this._craftingSystem.getComponentByEntryId(component.compendiumEntry.entryId).imageUrl;\r\n        });\r\n    }\r\n    static bind(itemApplication, sheetHtml) {\r\n        if ((!itemApplication.item.data.flags.fabricate) || (itemApplication.item.data.flags.fabricate.type !== ItemRecipeTab.recipeType)) {\r\n            return;\r\n        }\r\n        let tab = ItemRecipeTab.tabs.get(itemApplication.id);\r\n        if (!tab) {\r\n            tab = new ItemRecipeTab(itemApplication);\r\n            ItemRecipeTab.tabs.set(itemApplication.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToItemSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.recipeTab, { recipe: this._recipe, item: this._item, system: this._craftingSystem });\r\n            const element = this._sheetHtml.find('.recipe-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-recipe').append(template);\r\n            }\r\n            this.handleItemSheetEvents();\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(ItemRecipeTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToItemSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($(`<a class=\"item fabricate-recipe\" data-tab=\"${ItemRecipeTab.tabKey}\">Recipe</a>`));\r\n        $(sheetHtml.find(`.sheet-body`)).append($(`<div class=\"tab fabricate-recipe\" data-group=\"primary\" data-tab=\"${ItemRecipeTab.tabKey}\"></div>`));\r\n    }\r\n    handleItemSheetEvents() {\r\n        this._sheetHtml.find('.craft-button').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const recipeId = event.target.getAttribute('data-recipe-id');\r\n            const actorId = event.target.getAttribute('data-actor-id');\r\n            yield this._craftingSystem.craft(actorId, recipeId);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-recipe[data-tab=\"${ItemRecipeTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nItemRecipeTab.recipeType = _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types.recipe;\r\nItemRecipeTab.tabs = new Map();\r\nItemRecipeTab.tabKey = 'fabricate-recipe';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cz8wY2I3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0Q7QUFDc0M7QUFNNUUsTUFBTSxhQUFhO0lBeUJmLFlBQVksZUFBb0I7UUFmeEIscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBZ0J0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZUFBZSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsT0FBTyxHQUFHLG1EQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzRSxJQUFJLENBQUMsZUFBZSxHQUFHLHlGQUFzQixDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFO1lBQ3hELE1BQU0sU0FBUyxHQUFzQixVQUFVLENBQUMsYUFBYSxDQUFDO1lBQzlELFNBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUNoSCxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQXNCLEVBQUUsRUFBRTtZQUNwRCxNQUFNLFNBQVMsR0FBc0IsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNqRCxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUMs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Q0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzdELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzNELE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDN0IsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFDLENBQUM7SUFDUCxDQUFDO0lBRU8sYUFBYTtRQUNqQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEgsQ0FBQzs7QUFyRnVCLHdCQUFVLEdBQVcsbURBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQzdDLGtCQUFJLEdBQStCLElBQUksR0FBRyxFQUFFLENBQUM7QUFTdEQsb0JBQU0sR0FBVyxrQkFBa0IsQ0FBQztBQThFakMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY29yZS9SZWNpcGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5fSBmcm9tIFwiLi4vcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4uL2NvcmUvSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5cclxuY2xhc3MgSXRlbVJlY2lwZVRhYiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZWNpcGVUeXBlOiBzdHJpbmcgPSBQcm9wZXJ0aWVzLnR5cGVzLnJlY2lwZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRhYnM6IE1hcDxzdHJpbmcsIEl0ZW1SZWNpcGVUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHByaXZhdGUgX3NoZWV0QXBwbGljYXRpb246IGFueTtcclxuICAgIHByaXZhdGUgX3NoZWV0SHRtbDogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXRlbTogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW07XHJcbiAgICBwcml2YXRlIF9zdXBwcmVzc2VkSW5OYXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHRhYktleTogc3RyaW5nID0gJ2ZhYnJpY2F0ZS1yZWNpcGUnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYmluZChpdGVtQXBwbGljYXRpb246IGFueSwgc2hlZXRIdG1sOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmICgoIWl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlKSB8fCAoaXRlbUFwcGxpY2F0aW9uLml0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGUudHlwZSAhPT0gSXRlbVJlY2lwZVRhYi5yZWNpcGVUeXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0YWI6IEl0ZW1SZWNpcGVUYWIgPSBJdGVtUmVjaXBlVGFiLnRhYnMuZ2V0KGl0ZW1BcHBsaWNhdGlvbi5pZCk7XHJcbiAgICAgICAgaWYgKCF0YWIpIHtcclxuICAgICAgICAgICAgdGFiID0gbmV3IEl0ZW1SZWNpcGVUYWIoaXRlbUFwcGxpY2F0aW9uKTtcclxuICAgICAgICAgICAgSXRlbVJlY2lwZVRhYi50YWJzLnNldChpdGVtQXBwbGljYXRpb24uaWQsIHRhYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYi5pbml0KHNoZWV0SHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXRlbUFwcGxpY2F0aW9uOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uID0gaXRlbUFwcGxpY2F0aW9uO1xyXG4gICAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtQXBwbGljYXRpb24uaXRlbTtcclxuICAgICAgICB0aGlzLl9yZWNpcGUgPSBSZWNpcGUuZnJvbUZsYWdzKGl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlKTtcclxuICAgICAgICB0aGlzLl9jcmFmdGluZ1N5c3RlbSA9IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuZ2V0U3lzdGVtQnlSZWNpcGVJZCh0aGlzLl9yZWNpcGUuZW50cnlJZCk7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCA9IGluZ3JlZGllbnQuY29tcG9uZW50VHlwZTtcclxuICAgICAgICAgICAgY29tcG9uZW50LmltYWdlVXJsID0gdGhpcy5fY3JhZnRpbmdTeXN0ZW0uZ2V0Q29tcG9uZW50QnlFbnRyeUlkKGNvbXBvbmVudC5jb21wZW5kaXVtRW50cnkuZW50cnlJZCkuaW1hZ2VVcmw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlLnJlc3VsdHMuZm9yRWFjaCgocmVzdWx0OiBDcmFmdGluZ1Jlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50ID0gcmVzdWx0Lml0ZW07XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5pbWFnZVVybCA9IHRoaXMuX2NyYWZ0aW5nU3lzdGVtLmdldENvbXBvbmVudEJ5RW50cnlJZChjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQpLmltYWdlVXJsO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdChzaGVldEh0bWw6IGFueSkge1xyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbCA9IHNoZWV0SHRtbDtcclxuICAgICAgICB0aGlzLmFkZFRhYlRvSXRlbVNoZWV0KHNoZWV0SHRtbCk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFzeW5jIHJlbmRlcigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCB0ZW1wbGF0ZTogSFRNTEVsZW1lbnQgPSBhd2FpdCByZW5kZXJUZW1wbGF0ZShQcm9wZXJ0aWVzLm1vZHVsZS50ZW1wbGF0ZXMucmVjaXBlVGFiLCB7cmVjaXBlOiB0aGlzLl9yZWNpcGUsIGl0ZW06IHRoaXMuX2l0ZW0sIHN5c3RlbTogdGhpcy5fY3JhZnRpbmdTeXN0ZW19KTtcclxuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5yZWNpcGUtdGFiLWNvbnRlbnQnKTtcclxuICAgICAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlcGxhY2VXaXRoKHRlbXBsYXRlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLnRhYi5mYWJyaWNhdGUtcmVjaXBlJykuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlSXRlbVNoZWV0RXZlbnRzKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zdXBwcmVzc2VkSW5OYXYgJiYgIXRoaXMuaXNBY3RpdmVJbk5hdigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoZWV0QXBwbGljYXRpb24uX3RhYnNbMF0uYWN0aXZhdGUoSXRlbVJlY2lwZVRhYi50YWJLZXkpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRUYWJUb0l0ZW1TaGVldChzaGVldEh0bWw6IGFueSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRhYnMgPSBzaGVldEh0bWwuZmluZChgLnRhYnNbZGF0YS1ncm91cD1cInByaW1hcnlcIl1gKTtcclxuICAgICAgICB0YWJzLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICBgPGEgY2xhc3M9XCJpdGVtIGZhYnJpY2F0ZS1yZWNpcGVcIiBkYXRhLXRhYj1cIiR7SXRlbVJlY2lwZVRhYi50YWJLZXl9XCI+UmVjaXBlPC9hPmBcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgJChzaGVldEh0bWwuZmluZChgLnNoZWV0LWJvZHlgKSkuYXBwZW5kKCQoXHJcbiAgICAgICAgICAgIGA8ZGl2IGNsYXNzPVwidGFiIGZhYnJpY2F0ZS1yZWNpcGVcIiBkYXRhLWdyb3VwPVwicHJpbWFyeVwiIGRhdGEtdGFiPVwiJHtJdGVtUmVjaXBlVGFiLnRhYktleX1cIj48L2Rpdj5gXHJcbiAgICAgICAgKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVJdGVtU2hlZXRFdmVudHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy5jcmFmdC1idXR0b24nKS5jbGljayhhc3luYyAoZXZlbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZWNpcGVJZCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVjaXBlLWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdG9ySWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWFjdG9yLWlkJyk7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2NyYWZ0aW5nU3lzdGVtLmNyYWZ0KGFjdG9ySWQsIHJlY2lwZUlkKTtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzQWN0aXZlSW5OYXYoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICQodGhpcy5fc2hlZXRIdG1sKS5maW5kKGBhLmZhYnJpY2F0ZS1yZWNpcGVbZGF0YS10YWI9XCIke0l0ZW1SZWNpcGVUYWIudGFiS2V5fVwiXWApLmhhc0NsYXNzKCdhY3RpdmUnKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJdGVtUmVjaXBlVGFifSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/interface/ItemRecipeTab.ts\n");

/***/ }),

/***/ "./src/scripts/module.ts":
/*!*******************************!*\
  !*** ./src/scripts/module.ts ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _core_CompendiumData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core/CompendiumData */ \"./src/scripts/core/CompendiumData.ts\");\n/* harmony import */ var _core_Recipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\n/* harmony import */ var _FabricateLifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FabricateLifecycle */ \"./src/scripts/FabricateLifecycle.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Enable as needed for dev. Do not release!\r\n// CONFIG.debug.hooks = true;\r\nHooks.once('ready', loadCraftingSystems);\r\nHooks.once('ready', () => {\r\n    _FabricateLifecycle__WEBPACK_IMPORTED_MODULE_5__[\"FabricateLifecycle\"].init();\r\n});\r\nfunction loadCraftingSystems() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let systemSpecifications = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].systemSpecifications;\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpecifications.length} crafting systems. `);\r\n        systemSpecifications.forEach(_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_5__[\"FabricateLifecycle\"].registerCraftingSystemSettings);\r\n        systemSpecifications.forEach(loadCraftingSystem);\r\n        const systemNames = systemSpecifications.map((systemSpec) => systemSpec.name);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpecifications.length} crafting systems: ${systemNames.join(', ')} `);\r\n    });\r\n}\r\n/**\r\n * Loads a single Crafting System from a System Specification, which must include a Compendium Pack Key. Item data from\r\n * the Compendium Pack is used to load the Recipes and Crafting Components into the system from the compendium. The\r\n * Fabricator, supported systems and name provided in the spec are all preserved\r\n *\r\n * @param systemSpec A partially populated `CraftingSystem.Builder` to which the Recipes and Components will be added\r\n * once imported from the Compendium. Must specify a Compendium Pack Key.\r\n * */\r\nfunction loadCraftingSystem(systemSpec) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpec.name} from Compendium pack ${systemSpec.compendiumPackKey}. `);\r\n        if (systemSpec.supportedGameSystems.indexOf(game.system.id) < 0) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | ${systemSpec.name} does not support ${game.system.id}! `);\r\n            return;\r\n        }\r\n        let systemPack = game.packs.get(systemSpec.compendiumPackKey);\r\n        let content = yield loadCompendiumContent(systemPack, 10);\r\n        content.forEach((item) => {\r\n            let itemConfig = item.data.flags.fabricate;\r\n            switch (itemConfig.type) {\r\n                case _core_CompendiumData__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItemType\"].COMPONENT:\r\n                    systemSpec.withComponent(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_3__[\"CraftingComponent\"].fromFlags(itemConfig, item.img));\r\n                    break;\r\n                case _core_CompendiumData__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItemType\"].RECIPE:\r\n                    systemSpec.withRecipe(_core_Recipe__WEBPACK_IMPORTED_MODULE_2__[\"Recipe\"].fromFlags(itemConfig));\r\n                    break;\r\n                default:\r\n                    throw new Error(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Unable to load item ${item.id}. Could not determine Fabricate Entity Type. `);\r\n            }\r\n        });\r\n        const enabled = game.settings.get(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, systemSpec.compendiumPackKey + '.enabled');\r\n        systemSpec.isEnabled(enabled);\r\n        let system = systemSpec.build();\r\n        _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].register(system);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpec.name}. `);\r\n    });\r\n}\r\n/**\r\n * Fallback awaiter for loading compendium content, as this was observed to be unreliable during development after the\r\n * game 'ready' Hook was fired\r\n *\r\n * @param compendium The Compendium from which to reliably load the Content\r\n * @param maxAttempts The maximum number of times to attempt loading Compendium Content\r\n * */\r\nfunction loadCompendiumContent(compendium, maxAttempts) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let content = yield compendium.getContent();\r\n        let attempts = 0;\r\n        while ((!content || (content.length === 0)) && (attempts <= maxAttempts)) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Waiting for content in Compendium Pack ${compendium.id} (Attempt ${attempts} of ${maxAttempts}. `);\r\n            yield wait(1000);\r\n            attempts++;\r\n            content = yield compendium.getContent();\r\n        }\r\n        return content;\r\n    });\r\n}\r\n/**\r\n * Simple async awaiter delay function\r\n * @param delay The number of millis to wait before resolving\r\n * @return a promise that resolves once the delay period has elapsed\r\n * */\r\nfunction wait(delay) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return new Promise(resolve => setTimeout(resolve, delay));\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2R1bGUudHM/NTk0MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQzJDO0FBQzVDO0FBQ3NCO0FBQ2dCO0FBQ25CO0FBR3hELDRDQUE0QztBQUM1Qyw2QkFBNkI7QUFFN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztBQUN6QyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7SUFDckIsc0VBQWtCLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDOUIsQ0FBQyxDQUFDLENBQUM7QUFFSCxTQUFlLG1CQUFtQjs7UUFDOUIsSUFBSSxvQkFBb0IsR0FBRyx5RkFBc0IsQ0FBQyxvQkFBb0IsQ0FBQztRQUN2RSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbURBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxjQUFjLG9CQUFvQixDQUFDLE1BQU0scUJBQXFCLENBQUMsQ0FBQztRQUN0RyxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsc0VBQWtCLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUNoRixvQkFBb0IsQ0FBQyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNqRCxNQUFNLFdBQVcsR0FBRyxvQkFBb0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFrQyxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLG1EQUFVLENBQUMsTUFBTSxDQUFDLEtBQUssYUFBYSxvQkFBb0IsQ0FBQyxNQUFNLHNCQUFzQixXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuSSxDQUFDO0NBQUE7QUFFRDs7Ozs7OztLQU9LO0FBQ0wsU0FBZSxrQkFBa0IsQ0FBQyxVQUFrQzs7UUFDaEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFH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QixDQUFDO0NBQUE7QUFFRDs7OztLQUlLO0FBQ0wsU0FBZSxJQUFJLENBQUMsS0FBYTs7UUFDN0IsT0FBTyxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDO0NBQUEiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9tb2R1bGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHJvcGVydGllcyBmcm9tIFwiLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7RmFicmljYXRlQ29tcGVuZGl1bURhdGEsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi9jb3JlL0NvbXBlbmRpdW1EYXRhXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi9jb3JlL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0gZnJvbSBcIi4vcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7RmFicmljYXRlTGlmZWN5Y2xlfSBmcm9tIFwiLi9GYWJyaWNhdGVMaWZlY3ljbGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbX0gZnJvbSBcIi4vY29yZS9DcmFmdGluZ1N5c3RlbVwiO1xyXG5cclxuLy8gRW5hYmxlIGFzIG5lZWRlZCBmb3IgZGV2LiBEbyBub3QgcmVsZWFzZSFcclxuLy8gQ09ORklHLmRlYnVnLmhvb2tzID0gdHJ1ZTtcclxuXHJcbkhvb2tzLm9uY2UoJ3JlYWR5JywgbG9hZENyYWZ0aW5nU3lzdGVtcyk7XHJcbkhvb2tzLm9uY2UoJ3JlYWR5JywgKCkgPT4ge1xyXG4gICAgRmFicmljYXRlTGlmZWN5Y2xlLmluaXQoKTtcclxufSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ3JhZnRpbmdTeXN0ZW1zKCkge1xyXG4gICAgbGV0IHN5c3RlbVNwZWNpZmljYXRpb25zID0gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5zeXN0ZW1TcGVjaWZpY2F0aW9ucztcclxuICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IExvYWRpbmcgJHtzeXN0ZW1TcGVjaWZpY2F0aW9ucy5sZW5ndGh9IGNyYWZ0aW5nIHN5c3RlbXMuIGApO1xyXG4gICAgc3lzdGVtU3BlY2lmaWNhdGlvbnMuZm9yRWFjaChGYWJyaWNhdGVMaWZlY3ljbGUucmVnaXN0ZXJDcmFmdGluZ1N5c3RlbVNldHRpbmdzKTtcclxuICAgIHN5c3RlbVNwZWNpZmljYXRpb25zLmZvckVhY2gobG9hZENyYWZ0aW5nU3lzdGVtKTtcclxuICAgIGNvbnN0IHN5c3RlbU5hbWVzID0gc3lzdGVtU3BlY2lmaWNhdGlvbnMubWFwKChzeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKSA9PiBzeXN0ZW1TcGVjLm5hbWUpO1xyXG4gICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgTG9hZGVkICR7c3lzdGVtU3BlY2lmaWNhdGlvbnMubGVuZ3RofSBjcmFmdGluZyBzeXN0ZW1zOiAke3N5c3RlbU5hbWVzLmpvaW4oJywgJyl9IGApO1xyXG59XHJcblxyXG4vKipcclxuICogTG9hZHMgYSBzaW5nbGUgQ3JhZnRpbmcgU3lzdGVtIGZyb20gYSBTeXN0ZW0gU3BlY2lmaWNhdGlvbiwgd2hpY2ggbXVzdCBpbmNsdWRlIGEgQ29tcGVuZGl1bSBQYWNrIEtleS4gSXRlbSBkYXRhIGZyb21cclxuICogdGhlIENvbXBlbmRpdW0gUGFjayBpcyB1c2VkIHRvIGxvYWQgdGhlIFJlY2lwZXMgYW5kIENyYWZ0aW5nIENvbXBvbmVudHMgaW50byB0aGUgc3lzdGVtIGZyb20gdGhlIGNvbXBlbmRpdW0uIFRoZVxyXG4gKiBGYWJyaWNhdG9yLCBzdXBwb3J0ZWQgc3lzdGVtcyBhbmQgbmFtZSBwcm92aWRlZCBpbiB0aGUgc3BlYyBhcmUgYWxsIHByZXNlcnZlZFxyXG4gKlxyXG4gKiBAcGFyYW0gc3lzdGVtU3BlYyBBIHBhcnRpYWxseSBwb3B1bGF0ZWQgYENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXJgIHRvIHdoaWNoIHRoZSBSZWNpcGVzIGFuZCBDb21wb25lbnRzIHdpbGwgYmUgYWRkZWRcclxuICogb25jZSBpbXBvcnRlZCBmcm9tIHRoZSBDb21wZW5kaXVtLiBNdXN0IHNwZWNpZnkgYSBDb21wZW5kaXVtIFBhY2sgS2V5LlxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ3JhZnRpbmdTeXN0ZW0oc3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcikge1xyXG4gICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgTG9hZGluZyAke3N5c3RlbVNwZWMubmFtZX0gZnJvbSBDb21wZW5kaXVtIHBhY2sgJHtzeXN0ZW1TcGVjLmNvbXBlbmRpdW1QYWNrS2V5fS4gYCk7XHJcbiAgICBpZiAoc3lzdGVtU3BlYy5zdXBwb3J0ZWRHYW1lU3lzdGVtcy5pbmRleE9mKGdhbWUuc3lzdGVtLmlkKSA8IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCAke3N5c3RlbVNwZWMubmFtZX0gZG9lcyBub3Qgc3VwcG9ydCAke2dhbWUuc3lzdGVtLmlkfSEgYCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IHN5c3RlbVBhY2s6IENvbXBlbmRpdW0gPSBnYW1lLnBhY2tzLmdldChzeXN0ZW1TcGVjLmNvbXBlbmRpdW1QYWNrS2V5KVxyXG4gICAgbGV0IGNvbnRlbnQgPSBhd2FpdCBsb2FkQ29tcGVuZGl1bUNvbnRlbnQoc3lzdGVtUGFjaywgMTApO1xyXG4gICAgY29udGVudC5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICBsZXQgaXRlbUNvbmZpZzogRmFicmljYXRlQ29tcGVuZGl1bURhdGEgPSBpdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlO1xyXG4gICAgICAgIHN3aXRjaCAoaXRlbUNvbmZpZy50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UOlxyXG4gICAgICAgICAgICAgICAgc3lzdGVtU3BlYy53aXRoQ29tcG9uZW50KENyYWZ0aW5nQ29tcG9uZW50LmZyb21GbGFncyhpdGVtQ29uZmlnLCBpdGVtLmltZykpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFOlxyXG4gICAgICAgICAgICAgICAgc3lzdGVtU3BlYy53aXRoUmVjaXBlKFJlY2lwZS5mcm9tRmxhZ3MoaXRlbUNvbmZpZykpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgVW5hYmxlIHRvIGxvYWQgaXRlbSAke2l0ZW0uaWR9LiBDb3VsZCBub3QgZGV0ZXJtaW5lIEZhYnJpY2F0ZSBFbnRpdHkgVHlwZS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBlbmFibGVkID0gZ2FtZS5zZXR0aW5ncy5nZXQoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSArICcuZW5hYmxlZCcpO1xyXG4gICAgc3lzdGVtU3BlYy5pc0VuYWJsZWQoZW5hYmxlZCk7XHJcbiAgICBsZXQgc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSA9IHN5c3RlbVNwZWMuYnVpbGQoKTtcclxuICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkucmVnaXN0ZXIoc3lzdGVtKTtcclxuICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IExvYWRlZCAke3N5c3RlbVNwZWMubmFtZX0uIGApO1xyXG59XHJcblxyXG4vKipcclxuICogRmFsbGJhY2sgYXdhaXRlciBmb3IgbG9hZGluZyBjb21wZW5kaXVtIGNvbnRlbnQsIGFzIHRoaXMgd2FzIG9ic2VydmVkIHRvIGJlIHVucmVsaWFibGUgZHVyaW5nIGRldmVsb3BtZW50IGFmdGVyIHRoZVxyXG4gKiBnYW1lICdyZWFkeScgSG9vayB3YXMgZmlyZWRcclxuICpcclxuICogQHBhcmFtIGNvbXBlbmRpdW0gVGhlIENvbXBlbmRpdW0gZnJvbSB3aGljaCB0byByZWxpYWJseSBsb2FkIHRoZSBDb250ZW50XHJcbiAqIEBwYXJhbSBtYXhBdHRlbXB0cyBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gYXR0ZW1wdCBsb2FkaW5nIENvbXBlbmRpdW0gQ29udGVudFxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ29tcGVuZGl1bUNvbnRlbnQoY29tcGVuZGl1bTogQ29tcGVuZGl1bSwgbWF4QXR0ZW1wdHM6IG51bWJlcik6IFByb21pc2U8RW50aXR5PHt9PltdPiB7XHJcbiAgICBsZXQgY29udGVudDogRW50aXR5W10gPSBhd2FpdCBjb21wZW5kaXVtLmdldENvbnRlbnQoKTtcclxuICAgIGxldCBhdHRlbXB0czogbnVtYmVyID0gMDtcclxuICAgIHdoaWxlICgoIWNvbnRlbnQgfHwgKGNvbnRlbnQubGVuZ3RoID09PSAwKSkgJiYgKGF0dGVtcHRzIDw9IG1heEF0dGVtcHRzKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IFdhaXRpbmcgZm9yIGNvbnRlbnQgaW4gQ29tcGVuZGl1bSBQYWNrICR7Y29tcGVuZGl1bS5pZH0gKEF0dGVtcHQgJHthdHRlbXB0c30gb2YgJHttYXhBdHRlbXB0c30uIGApO1xyXG4gICAgICAgIGF3YWl0IHdhaXQoMTAwMCk7XHJcbiAgICAgICAgYXR0ZW1wdHMrKztcclxuICAgICAgICBjb250ZW50ID0gYXdhaXQgY29tcGVuZGl1bS5nZXRDb250ZW50KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSBhc3luYyBhd2FpdGVyIGRlbGF5IGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSBkZWxheSBUaGUgbnVtYmVyIG9mIG1pbGxpcyB0byB3YWl0IGJlZm9yZSByZXNvbHZpbmdcclxuICogQHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSBkZWxheSBwZXJpb2QgaGFzIGVsYXBzZWRcclxuICogKi9cclxuYXN5bmMgZnVuY3Rpb24gd2FpdChkZWxheTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/module.ts\n");

/***/ }),

/***/ "./src/scripts/registries/CraftingSystemRegistry.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/registries/CraftingSystemRegistry.ts ***!
  \**********************************************************/
/*! exports provided: CraftingSystemRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystemRegistry\", function() { return CraftingSystemRegistry; });\n/* harmony import */ var _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CraftingSystem */ \"./src/scripts/core/CraftingSystem.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_Fabricator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Fabricator */ \"./src/scripts/core/Fabricator.ts\");\n\r\n\r\n\r\nclass CraftingSystemRegistry {\r\n    constructor() {\r\n        if (CraftingSystemRegistry.instance) {\r\n            throw new Error('CraftingSystemRegistry is a singleton. Use `CraftingSystemRegistry.getInstance()` instead. ');\r\n        }\r\n    }\r\n    static getInstance() {\r\n        return CraftingSystemRegistry.instance;\r\n    }\r\n    static register(system) {\r\n        CraftingSystemRegistry.craftingSystemsByCompendiumKey.set(system.compendiumPackKey, system);\r\n        CraftingSystemRegistry.resolveRecipesForSystem(system);\r\n    }\r\n    static resolveRecipesForSystem(system) {\r\n        system.recipes.forEach((recipe) => {\r\n            CraftingSystemRegistry.craftingSystemsByRecipeId.set(recipe.entryId, system);\r\n        });\r\n    }\r\n    static getSystemByCompendiumPackKey(id) {\r\n        if (CraftingSystemRegistry.craftingSystemsByCompendiumKey.has(id)) {\r\n            return CraftingSystemRegistry.craftingSystemsByCompendiumKey.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Compendium Pack Key ${id}. `);\r\n    }\r\n    static getSystemByRecipeId(id) {\r\n        if (CraftingSystemRegistry.craftingSystemsByRecipeId.has(id)) {\r\n            return CraftingSystemRegistry.craftingSystemsByRecipeId.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Recipe ${id}. `);\r\n    }\r\n    static get systemSpecifications() {\r\n        return this._systemSpecifications;\r\n    }\r\n    static declareSpecification(spec) {\r\n        CraftingSystemRegistry._systemSpecifications.push(spec);\r\n    }\r\n}\r\nCraftingSystemRegistry.instance = new CraftingSystemRegistry();\r\nCraftingSystemRegistry.craftingSystemsByCompendiumKey = new Map();\r\nCraftingSystemRegistry.craftingSystemsByRecipeId = new Map();\r\nCraftingSystemRegistry._systemSpecifications = [];\r\nconst testSystemSpec = _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__[\"CraftingSystem\"].builder()\r\n    .withName('Child\\'s Play')\r\n    .withEnableHint('Enable the test Crafting System for Fabricate?')\r\n    .withCompendiumPackKey('fabricate.fabricate-test')\r\n    .withSupportedGameSystem(_core_GameSystemType__WEBPACK_IMPORTED_MODULE_1__[\"GameSystemType\"].DND5E)\r\n    .withFabricator(new _core_Fabricator__WEBPACK_IMPORTED_MODULE_2__[\"DefaultFabricator\"]());\r\nCraftingSystemRegistry.declareSpecification(testSystemSpec);\r\nconst alchemistsSuppliesV11Spec = _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__[\"CraftingSystem\"].builder()\r\n    .withName('Alchemist\\'s Supplies v1.1')\r\n    .withCompendiumPackKey('fabricate.alchemists-supplies-v11')\r\n    .withEnableHint('Enable the Alchemist\\'s Supplies v1.1 crafting system by /u/calculusChild?')\r\n    .withSupportedGameSystem(_core_GameSystemType__WEBPACK_IMPORTED_MODULE_1__[\"GameSystemType\"].DND5E)\r\n    .withFabricator(new _core_Fabricator__WEBPACK_IMPORTED_MODULE_2__[\"EssenceCombiningFabricator\"]());\r\nCraftingSystemRegistry.declareSpecification(alchemistsSuppliesV11Spec);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHM/MTlmYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNEO0FBRUE7QUFDMkI7QUFFakYsTUFBTSxzQkFBc0I7SUFPeEI7UUFDSSxJQUFJLHNCQUFzQixDQUFDLFFBQVEsRUFBRTtZQUNqQyxNQUFNLElBQUksS0FBSyxDQUFDLDZGQUE2RixDQUFDLENBQUM7U0FDbEg7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVc7UUFDckIsT0FBTyxzQkFBc0IsQ0FBQyxRQUFRLENBQUM7SUFDM0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxRQUFRLENBQUMsTUFBc0I7UUFDekMsc0JBQXNCLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM1RixzQkFBc0IsQ0FBQyx1QkFBdUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRU8sTUFBTSxDQUFDLHVCQUF1QixDQUFDLE1BQXNCO1FBQ3pELE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUU7WUFDdEMsc0JBQXNCLENBQUMseUJBQXlCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDakYsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRU0sTUFBTSxDQUFDLDRCQUE0QixDQUFDLEVBQVM7UUFDaEQsSUFBSSxzQkFBc0IsQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDL0QsT0FBTyxzQkFBc0IsQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDeEU7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLCtFQUErRSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzNHLENBQUM7SUFFTSxNQUFNLENBQUMsbUJBQW1CLENBQUMsRUFBUztRQUN2QyxJQUFJLHNCQUFzQixDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUMxRCxPQUFPLHNCQUFzQixDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNuRTtRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsa0VBQWtFLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUYsQ0FBQztJQUVNLE1BQU0sS0FBSyxvQkFBb0I7UUFDbEMsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUM7SUFDdEMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxJQUE0QjtRQUMzRCxzQkFBc0IsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUQsQ0FBQzs7QUEvQ2MsK0JBQVEsR0FBMkIsSUFBSSxzQkFBc0IsRUFBRSxDQUFDO0FBRWhFLHFEQUE4QixHQUFnQyxJQUFJLEdBQUcsRUFBMEIsQ0FBQztBQUNoRyxnREFBeUIsR0FBZ0MsSUFBSSxHQUFHLEVBQTBCLENBQUM7QUFDM0YsNENBQXFCLEdBQTZCLEVBQUUsQ0FBQztBQStDeEUsTUFBTSxjQUFjLEdBQTJCLG1FQUFjLENBQUMsT0FBTyxFQUFFO0tBQ2xFLFFBQVEsQ0FBQyxlQUFlLENBQUM7S0FDekIsY0FBYyxDQUFDLGdEQUFnRCxDQUFDO0tBQ2hFLHFCQUFxQixDQUFDLDBCQUEwQixDQUFDO0tBQ2pELHVCQUF1QixDQUFDLG1FQUFjLENBQUMsS0FBSyxDQUFDO0tBQzdDLGNBQWMsQ0FBQyxJQUFJLGtFQUFpQixFQUFFLENBQUMsQ0FBQztBQUM3QyxzQkFBc0IsQ0FBQyxvQkFBb0IsQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUU1RCxNQUFNLHlCQUF5QixHQUEyQixtRUFBYyxDQUFDLE9BQU8sRUFBRTtLQUM3RSxRQUFRLENBQUMsNEJBQTRCLENBQUM7S0FDdEMscUJBQXFCLENBQUMsbUNBQW1DLENBQUM7S0FDMUQsY0FBYyxDQUFDLDRFQUE0RSxDQUFDO0tBQzVGLHVCQUF1QixDQUFDLG1FQUFjLENBQUMsS0FBSyxDQUFDO0tBQzdDLGNBQWMsQ0FBQyxJQUFJLDJFQUEwQixFQUFFLENBQUMsQ0FBQztBQUN0RCxzQkFBc0IsQ0FBQyxvQkFBb0IsQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO0FBRXhDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDcmFmdGluZ1N5c3RlbX0gZnJvbSBcIi4uL2NvcmUvQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jb3JlL1JlY2lwZVwiO1xyXG5pbXBvcnQge0dhbWVTeXN0ZW1UeXBlfSBmcm9tIFwiLi4vY29yZS9HYW1lU3lzdGVtVHlwZVwiO1xyXG5pbXBvcnQge0RlZmF1bHRGYWJyaWNhdG9yLCBFc3NlbmNlQ29tYmluaW5nRmFicmljYXRvcn0gZnJvbSBcIi4uL2NvcmUvRmFicmljYXRvclwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSA9IG5ldyBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5OiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+KCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBjcmFmdGluZ1N5c3RlbXNCeVJlY2lwZUlkOiBNYXA8c3RyaW5nLCBDcmFmdGluZ1N5c3RlbT4gPSBuZXcgTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+KCk7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBfc3lzdGVtU3BlY2lmaWNhdGlvbnM6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXJbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGlmIChDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5Lmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSBpcyBhIHNpbmdsZXRvbi4gVXNlIGBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmdldEluc3RhbmNlKClgIGluc3RlYWQuICcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkge1xyXG4gICAgICAgIHJldHVybiBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5Lmluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcmVnaXN0ZXIoc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSk6IHZvaWQge1xyXG4gICAgICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LnNldChzeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXksIHN5c3RlbSk7XHJcbiAgICAgICAgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5yZXNvbHZlUmVjaXBlc0ZvclN5c3RlbShzeXN0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlc29sdmVSZWNpcGVzRm9yU3lzdGVtKHN5c3RlbTogQ3JhZnRpbmdTeXN0ZW0pOiB2b2lkIHtcclxuICAgICAgICBzeXN0ZW0ucmVjaXBlcy5mb3JFYWNoKChyZWNpcGU6IFJlY2lwZSkgPT4ge1xyXG4gICAgICAgICAgICBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5UmVjaXBlSWQuc2V0KHJlY2lwZS5lbnRyeUlkLCBzeXN0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U3lzdGVtQnlDb21wZW5kaXVtUGFja0tleShpZDpzdHJpbmcpOiBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICAgICAgaWYgKENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBDb21wZW5kaXVtIFBhY2sgS2V5ICR7aWR9LiBgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFN5c3RlbUJ5UmVjaXBlSWQoaWQ6c3RyaW5nKTogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgIGlmIChDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5UmVjaXBlSWQuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5jcmFmdGluZ1N5c3RlbXNCeVJlY2lwZUlkLmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBSZWNpcGUgJHtpZH0uIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IHN5c3RlbVNwZWNpZmljYXRpb25zKCk6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N5c3RlbVNwZWNpZmljYXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZGVjbGFyZVNwZWNpZmljYXRpb24oc3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcikge1xyXG4gICAgICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuX3N5c3RlbVNwZWNpZmljYXRpb25zLnB1c2goc3BlYyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCB0ZXN0U3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlciA9IENyYWZ0aW5nU3lzdGVtLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhOYW1lKCdDaGlsZFxcJ3MgUGxheScpXHJcbiAgICAud2l0aEVuYWJsZUhpbnQoJ0VuYWJsZSB0aGUgdGVzdCBDcmFmdGluZyBTeXN0ZW0gZm9yIEZhYnJpY2F0ZT8nKVxyXG4gICAgLndpdGhDb21wZW5kaXVtUGFja0tleSgnZmFicmljYXRlLmZhYnJpY2F0ZS10ZXN0JylcclxuICAgIC53aXRoU3VwcG9ydGVkR2FtZVN5c3RlbShHYW1lU3lzdGVtVHlwZS5ETkQ1RSlcclxuICAgIC53aXRoRmFicmljYXRvcihuZXcgRGVmYXVsdEZhYnJpY2F0b3IoKSk7XHJcbkNyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuZGVjbGFyZVNwZWNpZmljYXRpb24odGVzdFN5c3RlbVNwZWMpO1xyXG5cclxuY29uc3QgYWxjaGVtaXN0c1N1cHBsaWVzVjExU3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlciA9IENyYWZ0aW5nU3lzdGVtLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhOYW1lKCdBbGNoZW1pc3RcXCdzIFN1cHBsaWVzIHYxLjEnKVxyXG4gICAgLndpdGhDb21wZW5kaXVtUGFja0tleSgnZmFicmljYXRlLmFsY2hlbWlzdHMtc3VwcGxpZXMtdjExJylcclxuICAgIC53aXRoRW5hYmxlSGludCgnRW5hYmxlIHRoZSBBbGNoZW1pc3RcXCdzIFN1cHBsaWVzIHYxLjEgY3JhZnRpbmcgc3lzdGVtIGJ5IC91L2NhbGN1bHVzQ2hpbGQ/JylcclxuICAgIC53aXRoU3VwcG9ydGVkR2FtZVN5c3RlbShHYW1lU3lzdGVtVHlwZS5ETkQ1RSlcclxuICAgIC53aXRoRmFicmljYXRvcihuZXcgRXNzZW5jZUNvbWJpbmluZ0ZhYnJpY2F0b3IoKSk7XHJcbkNyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuZGVjbGFyZVNwZWNpZmljYXRpb24oYWxjaGVtaXN0c1N1cHBsaWVzVjExU3BlYyk7XHJcblxyXG5leHBvcnQge0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/CraftingSystemRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/registries/InventoryRegistry.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/registries/InventoryRegistry.ts ***!
  \*****************************************************/
/*! exports provided: InventoryRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRegistry\", function() { return InventoryRegistry; });\nclass InventoryRegistry {\r\n    constructor() {\r\n        if (InventoryRegistry.instance) {\r\n            throw new Error('InventoryRegistry is a singleton. Use `InventoryRegistry.getInstance()` instead. ');\r\n        }\r\n    }\r\n    static getInstance() {\r\n        return InventoryRegistry.instance;\r\n    }\r\n    static addFor(actorId, inventory) {\r\n        if (this._managedInventories.has(actorId)) {\r\n            throw new Error(`The Crafting Inventory for Actor[${actorId}] is already managed by Fabricate and should not be overridden. `);\r\n        }\r\n        this._managedInventories.set(actorId, inventory);\r\n    }\r\n    static getFor(actorId) {\r\n        return this._managedInventories.get(actorId);\r\n    }\r\n}\r\nInventoryRegistry.instance = new InventoryRegistry();\r\nInventoryRegistry._managedInventories = new Map();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzPzE4MzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBLE1BQU0saUJBQWlCO0lBTW5CO1FBQ0ksSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLEVBQUU7WUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxtRkFBbUYsQ0FBQyxDQUFDO1NBQ3hHO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxXQUFXO1FBQ3JCLE9BQU8saUJBQWlCLENBQUMsUUFBUSxDQUFDO0lBQ3RDLENBQUM7SUFFTSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQWUsRUFBRSxTQUFvQjtRQUN0RCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDdkMsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQ0FBb0MsT0FBTyxrRUFBa0UsQ0FBQyxDQUFDO1NBQ2xJO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVNLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBZTtRQUNoQyxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakQsQ0FBQzs7QUF2QmMsMEJBQVEsR0FBc0IsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0FBRXRELHFDQUFtQixHQUEyQixJQUFJLEdBQUcsRUFBcUIsQ0FBQztBQXdCcEUiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9jb3JlL0ludmVudG9yeVwiO1xyXG5cclxuY2xhc3MgSW52ZW50b3J5UmVnaXN0cnkge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBJbnZlbnRvcnlSZWdpc3RyeSA9IG5ldyBJbnZlbnRvcnlSZWdpc3RyeSgpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9tYW5hZ2VkSW52ZW50b3JpZXM6IE1hcDxzdHJpbmcsIEludmVudG9yeT4gPSBuZXcgTWFwPHN0cmluZywgSW52ZW50b3J5PigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGlmIChJbnZlbnRvcnlSZWdpc3RyeS5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmVudG9yeVJlZ2lzdHJ5IGlzIGEgc2luZ2xldG9uLiBVc2UgYEludmVudG9yeVJlZ2lzdHJ5LmdldEluc3RhbmNlKClgIGluc3RlYWQuICcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEludmVudG9yeVJlZ2lzdHJ5IHtcclxuICAgICAgICByZXR1cm4gSW52ZW50b3J5UmVnaXN0cnkuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRGb3IoYWN0b3JJZDogc3RyaW5nLCBpbnZlbnRvcnk6IEludmVudG9yeSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9tYW5hZ2VkSW52ZW50b3JpZXMuaGFzKGFjdG9ySWQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIENyYWZ0aW5nIEludmVudG9yeSBmb3IgQWN0b3JbJHthY3RvcklkfV0gaXMgYWxyZWFkeSBtYW5hZ2VkIGJ5IEZhYnJpY2F0ZSBhbmQgc2hvdWxkIG5vdCBiZSBvdmVycmlkZGVuLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlZEludmVudG9yaWVzLnNldChhY3RvcklkLCBpbnZlbnRvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Rm9yKGFjdG9ySWQ6IHN0cmluZyk6IEludmVudG9yeSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZWRJbnZlbnRvcmllcy5nZXQoYWN0b3JJZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7SW52ZW50b3J5UmVnaXN0cnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/InventoryRegistry.ts\n");

/***/ })

/******/ });