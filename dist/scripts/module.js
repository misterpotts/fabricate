/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "E:\\Projects\\Foundry Development\\dev-modules\\fabricate\\module\\scripts";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/scripts/module.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/scripts/Properties.ts":
/*!***********************************!*\
  !*** ./src/scripts/Properties.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n\r\nconst Properties = {\r\n    module: {\r\n        name: 'fabricate',\r\n        label: 'Fabricate',\r\n        templates: {\r\n            recipeTab: 'modules/fabricate/templates/recipe-tab.html',\r\n            craftingTab: 'modules/fabricate/templates/crafting-tab.html'\r\n        }\r\n    },\r\n    types: {\r\n        recipe: _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].RECIPE,\r\n        component: _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT,\r\n        allowableItems: ['consumable', 'loot', 'scroll', 'trinket']\r\n    },\r\n    flagKeys: {\r\n        actor: {\r\n            selectedCraftingSystem: 'crafting.selectedSystemId',\r\n            hopperForSystem: (systemId) => `crafting.${systemId}.hopper`,\r\n            knownRecipesForSystem: (systemId) => `crafting.${systemId}.knownRecipes`,\r\n        },\r\n        item: {\r\n            identity: 'identity',\r\n            partId: 'identity.partId',\r\n            systemId: 'identity.systemId',\r\n            fabricateItemType: 'type',\r\n        }\r\n    }\r\n};\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Properties);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzPzkwMWMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUF3RDtBQUV4RCxNQUFNLFVBQVUsR0FBRztJQUNmLE1BQU0sRUFBRTtRQUNKLElBQUksRUFBRSxXQUFXO1FBQ2pCLEtBQUssRUFBRSxXQUFXO1FBQ2xCLFNBQVMsRUFBRTtZQUNQLFNBQVMsRUFBRSw2Q0FBNkM7WUFDeEQsV0FBVyxFQUFFLCtDQUErQztTQUMvRDtLQUNKO0lBQ0QsS0FBSyxFQUFFO1FBQ0gsTUFBTSxFQUFFLHNFQUFpQixDQUFDLE1BQU07UUFDaEMsU0FBUyxFQUFFLHNFQUFpQixDQUFDLFNBQVM7UUFDdEMsY0FBYyxFQUFFLENBQUMsWUFBWSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDO0tBQzlEO0lBQ0QsUUFBUSxFQUFFO1FBQ04sS0FBSyxFQUFFO1lBQ0gsc0JBQXNCLEVBQUUsMkJBQTJCO1lBQ25ELGVBQWUsRUFBRSxDQUFDLFFBQWdCLEVBQUUsRUFBRSxDQUFDLFlBQVksUUFBUSxTQUFTO1lBQ3BFLHFCQUFxQixFQUFFLENBQUMsUUFBZ0IsRUFBRSxFQUFFLENBQUMsWUFBWSxRQUFRLGVBQWU7U0FDbkY7UUFDRCxJQUFJLEVBQUU7WUFDRixRQUFRLEVBQUUsVUFBVTtZQUNwQixNQUFNLEVBQUUsaUJBQWlCO1lBQ3pCLFFBQVEsRUFBRSxtQkFBbUI7WUFDN0IsaUJBQWlCLEVBQUUsTUFBTTtTQUM1QjtLQUNKO0NBQ0osQ0FBQztBQUVhLHlFQUFVLEVBQUMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9Qcm9wZXJ0aWVzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGYWJyaWNhdGVJdGVtVHlwZX0gZnJvbSBcIi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5cclxuY29uc3QgUHJvcGVydGllcyA9IHtcclxuICAgIG1vZHVsZToge1xyXG4gICAgICAgIG5hbWU6ICdmYWJyaWNhdGUnLFxyXG4gICAgICAgIGxhYmVsOiAnRmFicmljYXRlJyxcclxuICAgICAgICB0ZW1wbGF0ZXM6IHtcclxuICAgICAgICAgICAgcmVjaXBlVGFiOiAnbW9kdWxlcy9mYWJyaWNhdGUvdGVtcGxhdGVzL3JlY2lwZS10YWIuaHRtbCcsXHJcbiAgICAgICAgICAgIGNyYWZ0aW5nVGFiOiAnbW9kdWxlcy9mYWJyaWNhdGUvdGVtcGxhdGVzL2NyYWZ0aW5nLXRhYi5odG1sJ1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB0eXBlczoge1xyXG4gICAgICAgIHJlY2lwZTogRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFLFxyXG4gICAgICAgIGNvbXBvbmVudDogRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5ULFxyXG4gICAgICAgIGFsbG93YWJsZUl0ZW1zOiBbJ2NvbnN1bWFibGUnLCAnbG9vdCcsICdzY3JvbGwnLCAndHJpbmtldCddXHJcbiAgICB9LFxyXG4gICAgZmxhZ0tleXM6IHtcclxuICAgICAgICBhY3Rvcjoge1xyXG4gICAgICAgICAgICBzZWxlY3RlZENyYWZ0aW5nU3lzdGVtOiAnY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZCcsXHJcbiAgICAgICAgICAgIGhvcHBlckZvclN5c3RlbTogKHN5c3RlbUlkOiBzdHJpbmcpID0+IGBjcmFmdGluZy4ke3N5c3RlbUlkfS5ob3BwZXJgLFxyXG4gICAgICAgICAgICBrbm93blJlY2lwZXNGb3JTeXN0ZW06IChzeXN0ZW1JZDogc3RyaW5nKSA9PiBgY3JhZnRpbmcuJHtzeXN0ZW1JZH0ua25vd25SZWNpcGVzYCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGl0ZW06IHtcclxuICAgICAgICAgICAgaWRlbnRpdHk6ICdpZGVudGl0eScsXHJcbiAgICAgICAgICAgIHBhcnRJZDogJ2lkZW50aXR5LnBhcnRJZCcsXHJcbiAgICAgICAgICAgIHN5c3RlbUlkOiAnaWRlbnRpdHkuc3lzdGVtSWQnLFxyXG4gICAgICAgICAgICBmYWJyaWNhdGVJdGVtVHlwZTogJ3R5cGUnLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFByb3BlcnRpZXM7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/Properties.ts\n");

/***/ }),

/***/ "./src/scripts/application/FabricateLifecycle.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/application/FabricateLifecycle.ts ***!
  \*******************************************************/
/*! exports provided: FabricateLifecycle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateLifecycle\", function() { return FabricateLifecycle; });\n/* harmony import */ var _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../interface/ItemRecipeTab */ \"./src/scripts/interface/ItemRecipeTab.ts\");\n/* harmony import */ var _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../interface/CraftingTab */ \"./src/scripts/interface/CraftingTab.ts\");\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\n/* harmony import */ var _core_EssenceType__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/EssenceType */ \"./src/scripts/core/EssenceType.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass FabricateLifecycle {\r\n    static init() {\r\n        this.registerHandlebarsHelperFunctions();\r\n        this.registerItemRecipeTab();\r\n        this.registerActorCraftingTab();\r\n        this.registerApplicationListeners();\r\n    }\r\n    static registerHandlebarsHelperFunctions() {\r\n        Handlebars.registerHelper('ifEquals', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return (arg1 == arg2) ? options.fn(this) : options.inverse(this);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIcon', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return _core_EssenceType__WEBPACK_IMPORTED_MODULE_3__[\"EssenceTypeIconConverter\"].convertToIconMarkup(arg1);\r\n        });\r\n        // @ts-ignore\r\n        Handlebars.registerHelper('essenceIconSeries', function (arg1, arg2, options) {\r\n            // @ts-ignore\r\n            return _core_EssenceType__WEBPACK_IMPORTED_MODULE_3__[\"EssenceTypeIconConverter\"].convertSeriesToIconMarkup(arg1);\r\n        });\r\n    }\r\n    static registerActorCraftingTab() {\r\n        Hooks.on('renderActorSheet5e', (sheetData, sheetHtml, eventData) => {\r\n            _interface_CraftingTab__WEBPACK_IMPORTED_MODULE_1__[\"CraftingTab\"].bind(sheetData, sheetHtml, eventData);\r\n        });\r\n    }\r\n    static registerItemRecipeTab() {\r\n        Hooks.on('renderItemSheet5e', (sheetData, sheetHtml) => {\r\n            _interface_ItemRecipeTab__WEBPACK_IMPORTED_MODULE_0__[\"ItemRecipeTab\"].bind(sheetData, sheetHtml);\r\n        });\r\n    }\r\n    static registerApplicationListeners() {\r\n        Hooks.on('createOwnedItem', (actor) => {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n            if (inventory) {\r\n                inventory.update();\r\n            }\r\n        });\r\n        Hooks.on('deleteOwnedItem', (actor) => {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n            if (inventory) {\r\n                inventory.update();\r\n            }\r\n        });\r\n        Hooks.on('updateOwnedItem', (actor, item, update) => __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n            if (inventory) {\r\n                if (typeof update.data !== 'undefined') {\r\n                    yield inventory.updateQuantityFor(item);\r\n                }\r\n            }\r\n        }));\r\n    }\r\n    static registerCraftingSystemSettings(systemSpec) {\r\n        game.settings.register(\"fabricate\", systemSpec.compendiumPackKey + \".enabled\", {\r\n            name: systemSpec.name,\r\n            hint: systemSpec.enableHint,\r\n            scope: \"world\",\r\n            type: Boolean,\r\n            default: true,\r\n            config: true,\r\n            onChange: (enabled) => { _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].getSystemByCompendiumPackKey(systemSpec.compendiumPackKey).enabled = enabled; }\r\n        });\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVMaWZlY3ljbGUudHM/OTA0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXlEO0FBQ0o7QUFDYTtBQUVMO0FBRWU7QUFFNUUsTUFBTSxrQkFBa0I7SUFFYixNQUFNLENBQUMsSUFBSTtRQUNkLElBQUksQ0FBQyxpQ0FBaUMsRUFBRSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO1FBQzdCLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDO1FBQ2hDLElBQUksQ0FBQyw0QkFBNEIsRUFBRTtJQUN2QyxDQUFDO0lBRU8sTUFBTSxDQUFDLGlDQUFpQztRQUU1QyxVQUFVLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxVQUFTLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTztZQUM5RCxhQUFhO1lBQ2IsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNyRSxDQUFDLENBQUMsQ0FBQztRQUVILGFBQWE7UUFDYixVQUFVLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRSxVQUFTLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTztZQUNqRSxhQUFhO1lBQ2IsT0FBTywwRUFBd0IsQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5RCxDQUFDLENBQUMsQ0FBQztRQUVILGFBQWE7UUFDYixVQUFVLENBQUMsY0FBYyxDQUFDLG1CQUFtQixFQUFFLFVBQVMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPO1lBQ3ZFLGFBQWE7WUFDYixPQUFPLDBFQUF3QixDQUFDLHlCQUF5QixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BFLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLE1BQU0sQ0FBQyx3QkFBd0I7UUFFbkMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLFNBQW9CLEVBQUUsU0FBYyxFQUFFLFNBQWMsRUFBRSxFQUFFO1lBQ3BGLGtFQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdEQsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sTUFBTSxDQUFDLHFCQUFxQjtRQUVoQyxLQUFLLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLENBQUMsU0FBb0IsRUFBRSxTQUFjLEVBQUUsRUFBRTtZQUNuRSxzRUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDN0MsQ0FBQyxDQUFDLENBQUM7SUFFUCxDQUFDO0lBRU8sTUFBTSxDQUFDLDRCQUE0QjtRQUV2QyxLQUFLLENBQUMsRUFBRSxDQUFDLGlCQUFpQixFQUFFLENBQUMsS0FBVSxFQUFFLEVBQUU7WUFDdkMsTUFBTSxTQUFTLEdBQUcsK0VBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNyRCxJQUFJLFNBQVMsRUFBRTtnQkFDWCxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDdEI7UUFDTCxDQUFDLENBQUMsQ0FBQztRQUVILEtBQUssQ0FBQyxFQUFFLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxLQUFVLEVBQUUsRUFBRTtZQUN2QyxNQUFNLFNBQVMsR0FBRywrRUFBaUIsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3JELElBQUksU0FBUyxFQUFFO2dCQUNYLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUN0QjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsS0FBSyxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFPLEtBQVUsRUFBRSxJQUFTLEVBQUUsTUFBVyxFQUFFLEVBQUU7WUFDckUsTUFBTSxTQUFTLEdBQWMsK0VBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNoRSxJQUFJLFNBQVMsRUFBRTtnQkFDWCxJQUFJLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxXQUFXLEVBQUU7b0JBQ3BDLE1BQU0sU0FBUyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO2lCQUMzQzthQUNKO1FBQ0wsQ0FBQyxFQUFDLENBQUM7SUFFUCxDQUFDO0lBRU0sTUFBTSxDQUFDLDhCQUE4QixDQUFDLFVBQWtDO1FBQzNFLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxVQUFVLENBQUMsaUJBQWlCLEdBQUcsVUFBVSxFQUFFO1lBQzNFLElBQUksRUFBRSxVQUFVLENBQUMsSUFBSTtZQUNyQixJQUFJLEVBQUUsVUFBVSxDQUFDLFVBQVU7WUFDM0IsS0FBSyxFQUFFLE9BQU87WUFDZCxJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxJQUFJO1lBQ2IsTUFBTSxFQUFFLElBQUk7WUFDWixRQUFRLEVBQUUsQ0FBQyxPQUFnQixFQUFFLEVBQUUsR0FBRyx5RkFBc0IsQ0FBQyw0QkFBNEIsQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQztTQUMzSSxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUFFMEIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9hcHBsaWNhdGlvbi9GYWJyaWNhdGVMaWZlY3ljbGUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0l0ZW1SZWNpcGVUYWJ9IGZyb20gXCIuLi9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYlwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nVGFifSBmcm9tIFwiLi4vaW50ZXJmYWNlL0NyYWZ0aW5nVGFiXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5UmVnaXN0cnl9IGZyb20gXCIuLi9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtFc3NlbmNlVHlwZUljb25Db252ZXJ0ZXJ9IGZyb20gXCIuLi9jb3JlL0Vzc2VuY2VUeXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0gZnJvbSBcIi4uL3JlZ2lzdHJpZXMvQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeVwiO1xyXG5cclxuY2xhc3MgRmFicmljYXRlTGlmZWN5Y2xlIHtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckhhbmRsZWJhcnNIZWxwZXJGdW5jdGlvbnMoKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdGVySXRlbVJlY2lwZVRhYigpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJBY3RvckNyYWZ0aW5nVGFiKCk7XHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckFwcGxpY2F0aW9uTGlzdGVuZXJzKClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWdpc3RlckhhbmRsZWJhcnNIZWxwZXJGdW5jdGlvbnMoKSB7XHJcblxyXG4gICAgICAgIEhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmRXF1YWxzJywgZnVuY3Rpb24oYXJnMSwgYXJnMiwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHJldHVybiAoYXJnMSA9PSBhcmcyKSA/IG9wdGlvbnMuZm4odGhpcykgOiBvcHRpb25zLmludmVyc2UodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdlc3NlbmNlSWNvbicsIGZ1bmN0aW9uKGFyZzEsIGFyZzIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gRXNzZW5jZVR5cGVJY29uQ29udmVydGVyLmNvbnZlcnRUb0ljb25NYXJrdXAoYXJnMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdlc3NlbmNlSWNvblNlcmllcycsIGZ1bmN0aW9uKGFyZzEsIGFyZzIsIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICByZXR1cm4gRXNzZW5jZVR5cGVJY29uQ29udmVydGVyLmNvbnZlcnRTZXJpZXNUb0ljb25NYXJrdXAoYXJnMSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlZ2lzdGVyQWN0b3JDcmFmdGluZ1RhYigpIHtcclxuXHJcbiAgICAgICAgSG9va3Mub24oJ3JlbmRlckFjdG9yU2hlZXQ1ZScsIChzaGVldERhdGE6IEl0ZW1TaGVldCwgc2hlZXRIdG1sOiBhbnksIGV2ZW50RGF0YTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIENyYWZ0aW5nVGFiLmJpbmQoc2hlZXREYXRhLCBzaGVldEh0bWwsIGV2ZW50RGF0YSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlZ2lzdGVySXRlbVJlY2lwZVRhYigpIHtcclxuXHJcbiAgICAgICAgSG9va3Mub24oJ3JlbmRlckl0ZW1TaGVldDVlJywgKHNoZWV0RGF0YTogSXRlbVNoZWV0LCBzaGVldEh0bWw6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBJdGVtUmVjaXBlVGFiLmJpbmQoc2hlZXREYXRhLCBzaGVldEh0bWwpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWdpc3RlckFwcGxpY2F0aW9uTGlzdGVuZXJzKCkge1xyXG5cclxuICAgICAgICBIb29rcy5vbignY3JlYXRlT3duZWRJdGVtJywgKGFjdG9yOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW52ZW50b3J5ID0gSW52ZW50b3J5UmVnaXN0cnkuZ2V0Rm9yKGFjdG9yLmlkKTtcclxuICAgICAgICAgICAgaWYgKGludmVudG9yeSkge1xyXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5LnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEhvb2tzLm9uKCdkZWxldGVPd25lZEl0ZW0nLCAoYWN0b3I6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnkgPSBJbnZlbnRvcnlSZWdpc3RyeS5nZXRGb3IoYWN0b3IuaWQpO1xyXG4gICAgICAgICAgICBpZiAoaW52ZW50b3J5KSB7XHJcbiAgICAgICAgICAgICAgICBpbnZlbnRvcnkudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgSG9va3Mub24oJ3VwZGF0ZU93bmVkSXRlbScsIGFzeW5jIChhY3RvcjogYW55LCBpdGVtOiBhbnksIHVwZGF0ZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeTogSW52ZW50b3J5ID0gSW52ZW50b3J5UmVnaXN0cnkuZ2V0Rm9yKGFjdG9yLmlkKTtcclxuICAgICAgICAgICAgaWYgKGludmVudG9yeSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cGRhdGUuZGF0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbnZlbnRvcnkudXBkYXRlUXVhbnRpdHlGb3IoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyByZWdpc3RlckNyYWZ0aW5nU3lzdGVtU2V0dGluZ3Moc3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcikge1xyXG4gICAgICAgIGdhbWUuc2V0dGluZ3MucmVnaXN0ZXIoXCJmYWJyaWNhdGVcIiwgc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSArIFwiLmVuYWJsZWRcIiwge1xyXG4gICAgICAgICAgICBuYW1lOiBzeXN0ZW1TcGVjLm5hbWUsXHJcbiAgICAgICAgICAgIGhpbnQ6IHN5c3RlbVNwZWMuZW5hYmxlSGludCxcclxuICAgICAgICAgICAgc2NvcGU6IFwid29ybGRcIixcclxuICAgICAgICAgICAgdHlwZTogQm9vbGVhbixcclxuICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZSxcclxuICAgICAgICAgICAgY29uZmlnOiB0cnVlLFxyXG4gICAgICAgICAgICBvbkNoYW5nZTogKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHsgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5nZXRTeXN0ZW1CeUNvbXBlbmRpdW1QYWNrS2V5KHN5c3RlbVNwZWMuY29tcGVuZGl1bVBhY2tLZXkpLmVuYWJsZWQgPSBlbmFibGVkOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRlTGlmZWN5Y2xlfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/application/FabricateLifecycle.ts\n");

/***/ }),

/***/ "./src/scripts/core/ActionType.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/ActionType.ts ***!
  \****************************************/
/*! exports provided: ActionType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ActionType\", function() { return ActionType; });\nvar ActionType;\r\n(function (ActionType) {\r\n    ActionType[\"ADD\"] = \"ADD\";\r\n    ActionType[\"REMOVE\"] = \"REMOVE\";\r\n})(ActionType || (ActionType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0FjdGlvblR5cGUudHM/NGFiZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsSUFBWSxVQUdYO0FBSEQsV0FBWSxVQUFVO0lBQ2xCLHlCQUFXO0lBQ1gsK0JBQWlCO0FBQ3JCLENBQUMsRUFIVyxVQUFVLEtBQVYsVUFBVSxRQUdyQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQWN0aW9uVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBlbnVtIEFjdGlvblR5cGUge1xyXG4gICAgQUREID0gJ0FERCcsXHJcbiAgICBSRU1PVkUgPSAnUkVNT1ZFJ1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/ActionType.ts\n");

/***/ }),

/***/ "./src/scripts/core/AlchemicalResult.ts":
/*!**********************************************!*\
  !*** ./src/scripts/core/AlchemicalResult.ts ***!
  \**********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQWxjaGVtaWNhbFJlc3VsdC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/AlchemicalResult.ts\n");

/***/ }),

/***/ "./src/scripts/core/AlchemicalResultSet.ts":
/*!*************************************************!*\
  !*** ./src/scripts/core/AlchemicalResultSet.ts ***!
  \*************************************************/
/*! exports provided: AlchemicalResultSet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlchemicalResultSet\", function() { return AlchemicalResultSet; });\n/* harmony import */ var _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FabricationHelper */ \"./src/scripts/core/FabricationHelper.ts\");\n\r\nclass AlchemicalResultSet {\r\n    constructor(builder) {\r\n        this._resultsByCombinationIdentity = new Map();\r\n        this._essenceIdentities = new Map();\r\n        const alchemicalResults = builder.results;\r\n        const uniqueEssences = alchemicalResults.map((result) => result.essenceCombination)\r\n            .reduce((left, right) => left.concat(right), [])\r\n            .filter((essence, index, collection) => collection.indexOf(essence) === index);\r\n        this._essenceIdentities = _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__[\"FabricationHelper\"].assignEssenceIdentities(uniqueEssences);\r\n        alchemicalResults.forEach((result) => {\r\n            const essenceCombinationIdentity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__[\"FabricationHelper\"].essenceCombinationIdentity(result.essenceCombination, this._essenceIdentities);\r\n            if (this._resultsByCombinationIdentity.has(essenceCombinationIdentity)) {\r\n                throw new Error(`The combination ${(result.essenceCombination)} was duplicated. Each essence combination must map to a unique effect.`);\r\n            }\r\n            this._resultsByCombinationIdentity.set(essenceCombinationIdentity, result);\r\n        });\r\n    }\r\n    static builder() {\r\n        return new AlchemicalResultSet.Builder();\r\n    }\r\n    getByEssenceCombination(essenceCombination) {\r\n        const identity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_0__[\"FabricationHelper\"].essenceCombinationIdentity(essenceCombination, this._essenceIdentities);\r\n        return this._resultsByCombinationIdentity.get(identity);\r\n    }\r\n}\r\n(function (AlchemicalResultSet) {\r\n    class Builder {\r\n        constructor() {\r\n            this.results = [];\r\n        }\r\n        withResult(value) {\r\n            this.results.push(value);\r\n            return this;\r\n        }\r\n        withResults(value) {\r\n            this.results.push(...value);\r\n            return this;\r\n        }\r\n        build() {\r\n            return new AlchemicalResultSet(this);\r\n        }\r\n    }\r\n    AlchemicalResultSet.Builder = Builder;\r\n})(AlchemicalResultSet || (AlchemicalResultSet = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0FsY2hlbWljYWxSZXN1bHRTZXQudHM/MDBmMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBc0Q7QUFFdEQsTUFBTSxtQkFBbUI7SUFJckIsWUFBWSxPQUF1QztRQUhsQyxrQ0FBNkIsR0FBcUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUM1RSx1QkFBa0IsR0FBd0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUdqRSxNQUFNLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7UUFDMUMsTUFBTSxjQUFjLEdBQWEsaUJBQWlCLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBMkIsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDO2FBQzdHLE1BQU0sQ0FBQyxDQUFDLElBQWMsRUFBRSxLQUFlLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDO2FBQ25FLE1BQU0sQ0FBQyxDQUFDLE9BQWUsRUFBRSxLQUFhLEVBQUUsVUFBb0IsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQztRQUM3RyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsb0VBQWlCLENBQUMsdUJBQXVCLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDcEYsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBMkIsRUFBRSxFQUFFO1lBQ3RELE1BQU0sMEJBQTBCLEdBQUcsb0VBQWlCLENBQUMsMEJBQTBCLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1lBQ3BJLElBQUksSUFBSSxDQUFDLDZCQUE2QixDQUFDLEdBQUcsQ0FBQywwQkFBMEIsQ0FBQyxFQUFFO2dCQUNwRSxNQUFNLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyx3RUFBd0UsQ0FBQyxDQUFDO2FBQzNJO1lBQ0QsSUFBSSxDQUFDLDZCQUE2QixDQUFDLEdBQUcsQ0FBQywwQkFBMEIsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvRSxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFTSxNQUFNLENBQUMsT0FBTztRQUNqQixPQUFPLElBQUksbUJBQW1CLENBQUMsT0FBTyxFQUFLLENBQUM7SUFDaEQsQ0FBQztJQUVNLHVCQUF1QixDQUFDLGtCQUE0QjtRQUN2RCxNQUFNLFFBQVEsR0FBRyxvRUFBaUIsQ0FBQywwQkFBMEIsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMzRyxPQUFPLElBQUksQ0FBQyw2QkFBNkIsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDNUQsQ0FBQztDQUNKO0FBRUQsV0FBVSxtQkFBbUI7SUFFekIsTUFBYSxPQUFPO1FBQXBCO1lBRVcsWUFBTyxHQUEwQixFQUFFLENBQUM7UUFnQi9DLENBQUM7UUFkVSxVQUFVLENBQUMsS0FBMEI7WUFDeEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDekIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFdBQVcsQ0FBQyxLQUE0QjtZQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO1lBQzVCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxLQUFLO1lBQ1IsT0FBTyxJQUFJLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3pDLENBQUM7S0FFSjtJQWxCWSwyQkFBTyxVQWtCbkI7QUFFTCxDQUFDLEVBdEJTLG1CQUFtQixLQUFuQixtQkFBbUIsUUFzQjVCO0FBRTJCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9BbGNoZW1pY2FsUmVzdWx0U2V0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBbGNoZW1pY2FsUmVzdWx0fSBmcm9tIFwiLi9BbGNoZW1pY2FsUmVzdWx0XCI7XHJcbmltcG9ydCB7RmFicmljYXRpb25IZWxwZXJ9IGZyb20gXCIuL0ZhYnJpY2F0aW9uSGVscGVyXCI7XHJcblxyXG5jbGFzcyBBbGNoZW1pY2FsUmVzdWx0U2V0PFQ+IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHk6IE1hcDxudW1iZXIsIEFsY2hlbWljYWxSZXN1bHQ8VD4+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUlkZW50aXRpZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQWxjaGVtaWNhbFJlc3VsdFNldC5CdWlsZGVyPFQ+KSB7XHJcbiAgICAgICAgY29uc3QgYWxjaGVtaWNhbFJlc3VsdHMgPSBidWlsZGVyLnJlc3VsdHM7XHJcbiAgICAgICAgY29uc3QgdW5pcXVlRXNzZW5jZXM6IHN0cmluZ1tdID0gYWxjaGVtaWNhbFJlc3VsdHMubWFwKChyZXN1bHQ6IEFsY2hlbWljYWxSZXN1bHQ8VD4pID0+IHJlc3VsdC5lc3NlbmNlQ29tYmluYXRpb24pXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQ6IHN0cmluZ1tdLCByaWdodDogc3RyaW5nW10pID0+IGxlZnQuY29uY2F0KHJpZ2h0KSwgW10pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGVzc2VuY2U6IHN0cmluZywgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogc3RyaW5nW10pID0+IGNvbGxlY3Rpb24uaW5kZXhPZihlc3NlbmNlKSA9PT0gaW5kZXgpO1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VJZGVudGl0aWVzID0gRmFicmljYXRpb25IZWxwZXIuYXNzaWduRXNzZW5jZUlkZW50aXRpZXModW5pcXVlRXNzZW5jZXMpO1xyXG4gICAgICAgIGFsY2hlbWljYWxSZXN1bHRzLmZvckVhY2goKHJlc3VsdDogQWxjaGVtaWNhbFJlc3VsdDxUPikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBlc3NlbmNlQ29tYmluYXRpb25JZGVudGl0eSA9IEZhYnJpY2F0aW9uSGVscGVyLmVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5KHJlc3VsdC5lc3NlbmNlQ29tYmluYXRpb24sIHRoaXMuX2Vzc2VuY2VJZGVudGl0aWVzKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHkuaGFzKGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgY29tYmluYXRpb24gJHsocmVzdWx0LmVzc2VuY2VDb21iaW5hdGlvbil9IHdhcyBkdXBsaWNhdGVkLiBFYWNoIGVzc2VuY2UgY29tYmluYXRpb24gbXVzdCBtYXAgdG8gYSB1bmlxdWUgZWZmZWN0LmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHkuc2V0KGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5LCByZXN1bHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRlcjxUPigpOkFsY2hlbWljYWxSZXN1bHRTZXQuQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBbGNoZW1pY2FsUmVzdWx0U2V0LkJ1aWxkZXI8VD4oKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QnlFc3NlbmNlQ29tYmluYXRpb24oZXNzZW5jZUNvbWJpbmF0aW9uOiBzdHJpbmdbXSk6IEFsY2hlbWljYWxSZXN1bHQ8VD4ge1xyXG4gICAgICAgIGNvbnN0IGlkZW50aXR5ID0gRmFicmljYXRpb25IZWxwZXIuZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkoZXNzZW5jZUNvbWJpbmF0aW9uLCB0aGlzLl9lc3NlbmNlSWRlbnRpdGllcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHNCeUNvbWJpbmF0aW9uSWRlbnRpdHkuZ2V0KGlkZW50aXR5KTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIEFsY2hlbWljYWxSZXN1bHRTZXQge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyPFQ+IHtcclxuXHJcbiAgICAgICAgcHVibGljIHJlc3VsdHM6IEFsY2hlbWljYWxSZXN1bHQ8VD5bXSA9IFtdO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFJlc3VsdCh2YWx1ZTogQWxjaGVtaWNhbFJlc3VsdDxUPik6IEJ1aWxkZXI8VD4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhSZXN1bHRzKHZhbHVlOiBBbGNoZW1pY2FsUmVzdWx0PFQ+W10pOiBCdWlsZGVyPFQ+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHRzLnB1c2goLi4udmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBBbGNoZW1pY2FsUmVzdWx0U2V0PFQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBBbGNoZW1pY2FsUmVzdWx0U2V0KHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQge0FsY2hlbWljYWxSZXN1bHRTZXR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/AlchemicalResultSet.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingComponent.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/CraftingComponent.ts ***!
  \***********************************************/
/*! exports provided: CraftingComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingComponent\", function() { return CraftingComponent; });\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\nclass CraftingComponent extends _FabricateItem__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.systemId, builder.partId);\r\n        this._name = builder.name;\r\n        this._essences = builder.essences;\r\n        this._imageUrl = builder.imageUrl;\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    get imageUrl() {\r\n        return this._imageUrl;\r\n    }\r\n    static builder() {\r\n        return new CraftingComponent.Builder();\r\n    }\r\n    static fromFlags(fabricateFlags, name, imageUrl) {\r\n        if (fabricateFlags.type !== _game_CompendiumData__WEBPACK_IMPORTED_MODULE_0__[\"FabricateItemType\"].COMPONENT) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Crafting Component from ${fabricateFlags.type} data. `);\r\n        }\r\n        return CraftingComponent.builder()\r\n            .withName(name)\r\n            .withSystemId(fabricateFlags.identity.systemId)\r\n            .withPartId(fabricateFlags.identity.partId)\r\n            .withEssences(fabricateFlags.component.essences)\r\n            .withImageUrl(imageUrl)\r\n            .build();\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.sharesType(other)\r\n            && other.name === this.name\r\n            && other.imageUrl === this.imageUrl\r\n            && other.essences.length === this.essences.length\r\n            && other.essences.every((essence) => this.essences.includes(essence));\r\n    }\r\n    isValid() {\r\n        return (this.name != null && this.name.length > 0)\r\n            && (this.imageUrl != null && this.imageUrl.length > 0)\r\n            && (this.essences != null)\r\n            && super.isValid();\r\n    }\r\n}\r\n(function (CraftingComponent) {\r\n    class Builder {\r\n        constructor() {\r\n            this.essences = [];\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withSystemId(value) {\r\n            this.systemId = value;\r\n            return this;\r\n        }\r\n        withPartId(value) {\r\n            this.partId = value;\r\n            return this;\r\n        }\r\n        withEssences(value) {\r\n            this.essences = value;\r\n            return this;\r\n        }\r\n        withEssence(value) {\r\n            this.essences.push(value);\r\n            return this;\r\n        }\r\n        withImageUrl(value) {\r\n            this.imageUrl = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingComponent(this);\r\n        }\r\n    }\r\n    CraftingComponent.Builder = Builder;\r\n})(CraftingComponent || (CraftingComponent = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50LnRzPzlhZjAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBbUc7QUFDckQ7QUFFOUMsTUFBTSxpQkFBa0IsU0FBUSw0REFBYTtJQUt6QyxZQUFZLE9BQWtDO1FBQzFDLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztJQUN0QyxDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksUUFBUTtRQUNSLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUMxQixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFTSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQXVDLEVBQUUsSUFBWSxFQUFFLFFBQWdCO1FBQzNGLElBQUksY0FBYyxDQUFDLElBQUksS0FBSyxzRUFBaUIsQ0FBQyxTQUFTLEVBQUU7WUFDckQsTUFBTSxJQUFJLEtBQUssQ0FBQyx1RUFBdUUsY0FBYyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUM7U0FDeEg7UUFDRCxPQUFPLGlCQUFpQixDQUFDLE9BQU8sRUFBRTthQUM3QixRQUFRLENBQUMsSUFBSSxDQUFDO2FBQ2QsWUFBWSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2FBQzlDLFVBQVUsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQzthQUMxQyxZQUFZLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7YUFDL0MsWUFBWSxDQUFDLFFBQVEsQ0FBQzthQUN0QixLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRU0sTUFBTSxDQUFDLEtBQXdCO1FBQ2xDLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUNELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUM7ZUFDdEIsS0FBSyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSTtlQUN4QixLQUFLLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxRQUFRO2VBQ2hDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTTtlQUM5QyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQWUsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBRU0sT0FBTztRQUNWLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7ZUFDM0MsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7ZUFDbkQsQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQztlQUN2QixLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDM0IsQ0FBQztDQUVKO0FBRUQsV0FBVSxpQkFBaUI7SUFDdkIsTUFBYSxPQUFPO1FBQXBCO1lBR1csYUFBUSxHQUFhLEVBQUUsQ0FBQztRQXVDbkMsQ0FBQztRQWxDVSxRQUFRLENBQUMsS0FBYTtZQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztZQUNsQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sWUFBWSxDQUFDLEtBQWE7WUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLFVBQVUsQ0FBQyxLQUFhO1lBQzNCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBZTtZQUMvQixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sV0FBVyxDQUFDLEtBQWE7WUFDNUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDMUIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELFlBQVksQ0FBQyxLQUFhO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO1lBQ3RCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxLQUFLO1lBQ1IsT0FBTyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7S0FFSjtJQTFDWSx5QkFBTyxVQTBDbkI7QUFDTCxDQUFDLEVBNUNTLGlCQUFpQixLQUFqQixpQkFBaUIsUUE0QzFCO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ0NvbXBvbmVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcGVuZGl1bUVudHJ5LCBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgRmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuLi9nYW1lL0NvbXBlbmRpdW1EYXRhXCI7XHJcbmltcG9ydCB7RmFicmljYXRlSXRlbX0gZnJvbSBcIi4vRmFicmljYXRlSXRlbVwiO1xyXG5cclxuY2xhc3MgQ3JhZnRpbmdDb21wb25lbnQgZXh0ZW5kcyBGYWJyaWNhdGVJdGVtIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VzOiBzdHJpbmdbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ltYWdlVXJsOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQ3JhZnRpbmdDb21wb25lbnQuQnVpbGRlcikge1xyXG4gICAgICAgIHN1cGVyKGJ1aWxkZXIuc3lzdGVtSWQsIGJ1aWxkZXIucGFydElkKTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gYnVpbGRlci5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VzID0gYnVpbGRlci5lc3NlbmNlcztcclxuICAgICAgICB0aGlzLl9pbWFnZVVybCA9IGJ1aWxkZXIuaW1hZ2VVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZXMoKTogc3RyaW5nW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lc3NlbmNlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW1hZ2VVcmwoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW1hZ2VVcmw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDb21wb25lbnQuQnVpbGRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUZsYWdzKGZhYnJpY2F0ZUZsYWdzOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgbmFtZTogc3RyaW5nLCBpbWFnZVVybDogc3RyaW5nKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIGlmIChmYWJyaWNhdGVGbGFncy50eXBlICE9PSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhdHRlbXB0aW5nIHRvIGluc3RhbnRpYXRlIGEgRmFicmljYXRlIENyYWZ0aW5nIENvbXBvbmVudCBmcm9tICR7ZmFicmljYXRlRmxhZ3MudHlwZX0gZGF0YS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDcmFmdGluZ0NvbXBvbmVudC5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhOYW1lKG5hbWUpXHJcbiAgICAgICAgICAgIC53aXRoU3lzdGVtSWQoZmFicmljYXRlRmxhZ3MuaWRlbnRpdHkuc3lzdGVtSWQpXHJcbiAgICAgICAgICAgIC53aXRoUGFydElkKGZhYnJpY2F0ZUZsYWdzLmlkZW50aXR5LnBhcnRJZClcclxuICAgICAgICAgICAgLndpdGhFc3NlbmNlcyhmYWJyaWNhdGVGbGFncy5jb21wb25lbnQuZXNzZW5jZXMpXHJcbiAgICAgICAgICAgIC53aXRoSW1hZ2VVcmwoaW1hZ2VVcmwpXHJcbiAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlcXVhbHMob3RoZXI6IENyYWZ0aW5nQ29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKCFvdGhlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnNoYXJlc1R5cGUob3RoZXIpXHJcbiAgICAgICAgICAgICYmIG90aGVyLm5hbWUgPT09IHRoaXMubmFtZVxyXG4gICAgICAgICAgICAmJiBvdGhlci5pbWFnZVVybCA9PT0gdGhpcy5pbWFnZVVybFxyXG4gICAgICAgICAgICAmJiBvdGhlci5lc3NlbmNlcy5sZW5ndGggPT09IHRoaXMuZXNzZW5jZXMubGVuZ3RoXHJcbiAgICAgICAgICAgICYmIG90aGVyLmVzc2VuY2VzLmV2ZXJ5KChlc3NlbmNlOiBzdHJpbmcpID0+IHRoaXMuZXNzZW5jZXMuaW5jbHVkZXMoZXNzZW5jZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5uYW1lICE9IG51bGwgJiYgdGhpcy5uYW1lLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgICYmICh0aGlzLmltYWdlVXJsICE9IG51bGwgJiYgdGhpcy5pbWFnZVVybC5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAmJiAodGhpcy5lc3NlbmNlcyAhPSBudWxsKVxyXG4gICAgICAgICAgICAmJiBzdXBlci5pc1ZhbGlkKCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5uYW1lc3BhY2UgQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG4gICAgICAgIHB1YmxpYyBuYW1lITogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBjb21wZW5kaXVtRW50cnkhOiBDb21wZW5kaXVtRW50cnk7XHJcbiAgICAgICAgcHVibGljIGVzc2VuY2VzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBpbWFnZVVybDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBzeXN0ZW1JZDogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBwYXJ0SWQ6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhTeXN0ZW1JZCh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuc3lzdGVtSWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFBhcnRJZCh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucGFydElkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFc3NlbmNlcyh2YWx1ZTogc3RyaW5nW10pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lc3NlbmNlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRXNzZW5jZSh2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZXMucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEltYWdlVXJsKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pbWFnZVVybCA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBDcmFmdGluZ0NvbXBvbmVudCB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdDb21wb25lbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingComponent.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingResult.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingResult.ts ***!
  \********************************************/
/*! exports provided: CraftingResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingResult\", function() { return CraftingResult; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\n\r\nclass CraftingResult extends _FabricateItem__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.item.systemId, builder.item.partId);\r\n        this._item = builder.item;\r\n        this._quantity = builder.quantity;\r\n        this._action = builder.action;\r\n        this._customData = builder.customData;\r\n    }\r\n    static builder() {\r\n        return new CraftingResult.Builder();\r\n    }\r\n    get item() {\r\n        return this._item;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get action() {\r\n        return this._action;\r\n    }\r\n    get customData() {\r\n        return this._customData;\r\n    }\r\n    static fromFlags(flags, systemId) {\r\n        return this.builder()\r\n            .withAction(flags.action)\r\n            .withQuantity(flags.quantity)\r\n            .withItem(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].builder()\r\n            .withSystemId(systemId)\r\n            .withPartId(flags.partId)\r\n            .build())\r\n            .build();\r\n    }\r\n    static manyFromFlags(flags, systemId) {\r\n        return flags.map((flagData) => CraftingResult.fromFlags(flagData, systemId));\r\n    }\r\n    isValid() {\r\n        return (this.quantity != null && this.quantity > 0)\r\n            && (this.action != null)\r\n            && (this.action == _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD || this.action == _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE)\r\n            && this.item.isValid()\r\n            && super.isValid();\r\n    }\r\n}\r\n(function (CraftingResult) {\r\n    class Builder {\r\n        withItem(value) {\r\n            this.item = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        withAction(value) {\r\n            this.action = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingResult(this);\r\n        }\r\n        withCustomData(value) {\r\n            this.customData = value;\r\n            return this;\r\n        }\r\n    }\r\n    CraftingResult.Builder = Builder;\r\n})(CraftingResult || (CraftingResult = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nUmVzdWx0LnRzPzA0NWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRDtBQUNkO0FBRU07QUFFOUMsTUFBTSxjQUFlLFNBQVEsNERBQWE7SUFNdEMsWUFBWSxPQUErQjtRQUN2QyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7UUFDMUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUM5QixJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDMUMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDeEMsQ0FBQztJQUVELElBQUksSUFBSTtRQUNKLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN0QixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLE1BQU07UUFDTixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUEyQixFQUFFLFFBQWdCO1FBQ2pFLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRTthQUNoQixVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQzthQUN4QixZQUFZLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQzthQUM1QixRQUFRLENBQUMsb0VBQWlCLENBQUMsT0FBTyxFQUFFO2FBQ2hDLFlBQVksQ0FBQyxRQUFRLENBQUM7YUFDdEIsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7YUFDeEIsS0FBSyxFQUFFLENBQUM7YUFDWixLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRU0sTUFBTSxDQUFDLGFBQWEsQ0FBQyxLQUE2QixFQUFFLFFBQWdCO1FBQ3ZFLE9BQU8sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNqRixDQUFDO0lBRUQsT0FBTztRQUNILE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztlQUM1QyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDO2VBQ3JCLENBQUMsSUFBSSxDQUFDLE1BQU0sSUFBSSxzREFBVSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLHNEQUFVLENBQUMsTUFBTSxDQUFDO2VBQ25FLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO2VBQ25CLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUMzQixDQUFDO0NBQ0o7QUFFRCxXQUFVLGNBQWM7SUFDcEIsTUFBYSxPQUFPO1FBTVQsUUFBUSxDQUFDLEtBQXdCO1lBQ3BDLElBQUksQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBYTtZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sVUFBVSxDQUFDLEtBQWlCO1lBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1lBQ3BCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxLQUFLO1lBQ1IsT0FBTyxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNwQyxDQUFDO1FBRUQsY0FBYyxDQUFDLEtBQVU7WUFDckIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztLQUNKO0lBN0JZLHNCQUFPLFVBNkJuQjtBQUNMLENBQUMsRUEvQlMsY0FBYyxLQUFkLGNBQWMsUUErQnZCO0FBRXNCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9DcmFmdGluZ1Jlc3VsdC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7QWN0aW9uVHlwZX0gZnJvbSBcIi4vQWN0aW9uVHlwZVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZVJlc3VsdEZsYWdzfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nUmVzdWx0IGV4dGVuZHMgRmFicmljYXRlSXRlbSB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9pdGVtOiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3F1YW50aXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3Rpb246IEFjdGlvblR5cGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jdXN0b21EYXRhOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogQ3JhZnRpbmdSZXN1bHQuQnVpbGRlcikge1xyXG4gICAgICAgIHN1cGVyKGJ1aWxkZXIuaXRlbS5zeXN0ZW1JZCwgYnVpbGRlci5pdGVtLnBhcnRJZCk7XHJcbiAgICAgICAgdGhpcy5faXRlbSA9IGJ1aWxkZXIuaXRlbTtcclxuICAgICAgICB0aGlzLl9xdWFudGl0eSA9IGJ1aWxkZXIucXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fYWN0aW9uID0gYnVpbGRlci5hY3Rpb247XHJcbiAgICAgICAgdGhpcy5fY3VzdG9tRGF0YSA9IGJ1aWxkZXIuY3VzdG9tRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKTogQ3JhZnRpbmdSZXN1bHQuQnVpbGRlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBDcmFmdGluZ1Jlc3VsdC5CdWlsZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW0oKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0aW9uKCk6IEFjdGlvblR5cGUge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3Rpb247XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGN1c3RvbURhdGEoKTogYW55IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3VzdG9tRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGZyb21GbGFncyhmbGFnczogRmFicmljYXRlUmVzdWx0RmxhZ3MsIHN5c3RlbUlkOiBzdHJpbmcpOiBDcmFmdGluZ1Jlc3VsdCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRlcigpXHJcbiAgICAgICAgICAgIC53aXRoQWN0aW9uKGZsYWdzLmFjdGlvbilcclxuICAgICAgICAgICAgLndpdGhRdWFudGl0eShmbGFncy5xdWFudGl0eSlcclxuICAgICAgICAgICAgLndpdGhJdGVtKENyYWZ0aW5nQ29tcG9uZW50LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhTeXN0ZW1JZChzeXN0ZW1JZClcclxuICAgICAgICAgICAgICAgIC53aXRoUGFydElkKGZsYWdzLnBhcnRJZClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hbnlGcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZVJlc3VsdEZsYWdzW10sIHN5c3RlbUlkOiBzdHJpbmcpOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuICAgICAgICByZXR1cm4gZmxhZ3MubWFwKChmbGFnRGF0YSkgPT4gQ3JhZnRpbmdSZXN1bHQuZnJvbUZsYWdzKGZsYWdEYXRhLCBzeXN0ZW1JZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnF1YW50aXR5ICE9IG51bGwgJiYgdGhpcy5xdWFudGl0eSA+IDApXHJcbiAgICAgICAgICAgICYmICh0aGlzLmFjdGlvbiAhPSBudWxsKVxyXG4gICAgICAgICAgICAmJiAodGhpcy5hY3Rpb24gPT0gQWN0aW9uVHlwZS5BREQgfHwgdGhpcy5hY3Rpb24gPT0gQWN0aW9uVHlwZS5SRU1PVkUpXHJcbiAgICAgICAgICAgICYmIHRoaXMuaXRlbS5pc1ZhbGlkKClcclxuICAgICAgICAgICAgJiYgc3VwZXIuaXNWYWxpZCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5uYW1lc3BhY2UgQ3JhZnRpbmdSZXN1bHQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG4gICAgICAgIHB1YmxpYyBpdGVtITogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICAgICAgcHVibGljIHF1YW50aXR5ITogbnVtYmVyO1xyXG4gICAgICAgIHB1YmxpYyBhY3Rpb24hOiBBY3Rpb25UeXBlO1xyXG4gICAgICAgIHB1YmxpYyBjdXN0b21EYXRhOiBhbnk7XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoSXRlbSh2YWx1ZTogQ3JhZnRpbmdDb21wb25lbnQpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5pdGVtID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhRdWFudGl0eSh2YWx1ZTogbnVtYmVyKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEFjdGlvbih2YWx1ZTogQWN0aW9uVHlwZSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBDcmFmdGluZ1Jlc3VsdCB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdSZXN1bHQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoQ3VzdG9tRGF0YSh2YWx1ZTogYW55KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tRGF0YSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdSZXN1bHR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingResult.ts\n");

/***/ }),

/***/ "./src/scripts/core/CraftingSystem.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/CraftingSystem.ts ***!
  \********************************************/
/*! exports provided: CraftingSystem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystem\", function() { return CraftingSystem; });\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass CraftingSystem {\r\n    constructor(builder) {\r\n        this._recipesById = new Map();\r\n        this._componentsById = new Map();\r\n        this._supportedGameSystems = [];\r\n        this._name = builder.name;\r\n        this._compendiumPackKey = builder.compendiumPackKey;\r\n        this._fabricator = builder.fabricator;\r\n        this._recipesById = new Map(builder.recipes.map((recipe) => [recipe.partId, recipe]));\r\n        this._componentsById = new Map(builder.components.map((component) => [component.partId, component]));\r\n        this._supportedGameSystems = builder.supportedGameSystems;\r\n        this._enabled = builder.enabled;\r\n        this._enableHint = builder.enableHint;\r\n    }\r\n    static builder() {\r\n        return new CraftingSystem.Builder();\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get enabled() {\r\n        return this._enabled;\r\n    }\r\n    set enabled(value) {\r\n        this._enabled = value;\r\n    }\r\n    get enableHint() {\r\n        return this._enableHint;\r\n    }\r\n    craft(actorId, recipeId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRegistry\"].getFor(actorId);\r\n            const recipe = this._recipesById.get(recipeId);\r\n            const missingIngredients = [];\r\n            recipe.ingredients.forEach((ingredient) => {\r\n                if (!inventory.contains(ingredient)) {\r\n                    missingIngredients.push(ingredient);\r\n                }\r\n            });\r\n            if (missingIngredients.length > 0) {\r\n                const message = missingIngredients.map((ingredient) => ingredient.quantity + ':' + ingredient.component.name).join(',');\r\n                throw new Error(`Unable to craft recipe ${recipe.name}. The following ingredients were missing: ${message}`);\r\n            }\r\n            const fabricator = this.fabricator;\r\n            const craftingResults = fabricator.fabricateFromRecipe(recipe, inventory.denormalizedContainedComponents());\r\n            yield this.applyResults(craftingResults, inventory);\r\n            return craftingResults;\r\n        });\r\n    }\r\n    craftWithComponents(actorId, components) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRegistry\"].getFor(actorId);\r\n            if (!inventory.hasAll(components)) {\r\n                throw new Error(`There are insufficient crafting components of the specified type in the inventory of Actor ID ${actorId}`);\r\n            }\r\n            const craftingResults = this.fabricator.fabricateFromComponents(components);\r\n            yield this.applyResults(craftingResults, inventory);\r\n            return craftingResults;\r\n        });\r\n    }\r\n    applyResults(craftingResults, inventory) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            for (const craftingResult of craftingResults) {\r\n                switch (craftingResult.action) {\r\n                    case _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].ADD:\r\n                        if (craftingResult.customData) {\r\n                            yield inventory.add(craftingResult.item, craftingResult.quantity, craftingResult.customData);\r\n                        }\r\n                        else {\r\n                            yield inventory.add(craftingResult.item, craftingResult.quantity);\r\n                        }\r\n                        break;\r\n                    case _ActionType__WEBPACK_IMPORTED_MODULE_0__[\"ActionType\"].REMOVE:\r\n                        yield inventory.remove(craftingResult.item, craftingResult.quantity);\r\n                        break;\r\n                    default:\r\n                        throw new Error(`The Crafting Action Type ${craftingResult.action} is not supported. Allowable \r\n                        values are: ADD, REMOVE. `);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    get compendiumPackKey() {\r\n        return this._compendiumPackKey;\r\n    }\r\n    get fabricator() {\r\n        return this._fabricator;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get recipes() {\r\n        return Array.from(this._recipesById.values());\r\n    }\r\n    get components() {\r\n        return Array.from(this._componentsById.values());\r\n    }\r\n    getComponentByPartId(entryId) {\r\n        return this._componentsById.get(entryId);\r\n    }\r\n    supports(gameSystem) {\r\n        if (!this._supportedGameSystems || this._supportedGameSystems.length == 0) {\r\n            return true;\r\n        }\r\n        return this._supportedGameSystems.indexOf(gameSystem) > -1;\r\n    }\r\n    getRecipeByPartId(partId) {\r\n        return this._recipesById.get(partId);\r\n    }\r\n}\r\n(function (CraftingSystem) {\r\n    class Builder {\r\n        constructor() {\r\n            this.supportedGameSystems = [];\r\n            this.recipes = [];\r\n            this.components = [];\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withCompendiumPackKey(value) {\r\n            this.compendiumPackKey = value;\r\n            return this;\r\n        }\r\n        withFabricator(value) {\r\n            this.fabricator = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystems(value) {\r\n            this.supportedGameSystems = value;\r\n            return this;\r\n        }\r\n        withSupportedGameSystem(value) {\r\n            this.supportedGameSystems.push(value);\r\n            return this;\r\n        }\r\n        withRecipes(value) {\r\n            this.recipes = value;\r\n            return this;\r\n        }\r\n        withRecipe(value) {\r\n            this.recipes.push(value);\r\n            return this;\r\n        }\r\n        withComponents(value) {\r\n            this.components = value;\r\n            return this;\r\n        }\r\n        withComponent(value) {\r\n            this.components.push(value);\r\n            return this;\r\n        }\r\n        isEnabled(value) {\r\n            this.enabled = value;\r\n            return this;\r\n        }\r\n        withEnableHint(value) {\r\n            this.enableHint = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new CraftingSystem(this);\r\n        }\r\n    }\r\n    CraftingSystem.Builder = Builder;\r\n})(CraftingSystem || (CraftingSystem = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0NyYWZ0aW5nU3lzdGVtLnRzPzQ2ZGEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQU13QztBQUMwQjtBQUVsRSxNQUFNLGNBQWM7SUFVaEIsWUFBWSxPQUErQjtRQU4xQixpQkFBWSxHQUF3QixJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQzlDLG9CQUFlLEdBQW1DLElBQUksR0FBRyxFQUFFLENBQUM7UUFDNUQsMEJBQXFCLEdBQWEsRUFBRSxDQUFDO1FBS2xELElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUMxQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDO1FBQ3BELElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUN0QyxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBYyxFQUFFLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlGLElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hILElBQUksQ0FBQyxxQkFBcUIsR0FBRyxPQUFPLENBQUMsb0JBQW9CLENBQUM7UUFDMUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztJQUMxQyxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGNBQWMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDekIsQ0FBQztJQUVELElBQUksT0FBTyxDQUFDLEtBQWM7UUFDdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRVksS0FBSyxDQUFDLE9BQWUsRUFBRSxRQUFnQjs7WUFDaEQsTUFBTSxTQUFTLEdBQWMsK0VBQWlCLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQy9ELE1BQU0sTUFBTSxHQUFXLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBRXZELE1BQU0sa0JBQWtCLEdBQWlCLEVBQUUsQ0FBQztZQUM1QyxNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQXNCLEVBQUUsRUFBRTtnQkFDbEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLEVBQUU7b0JBQ2pDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztpQkFDdkM7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksa0JBQWtCLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDL0IsTUFBTSxPQUFPLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFFBQVEsR0FBRyxHQUFHLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3BJLE1BQU0sSUFBSSxLQUFLLENBQUMsMEJBQTBCLE1BQU0sQ0FBQyxJQUFJLDZDQUE2QyxPQUFPLEVBQUUsQ0FBQyxDQUFDO2FBQ2hIO1lBRUQsTUFBTSxVQUFVLEdBQWUsSUFBSSxDQUFDLFVBQVUsQ0FBQztZQUMvQyxNQUFNLGVBQWUsR0FBcUIsVUFBVSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sRUFBRSxTQUFTLENBQUMsK0JBQStCLEVBQUUsQ0FBQyxDQUFDO1lBRTlILE1BQU0sSUFBSSxDQUFDLFlBQVksQ0FBQyxlQUFlLEVBQUUsU0FBUyxDQUFDLENBQUM7WUFDcEQsT0FBTyxlQUFlLENBQUM7UUFDM0IsQ0FBQztLQUFBO0lBRVksbUJBQW1CLENBQUMsT0FBZSxFQUFFLFVBQStCOztZQUM3RSxNQUFNLFNBQVMsR0FBYywrRUFBaUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7WUFFL0QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUU7Z0JBQy9CLE1BQU0sSUFBSSxLQUFLLENBQUMsaUdBQWlHLE9BQU8sRUFBRSxDQUFDLENBQUM7YUFDL0g7WUFFRCxNQUFNLGVBQWUsR0FBcUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyx1QkFBdUIsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUM5RixNQUFNLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQ3BELE9BQU8sZUFBZSxDQUFDO1FBQzNCLENBQUM7S0FBQTtJQUVhLFlBQVksQ0FBQyxlQUFpQyxFQUFFLFNBQW9COztZQUM5RSxLQUFLLE1BQU0sY0FBYyxJQUFJLGVBQWUsRUFBRTtnQkFDMUMsUUFBUSxjQUFjLENBQUMsTUFBTSxFQUFFO29CQUMzQixLQUFLLHNEQUFVLENBQUMsR0FBRzt3QkFDZixJQUFJLGNBQWMsQ0FBQyxVQUFVLEVBQUU7NEJBQzNCLE1BQU0sU0FBUyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxRQUFRLEVBQUUsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO3lCQUNoRzs2QkFBTTs0QkFDSCxNQUFNLFNBQVMsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7eUJBQ3JFO3dCQUNELE1BQU07b0JBQ1YsS0FBSyxzREFBVSxDQUFDLE1BQU07d0JBQ2xCLE1BQU0sU0FBUyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFDckUsTUFBTTtvQkFDVjt3QkFDSSxNQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixjQUFjLENBQUMsTUFBTTtrREFDbkMsQ0FBQyxDQUFDO2lCQUN2QzthQUNKO1FBQ0wsQ0FBQztLQUFBO0lBRUQsSUFBSSxpQkFBaUI7UUFDakIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDbkMsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQztJQUM1QixDQUFDO0lBRUQsSUFBSSxvQkFBb0I7UUFDcEIsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUM7SUFDdEMsQ0FBQztJQUVELElBQUksT0FBTztRQUNQLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDbEQsQ0FBQztJQUVELElBQUksVUFBVTtRQUNWLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELG9CQUFvQixDQUFDLE9BQWU7UUFDaEMsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBRU0sUUFBUSxDQUFDLFVBQWtCO1FBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDdkUsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sSUFBSSxDQUFDLHFCQUFxQixDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsaUJBQWlCLENBQUMsTUFBYztRQUM1QixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3pDLENBQUM7Q0FDSjtBQUVELFdBQVUsY0FBYztJQUNwQixNQUFhLE9BQU87UUFBcEI7WUFJVyx5QkFBb0IsR0FBYSxFQUFFLENBQUM7WUFDcEMsWUFBTyxHQUFhLEVBQUUsQ0FBQztZQUN2QixlQUFVLEdBQXdCLEVBQUUsQ0FBQztRQThEaEQsQ0FBQztRQTFEVSxRQUFRLENBQUMsS0FBYTtZQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQztZQUNsQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0scUJBQXFCLENBQUMsS0FBYTtZQUN0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO1lBQy9CLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxjQUFjLENBQUMsS0FBaUI7WUFDbkMsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLHdCQUF3QixDQUFDLEtBQWU7WUFDM0MsSUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztZQUNsQyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sdUJBQXVCLENBQUMsS0FBYTtZQUN4QyxJQUFJLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3RDLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxXQUFXLENBQUMsS0FBZTtZQUM5QixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sVUFBVSxDQUFDLEtBQWE7WUFDM0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDekIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLGNBQWMsQ0FBQyxLQUEwQjtZQUM1QyxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUN4QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sYUFBYSxDQUFDLEtBQXdCO1lBQ3pDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxTQUFTLENBQUMsS0FBYztZQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sY0FBYyxDQUFDLEtBQWE7WUFDL0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7WUFDeEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BDLENBQUM7S0FDSjtJQXBFWSxzQkFBTyxVQW9FbkI7QUFDTCxDQUFDLEVBdEVTLGNBQWMsS0FBZCxjQUFjLFFBc0V2QjtBQUV5QiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvQ3JhZnRpbmdTeXN0ZW0udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZhYnJpY2F0b3J9IGZyb20gXCIuL0ZhYnJpY2F0b3JcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0ludmVudG9yeX0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5XCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4vSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuL0FjdGlvblR5cGVcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnlSZWdpc3RyeX0gZnJvbSBcIi4uL3JlZ2lzdHJpZXMvSW52ZW50b3J5UmVnaXN0cnlcIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nU3lzdGVtIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX25hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBlbmRpdW1QYWNrS2V5OiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mYWJyaWNhdG9yOiBGYWJyaWNhdG9yO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlc0J5SWQ6IE1hcDxzdHJpbmcsIFJlY2lwZT4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jb21wb25lbnRzQnlJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdDb21wb25lbnQ+ID0gbmV3IE1hcCgpO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfc3VwcG9ydGVkR2FtZVN5c3RlbXM6IHN0cmluZ1tdID0gW107XHJcbiAgICBwcml2YXRlIF9lbmFibGVkOiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZW5hYmxlSGludDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXIpIHtcclxuICAgICAgICB0aGlzLl9uYW1lID0gYnVpbGRlci5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2NvbXBlbmRpdW1QYWNrS2V5ID0gYnVpbGRlci5jb21wZW5kaXVtUGFja0tleTtcclxuICAgICAgICB0aGlzLl9mYWJyaWNhdG9yID0gYnVpbGRlci5mYWJyaWNhdG9yO1xyXG4gICAgICAgIHRoaXMuX3JlY2lwZXNCeUlkID0gbmV3IE1hcChidWlsZGVyLnJlY2lwZXMubWFwKChyZWNpcGU6IFJlY2lwZSkgPT4gW3JlY2lwZS5wYXJ0SWQsIHJlY2lwZV0pKTtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzQnlJZCA9IG5ldyBNYXAoYnVpbGRlci5jb21wb25lbnRzLm1hcCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gW2NvbXBvbmVudC5wYXJ0SWQsIGNvbXBvbmVudF0pKTtcclxuICAgICAgICB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcyA9IGJ1aWxkZXIuc3VwcG9ydGVkR2FtZVN5c3RlbXM7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGJ1aWxkZXIuZW5hYmxlZDtcclxuICAgICAgICB0aGlzLl9lbmFibGVIaW50ID0gYnVpbGRlci5lbmFibGVIaW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYnVpbGRlcigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbmFibGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBlbmFibGVkKHZhbHVlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlbmFibGVIaW50KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuYWJsZUhpbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIGNyYWZ0KGFjdG9ySWQ6IHN0cmluZywgcmVjaXBlSWQ6IHN0cmluZyk6IFByb21pc2U8Q3JhZnRpbmdSZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeTogSW52ZW50b3J5ID0gSW52ZW50b3J5UmVnaXN0cnkuZ2V0Rm9yKGFjdG9ySWQpO1xyXG4gICAgICAgIGNvbnN0IHJlY2lwZTogUmVjaXBlID0gdGhpcy5fcmVjaXBlc0J5SWQuZ2V0KHJlY2lwZUlkKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWlzc2luZ0luZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXTtcclxuICAgICAgICByZWNpcGUuaW5ncmVkaWVudHMuZm9yRWFjaCgoaW5ncmVkaWVudDogSW5ncmVkaWVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWludmVudG9yeS5jb250YWlucyhpbmdyZWRpZW50KSkge1xyXG4gICAgICAgICAgICAgICAgbWlzc2luZ0luZ3JlZGllbnRzLnB1c2goaW5ncmVkaWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAobWlzc2luZ0luZ3JlZGllbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IG1pc3NpbmdJbmdyZWRpZW50cy5tYXAoKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IGluZ3JlZGllbnQucXVhbnRpdHkgKyAnOicgKyBpbmdyZWRpZW50LmNvbXBvbmVudC5uYW1lKS5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNyYWZ0IHJlY2lwZSAke3JlY2lwZS5uYW1lfS4gVGhlIGZvbGxvd2luZyBpbmdyZWRpZW50cyB3ZXJlIG1pc3Npbmc6ICR7bWVzc2FnZX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZhYnJpY2F0b3I6IEZhYnJpY2F0b3IgPSB0aGlzLmZhYnJpY2F0b3I7XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdSZXN1bHRzOiBDcmFmdGluZ1Jlc3VsdFtdID0gZmFicmljYXRvci5mYWJyaWNhdGVGcm9tUmVjaXBlKHJlY2lwZSwgaW52ZW50b3J5LmRlbm9ybWFsaXplZENvbnRhaW5lZENvbXBvbmVudHMoKSk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlSZXN1bHRzKGNyYWZ0aW5nUmVzdWx0cywgaW52ZW50b3J5KTtcclxuICAgICAgICByZXR1cm4gY3JhZnRpbmdSZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBjcmFmdFdpdGhDb21wb25lbnRzKGFjdG9ySWQ6IHN0cmluZywgY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSk6IFByb21pc2U8Q3JhZnRpbmdSZXN1bHRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGludmVudG9yeTogSW52ZW50b3J5ID0gSW52ZW50b3J5UmVnaXN0cnkuZ2V0Rm9yKGFjdG9ySWQpO1xyXG5cclxuICAgICAgICBpZiAoIWludmVudG9yeS5oYXNBbGwoY29tcG9uZW50cykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBhcmUgaW5zdWZmaWNpZW50IGNyYWZ0aW5nIGNvbXBvbmVudHMgb2YgdGhlIHNwZWNpZmllZCB0eXBlIGluIHRoZSBpbnZlbnRvcnkgb2YgQWN0b3IgSUQgJHthY3RvcklkfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdSZXN1bHRzOiBDcmFmdGluZ1Jlc3VsdFtdID0gdGhpcy5mYWJyaWNhdG9yLmZhYnJpY2F0ZUZyb21Db21wb25lbnRzKGNvbXBvbmVudHMpO1xyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlSZXN1bHRzKGNyYWZ0aW5nUmVzdWx0cywgaW52ZW50b3J5KTtcclxuICAgICAgICByZXR1cm4gY3JhZnRpbmdSZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXN5bmMgYXBwbHlSZXN1bHRzKGNyYWZ0aW5nUmVzdWx0czogQ3JhZnRpbmdSZXN1bHRbXSwgaW52ZW50b3J5OiBJbnZlbnRvcnkpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNyYWZ0aW5nUmVzdWx0IG9mIGNyYWZ0aW5nUmVzdWx0cykge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNyYWZ0aW5nUmVzdWx0LmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkFERDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JhZnRpbmdSZXN1bHQuY3VzdG9tRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbnZlbnRvcnkuYWRkKGNyYWZ0aW5nUmVzdWx0Lml0ZW0sIGNyYWZ0aW5nUmVzdWx0LnF1YW50aXR5LCBjcmFmdGluZ1Jlc3VsdC5jdXN0b21EYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbnZlbnRvcnkuYWRkKGNyYWZ0aW5nUmVzdWx0Lml0ZW0sIGNyYWZ0aW5nUmVzdWx0LnF1YW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuUkVNT1ZFOlxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGludmVudG9yeS5yZW1vdmUoY3JhZnRpbmdSZXN1bHQuaXRlbSwgY3JhZnRpbmdSZXN1bHQucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBDcmFmdGluZyBBY3Rpb24gVHlwZSAke2NyYWZ0aW5nUmVzdWx0LmFjdGlvbn0gaXMgbm90IHN1cHBvcnRlZC4gQWxsb3dhYmxlIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMgYXJlOiBBREQsIFJFTU9WRS4gYCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBlbmRpdW1QYWNrS2V5KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbXBlbmRpdW1QYWNrS2V5O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmYWJyaWNhdG9yKCk6IEZhYnJpY2F0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mYWJyaWNhdG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzdXBwb3J0ZWRHYW1lU3lzdGVtcygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWNpcGVzKCk6IFJlY2lwZVtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9yZWNpcGVzQnlJZC52YWx1ZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudHMoKTogQ3JhZnRpbmdDb21wb25lbnRbXSB7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5fY29tcG9uZW50c0J5SWQudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbXBvbmVudEJ5UGFydElkKGVudHJ5SWQ6IHN0cmluZyk6IENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50c0J5SWQuZ2V0KGVudHJ5SWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdXBwb3J0cyhnYW1lU3lzdGVtOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zIHx8IHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fc3VwcG9ydGVkR2FtZVN5c3RlbXMuaW5kZXhPZihnYW1lU3lzdGVtKSA+IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlY2lwZUJ5UGFydElkKHBhcnRJZDogc3RyaW5nKTogUmVjaXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjaXBlc0J5SWQuZ2V0KHBhcnRJZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICBleHBvcnQgY2xhc3MgQnVpbGRlciB7XHJcbiAgICAgICAgcHVibGljIG5hbWUhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIGNvbXBlbmRpdW1QYWNrS2V5ITogc3RyaW5nO1xyXG4gICAgICAgIHB1YmxpYyBmYWJyaWNhdG9yITogRmFicmljYXRvcjtcclxuICAgICAgICBwdWJsaWMgc3VwcG9ydGVkR2FtZVN5c3RlbXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlY2lwZXM6IFJlY2lwZVtdID0gW107XHJcbiAgICAgICAgcHVibGljIGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZW5hYmxlZDogYm9vbGVhbjtcclxuICAgICAgICBwdWJsaWMgZW5hYmxlSGludDogc3RyaW5nO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aE5hbWUodmFsdWU6IHN0cmluZyk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBlbmRpdW1QYWNrS2V5KHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wZW5kaXVtUGFja0tleSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRmFicmljYXRvcih2YWx1ZTogRmFicmljYXRvcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmZhYnJpY2F0b3IgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFN1cHBvcnRlZEdhbWVTeXN0ZW1zKHZhbHVlOiBzdHJpbmdbXSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZEdhbWVTeXN0ZW1zID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhTdXBwb3J0ZWRHYW1lU3lzdGVtKHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRHYW1lU3lzdGVtcy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFJlY2lwZXModmFsdWU6IFJlY2lwZVtdKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjaXBlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoUmVjaXBlKHZhbHVlOiBSZWNpcGUpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNpcGVzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoQ29tcG9uZW50cyh2YWx1ZTogQ3JhZnRpbmdDb21wb25lbnRbXSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aENvbXBvbmVudCh2YWx1ZTogQ3JhZnRpbmdDb21wb25lbnQpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRzLnB1c2godmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBpc0VuYWJsZWQodmFsdWU6IGJvb2xlYW4pOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFbmFibGVIaW50KHZhbHVlOiBzdHJpbmcpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lbmFibGVIaW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCkgOiBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3JhZnRpbmdTeXN0ZW0odGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBDcmFmdGluZ1N5c3RlbSB9OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/CraftingSystem.ts\n");

/***/ }),

/***/ "./src/scripts/core/EssenceCombiner.ts":
/*!*********************************************!*\
  !*** ./src/scripts/core/EssenceCombiner.ts ***!
  \*********************************************/
/*! exports provided: AlchemicalResult, AbstractEssenceCombiner */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AbstractEssenceCombiner\", function() { return AbstractEssenceCombiner; });\n/* harmony import */ var _AlchemicalResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AlchemicalResult */ \"./src/scripts/core/AlchemicalResult.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AlchemicalResult\", function() { return _AlchemicalResult__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult\"]; });\n\n\r\nclass AbstractEssenceCombiner {\r\n    constructor(maxComponents, maxEssences, availableResults, resultantItem) {\r\n        this._maxComponents = maxComponents;\r\n        this._maxEssences = maxEssences;\r\n        this._availableResults = availableResults;\r\n        this._resultantItem = resultantItem;\r\n    }\r\n    get maxComponents() {\r\n        return this._maxComponents;\r\n    }\r\n    get maxEssences() {\r\n        return this._maxEssences;\r\n    }\r\n    get resultantItem() {\r\n        return this._resultantItem;\r\n    }\r\n    combine(components) {\r\n        this.validate(components);\r\n        const effects = this.getAlchemicalResultsForComponents(components);\r\n        return this.combineAlchemicalResults(effects);\r\n    }\r\n    validate(components) {\r\n        if ((this._maxComponents > 0) && (this._maxComponents < components.length)) {\r\n            throw new Error(`The Essence Combiner for this system supports a maximum of ${this._maxComponents} components. `);\r\n        }\r\n        if (this._maxEssences > 0) {\r\n            const essenceCount = components.map((component) => component.essences.length)\r\n                .reduce((left, right) => left + right, 0);\r\n            if (essenceCount > this._maxEssences) {\r\n                throw new Error(`The Essence Combiner for this system supports a maximum of ${this._maxEssences} essences. `);\r\n            }\r\n        }\r\n    }\r\n    getAlchemicalResultsForComponents(components) {\r\n        return components.map((component) => this._availableResults.getByEssenceCombination(component.essences));\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VDb21iaW5lci50cz8xOTQxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBb0Q7QUFVcEQsTUFBZSx1QkFBdUI7SUFNbEMsWUFBc0IsYUFBcUIsRUFBRSxXQUFtQixFQUFFLGdCQUF3QyxFQUFFLGFBQWdDO1FBQ3hJLElBQUksQ0FBQyxjQUFjLEdBQUcsYUFBYSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxZQUFZLEdBQUcsV0FBVyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQztRQUMxQyxJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQztJQUN4QyxDQUFDO0lBRUQsSUFBSSxhQUFhO1FBQ2IsT0FBTyxJQUFJLENBQUMsY0FBYyxDQUFDO0lBQy9CLENBQUM7SUFFRCxJQUFJLFdBQVc7UUFDWCxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDN0IsQ0FBQztJQUVELElBQUksYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUMvQixDQUFDO0lBRUQsT0FBTyxDQUFDLFVBQStCO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDMUIsTUFBTSxPQUFPLEdBQTBCLElBQUksQ0FBQyxpQ0FBaUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMxRixPQUFPLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRVMsUUFBUSxDQUFDLFVBQStCO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUU7WUFDeEUsTUFBTSxJQUFJLEtBQUssQ0FBQyw4REFBOEQsSUFBSSxDQUFDLGNBQWMsZUFBZSxDQUFDLENBQUM7U0FDckg7UUFDRCxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsQ0FBQyxFQUFFO1lBQ3ZCLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUE0QixFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztpQkFDM0YsTUFBTSxDQUFDLENBQUMsSUFBWSxFQUFFLEtBQWEsRUFBRSxFQUFFLENBQUMsSUFBSSxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM5RCxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFO2dCQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLDhEQUE4RCxJQUFJLENBQUMsWUFBWSxhQUFhLENBQUMsQ0FBQzthQUNqSDtTQUNKO0lBQ0wsQ0FBQztJQUlELGlDQUFpQyxDQUFDLFVBQStCO1FBQzdELE9BQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQTRCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNoSSxDQUFDO0NBRUo7QUFFa0UiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VDb21iaW5lci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7QWxjaGVtaWNhbFJlc3VsdH0gZnJvbSBcIi4vQWxjaGVtaWNhbFJlc3VsdFwiO1xyXG5pbXBvcnQge0FsY2hlbWljYWxSZXN1bHRTZXR9IGZyb20gXCIuL0FsY2hlbWljYWxSZXN1bHRTZXRcIjtcclxuXHJcbmludGVyZmFjZSBFc3NlbmNlQ29tYmluZXI8VD4ge1xyXG4gICAgbWF4Q29tcG9uZW50czogbnVtYmVyO1xyXG4gICAgbWF4RXNzZW5jZXM6IG51bWJlcjtcclxuICAgIHJlc3VsdGFudEl0ZW06IENyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgY29tYmluZShjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogQWxjaGVtaWNhbFJlc3VsdDxUPjtcclxufVxyXG5cclxuYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RFc3NlbmNlQ29tYmluZXI8VD4gaW1wbGVtZW50cyBFc3NlbmNlQ29tYmluZXI8VD4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbWF4Q29tcG9uZW50czogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfbWF4RXNzZW5jZXM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2F2YWlsYWJsZVJlc3VsdHM6IEFsY2hlbWljYWxSZXN1bHRTZXQ8VD47XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZXN1bHRhbnRJdGVtOiBDcmFmdGluZ0NvbXBvbmVudDtcclxuXHJcbiAgICBwcm90ZWN0ZWQgY29uc3RydWN0b3IobWF4Q29tcG9uZW50czogbnVtYmVyLCBtYXhFc3NlbmNlczogbnVtYmVyLCBhdmFpbGFibGVSZXN1bHRzOiBBbGNoZW1pY2FsUmVzdWx0U2V0PFQ+LCByZXN1bHRhbnRJdGVtOiBDcmFmdGluZ0NvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuX21heENvbXBvbmVudHMgPSBtYXhDb21wb25lbnRzO1xyXG4gICAgICAgIHRoaXMuX21heEVzc2VuY2VzID0gbWF4RXNzZW5jZXM7XHJcbiAgICAgICAgdGhpcy5fYXZhaWxhYmxlUmVzdWx0cyA9IGF2YWlsYWJsZVJlc3VsdHM7XHJcbiAgICAgICAgdGhpcy5fcmVzdWx0YW50SXRlbSA9IHJlc3VsdGFudEl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1heENvbXBvbmVudHMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF4Q29tcG9uZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWF4RXNzZW5jZXMoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF4RXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc3VsdGFudEl0ZW0oKTogQ3JhZnRpbmdDb21wb25lbnQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXN1bHRhbnRJdGVtO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbWJpbmUoY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSk6IEFsY2hlbWljYWxSZXN1bHQ8VD4ge1xyXG4gICAgICAgIHRoaXMudmFsaWRhdGUoY29tcG9uZW50cyk7XHJcbiAgICAgICAgY29uc3QgZWZmZWN0czogQWxjaGVtaWNhbFJlc3VsdDxUPltdID0gdGhpcy5nZXRBbGNoZW1pY2FsUmVzdWx0c0ZvckNvbXBvbmVudHMoY29tcG9uZW50cyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tYmluZUFsY2hlbWljYWxSZXN1bHRzKGVmZmVjdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCB2YWxpZGF0ZShjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKSB7XHJcbiAgICAgICAgaWYgKCh0aGlzLl9tYXhDb21wb25lbnRzID4gMCkgJiYgKHRoaXMuX21heENvbXBvbmVudHMgPCBjb21wb25lbnRzLmxlbmd0aCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgRXNzZW5jZSBDb21iaW5lciBmb3IgdGhpcyBzeXN0ZW0gc3VwcG9ydHMgYSBtYXhpbXVtIG9mICR7dGhpcy5fbWF4Q29tcG9uZW50c30gY29tcG9uZW50cy4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLl9tYXhFc3NlbmNlcyA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgZXNzZW5jZUNvdW50ID0gY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IGNvbXBvbmVudC5lc3NlbmNlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpID0+IGxlZnQgKyByaWdodCwgMCk7XHJcbiAgICAgICAgICAgIGlmIChlc3NlbmNlQ291bnQgPiB0aGlzLl9tYXhFc3NlbmNlcykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgRXNzZW5jZSBDb21iaW5lciBmb3IgdGhpcyBzeXN0ZW0gc3VwcG9ydHMgYSBtYXhpbXVtIG9mICR7dGhpcy5fbWF4RXNzZW5jZXN9IGVzc2VuY2VzLiBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBjb21iaW5lQWxjaGVtaWNhbFJlc3VsdHMoZWZmZWN0czogQWxjaGVtaWNhbFJlc3VsdDxUPltdKTogQWxjaGVtaWNhbFJlc3VsdDxUPjtcclxuXHJcbiAgICBnZXRBbGNoZW1pY2FsUmVzdWx0c0ZvckNvbXBvbmVudHMoY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSk6IEFsY2hlbWljYWxSZXN1bHQ8VD5bXSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHMubWFwKChjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50KSA9PiB0aGlzLl9hdmFpbGFibGVSZXN1bHRzLmdldEJ5RXNzZW5jZUNvbWJpbmF0aW9uKGNvbXBvbmVudC5lc3NlbmNlcykpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtFc3NlbmNlQ29tYmluZXIsIEFsY2hlbWljYWxSZXN1bHQsIEFic3RyYWN0RXNzZW5jZUNvbWJpbmVyfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/EssenceCombiner.ts\n");

/***/ }),

/***/ "./src/scripts/core/EssenceType.ts":
/*!*****************************************!*\
  !*** ./src/scripts/core/EssenceType.ts ***!
  \*****************************************/
/*! exports provided: EssenceType, EssenceTypeIconConverter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceType\", function() { return EssenceType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceTypeIconConverter\", function() { return EssenceTypeIconConverter; });\nvar EssenceType;\r\n(function (EssenceType) {\r\n    EssenceType[\"EARTH\"] = \"EARTH\";\r\n    EssenceType[\"AIR\"] = \"AIR\";\r\n    EssenceType[\"WATER\"] = \"WATER\";\r\n    EssenceType[\"FIRE\"] = \"FIRE\";\r\n    EssenceType[\"POSITIVE_ENERGY\"] = \"POSITIVE_ENERGY\";\r\n    EssenceType[\"NEGATIVE_ENERGY\"] = \"NEGATIVE_ENERGY\";\r\n})(EssenceType || (EssenceType = {}));\r\nclass EssenceTypeIconConverter {\r\n    static convertToIconMarkup(essenceType) {\r\n        const iconMarkup = this._registeredIcons.get(essenceType);\r\n        if (iconMarkup && iconMarkup.length > 0) {\r\n            return iconMarkup;\r\n        }\r\n        return essenceType;\r\n    }\r\n    static convertSeriesToIconMarkup(essenceTypes) {\r\n        const essenceFrequencies = new Map();\r\n        essenceTypes.forEach((essence) => {\r\n            if (essenceFrequencies.has(essence)) {\r\n                const currentCount = essenceFrequencies.get(essence);\r\n                essenceFrequencies.set(essence, currentCount + 1);\r\n            }\r\n            else {\r\n                essenceFrequencies.set(essence, 1);\r\n            }\r\n        });\r\n        const parts = [];\r\n        essenceFrequencies.forEach((amount, essenceType) => {\r\n            parts.push(`${this.convertToIconMarkup(essenceType)} x${amount}`);\r\n        });\r\n        return parts.join(', ');\r\n    }\r\n}\r\nEssenceTypeIconConverter._registeredIcons = new Map([\r\n    [EssenceType.NEGATIVE_ENERGY, '<i class=\"fas fa-moon\" title=\"Negative Energy\"></i>'],\r\n    [EssenceType.POSITIVE_ENERGY, '<i class=\"fas fa-sun\" title=\"Positive Energy\"></i>'],\r\n    [EssenceType.AIR, '<i class=\"fas fa-wind\" title=\"Air\"></i>'],\r\n    [EssenceType.EARTH, '<i class=\"fas fa-mountain\" title=\"Earth\"></i>'],\r\n    [EssenceType.WATER, '<i class=\"fas fa-tint\" title=\"Water\"></i>'],\r\n    [EssenceType.FIRE, '<i class=\"fas fa-fire\" title=\"Fire\"></i>']\r\n]);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0Vzc2VuY2VUeXBlLnRzPzQzYjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUEsSUFBSyxXQU9KO0FBUEQsV0FBSyxXQUFXO0lBQ1osOEJBQWU7SUFDZiwwQkFBVztJQUNYLDhCQUFlO0lBQ2YsNEJBQWE7SUFDYixrREFBbUM7SUFDbkMsa0RBQW1DO0FBQ3ZDLENBQUMsRUFQSSxXQUFXLEtBQVgsV0FBVyxRQU9mO0FBRUQsTUFBTSx3QkFBd0I7SUFXbkIsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFdBQXdCO1FBRXRELE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUQsSUFBSSxVQUFVLElBQUksVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7WUFDckMsT0FBTyxVQUFVLENBQUM7U0FDckI7UUFDRCxPQUFPLFdBQVcsQ0FBQztJQUV2QixDQUFDO0lBRU0sTUFBTSxDQUFDLHlCQUF5QixDQUFDLFlBQTJCO1FBQy9ELE1BQU0sa0JBQWtCLEdBQTZCLElBQUksR0FBRyxFQUFFLENBQUM7UUFDL0QsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQW9CLEVBQUUsRUFBRTtZQUMxQyxJQUFJLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtnQkFDakMsTUFBTSxZQUFZLEdBQVcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUM3RCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQzthQUNyRDtpQkFBTTtnQkFDSCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ3RDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxNQUFNLEtBQUssR0FBYSxFQUFFLENBQUM7UUFDM0Isa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBYyxFQUFFLFdBQXdCLEVBQUUsRUFBRTtZQUNwRSxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxLQUFLLE1BQU0sRUFBRSxDQUFDLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQzs7QUFsQ3VCLHlDQUFnQixHQUE2QixJQUFJLEdBQUcsQ0FBQztJQUN6RSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUscURBQXFELENBQUM7SUFDcEYsQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLG9EQUFvRCxDQUFDO0lBQ25GLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSx5Q0FBeUMsQ0FBQztJQUM1RCxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsK0NBQStDLENBQUM7SUFDcEUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDJDQUEyQyxDQUFDO0lBQ2hFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSwwQ0FBMEMsQ0FBQztDQUNqRSxDQUFDLENBQUM7QUErQnVDIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9Fc3NlbmNlVHlwZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImVudW0gRXNzZW5jZVR5cGUge1xyXG4gICAgRUFSVEggPSAnRUFSVEgnLFxyXG4gICAgQUlSID0gJ0FJUicsXHJcbiAgICBXQVRFUiA9ICdXQVRFUicsXHJcbiAgICBGSVJFID0gJ0ZJUkUnLFxyXG4gICAgUE9TSVRJVkVfRU5FUkdZID0gJ1BPU0lUSVZFX0VORVJHWScsXHJcbiAgICBORUdBVElWRV9FTkVSR1kgPSAnTkVHQVRJVkVfRU5FUkdZJ1xyXG59XHJcblxyXG5jbGFzcyBFc3NlbmNlVHlwZUljb25Db252ZXJ0ZXIge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IF9yZWdpc3RlcmVkSWNvbnM6IE1hcDxFc3NlbmNlVHlwZSwgc3RyaW5nPiA9IG5ldyBNYXAoW1xyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5ORUdBVElWRV9FTkVSR1ksICc8aSBjbGFzcz1cImZhcyBmYS1tb29uXCIgdGl0bGU9XCJOZWdhdGl2ZSBFbmVyZ3lcIj48L2k+J10sXHJcbiAgICAgICAgW0Vzc2VuY2VUeXBlLlBPU0lUSVZFX0VORVJHWSwgJzxpIGNsYXNzPVwiZmFzIGZhLXN1blwiIHRpdGxlPVwiUG9zaXRpdmUgRW5lcmd5XCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5BSVIsICc8aSBjbGFzcz1cImZhcyBmYS13aW5kXCIgdGl0bGU9XCJBaXJcIj48L2k+J10sXHJcbiAgICAgICAgW0Vzc2VuY2VUeXBlLkVBUlRILCAnPGkgY2xhc3M9XCJmYXMgZmEtbW91bnRhaW5cIiB0aXRsZT1cIkVhcnRoXCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5XQVRFUiwgJzxpIGNsYXNzPVwiZmFzIGZhLXRpbnRcIiB0aXRsZT1cIldhdGVyXCI+PC9pPiddLFxyXG4gICAgICAgIFtFc3NlbmNlVHlwZS5GSVJFLCAnPGkgY2xhc3M9XCJmYXMgZmEtZmlyZVwiIHRpdGxlPVwiRmlyZVwiPjwvaT4nXVxyXG4gICAgXSk7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb252ZXJ0VG9JY29uTWFya3VwKGVzc2VuY2VUeXBlOiBFc3NlbmNlVHlwZSk6IHN0cmluZyB7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb25NYXJrdXAgPSB0aGlzLl9yZWdpc3RlcmVkSWNvbnMuZ2V0KGVzc2VuY2VUeXBlKTtcclxuICAgICAgICBpZiAoaWNvbk1hcmt1cCAmJiBpY29uTWFya3VwLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGljb25NYXJrdXA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlc3NlbmNlVHlwZTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjb252ZXJ0U2VyaWVzVG9JY29uTWFya3VwKGVzc2VuY2VUeXBlczogRXNzZW5jZVR5cGVbXSk6IHN0cmluZyB7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZUZyZXF1ZW5jaWVzOiBNYXA8RXNzZW5jZVR5cGUsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZXNzZW5jZVR5cGVzLmZvckVhY2goKGVzc2VuY2U6IEVzc2VuY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlc3NlbmNlRnJlcXVlbmNpZXMuaGFzKGVzc2VuY2UpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQ6IG51bWJlciA9IGVzc2VuY2VGcmVxdWVuY2llcy5nZXQoZXNzZW5jZSk7XHJcbiAgICAgICAgICAgICAgICBlc3NlbmNlRnJlcXVlbmNpZXMuc2V0KGVzc2VuY2UsIGN1cnJlbnRDb3VudCArIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZXNzZW5jZUZyZXF1ZW5jaWVzLnNldChlc3NlbmNlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIGVzc2VuY2VGcmVxdWVuY2llcy5mb3JFYWNoKChhbW91bnQ6IG51bWJlciwgZXNzZW5jZVR5cGU6IEVzc2VuY2VUeXBlKSA9PiB7XHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goYCR7dGhpcy5jb252ZXJ0VG9JY29uTWFya3VwKGVzc2VuY2VUeXBlKX0geCR7YW1vdW50fWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKCcsICcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtFc3NlbmNlVHlwZSwgRXNzZW5jZVR5cGVJY29uQ29udmVydGVyfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/core/EssenceType.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricateItem.ts":
/*!*******************************************!*\
  !*** ./src/scripts/core/FabricateItem.ts ***!
  \*******************************************/
/*! exports provided: FabricateItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateItem\", function() { return FabricateItem; });\nclass FabricateItem {\r\n    constructor(systemId, partId) {\r\n        this._systemId = systemId;\r\n        this._partId = partId;\r\n    }\r\n    get partId() {\r\n        return this._partId;\r\n    }\r\n    get systemId() {\r\n        return this._systemId;\r\n    }\r\n    get compendiumEntry() {\r\n        return `${this.systemId}.${this.partId}`;\r\n    }\r\n    sharesType(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.partId === other.partId\r\n            && this.systemId === other.systemId;\r\n    }\r\n    isValid() {\r\n        return this.partId && this.partId.length > 0 && this.systemId && this.systemId.length > 0;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0ZUl0ZW0udHM/YzkxZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUEsTUFBZSxhQUFhO0lBSXhCLFlBQXNCLFFBQWdCLEVBQUUsTUFBYztRQUNsRCxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztJQUMxQixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksZUFBZTtRQUNmLE9BQU8sR0FBRyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDNUMsQ0FBQztJQUVELFVBQVUsQ0FBQyxLQUFvQjtRQUMzQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQyxNQUFNLEtBQUssS0FBSyxDQUFDLE1BQU07ZUFDNUIsSUFBSSxDQUFDLFFBQVEsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDO0lBQzVDLENBQUM7SUFFRCxPQUFPO1FBQ0gsT0FBTyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUM5RixDQUFDO0NBQ0o7QUFFcUIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0ZUl0ZW0udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhYnN0cmFjdCBjbGFzcyBGYWJyaWNhdGVJdGVtIHtcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfc3lzdGVtSWQ6IHN0cmluZztcclxuICAgIHByb3RlY3RlZCByZWFkb25seSBfcGFydElkOiBzdHJpbmc7XHJcblxyXG4gICAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHN5c3RlbUlkOiBzdHJpbmcsIHBhcnRJZDogc3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5fc3lzdGVtSWQgPSBzeXN0ZW1JZDtcclxuICAgICAgICB0aGlzLl9wYXJ0SWQgPSBwYXJ0SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHBhcnRJZCgpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJ0SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN5c3RlbUlkKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N5c3RlbUlkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wZW5kaXVtRW50cnkoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy5zeXN0ZW1JZH0uJHt0aGlzLnBhcnRJZH1gXHJcbiAgICB9XHJcblxyXG4gICAgc2hhcmVzVHlwZShvdGhlcjogRmFicmljYXRlSXRlbSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghb3RoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJ0SWQgPT09IG90aGVyLnBhcnRJZFxyXG4gICAgICAgICAgICAmJiB0aGlzLnN5c3RlbUlkID09PSBvdGhlci5zeXN0ZW1JZDtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRJZCAmJiB0aGlzLnBhcnRJZC5sZW5ndGggPiAwICYmIHRoaXMuc3lzdGVtSWQgJiYgdGhpcy5zeXN0ZW1JZC5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge0ZhYnJpY2F0ZUl0ZW19Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricateItem.ts\n");

/***/ }),

/***/ "./src/scripts/core/FabricationHelper.ts":
/*!***********************************************!*\
  !*** ./src/scripts/core/FabricationHelper.ts ***!
  \***********************************************/
/*! exports provided: FabricationHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricationHelper\", function() { return FabricationHelper; });\n/* harmony import */ var _CraftingResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n\r\nclass FabricationHelper {\r\n    static asCraftingResults(components, action) {\r\n        const componentsById = new Map();\r\n        components.forEach((component) => {\r\n            const identicalComponents = componentsById.get(component.partId);\r\n            if (!identicalComponents) {\r\n                componentsById.set(component.partId, [component]);\r\n            }\r\n            else {\r\n                identicalComponents.push(component);\r\n            }\r\n        });\r\n        if (Object.keys(componentsById).length === components.length) {\r\n            return components.map((component) => {\r\n                return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                    .withItem(component)\r\n                    .withQuantity(1)\r\n                    .withAction(action)\r\n                    .build();\r\n            });\r\n        }\r\n        const results = [];\r\n        componentsById.forEach((componentsOfType) => {\r\n            const craftingResult = _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(componentsOfType[0])\r\n                .withQuantity(componentsOfType.length)\r\n                .withAction(action)\r\n                .build();\r\n            results.push(craftingResult);\r\n        });\r\n        return results;\r\n    }\r\n    ;\r\n    static essenceCombinationIdentity(essences, essenceIdentities) {\r\n        return essences.map((essence) => essenceIdentities.get(essence))\r\n            .reduce((left, right) => left * right);\r\n    }\r\n    static assignEssenceIdentities(essences) {\r\n        const uniqueEssences = essences.filter((essence, index, collection) => collection.indexOf(essence) === index);\r\n        const primes = this.generatePrimes(uniqueEssences.length);\r\n        const essenceIdentities = new Map();\r\n        uniqueEssences.forEach((value, index) => essenceIdentities.set(value, primes[index]));\r\n        return essenceIdentities;\r\n    }\r\n    static generatePrimes(quantity) {\r\n        if (quantity <= FabricationHelper.primes.length) {\r\n            return FabricationHelper.primes.slice(0, quantity);\r\n        }\r\n        let candidate = 98;\r\n        while (FabricationHelper.primes.length < quantity) {\r\n            if (FabricationHelper.primes.every((p) => candidate % p)) {\r\n                FabricationHelper.primes.push(candidate);\r\n            }\r\n            candidate++;\r\n        }\r\n        return FabricationHelper.primes;\r\n    }\r\n    static combinationHistogram(components) {\r\n        const combinations = [];\r\n        const iterations = Math.pow(2, components.length);\r\n        for (let i = 0; i < iterations; i++) {\r\n            const combination = [];\r\n            for (let j = 0; j < components.length; j++) {\r\n                if (i & Math.pow(2, j)) {\r\n                    combination.push(components[j]);\r\n                }\r\n            }\r\n            if (combination.length > 0) {\r\n                combinations.push(combination);\r\n            }\r\n        }\r\n        return combinations.sort((left, right) => left.length - right.length);\r\n    }\r\n}\r\nFabricationHelper.primes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97];\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0aW9uSGVscGVyLnRzPzQyZmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBO0FBQWdEO0FBRWhELE1BQU0saUJBQWlCO0lBSVosTUFBTSxDQUFDLGlCQUFpQixDQUFDLFVBQStCLEVBQUUsTUFBa0I7UUFDL0UsTUFBTSxjQUFjLEdBQXFDLElBQUksR0FBRyxFQUFFLENBQUM7UUFDbkUsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQTRCLEVBQUUsRUFBRTtZQUNoRCxNQUFNLG1CQUFtQixHQUF3QixjQUFjLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0RixJQUFJLENBQUMsbUJBQW1CLEVBQUU7Z0JBQ3RCLGNBQWMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7YUFDckQ7aUJBQU07Z0JBQ0gsbUJBQW1CLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ3ZDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsTUFBTSxLQUFLLFVBQVUsQ0FBQyxNQUFNLEVBQUU7WUFDMUQsT0FBTyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsU0FBNEIsRUFBRSxFQUFFO2dCQUNuRCxPQUFPLDhEQUFjLENBQUMsT0FBTyxFQUFFO3FCQUMxQixRQUFRLENBQUMsU0FBUyxDQUFDO3FCQUNuQixZQUFZLENBQUMsQ0FBQyxDQUFDO3FCQUNmLFVBQVUsQ0FBQyxNQUFNLENBQUM7cUJBQ2xCLEtBQUssRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQyxDQUFDO1NBQ047UUFDRCxNQUFNLE9BQU8sR0FBcUIsRUFBRSxDQUFDO1FBQ3JDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxnQkFBcUMsRUFBRSxFQUFFO1lBQzdE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QUFXLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNuQzthQUNKO1lBQ0QsSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDeEIsWUFBWSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQzthQUNsQztTQUNKO1FBQ0QsT0FBTyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDMUUsQ0FBQzs7QUE1RXVCLHdCQUFNLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQWdGNUciLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0aW9uSGVscGVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtBY3Rpb25UeXBlfSBmcm9tIFwiLi9BY3Rpb25UeXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdSZXN1bHR9IGZyb20gXCIuL0NyYWZ0aW5nUmVzdWx0XCI7XHJcblxyXG5jbGFzcyBGYWJyaWNhdGlvbkhlbHBlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgcHJpbWVzID0gWzIsIDMsIDUsIDcsIDExLCAxMywgMTcsIDE5LCAyMywgMjksIDMxLCAzNywgNDEsIDQzLCA0NywgNTMsIDU5LCA2MSwgNjcsIDcxLCA3MywgNzksIDgzLCA4OSwgOTddO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXNDcmFmdGluZ1Jlc3VsdHMoY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSwgYWN0aW9uOiBBY3Rpb25UeXBlKTogQ3JhZnRpbmdSZXN1bHRbXSB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50c0J5SWQ6IE1hcDxzdHJpbmcsIENyYWZ0aW5nQ29tcG9uZW50W10+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpZGVudGljYWxDb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdID0gY29tcG9uZW50c0J5SWQuZ2V0KGNvbXBvbmVudC5wYXJ0SWQpO1xyXG4gICAgICAgICAgICBpZiAoIWlkZW50aWNhbENvbXBvbmVudHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudHNCeUlkLnNldChjb21wb25lbnQucGFydElkLCBbY29tcG9uZW50XSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZGVudGljYWxDb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhjb21wb25lbnRzQnlJZCkubGVuZ3RoID09PSBjb21wb25lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBDcmFmdGluZ1Jlc3VsdC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEl0ZW0oY29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoMSlcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEFjdGlvbihhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXN1bHRzOiBDcmFmdGluZ1Jlc3VsdFtdID0gW107XHJcbiAgICAgICAgY29tcG9uZW50c0J5SWQuZm9yRWFjaCgoY29tcG9uZW50c09mVHlwZTogQ3JhZnRpbmdDb21wb25lbnRbXSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1Jlc3VsdCA9IENyYWZ0aW5nUmVzdWx0LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhJdGVtKGNvbXBvbmVudHNPZlR5cGVbMF0pXHJcbiAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KGNvbXBvbmVudHNPZlR5cGUubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rpb24oYWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChjcmFmdGluZ1Jlc3VsdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkoZXNzZW5jZXM6IHN0cmluZ1tdLCBlc3NlbmNlSWRlbnRpdGllczogTWFwPHN0cmluZywgbnVtYmVyPik6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIGVzc2VuY2VzLm1hcCgoZXNzZW5jZTogc3RyaW5nKSA9PiBlc3NlbmNlSWRlbnRpdGllcy5nZXQoZXNzZW5jZSkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ICogcmlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYXNzaWduRXNzZW5jZUlkZW50aXRpZXMoZXNzZW5jZXM6IHN0cmluZ1tdKTogTWFwPHN0cmluZywgbnVtYmVyPiB7XHJcbiAgICAgICAgY29uc3QgdW5pcXVlRXNzZW5jZXMgPSBlc3NlbmNlcy5maWx0ZXIoKGVzc2VuY2U6IHN0cmluZywgaW5kZXg6IG51bWJlciwgY29sbGVjdGlvbjogc3RyaW5nW10pID0+IGNvbGxlY3Rpb24uaW5kZXhPZihlc3NlbmNlKSA9PT0gaW5kZXgpO1xyXG4gICAgICAgIGNvbnN0IHByaW1lcyA9IHRoaXMuZ2VuZXJhdGVQcmltZXModW5pcXVlRXNzZW5jZXMubGVuZ3RoKTtcclxuICAgICAgICBjb25zdCBlc3NlbmNlSWRlbnRpdGllczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcclxuICAgICAgICB1bmlxdWVFc3NlbmNlcy5mb3JFYWNoKCh2YWx1ZSwgaW5kZXgpID0+IGVzc2VuY2VJZGVudGl0aWVzLnNldCh2YWx1ZSwgcHJpbWVzW2luZGV4XSkpO1xyXG4gICAgICAgIHJldHVybiBlc3NlbmNlSWRlbnRpdGllcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlUHJpbWVzKHF1YW50aXR5OiBudW1iZXIpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgaWYgKHF1YW50aXR5IDw9IEZhYnJpY2F0aW9uSGVscGVyLnByaW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEZhYnJpY2F0aW9uSGVscGVyLnByaW1lcy5zbGljZSgwLCBxdWFudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjYW5kaWRhdGUgPSA5ODtcclxuICAgICAgICB3aGlsZSAoRmFicmljYXRpb25IZWxwZXIucHJpbWVzLmxlbmd0aCA8IHF1YW50aXR5KSB7XHJcbiAgICAgICAgICAgIGlmIChGYWJyaWNhdGlvbkhlbHBlci5wcmltZXMuZXZlcnkoKHApID0+IGNhbmRpZGF0ZSAlIHApKSB7XHJcbiAgICAgICAgICAgICAgICBGYWJyaWNhdGlvbkhlbHBlci5wcmltZXMucHVzaChjYW5kaWRhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhbmRpZGF0ZSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRmFicmljYXRpb25IZWxwZXIucHJpbWVzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29tYmluYXRpb25IaXN0b2dyYW0oY29tcG9uZW50czogIENyYWZ0aW5nQ29tcG9uZW50W10pOiBDcmFmdGluZ0NvbXBvbmVudFtdW10ge1xyXG4gICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uczogQ3JhZnRpbmdDb21wb25lbnRbXVtdID0gW107XHJcbiAgICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IE1hdGgucG93KDIsIGNvbXBvbmVudHMubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29tYmluYXRpb246IENyYWZ0aW5nQ29tcG9uZW50W10gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb21wb25lbnRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSAmIE1hdGgucG93KDIsIGopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tYmluYXRpb24ucHVzaChjb21wb25lbnRzW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29tYmluYXRpb24ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29tYmluYXRpb25zLnB1c2goY29tYmluYXRpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb21iaW5hdGlvbnMuc29ydCgobGVmdCwgcmlnaHQpID0+IGxlZnQubGVuZ3RoIC0gcmlnaHQubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRpb25IZWxwZXJ9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/FabricationHelper.ts\n");

/***/ }),

/***/ "./src/scripts/core/Fabricator.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Fabricator.ts ***!
  \****************************************/
/*! exports provided: DefaultFabricator, EssenceCombiningFabricator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultFabricator\", function() { return DefaultFabricator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EssenceCombiningFabricator\", function() { return EssenceCombiningFabricator; });\n/* harmony import */ var _CraftingResult__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n/* harmony import */ var _ActionType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionType */ \"./src/scripts/core/ActionType.ts\");\n/* harmony import */ var _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FabricationHelper */ \"./src/scripts/core/FabricationHelper.ts\");\n\r\n\r\n\r\nclass DefaultFabricator {\r\n    fabricateFromRecipe(recipe) {\r\n        let input = recipe.ingredients.map((component) => {\r\n            return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(component.component)\r\n                .withQuantity(component.quantity)\r\n                .withAction(component.consumed ? _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE : _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                .build();\r\n        });\r\n        let output = recipe.results.map((result) => {\r\n            return _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n                .withItem(result.item)\r\n                .withAction(_ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n                .withQuantity(result.quantity)\r\n                .build();\r\n        });\r\n        return input.concat(output);\r\n    }\r\n    fabricateFromComponents() {\r\n        throw new Error(`The Default Fabricator requires a Recipe and one was not provided. `);\r\n    }\r\n}\r\nclass EssenceCombiningFabricator {\r\n    constructor(essenceCombiner) {\r\n        this._essenceCombiner = essenceCombiner;\r\n    }\r\n    fabricateFromComponents(components) {\r\n        if (!this._essenceCombiner) {\r\n            throw new Error(`No Essence Combiner has been provided for this system. You may only craft from Recipes. `);\r\n        }\r\n        const alchemicalResult = this._essenceCombiner.combine(components);\r\n        const resultantItem = this._essenceCombiner.resultantItem;\r\n        const addedComponent = _CraftingResult__WEBPACK_IMPORTED_MODULE_0__[\"CraftingResult\"].builder()\r\n            .withAction(_ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].ADD)\r\n            .withQuantity(1)\r\n            .withCustomData(alchemicalResult.asItemData())\r\n            .withItem(resultantItem)\r\n            .build();\r\n        const craftingResults = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].asCraftingResults(components, _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE);\r\n        craftingResults.push(addedComponent);\r\n        return craftingResults;\r\n    }\r\n    fabricateFromRecipe(recipe, craftingComponents) {\r\n        if (!craftingComponents || craftingComponents.length === 0) {\r\n            throw new Error(`Essence Combining Fabricators require components to Fabricate Recipes. `);\r\n        }\r\n        const craftingComponentCombinations = this.analyzeCombinationsForRecipe(craftingComponents, recipe);\r\n        const selectedCombination = this.selectBestCombinationFrom(recipe, craftingComponentCombinations);\r\n        if (!selectedCombination || selectedCombination.length === 0) {\r\n            throw new Error(`There are insufficient components available to craft Recipe ${recipe.partId}. `);\r\n        }\r\n        return _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].asCraftingResults(selectedCombination, _ActionType__WEBPACK_IMPORTED_MODULE_1__[\"ActionType\"].REMOVE).concat(recipe.results);\r\n    }\r\n    analyzeCombinationsForRecipe(components, recipe) {\r\n        const essenceIdentities = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].assignEssenceIdentities(recipe.essences);\r\n        const usableComponents = components.filter((component) => component.essences.filter((essence) => recipe.essences.includes(essence)).length > 0);\r\n        const recipeIdentity = _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].essenceCombinationIdentity(recipe.essences, essenceIdentities);\r\n        const componentEssenceIdentity = new Map();\r\n        usableComponents.forEach((component) => {\r\n            if (!componentEssenceIdentity.has(component.partId)) {\r\n                componentEssenceIdentity.set(component.partId, _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].essenceCombinationIdentity(component.essences, essenceIdentities));\r\n            }\r\n        });\r\n        return _FabricationHelper__WEBPACK_IMPORTED_MODULE_2__[\"FabricationHelper\"].combinationHistogram(usableComponents).map((combination) => {\r\n            const essenceCombinationIdentity = combination.map((component) => componentEssenceIdentity.get(component.partId))\r\n                .reduce((left, right) => left * right, 1);\r\n            const craftableRecipes = [];\r\n            if (this.isCraftableFromEssencesIn(recipe, combination)) {\r\n                craftableRecipes.push(recipe);\r\n            }\r\n            const essenceIdentityMatchForRecipes = [];\r\n            if (essenceCombinationIdentity === recipeIdentity) {\r\n                essenceIdentityMatchForRecipes.push(recipe);\r\n            }\r\n            return new CraftingComponentCombination(combination, craftableRecipes, essenceCombinationIdentity, essenceIdentityMatchForRecipes);\r\n        });\r\n    }\r\n    isCraftableFromEssencesIn(recipe, components) {\r\n        const essences = components.map((component) => component.essences)\r\n            .reduce((left, right) => left.concat(right), []);\r\n        return essences.every((essence) => recipe.essences.includes(essence)\r\n            && (essences.filter((essence) => essence === essence).length >= recipe.essences.filter((essence) => essence === essence).length));\r\n    }\r\n    filterCraftableRecipesFor(craftingComponents, recipes) {\r\n        return recipes.filter((recipe) => this.isCraftableFromEssencesIn(recipe, craftingComponents));\r\n    }\r\n    selectBestCombinationFrom(recipe, combinations) {\r\n        const exactMatches = [];\r\n        const supersets = [];\r\n        combinations.forEach((combination) => {\r\n            if (combination.essenceIdentityMatches.find((match) => match.partId === recipe.partId)) {\r\n                exactMatches.push(combination);\r\n            }\r\n            if (combination.craftableRecipes.find((craftable) => craftable.partId === recipe.partId)) {\r\n                supersets.push(combination);\r\n            }\r\n        });\r\n        const selectFewestComponents = (combinations) => {\r\n            return combinations.sort((left, right) => left.components.length - right.components.length)\r\n                .find(() => true)\r\n                .components;\r\n        };\r\n        if (exactMatches.length === 1) {\r\n            return exactMatches[0].components;\r\n        }\r\n        else if (exactMatches.length > 1) {\r\n            return selectFewestComponents(exactMatches);\r\n        }\r\n        else if (supersets.length === 1) {\r\n            return supersets[0].components;\r\n        }\r\n        else if (supersets.length > 1) {\r\n            return selectFewestComponents(supersets);\r\n        }\r\n        else {\r\n            return [];\r\n        }\r\n    }\r\n}\r\nclass CraftingComponentCombination {\r\n    constructor(components, craftableRecipes, essenceIdentity, essencceIdentityMatches) {\r\n        this._components = components;\r\n        this._craftableRecipes = craftableRecipes;\r\n        this._essenceIdentity = essenceIdentity;\r\n        this._essenceIdentityMatches = essencceIdentityMatches;\r\n    }\r\n    get components() {\r\n        return this._components;\r\n    }\r\n    get craftableRecipes() {\r\n        return this._craftableRecipes;\r\n    }\r\n    get essenceIdentity() {\r\n        return this._essenceIdentity;\r\n    }\r\n    get essenceIdentityMatches() {\r\n        return this._essenceIdentityMatches;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0ZhYnJpY2F0b3IudHM/Zjk1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBZ0Q7QUFDUjtBQUVjO0FBU3RELE1BQU0saUJBQWlCO0lBRVosbUJBQW1CLENBQUMsTUFBYztRQUVyQyxJQUFJLEtBQUssR0FBcUIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUMvRCxPQUFPLDhEQUFjLENBQUMsT0FBTyxFQUFFO2lCQUMxQixRQUFRLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQztpQkFDN0IsWUFBWSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7aUJBQ2hDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxzREFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsc0RBQVUsQ0FBQyxHQUFHLENBQUM7aUJBQ25FLEtBQUssRUFBRSxDQUFDO1FBQ2pCLENBQUMsQ0FBQyxDQUFDO1FBRUgsSUFBSSxNQUFNLEdBQXFCLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEVBQUU7WUFDekQsT0FBTyw4REFBYyxDQUFDLE9BQU8sRUFBRTtpQkFDMUIsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7aUJBQ3JCLFVBQVUsQ0FBQyxzREFBVSxDQUFDLEdBQUcsQ0FBQztpQkFDMUIsWUFBWSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7aUJBQzdCLEtBQUssRUFBRSxDQUFDO1FBQ2pCLENBQUMsQ0FBQyxDQUFDO1FBRUgsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRWhDLENBQUM7SUFFTSx1QkFBdUI7UUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxxRUFBcUUsQ0FBQyxDQUFDO0lBQzNGLENBQUM7Q0FFSjtBQUVELE1BQU0s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QUM7UUFDeEMsSUFBSSxDQUFDLHVCQUF1QixHQUFHLHVCQUF1QixDQUFDO0lBQzNELENBQUM7SUFFRCxJQUFJLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDNUIsQ0FBQztJQUVELElBQUksZ0JBQWdCO1FBQ2hCLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDO0lBQ2xDLENBQUM7SUFFRCxJQUFJLGVBQWU7UUFDZixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNqQyxDQUFDO0lBRUQsSUFBSSxzQkFBc0I7UUFDdEIsT0FBTyxJQUFJLENBQUMsdUJBQXVCLENBQUM7SUFDeEMsQ0FBQztDQUNKO0FBRWtFIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvY29yZS9GYWJyaWNhdG9yLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL1JlY2lwZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5pbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuL0FjdGlvblR5cGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4vQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGlvbkhlbHBlcn0gZnJvbSBcIi4vRmFicmljYXRpb25IZWxwZXJcIjtcclxuaW1wb3J0IHtFc3NlbmNlQ29tYmluZXJ9IGZyb20gXCIuL0Vzc2VuY2VDb21iaW5lclwiO1xyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0b3Ige1xyXG4gICAgZmFicmljYXRlRnJvbVJlY2lwZShyZWNpcGU6IFJlY2lwZSwgY29tcG9uZW50cz86IENyYWZ0aW5nQ29tcG9uZW50W10pOiBDcmFmdGluZ1Jlc3VsdFtdO1xyXG5cclxuICAgIGZhYnJpY2F0ZUZyb21Db21wb25lbnRzKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBDcmFmdGluZ1Jlc3VsdFtdO1xyXG59XHJcblxyXG5jbGFzcyBEZWZhdWx0RmFicmljYXRvciBpbXBsZW1lbnRzIEZhYnJpY2F0b3Ige1xyXG5cclxuICAgIHB1YmxpYyBmYWJyaWNhdGVGcm9tUmVjaXBlKHJlY2lwZTogUmVjaXBlKTogQ3JhZnRpbmdSZXN1bHRbXSB7XHJcblxyXG4gICAgICAgIGxldCBpbnB1dDogQ3JhZnRpbmdSZXN1bHRbXSA9IHJlY2lwZS5pbmdyZWRpZW50cy5tYXAoKGNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gQ3JhZnRpbmdSZXN1bHQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAud2l0aEl0ZW0oY29tcG9uZW50LmNvbXBvbmVudClcclxuICAgICAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoY29tcG9uZW50LnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rpb24oY29tcG9uZW50LmNvbnN1bWVkID8gQWN0aW9uVHlwZS5SRU1PVkUgOiBBY3Rpb25UeXBlLkFERClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZXQgb3V0cHV0OiBDcmFmdGluZ1Jlc3VsdFtdID0gcmVjaXBlLnJlc3VsdHMubWFwKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nUmVzdWx0LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhJdGVtKHJlc3VsdC5pdGVtKVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rpb24oQWN0aW9uVHlwZS5BREQpXHJcbiAgICAgICAgICAgICAgICAud2l0aFF1YW50aXR5KHJlc3VsdC5xdWFudGl0eSlcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gaW5wdXQuY29uY2F0KG91dHB1dCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmYWJyaWNhdGVGcm9tQ29tcG9uZW50cygpOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBEZWZhdWx0IEZhYnJpY2F0b3IgcmVxdWlyZXMgYSBSZWNpcGUgYW5kIG9uZSB3YXMgbm90IHByb3ZpZGVkLiBgKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIEVzc2VuY2VDb21iaW5pbmdGYWJyaWNhdG9yPFQ+IGltcGxlbWVudHMgRmFicmljYXRvciB7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lc3NlbmNlQ29tYmluZXI6IEVzc2VuY2VDb21iaW5lcjxUPjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihlc3NlbmNlQ29tYmluZXI/OiBFc3NlbmNlQ29tYmluZXI8VD4pIHtcclxuICAgICAgICB0aGlzLl9lc3NlbmNlQ29tYmluZXIgPSBlc3NlbmNlQ29tYmluZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZhYnJpY2F0ZUZyb21Db21wb25lbnRzKGNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2Vzc2VuY2VDb21iaW5lcikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIEVzc2VuY2UgQ29tYmluZXIgaGFzIGJlZW4gcHJvdmlkZWQgZm9yIHRoaXMgc3lzdGVtLiBZb3UgbWF5IG9ubHkgY3JhZnQgZnJvbSBSZWNpcGVzLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWxjaGVtaWNhbFJlc3VsdCA9IHRoaXMuX2Vzc2VuY2VDb21iaW5lci5jb21iaW5lKGNvbXBvbmVudHMpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdGFudEl0ZW0gPSB0aGlzLl9lc3NlbmNlQ29tYmluZXIucmVzdWx0YW50SXRlbTtcclxuICAgICAgICBjb25zdCBhZGRlZENvbXBvbmVudDogQ3JhZnRpbmdSZXN1bHQgPSBDcmFmdGluZ1Jlc3VsdC5idWlsZGVyKClcclxuICAgICAgICAgICAgLndpdGhBY3Rpb24oQWN0aW9uVHlwZS5BREQpXHJcbiAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoMSlcclxuICAgICAgICAgICAgLndpdGhDdXN0b21EYXRhKGFsY2hlbWljYWxSZXN1bHQuYXNJdGVtRGF0YSgpKVxyXG4gICAgICAgICAgICAud2l0aEl0ZW0ocmVzdWx0YW50SXRlbSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdSZXN1bHRzOiBDcmFmdGluZ1Jlc3VsdFtdID0gRmFicmljYXRpb25IZWxwZXIuYXNDcmFmdGluZ1Jlc3VsdHMoY29tcG9uZW50cywgQWN0aW9uVHlwZS5SRU1PVkUpO1xyXG4gICAgICAgIGNyYWZ0aW5nUmVzdWx0cy5wdXNoKGFkZGVkQ29tcG9uZW50KTtcclxuICAgICAgICByZXR1cm4gY3JhZnRpbmdSZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBmYWJyaWNhdGVGcm9tUmVjaXBlKHJlY2lwZTogUmVjaXBlLCBjcmFmdGluZ0NvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10pOiBDcmFmdGluZ1Jlc3VsdFtdIHtcclxuICAgICAgICBpZiAoIWNyYWZ0aW5nQ29tcG9uZW50cyB8fCBjcmFmdGluZ0NvbXBvbmVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXNzZW5jZSBDb21iaW5pbmcgRmFicmljYXRvcnMgcmVxdWlyZSBjb21wb25lbnRzIHRvIEZhYnJpY2F0ZSBSZWNpcGVzLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbnMgPSB0aGlzLmFuYWx5emVDb21iaW5hdGlvbnNGb3JSZWNpcGUoY3JhZnRpbmdDb21wb25lbnRzLCByZWNpcGUpO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ29tYmluYXRpb246IENyYWZ0aW5nQ29tcG9uZW50W10gPSB0aGlzLnNlbGVjdEJlc3RDb21iaW5hdGlvbkZyb20ocmVjaXBlLCBjcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9ucyk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZENvbWJpbmF0aW9uIHx8c2VsZWN0ZWRDb21iaW5hdGlvbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGVyZSBhcmUgaW5zdWZmaWNpZW50IGNvbXBvbmVudHMgYXZhaWxhYmxlIHRvIGNyYWZ0IFJlY2lwZSAke3JlY2lwZS5wYXJ0SWR9LiBgKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRmFicmljYXRpb25IZWxwZXIuYXNDcmFmdGluZ1Jlc3VsdHMoc2VsZWN0ZWRDb21iaW5hdGlvbiwgQWN0aW9uVHlwZS5SRU1PVkUpLmNvbmNhdChyZWNpcGUucmVzdWx0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhbmFseXplQ29tYmluYXRpb25zRm9yUmVjaXBlKGNvbXBvbmVudHM6ICBDcmFmdGluZ0NvbXBvbmVudFtdLCByZWNpcGU6IFJlY2lwZSk6IENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb25bXSB7XHJcbiAgICAgICAgY29uc3QgZXNzZW5jZUlkZW50aXRpZXM6IE1hcDxzdHJpbmcsIG51bWJlcj4gPSBGYWJyaWNhdGlvbkhlbHBlci5hc3NpZ25Fc3NlbmNlSWRlbnRpdGllcyhyZWNpcGUuZXNzZW5jZXMpO1xyXG4gICAgICAgIGNvbnN0IHVzYWJsZUNvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBjb21wb25lbnRzLmZpbHRlcigoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4gY29tcG9uZW50LmVzc2VuY2VzLmZpbHRlcigoZXNzZW5jZTogc3RyaW5nKSA9PiByZWNpcGUuZXNzZW5jZXMuaW5jbHVkZXMoZXNzZW5jZSkpLmxlbmd0aCA+IDApO1xyXG4gICAgICAgIGNvbnN0IHJlY2lwZUlkZW50aXR5ID0gRmFicmljYXRpb25IZWxwZXIuZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkocmVjaXBlLmVzc2VuY2VzLCBlc3NlbmNlSWRlbnRpdGllcyk7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50RXNzZW5jZUlkZW50aXR5OiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHVzYWJsZUNvbXBvbmVudHMuZm9yRWFjaCgoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudEVzc2VuY2VJZGVudGl0eS5oYXMoY29tcG9uZW50LnBhcnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBvbmVudEVzc2VuY2VJZGVudGl0eS5zZXQoY29tcG9uZW50LnBhcnRJZCwgRmFicmljYXRpb25IZWxwZXIuZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkoY29tcG9uZW50LmVzc2VuY2VzLCBlc3NlbmNlSWRlbnRpdGllcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIEZhYnJpY2F0aW9uSGVscGVyLmNvbWJpbmF0aW9uSGlzdG9ncmFtKHVzYWJsZUNvbXBvbmVudHMpLm1hcCgoY29tYmluYXRpb246IENyYWZ0aW5nQ29tcG9uZW50W10pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZXNzZW5jZUNvbWJpbmF0aW9uSWRlbnRpdHkgPSBjb21iaW5hdGlvbi5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IGNvbXBvbmVudEVzc2VuY2VJZGVudGl0eS5nZXQoY29tcG9uZW50LnBhcnRJZCkpXHJcbiAgICAgICAgICAgICAgICAucmVkdWNlKChsZWZ0OiBudW1iZXIsIHJpZ2h0OiBudW1iZXIpID0+IGxlZnQgKiByaWdodCwgMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0YWJsZVJlY2lwZXM6IFJlY2lwZVtdID0gW107XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ3JhZnRhYmxlRnJvbUVzc2VuY2VzSW4ocmVjaXBlLCBjb21iaW5hdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIGNyYWZ0YWJsZVJlY2lwZXMucHVzaChyZWNpcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGVzc2VuY2VJZGVudGl0eU1hdGNoRm9yUmVjaXBlczogUmVjaXBlW10gPSBbXTtcclxuICAgICAgICAgICAgaWYgKGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5ID09PSByZWNpcGVJZGVudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgZXNzZW5jZUlkZW50aXR5TWF0Y2hGb3JSZWNpcGVzLnB1c2gocmVjaXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb24oY29tYmluYXRpb24sIGNyYWZ0YWJsZVJlY2lwZXMsIGVzc2VuY2VDb21iaW5hdGlvbklkZW50aXR5LCBlc3NlbmNlSWRlbnRpdHlNYXRjaEZvclJlY2lwZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNDcmFmdGFibGVGcm9tRXNzZW5jZXNJbihyZWNpcGU6IFJlY2lwZSwgY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VzID0gY29tcG9uZW50cy5tYXAoKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IGNvbXBvbmVudC5lc3NlbmNlcylcclxuICAgICAgICAgICAgLnJlZHVjZSgobGVmdDogc3RyaW5nW10sIHJpZ2h0OiBzdHJpbmdbXSkgPT4gbGVmdC5jb25jYXQocmlnaHQpLCBbXSk7XHJcbiAgICAgICAgcmV0dXJuIGVzc2VuY2VzLmV2ZXJ5KChlc3NlbmNlOiBzdHJpbmcpID0+IHJlY2lwZS5lc3NlbmNlcy5pbmNsdWRlcyhlc3NlbmNlKVxyXG4gICAgICAgICAgICAmJiAgKGVzc2VuY2VzLmZpbHRlcigoZXNzZW5jZTpzdHJpbmcpID0+IGVzc2VuY2UgPT09IGVzc2VuY2UpLmxlbmd0aCA+PSByZWNpcGUuZXNzZW5jZXMuZmlsdGVyKChlc3NlbmNlOnN0cmluZykgPT4gZXNzZW5jZSA9PT0gZXNzZW5jZSkubGVuZ3RoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGZpbHRlckNyYWZ0YWJsZVJlY2lwZXNGb3IoY3JhZnRpbmdDb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdLCByZWNpcGVzOiBSZWNpcGVbXSkge1xyXG4gICAgICAgIHJldHVybiByZWNpcGVzLmZpbHRlcigocmVjaXBlOiBSZWNpcGUpID0+IHRoaXMuaXNDcmFmdGFibGVGcm9tRXNzZW5jZXNJbihyZWNpcGUsIGNyYWZ0aW5nQ29tcG9uZW50cykpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2VsZWN0QmVzdENvbWJpbmF0aW9uRnJvbShyZWNpcGU6IFJlY2lwZSwgY29tYmluYXRpb25zOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uW10pOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICBjb25zdCBleGFjdE1hdGNoZXM6IENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb25bXSA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHN1cGVyc2V0czogQ3JhZnRpbmdDb21wb25lbnRDb21iaW5hdGlvbltdID0gW107XHJcbiAgICAgICAgY29tYmluYXRpb25zLmZvckVhY2goKGNvbWJpbmF0aW9uOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb21iaW5hdGlvbi5lc3NlbmNlSWRlbnRpdHlNYXRjaGVzLmZpbmQoKG1hdGNoOiBSZWNpcGUpID0+IG1hdGNoLnBhcnRJZCA9PT0gcmVjaXBlLnBhcnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIGV4YWN0TWF0Y2hlcy5wdXNoKGNvbWJpbmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY29tYmluYXRpb24uY3JhZnRhYmxlUmVjaXBlcy5maW5kKChjcmFmdGFibGU6IFJlY2lwZSkgPT4gY3JhZnRhYmxlLnBhcnRJZCA9PT0gcmVjaXBlLnBhcnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIHN1cGVyc2V0cy5wdXNoKGNvbWJpbmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdEZld2VzdENvbXBvbmVudHMgPSAoY29tYmluYXRpb25zOiBDcmFmdGluZ0NvbXBvbmVudENvbWJpbmF0aW9uW10pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmF0aW9ucy5zb3J0KChsZWZ0LCByaWdodCkgPT4gbGVmdC5jb21wb25lbnRzLmxlbmd0aCAtIHJpZ2h0LmNvbXBvbmVudHMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoKCkgPT4gdHJ1ZSlcclxuICAgICAgICAgICAgICAgIC5jb21wb25lbnRzO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKCBleGFjdE1hdGNoZXMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleGFjdE1hdGNoZXNbMF0uY29tcG9uZW50cztcclxuICAgICAgICB9IGVsc2UgaWYgKCBleGFjdE1hdGNoZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0RmV3ZXN0Q29tcG9uZW50cyhleGFjdE1hdGNoZXMpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc3VwZXJzZXRzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXJzZXRzWzBdLmNvbXBvbmVudHM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChzdXBlcnNldHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0RmV3ZXN0Q29tcG9uZW50cyhzdXBlcnNldHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIENyYWZ0aW5nQ29tcG9uZW50Q29tYmluYXRpb24ge1xyXG5cclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGFibGVSZWNpcGVzOiBSZWNpcGVbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VJZGVudGl0eU1hdGNoZXM6IFJlY2lwZVtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZXNzZW5jZUlkZW50aXR5OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50czogQ3JhZnRpbmdDb21wb25lbnRbXSwgY3JhZnRhYmxlUmVjaXBlczogUmVjaXBlW10sIGVzc2VuY2VJZGVudGl0eTogbnVtYmVyLCBlc3NlbmNjZUlkZW50aXR5TWF0Y2hlczogUmVjaXBlW10pIHtcclxuICAgICAgICB0aGlzLl9jb21wb25lbnRzID0gY29tcG9uZW50cztcclxuICAgICAgICB0aGlzLl9jcmFmdGFibGVSZWNpcGVzID0gY3JhZnRhYmxlUmVjaXBlcztcclxuICAgICAgICB0aGlzLl9lc3NlbmNlSWRlbnRpdHkgPSBlc3NlbmNlSWRlbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUlkZW50aXR5TWF0Y2hlcyA9IGVzc2VuY2NlSWRlbnRpdHlNYXRjaGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb21wb25lbnRzKCk6IENyYWZ0aW5nQ29tcG9uZW50W10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wb25lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBjcmFmdGFibGVSZWNpcGVzKCk6IFJlY2lwZVtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY3JhZnRhYmxlUmVjaXBlcztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZUlkZW50aXR5KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vzc2VuY2VJZGVudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZUlkZW50aXR5TWF0Y2hlcygpOiBSZWNpcGVbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Vzc2VuY2VJZGVudGl0eU1hdGNoZXM7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7RmFicmljYXRvciwgRGVmYXVsdEZhYnJpY2F0b3IsIEVzc2VuY2VDb21iaW5pbmdGYWJyaWNhdG9yfTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/Fabricator.ts\n");

/***/ }),

/***/ "./src/scripts/core/GameSystemType.ts":
/*!********************************************!*\
  !*** ./src/scripts/core/GameSystemType.ts ***!
  \********************************************/
/*! exports provided: GameSystemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameSystemType\", function() { return GameSystemType; });\nvar GameSystemType;\r\n(function (GameSystemType) {\r\n    GameSystemType[\"DND5E\"] = \"dnd5e\";\r\n})(GameSystemType || (GameSystemType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0dhbWVTeXN0ZW1UeXBlLnRzPzdkODciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBLElBQVksY0FFWDtBQUZELFdBQVksY0FBYztJQUN0QixpQ0FBZTtBQUNuQixDQUFDLEVBRlcsY0FBYyxLQUFkLGNBQWMsUUFFekIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9jb3JlL0dhbWVTeXN0ZW1UeXBlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gR2FtZVN5c3RlbVR5cGUge1xyXG4gICAgRE5ENUUgPSAnZG5kNWUnXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/core/GameSystemType.ts\n");

/***/ }),

/***/ "./src/scripts/core/Ingredient.ts":
/*!****************************************!*\
  !*** ./src/scripts/core/Ingredient.ts ***!
  \****************************************/
/*! exports provided: Ingredient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Ingredient\", function() { return Ingredient; });\n/* harmony import */ var _CraftingComponent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\nclass Ingredient extends _FabricateItem__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.component.systemId, builder.component.partId);\r\n        this._component = builder.component;\r\n        this._quantity = builder.quantity;\r\n        this._consumed = builder.consumed;\r\n    }\r\n    static builder() {\r\n        return new Ingredient.Builder();\r\n    }\r\n    get component() {\r\n        return this._component;\r\n    }\r\n    get quantity() {\r\n        return this._quantity;\r\n    }\r\n    get consumed() {\r\n        return this._consumed;\r\n    }\r\n    equals(other) {\r\n        if (!other) {\r\n            return false;\r\n        }\r\n        return this.sharesType(other)\r\n            && (this.quantity === other.quantity)\r\n            && (this.consumed === other.consumed);\r\n    }\r\n    static fromFlags(flags, systemId) {\r\n        return this.builder()\r\n            .isConsumed(flags.consumed)\r\n            .withQuantity(flags.quantity)\r\n            .withComponent(_CraftingComponent__WEBPACK_IMPORTED_MODULE_0__[\"CraftingComponent\"].builder()\r\n            .withSystemId(systemId)\r\n            .withPartId(flags.partId)\r\n            .build())\r\n            .build();\r\n    }\r\n    static manyFromFlags(flags, systemId) {\r\n        return flags.map((flagData) => Ingredient.fromFlags(flagData, systemId));\r\n    }\r\n    isValid() {\r\n        return (this.quantity != null && this.quantity > 0)\r\n            && this.component.isValid();\r\n    }\r\n}\r\n(function (Ingredient) {\r\n    class Builder {\r\n        withComponent(value) {\r\n            this.component = value;\r\n            return this;\r\n        }\r\n        withQuantity(value) {\r\n            this.quantity = value;\r\n            return this;\r\n        }\r\n        isConsumed(value) {\r\n            this.consumed = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new Ingredient(this);\r\n        }\r\n    }\r\n    Ingredient.Builder = Builder;\r\n})(Ingredient || (Ingredient = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL0luZ3JlZGllbnQudHM/N2JjNCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFzRDtBQUVSO0FBRTlDLE1BQU0sVUFBVyxTQUFRLDREQUFhO0lBS2xDLFlBQVksT0FBMkI7UUFDbkMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDNUQsSUFBSSxDQUFDLFVBQVUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztRQUNsQyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7SUFDdEMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSxVQUFVLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDcEMsQ0FBQztJQUVELElBQUksU0FBUztRQUNULE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUMzQixDQUFDO0lBRUQsSUFBSSxRQUFRO1FBQ1IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDMUIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxLQUFpQjtRQUMzQixJQUFJLENBQUMsS0FBSyxFQUFFO1lBQ1IsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFDRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDO2VBQ3RCLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDO2VBQ2xDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBK0IsRUFBRSxRQUFnQjtRQUNyRSxPQUFPLElBQUksQ0FBQyxPQUFPLEVBQUU7YUFDaEIsVUFBVSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDMUIsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUM7YUFDNUIsYUFBYSxDQUFDLG9FQUFpQixDQUFDLE9BQU8sRUFBRTthQUNyQyxZQUFZLENBQUMsUUFBUSxDQUFDO2FBQ3RCLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2FBQ3hCLEtBQUssRUFBRSxDQUFDO2FBQ1osS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVNLE1BQU0sQ0FBQyxhQUFhLENBQUMsS0FBaUMsRUFBRSxRQUFnQjtRQUMzRSxPQUFPLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUVELE9BQU87UUFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBRyxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7ZUFDL0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0NBQ0o7QUFFRCxXQUFVLFVBQVU7SUFDaEIsTUFBYSxPQUFPO1FBS1QsYUFBYSxDQUFDLEtBQXdCO1lBQ3pDLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSyxDQUFDO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxZQUFZLENBQUMsS0FBYTtZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQztZQUN0QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sVUFBVSxDQUFDLEtBQWM7WUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7WUFDdEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLENBQUM7S0FDSjtJQXZCWSxrQkFBTyxVQXVCbkI7QUFDTCxDQUFDLEVBekJTLFVBQVUsS0FBVixVQUFVLFFBeUJuQjtBQUVxQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvSW5ncmVkaWVudC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7RmFicmljYXRlSW5ncmVkaWVudEZsYWdzfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIEluZ3JlZGllbnQgZXh0ZW5kcyBGYWJyaWNhdGVJdGVtIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9xdWFudGl0eTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY29uc3VtZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogSW5ncmVkaWVudC5CdWlsZGVyKSB7XHJcbiAgICAgICAgc3VwZXIoYnVpbGRlci5jb21wb25lbnQuc3lzdGVtSWQsIGJ1aWxkZXIuY29tcG9uZW50LnBhcnRJZCk7XHJcbiAgICAgICAgdGhpcy5fY29tcG9uZW50ID0gYnVpbGRlci5jb21wb25lbnQ7XHJcbiAgICAgICAgdGhpcy5fcXVhbnRpdHkgPSBidWlsZGVyLnF1YW50aXR5O1xyXG4gICAgICAgIHRoaXMuX2NvbnN1bWVkID0gYnVpbGRlci5jb25zdW1lZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGJ1aWxkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbmdyZWRpZW50LkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29tcG9uZW50KCk6IENyYWZ0aW5nQ29tcG9uZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBxdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9xdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgY29uc3VtZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnN1bWVkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlcXVhbHMob3RoZXI6IEluZ3JlZGllbnQpOiBib29sZWFuIHtcclxuICAgICAgICBpZiAoIW90aGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hhcmVzVHlwZShvdGhlcilcclxuICAgICAgICAgICAgJiYgKHRoaXMucXVhbnRpdHkgPT09IG90aGVyLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAmJiAodGhpcy5jb25zdW1lZCA9PT0gb3RoZXIuY29uc3VtZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZnJvbUZsYWdzKGZsYWdzOiBGYWJyaWNhdGVJbmdyZWRpZW50RmxhZ3MsIHN5c3RlbUlkOiBzdHJpbmcpOiBJbmdyZWRpZW50IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5idWlsZGVyKClcclxuICAgICAgICAgICAgLmlzQ29uc3VtZWQoZmxhZ3MuY29uc3VtZWQpXHJcbiAgICAgICAgICAgIC53aXRoUXVhbnRpdHkoZmxhZ3MucXVhbnRpdHkpXHJcbiAgICAgICAgICAgIC53aXRoQ29tcG9uZW50KENyYWZ0aW5nQ29tcG9uZW50LmJ1aWxkZXIoKVxyXG4gICAgICAgICAgICAgICAgLndpdGhTeXN0ZW1JZChzeXN0ZW1JZClcclxuICAgICAgICAgICAgICAgIC53aXRoUGFydElkKGZsYWdzLnBhcnRJZClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpKVxyXG4gICAgICAgICAgICAuYnVpbGQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIG1hbnlGcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZUluZ3JlZGllbnRGbGFnc1tdLCBzeXN0ZW1JZDogc3RyaW5nKTogSW5ncmVkaWVudFtdIHtcclxuICAgICAgICByZXR1cm4gZmxhZ3MubWFwKChmbGFnRGF0YSkgPT4gSW5ncmVkaWVudC5mcm9tRmxhZ3MoZmxhZ0RhdGEsIHN5c3RlbUlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNWYWxpZCgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMucXVhbnRpdHkhPSBudWxsICYmIHRoaXMucXVhbnRpdHkgPiAwKVxyXG4gICAgICAgICYmIHRoaXMuY29tcG9uZW50LmlzVmFsaWQoKTtcclxuICAgIH1cclxufVxyXG5cclxubmFtZXNwYWNlIEluZ3JlZGllbnQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG4gICAgICAgIHB1YmxpYyBjb21wb25lbnQhOiBDcmFmdGluZ0NvbXBvbmVudDtcclxuICAgICAgICBwdWJsaWMgcXVhbnRpdHkhOiBudW1iZXI7XHJcbiAgICAgICAgcHVibGljIGNvbnN1bWVkITogYm9vbGVhbjtcclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhDb21wb25lbnQodmFsdWU6IENyYWZ0aW5nQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhRdWFudGl0eSh2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgaXNDb25zdW1lZCh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEluZ3JlZGllbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBJbmdyZWRpZW50IH07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/Ingredient.ts\n");

/***/ }),

/***/ "./src/scripts/core/Recipe.ts":
/*!************************************!*\
  !*** ./src/scripts/core/Recipe.ts ***!
  \************************************/
/*! exports provided: Recipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Recipe\", function() { return Recipe; });\n/* harmony import */ var _Ingredient__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ingredient */ \"./src/scripts/core/Ingredient.ts\");\n/* harmony import */ var _CraftingResult__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CraftingResult */ \"./src/scripts/core/CraftingResult.ts\");\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _FabricateItem__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FabricateItem */ \"./src/scripts/core/FabricateItem.ts\");\n\r\n\r\n\r\n\r\nclass Recipe extends _FabricateItem__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItem\"] {\r\n    constructor(builder) {\r\n        super(builder.systemId, builder.partId);\r\n        this._ingredients = builder.ingredients;\r\n        this._essences = builder.essences;\r\n        this._results = builder.results;\r\n        this._name = builder.name;\r\n    }\r\n    static fromFlags(flags, name) {\r\n        if (flags.type !== _game_CompendiumData__WEBPACK_IMPORTED_MODULE_2__[\"FabricateItemType\"].RECIPE) {\r\n            throw new Error(`Error attempting to instantiate a Fabricate Recipe from ${flags.type} data. `);\r\n        }\r\n        return Recipe.builder()\r\n            .withName(name)\r\n            .withSystemId(flags.identity.systemId)\r\n            .withPartId(flags.identity.partId)\r\n            .withEssences(flags.recipe.essences)\r\n            .withResults(_CraftingResult__WEBPACK_IMPORTED_MODULE_1__[\"CraftingResult\"].manyFromFlags(flags.recipe.results, flags.identity.systemId))\r\n            .withIngredients(_Ingredient__WEBPACK_IMPORTED_MODULE_0__[\"Ingredient\"].manyFromFlags(flags.recipe.ingredients, flags.identity.systemId))\r\n            .build();\r\n    }\r\n    get name() {\r\n        return this._name;\r\n    }\r\n    get ingredients() {\r\n        return this._ingredients;\r\n    }\r\n    get results() {\r\n        return this._results;\r\n    }\r\n    get essences() {\r\n        return this._essences;\r\n    }\r\n    static builder() {\r\n        return new Recipe.Builder();\r\n    }\r\n    isValid() {\r\n        const nameValid = this.name != null && this.name.length > 0;\r\n        const idValid = this.partId && this.systemId;\r\n        let ingredientsValid = true;\r\n        this.ingredients.forEach((ingredient) => {\r\n            if (!ingredient.isValid()) {\r\n                ingredientsValid = false;\r\n            }\r\n        });\r\n        let resultsValid = true;\r\n        this.results.forEach((result) => {\r\n            if (!result.isValid()) {\r\n                resultsValid = false;\r\n            }\r\n        });\r\n        const essencesValid = this.essences !== null;\r\n        const hasInputSpecified = this.essences.length > 0 || this.ingredients.length > 0;\r\n        return nameValid && idValid && ingredientsValid && resultsValid && essencesValid && hasInputSpecified;\r\n    }\r\n}\r\n(function (Recipe) {\r\n    class Builder {\r\n        constructor() {\r\n            this.ingredients = [];\r\n            this.essences = [];\r\n            this.results = [];\r\n        }\r\n        build() {\r\n            return new Recipe(this);\r\n        }\r\n        withName(value) {\r\n            this.name = value;\r\n            return this;\r\n        }\r\n        withIngredient(value) {\r\n            this.ingredients.push(value);\r\n            return this;\r\n        }\r\n        withIngredients(value) {\r\n            this.ingredients.push(...value);\r\n            return this;\r\n        }\r\n        withEssence(value) {\r\n            this.essences.push(value);\r\n            return this;\r\n        }\r\n        withEssences(values) {\r\n            this.essences.push(...values);\r\n            return this;\r\n        }\r\n        withResult(value) {\r\n            this.results.push(value);\r\n            return this;\r\n        }\r\n        withResults(value) {\r\n            this.results = value;\r\n            return this;\r\n        }\r\n        withSystemId(value) {\r\n            this.systemId = value;\r\n            return this;\r\n        }\r\n        withPartId(value) {\r\n            this.partId = value;\r\n            return this;\r\n        }\r\n    }\r\n    Recipe.Builder = Builder;\r\n})(Recipe || (Recipe = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9jb3JlL1JlY2lwZS50cz81N2VkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF3QztBQUNRO0FBQ2tDO0FBQ3BDO0FBRTlDLE1BQU0sTUFBTyxTQUFRLDREQUFhO0lBTTlCLFlBQVksT0FBdUI7UUFDL0IsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxZQUFZLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUN4QyxJQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7UUFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztJQUM5QixDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUE4QixFQUFFLElBQVk7UUFDaEUsSUFBSSxLQUFLLENBQUMsSUFBSSxLQUFLLHNFQUFpQixDQUFDLE1BQU0sRUFBRTtZQUN6QyxNQUFNLElBQUksS0FBSyxDQUFDLDJEQUEyRCxLQUFLLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQztTQUNuRztRQUNELE9BQU8sTUFBTSxDQUFDLE9BQU8sRUFBRTthQUNsQixRQUFRLENBQUMsSUFBSSxDQUFDO2FBQ2QsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2FBQ3JDLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQzthQUNqQyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7YUFDbkMsV0FBVyxDQUFDLDhEQUFjLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFD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RCxZQUFZLENBQUMsTUFBZ0I7WUFDekIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztZQUM5QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsVUFBVSxDQUFDLEtBQXFCO1lBQzVCLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxXQUFXLENBQUMsS0FBdUI7WUFDL0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDckIsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVELFlBQVksQ0FBQyxLQUFhO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsS0FBSztZQUNyQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRUQsVUFBVSxDQUFDLEtBQWE7WUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLO1lBQ25CLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7S0FFSjtJQTFEWSxjQUFPLFVBMERuQjtBQUNMLENBQUMsRUE3RFMsTUFBTSxLQUFOLE1BQU0sUUE2RGY7QUFFZSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2NvcmUvUmVjaXBlLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbmdyZWRpZW50fSBmcm9tIFwiLi9JbmdyZWRpZW50XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdSZXN1bHR9IGZyb20gXCIuL0NyYWZ0aW5nUmVzdWx0XCI7XHJcbmltcG9ydCB7RmFicmljYXRlQ29tcGVuZGl1bURhdGEsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIFJlY2lwZSBleHRlbmRzIEZhYnJpY2F0ZUl0ZW0ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaW5ncmVkaWVudHM6IEluZ3JlZGllbnRbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VzOiBzdHJpbmdbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX3Jlc3VsdHM6IENyYWZ0aW5nUmVzdWx0W107XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9uYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogUmVjaXBlLkJ1aWxkZXIpIHtcclxuICAgICAgICBzdXBlcihidWlsZGVyLnN5c3RlbUlkLCBidWlsZGVyLnBhcnRJZCk7XHJcbiAgICAgICAgdGhpcy5faW5ncmVkaWVudHMgPSBidWlsZGVyLmluZ3JlZGllbnRzO1xyXG4gICAgICAgIHRoaXMuX2Vzc2VuY2VzID0gYnVpbGRlci5lc3NlbmNlcztcclxuICAgICAgICB0aGlzLl9yZXN1bHRzID0gYnVpbGRlci5yZXN1bHRzO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBidWlsZGVyLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBmcm9tRmxhZ3MoZmxhZ3M6IEZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBuYW1lOiBzdHJpbmcpOiBSZWNpcGUge1xyXG4gICAgICAgIGlmIChmbGFncy50eXBlICE9PSBGYWJyaWNhdGVJdGVtVHlwZS5SRUNJUEUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhdHRlbXB0aW5nIHRvIGluc3RhbnRpYXRlIGEgRmFicmljYXRlIFJlY2lwZSBmcm9tICR7ZmxhZ3MudHlwZX0gZGF0YS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZWNpcGUuYnVpbGRlcigpXHJcbiAgICAgICAgICAgIC53aXRoTmFtZShuYW1lKVxyXG4gICAgICAgICAgICAud2l0aFN5c3RlbUlkKGZsYWdzLmlkZW50aXR5LnN5c3RlbUlkKVxyXG4gICAgICAgICAgICAud2l0aFBhcnRJZChmbGFncy5pZGVudGl0eS5wYXJ0SWQpXHJcbiAgICAgICAgICAgIC53aXRoRXNzZW5jZXMoZmxhZ3MucmVjaXBlLmVzc2VuY2VzKVxyXG4gICAgICAgICAgICAud2l0aFJlc3VsdHMoQ3JhZnRpbmdSZXN1bHQubWFueUZyb21GbGFncyhmbGFncy5yZWNpcGUucmVzdWx0cywgZmxhZ3MuaWRlbnRpdHkuc3lzdGVtSWQpKVxyXG4gICAgICAgICAgICAud2l0aEluZ3JlZGllbnRzKEluZ3JlZGllbnQubWFueUZyb21GbGFncyhmbGFncy5yZWNpcGUuaW5ncmVkaWVudHMsIGZsYWdzLmlkZW50aXR5LnN5c3RlbUlkKSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaW5ncmVkaWVudHMoKTogSW5ncmVkaWVudFtdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5ncmVkaWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHJlc3VsdHMoKTogQ3JhZnRpbmdSZXN1bHRbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVzc2VuY2VzKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVjaXBlLkJ1aWxkZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IG5hbWVWYWxpZCA9IHRoaXMubmFtZSAhPSBudWxsICYmIHRoaXMubmFtZS5sZW5ndGggPiAwO1xyXG4gICAgICAgIGNvbnN0IGlkVmFsaWQgPSB0aGlzLnBhcnRJZCAmJiB0aGlzLnN5c3RlbUlkO1xyXG4gICAgICAgIGxldCBpbmdyZWRpZW50c1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpbmdyZWRpZW50LmlzVmFsaWQoKSkge1xyXG4gICAgICAgICAgICAgICAgaW5ncmVkaWVudHNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IHJlc3VsdHNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRzLmZvckVhY2goKHJlc3VsdDogQ3JhZnRpbmdSZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuaXNWYWxpZCgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHRzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGVzc2VuY2VzVmFsaWQ6IGJvb2xlYW4gPSB0aGlzLmVzc2VuY2VzICE9PSBudWxsO1xyXG4gICAgICAgIGNvbnN0IGhhc0lucHV0U3BlY2lmaWVkOiBib29sZWFuID0gdGhpcy5lc3NlbmNlcy5sZW5ndGggPiAwIHx8IHRoaXMuaW5ncmVkaWVudHMubGVuZ3RoID4gMDtcclxuICAgICAgICByZXR1cm4gbmFtZVZhbGlkICYmIGlkVmFsaWQgJiYgaW5ncmVkaWVudHNWYWxpZCAmJiByZXN1bHRzVmFsaWQgJiYgZXNzZW5jZXNWYWxpZCAmJiBoYXNJbnB1dFNwZWNpZmllZDtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm5hbWVzcGFjZSBSZWNpcGUge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuXHJcbiAgICAgICAgcHVibGljIGluZ3JlZGllbnRzOiBJbmdyZWRpZW50W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgZXNzZW5jZXM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlc3VsdHM6IENyYWZ0aW5nUmVzdWx0W10gPSBbXTtcclxuICAgICAgICBwdWJsaWMgbmFtZSE6IHN0cmluZztcclxuICAgICAgICBwdWJsaWMgc3lzdGVtSWQhOiBzdHJpbmc7XHJcbiAgICAgICAgcHVibGljIHBhcnRJZCE6IHN0cmluZztcclxuXHJcbiAgICAgICAgcHVibGljIGJ1aWxkKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlY2lwZSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhOYW1lKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5uYW1lID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEluZ3JlZGllbnQodmFsdWU6IEluZ3JlZGllbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmdyZWRpZW50cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoSW5ncmVkaWVudHModmFsdWU6IEluZ3JlZGllbnRbXSkge1xyXG4gICAgICAgICAgICB0aGlzLmluZ3JlZGllbnRzLnB1c2goLi4udmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhFc3NlbmNlKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5lc3NlbmNlcy5wdXNoKHZhbHVlKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhFc3NlbmNlcyh2YWx1ZXM6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZXMucHVzaCguLi52YWx1ZXMpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhSZXN1bHQodmFsdWU6IENyYWZ0aW5nUmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0cy5wdXNoKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUmVzdWx0cyh2YWx1ZTogQ3JhZnRpbmdSZXN1bHRbXSkge1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoU3lzdGVtSWQodmFsdWU6IHN0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnN5c3RlbUlkID0gdmFsdWVcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUGFydElkKHZhbHVlOiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0SWQgPSB2YWx1ZVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge1JlY2lwZX07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/core/Recipe.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/AlchemicalResult5E.ts":
/*!*************************************************!*\
  !*** ./src/scripts/dnd5e/AlchemicalResult5E.ts ***!
  \*************************************************/
/*! exports provided: AlchemicalResult5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlchemicalResult5E\", function() { return AlchemicalResult5E; });\nconst AoETypeValues = ['cone', 'cube', 'cylinder', 'line', 'radius', 'sphere', 'square'];\r\nclass DamageEffect5E {\r\n    constructor(method, type, die, bonus, amount) {\r\n        this.method = method;\r\n        this.type = type;\r\n        this.die = die;\r\n        this.bonus = bonus;\r\n        this.amount = amount;\r\n    }\r\n    static rolledDamage(type, dice, bonus) {\r\n        return new DamageEffect5E('ROLLED', type, dice, bonus);\r\n    }\r\n    static fixedDamage(type, amount, bonus) {\r\n        return new DamageEffect5E('FIXED', type, null, bonus, amount);\r\n    }\r\n    applyTo(itemData) {\r\n        if (!itemData.damage) {\r\n            itemData.damage = {\r\n                parts: [],\r\n                versatile: '',\r\n            };\r\n        }\r\n        let damageExpression = '';\r\n        if (this.method === 'ROLLED') {\r\n            damageExpression = this.die.amount + 'd' + this.die.faces;\r\n        }\r\n        else if (this.method === 'FIXED') {\r\n            damageExpression = String(this.amount);\r\n        }\r\n        if (this.bonus) {\r\n            damageExpression += ' + ' + String(this.bonus);\r\n        }\r\n        itemData.damage.parts.push([damageExpression, this.type]);\r\n    }\r\n}\r\nclass EffectDuration5E {\r\n    constructor(units, value) {\r\n        this.units = units;\r\n        this.value = value;\r\n    }\r\n    applyTo(itemData) {\r\n        itemData.duration = {\r\n            units: this.units,\r\n            value: this.value\r\n        };\r\n    }\r\n}\r\nclass SavingThrowEffect5E {\r\n    constructor(ability, dc, scaling) {\r\n        this.scaling = 'flat';\r\n        this.ability = ability;\r\n        this.dc = dc;\r\n        this.scaling = scaling;\r\n    }\r\n    applyTo(itemData) {\r\n        itemData.save = {\r\n            dc: this.dc,\r\n            scaling: this.scaling,\r\n            ability: this.ability\r\n        };\r\n    }\r\n}\r\nclass EffectTarget5E {\r\n    constructor(units, value, type) {\r\n        this.units = units;\r\n        this.value = value;\r\n        this.type = type;\r\n    }\r\n    applyTo(itemData) {\r\n        itemData.target = {\r\n            value: this.value,\r\n            units: this.units,\r\n            type: this.type\r\n        };\r\n    }\r\n}\r\nclass AoEExtender5E {\r\n    constructor(mode, amount, areaType) {\r\n        this.mode = mode;\r\n        this.amount = amount;\r\n        this.areaType = areaType;\r\n    }\r\n    transform(itemEffect) {\r\n        if (!this.matches(itemEffect)) {\r\n            throw new Error('An AoEExtender5E can only be applied to an EffectTarget5E');\r\n        }\r\n        const source = itemEffect;\r\n        let value = source.value;\r\n        switch (this.mode) {\r\n            case 'ADD':\r\n                if (AoETypeValues.indexOf(source.type) < 0) {\r\n                    value = this.amount;\r\n                }\r\n                else {\r\n                    value = source.value + this.amount;\r\n                }\r\n                break;\r\n            case 'MULTIPLY':\r\n                value = source.value * this.amount;\r\n                break;\r\n        }\r\n        const units = 'ft';\r\n        const type = this.areaType;\r\n        const target = new EffectTarget5E(units, value, type);\r\n        return target;\r\n    }\r\n    matches(itemEffect) {\r\n        return itemEffect instanceof EffectTarget5E;\r\n    }\r\n}\r\nclass DamageModifier5E {\r\n    constructor(mode, amount) {\r\n        this.mode = mode;\r\n        this.amount = amount;\r\n    }\r\n    transform(itemEffect) {\r\n        if (!this.matches(itemEffect)) {\r\n            throw new Error('A DamageModifier5E can only be applied to a DamageEffect5E');\r\n        }\r\n        const source = itemEffect;\r\n        const die = {\r\n            faces: source.die.faces,\r\n            amount: source.die.amount\r\n        };\r\n        // todo - implement properly for fixed damage\r\n        switch (this.mode) {\r\n            case 'ADD':\r\n                die.amount = source.die.amount + this.amount;\r\n                break;\r\n            case 'MULTIPLY':\r\n                die.amount = source.die.amount * this.amount;\r\n                break;\r\n        }\r\n        switch (source.method) {\r\n            case \"FIXED\":\r\n                return DamageEffect5E.fixedDamage(source.type, source.amount, source.bonus);\r\n                break;\r\n            case \"ROLLED\":\r\n                return DamageEffect5E.rolledDamage(source.type, die, source.bonus);\r\n                break;\r\n        }\r\n    }\r\n    matches(itemEffect) {\r\n        return itemEffect instanceof DamageEffect5E;\r\n    }\r\n}\r\nclass SavingThrowModifier5E {\r\n    constructor(mode, value) {\r\n        this.mode = mode;\r\n        this.value = value;\r\n    }\r\n    transform(itemEffect) {\r\n        if (!this.matches(itemEffect)) {\r\n            throw new Error('A SavingThrowModifier5E can only be applied to a SavingThrowEffect5E');\r\n        }\r\n        const source = itemEffect;\r\n        let dc;\r\n        switch (this.mode) {\r\n            case 'ADD':\r\n                dc = source.dc + this.value;\r\n                break;\r\n            case 'MULTIPLY':\r\n                dc = source.dc * this.value;\r\n                break;\r\n        }\r\n        return new SavingThrowEffect5E(source.ability, dc, source.scaling);\r\n    }\r\n    matches(itemEffect) {\r\n        return itemEffect instanceof SavingThrowEffect5E;\r\n    }\r\n}\r\nclass AlchemicalResult5E {\r\n    constructor(builder) {\r\n        this._descriptionParts = [];\r\n        this._essenceCombination = [];\r\n        this._effects = [];\r\n        this._effectModifiers = [];\r\n        if (builder) {\r\n            this._descriptionParts = builder.description;\r\n            this._essenceCombination = builder.essenceCombination;\r\n            this._effects = builder.effects;\r\n            this._effectModifiers = builder.effectModifiers;\r\n        }\r\n    }\r\n    duplicate() {\r\n        const other = new AlchemicalResult5E();\r\n        this._descriptionParts.forEach((value) => other.descriptionParts.push(value));\r\n        this._essenceCombination.forEach((value) => other.essenceCombination.push(value));\r\n        this._effects.forEach((value) => other.effects.push(value));\r\n        this._effectModifiers.forEach((value) => other.effectModifiers.push(value));\r\n        return other;\r\n    }\r\n    get description() {\r\n        return this._descriptionParts.join(' ');\r\n    }\r\n    get essenceCombination() {\r\n        return this._essenceCombination;\r\n    }\r\n    get effects() {\r\n        return this._effects;\r\n    }\r\n    get effectModifiers() {\r\n        return this._effectModifiers;\r\n    }\r\n    get descriptionParts() {\r\n        return this._descriptionParts;\r\n    }\r\n    asItemData() {\r\n        const result = {};\r\n        result.description = {\r\n            value: this._descriptionParts.map((descriptionPart) => `<p>${descriptionPart}</p>`).join('\\n'),\r\n            chat: '',\r\n            unidentified: ''\r\n        };\r\n        let modifiedEffects = [];\r\n        this._effects.forEach((effect) => {\r\n            let result = effect;\r\n            this._effectModifiers.forEach((modifier) => {\r\n                if (modifier.matches(effect)) {\r\n                    result = modifier.transform(effect);\r\n                }\r\n            });\r\n            modifiedEffects.push(result);\r\n        });\r\n        modifiedEffects.forEach((effect) => effect.applyTo(result));\r\n        return result;\r\n    }\r\n    combineWith(source) {\r\n        const self = this.duplicate();\r\n        const other = source.duplicate();\r\n        self.essenceCombination.push(...other.essenceCombination);\r\n        self.descriptionParts.push(other.description);\r\n        self.effects.push(...other.effects);\r\n        self.effectModifiers.push(...other.effectModifiers);\r\n        return self;\r\n    }\r\n    static builder() {\r\n        return new AlchemicalResult5E.Builder();\r\n    }\r\n}\r\n(function (AlchemicalResult5E) {\r\n    class Builder {\r\n        constructor() {\r\n            this.description = [];\r\n            this.essenceCombination = [];\r\n            this.effects = [];\r\n            this.effectModifiers = [];\r\n        }\r\n        withDescription(value) {\r\n            this.description.push(value);\r\n            return this;\r\n        }\r\n        withEssenceCombination(value) {\r\n            this.essenceCombination = value;\r\n            return this;\r\n        }\r\n        withResultantItem(compendiumKey, entryId) {\r\n            this.resultantItem = { systemId: compendiumKey, partId: entryId };\r\n            return this;\r\n        }\r\n        withRolledDamage(dice, type, bonus) {\r\n            this.effects.push(DamageEffect5E.rolledDamage(type, dice, bonus));\r\n            return this;\r\n        }\r\n        withFixedDamage(amount, type, bonus) {\r\n            this.effects.push(DamageEffect5E.fixedDamage(type, amount, bonus));\r\n            return this;\r\n        }\r\n        withSavingThrow(ability, dc, scaling) {\r\n            this.effects.push(new SavingThrowEffect5E(ability, dc, scaling));\r\n            return this;\r\n        }\r\n        withDuration(units, value) {\r\n            this.effects.push(new EffectDuration5E(units, value));\r\n            return this;\r\n        }\r\n        withAoEExtender(mode, value, areaType) {\r\n            this.effectModifiers.push(new AoEExtender5E(mode, value, areaType));\r\n            return this;\r\n        }\r\n        withDamageModifier(mode, value) {\r\n            this.effectModifiers.push(new DamageModifier5E(mode, value));\r\n            return this;\r\n        }\r\n        withSavingThrowModifier(mode, value) {\r\n            this.effectModifiers.push(new SavingThrowModifier5E(mode, value));\r\n            return this;\r\n        }\r\n        withTarget(units, value, type) {\r\n            this.effects.push(new EffectTarget5E(units, value, type));\r\n            return this;\r\n        }\r\n        build() {\r\n            return new AlchemicalResult5E(this);\r\n        }\r\n    }\r\n    AlchemicalResult5E.Builder = Builder;\r\n})(AlchemicalResult5E || (AlchemicalResult5E = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9BbGNoZW1pY2FsUmVzdWx0NUUudHM/NjRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtBQUFBO0FBQUEsTUFBTSxhQUFhLEdBQWEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFHLFVBQVUsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQztBQVFwRyxNQUFNLGNBQWM7SUFPaEIsWUFBb0IsTUFBb0IsRUFBRSxJQUFrQixFQUFFLEdBQVUsRUFBRSxLQUFjLEVBQUUsTUFBZTtRQUNyRyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztRQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFTSxNQUFNLENBQUMsWUFBWSxDQUFDLElBQWtCLEVBQUUsSUFBVSxFQUFFLEtBQWM7UUFDckUsT0FBTyxJQUFJLGNBQWMsQ0FBQyxRQUFRLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMzRCxDQUFDO0lBRU0sTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFrQixFQUFFLE1BQWMsRUFBRSxLQUFjO1FBQ3hFLE9BQU8sSUFBSSxjQUFjLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2xFLENBQUM7SUFFRCxPQUFPLENBQUMsUUFBb0I7UUFDeEIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUU7WUFDbEIsUUFBUSxDQUFDLE1BQU0sR0FBRztnQkFDZCxLQUFLLEVBQUUsRUFBRTtnQkFDVCxTQUFTLEVBQUUsRUFBRTthQUNoQixDQUFDO1NBQ0w7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LEtBQWEsRUFBRSxJQUFrQjtZQUNqRSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLGNBQWMsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDMUQsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksa0JBQWtCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEMsQ0FBQztLQUVKO0lBbkVZLDBCQUFPLFVBbUVuQjtBQUVMLENBQUMsRUF2RVMsa0JBQWtCLEtBQWxCLGtCQUFrQixRQXVFM0I7QUFFMEIiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9kbmQ1ZS9BbGNoZW1pY2FsUmVzdWx0NUUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NvbXBlbmRpdW1FbnRyeX0gZnJvbSBcIi4uL2dhbWUvQ29tcGVuZGl1bURhdGFcIjtcclxuaW1wb3J0IHtBbGNoZW1pY2FsUmVzdWx0LCBJdGVtRWZmZWN0LCBJdGVtRWZmZWN0TW9kaWZpZXJ9IGZyb20gXCIuLi9jb3JlL0FsY2hlbWljYWxSZXN1bHRcIjtcclxuaW1wb3J0IHtBYmlsaXR5VHlwZTVFLCBEYW1hZ2VUeXBlNUUsIER1cmF0aW9uVHlwZTVlLCBJdGVtRGF0YTVlLCBUYXJnZXRUeXBlNWUsIFRhcmdldFVuaXRUeXBlNWV9IGZyb20gXCIuLi8uLi9nbG9iYWxcIjtcclxuXHJcbnR5cGUgRGFtYWdlTWV0aG9kID0gJ1JPTExFRCcgfCAnRklYRUQnO1xyXG5jb25zdCBBb0VUeXBlVmFsdWVzOiBzdHJpbmdbXSA9IFsnY29uZScsICdjdWJlJyAsICdjeWxpbmRlcicsICdsaW5lJywgJ3JhZGl1cycsICdzcGhlcmUnLCAnc3F1YXJlJ107XHJcbnR5cGUgQW9FVHlwZSA9ICdjb25lJyB8ICdjdWJlJyAgfCAnY3lsaW5kZXInIHwgJ2xpbmUnIHwgJ3JhZGl1cycgfCAnc3BoZXJlJyB8ICdzcXVhcmUnO1xyXG50eXBlIERpY2UgPSB7XHJcbiAgICBmYWNlczogNCB8IDYgfCA4IHwgMTAgfCAxMiB8IDIwIHwgMTAwO1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcbn07XHJcbnR5cGUgTW9kaWZpY2F0aW9uTWV0aG9kID0gJ0FERCcgfCAnTVVMVElQTFknO1xyXG5cclxuY2xhc3MgRGFtYWdlRWZmZWN0NUUgaW1wbGVtZW50cyBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgIG1ldGhvZDogRGFtYWdlTWV0aG9kO1xyXG4gICAgdHlwZTogRGFtYWdlVHlwZTVFO1xyXG4gICAgZGllPzogRGljZTtcclxuICAgIGFtb3VudD86IG51bWJlcjtcclxuICAgIGJvbnVzPzogbnVtYmVyO1xyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IobWV0aG9kOiBEYW1hZ2VNZXRob2QsIHR5cGU6IERhbWFnZVR5cGU1RSwgZGllPzogRGljZSwgYm9udXM/OiBudW1iZXIsIGFtb3VudD86IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5kaWUgPSBkaWU7XHJcbiAgICAgICAgdGhpcy5ib251cyA9IGJvbnVzO1xyXG4gICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgcm9sbGVkRGFtYWdlKHR5cGU6IERhbWFnZVR5cGU1RSwgZGljZTogRGljZSwgYm9udXM/OiBudW1iZXIpOiBEYW1hZ2VFZmZlY3Q1RSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYW1hZ2VFZmZlY3Q1RSgnUk9MTEVEJywgdHlwZSwgZGljZSwgYm9udXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZml4ZWREYW1hZ2UodHlwZTogRGFtYWdlVHlwZTVFLCBhbW91bnQ6IG51bWJlciwgYm9udXM/OiBudW1iZXIpOiBEYW1hZ2VFZmZlY3Q1RSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBEYW1hZ2VFZmZlY3Q1RSgnRklYRUQnLCB0eXBlLCBudWxsLCBib251cywgYW1vdW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVRvKGl0ZW1EYXRhOiBJdGVtRGF0YTVlKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtRGF0YS5kYW1hZ2UpIHtcclxuICAgICAgICAgICAgaXRlbURhdGEuZGFtYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgcGFydHM6IFtdLFxyXG4gICAgICAgICAgICAgICAgdmVyc2F0aWxlOiAnJyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRhbWFnZUV4cHJlc3Npb24gPSAnJztcclxuICAgICAgICBpZiAodGhpcy5tZXRob2QgPT09ICdST0xMRUQnKSB7XHJcbiAgICAgICAgICAgIGRhbWFnZUV4cHJlc3Npb24gPSB0aGlzLmRpZS5hbW91bnQgKyAnZCcgKyB0aGlzLmRpZS5mYWNlcztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWV0aG9kID09PSAnRklYRUQnKSB7XHJcbiAgICAgICAgICAgIGRhbWFnZUV4cHJlc3Npb24gPSBTdHJpbmcodGhpcy5hbW91bnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ib251cykge1xyXG4gICAgICAgICAgICBkYW1hZ2VFeHByZXNzaW9uICs9ICcgKyAnICsgU3RyaW5nKHRoaXMuYm9udXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpdGVtRGF0YS5kYW1hZ2UucGFydHMucHVzaChbZGFtYWdlRXhwcmVzc2lvbiwgdGhpcy50eXBlXSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNsYXNzIEVmZmVjdER1cmF0aW9uNUUgaW1wbGVtZW50cyBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgIHZhbHVlPzogbnVtYmVyO1xyXG4gICAgdW5pdHM6IER1cmF0aW9uVHlwZTVlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVuaXRzOiBEdXJhdGlvblR5cGU1ZSwgdmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudW5pdHMgPSB1bml0cztcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlUbyhpdGVtRGF0YTogSXRlbURhdGE1ZSk6IHZvaWQge1xyXG4gICAgICAgIGl0ZW1EYXRhLmR1cmF0aW9uID0ge1xyXG4gICAgICAgICAgICB1bml0czogdGhpcy51bml0cyxcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTYXZpbmdUaHJvd0VmZmVjdDVFIGltcGxlbWVudHMgSXRlbUVmZmVjdDxJdGVtRGF0YTVlPiB7XHJcbiAgICBhYmlsaXR5OiBBYmlsaXR5VHlwZTVFO1xyXG4gICAgZGM6IG51bWJlcjtcclxuICAgIHNjYWxpbmc6ICdmbGF0JyA9ICdmbGF0JztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhYmlsaXR5OiBBYmlsaXR5VHlwZTVFLCBkYzogbnVtYmVyLCBzY2FsaW5nOiAnZmxhdCcpIHtcclxuICAgICAgICB0aGlzLmFiaWxpdHkgPSBhYmlsaXR5O1xyXG4gICAgICAgIHRoaXMuZGMgPSBkYztcclxuICAgICAgICB0aGlzLnNjYWxpbmcgPSBzY2FsaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcGx5VG8oaXRlbURhdGE6IEl0ZW1EYXRhNWUpOiB2b2lkIHtcclxuICAgICAgICBpdGVtRGF0YS5zYXZlID0ge1xyXG4gICAgICAgICAgICBkYzogdGhpcy5kYyxcclxuICAgICAgICAgICAgc2NhbGluZzogdGhpcy5zY2FsaW5nLFxyXG4gICAgICAgICAgICBhYmlsaXR5OiB0aGlzLmFiaWxpdHlcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBFZmZlY3RUYXJnZXQ1RSBpbXBsZW1lbnRzIEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4ge1xyXG4gICAgdW5pdHM6IFRhcmdldFVuaXRUeXBlNWU7XHJcbiAgICB2YWx1ZTogbnVtYmVyO1xyXG4gICAgdHlwZTogVGFyZ2V0VHlwZTVlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHVuaXRzOiBUYXJnZXRVbml0VHlwZTVlLCB2YWx1ZTogbnVtYmVyLCB0eXBlOiBUYXJnZXRUeXBlNWUpIHtcclxuICAgICAgICB0aGlzLnVuaXRzID0gdW5pdHM7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgYXBwbHlUbyhpdGVtRGF0YTogSXRlbURhdGE1ZSk6IHZvaWQge1xyXG4gICAgICAgIGl0ZW1EYXRhLnRhcmdldCA9IHtcclxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXHJcbiAgICAgICAgICAgIHVuaXRzOiB0aGlzLnVuaXRzLFxyXG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBBb0VFeHRlbmRlcjVFIGltcGxlbWVudHMgSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+IHtcclxuICAgIG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZDtcclxuICAgIGFyZWFUeXBlOiBBb0VUeXBlO1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kLCBhbW91bnQ6IG51bWJlciwgYXJlYVR5cGU6IEFvRVR5cGUpIHtcclxuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xyXG4gICAgICAgIHRoaXMuYXJlYVR5cGUgPSBhcmVhVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2Zvcm0oaXRlbUVmZmVjdDogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPik6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5tYXRjaGVzKGl0ZW1FZmZlY3QpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQW4gQW9FRXh0ZW5kZXI1RSBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGFuIEVmZmVjdFRhcmdldDVFJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNvdXJjZTogRWZmZWN0VGFyZ2V0NUUgPSA8RWZmZWN0VGFyZ2V0NUU+aXRlbUVmZmVjdDtcclxuICAgICAgICBsZXQgdmFsdWU6IG51bWJlciA9IHNvdXJjZS52YWx1ZTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlICdBREQnOlxyXG4gICAgICAgICAgICAgICAgaWYgKEFvRVR5cGVWYWx1ZXMuaW5kZXhPZihzb3VyY2UudHlwZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHNvdXJjZS52YWx1ZSArIHRoaXMuYW1vdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ01VTFRJUExZJzpcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gc291cmNlLnZhbHVlICogdGhpcy5hbW91bnQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5pdHM6IFRhcmdldFVuaXRUeXBlNWUgPSAnZnQnO1xyXG4gICAgICAgIGNvbnN0IHR5cGU6IFRhcmdldFR5cGU1ZSA9IHRoaXMuYXJlYVR5cGU7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0OiBFZmZlY3RUYXJnZXQ1RSA9IG5ldyBFZmZlY3RUYXJnZXQ1RSh1bml0cywgdmFsdWUsIHR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgbWF0Y2hlcyhpdGVtRWZmZWN0OiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FZmZlY3QgaW5zdGFuY2VvZiBFZmZlY3RUYXJnZXQ1RTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNsYXNzIERhbWFnZU1vZGlmaWVyNUUgaW1wbGVtZW50cyBJdGVtRWZmZWN0TW9kaWZpZXI8SXRlbURhdGE1ZT4ge1xyXG4gICAgbW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kO1xyXG4gICAgYW1vdW50OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kLCBhbW91bnQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XHJcbiAgICAgICAgdGhpcy5hbW91bnQgPSBhbW91bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKGl0ZW1FZmZlY3Q6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4pOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0Y2hlcyhpdGVtRWZmZWN0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgRGFtYWdlTW9kaWZpZXI1RSBjYW4gb25seSBiZSBhcHBsaWVkIHRvIGEgRGFtYWdlRWZmZWN0NUUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc291cmNlOiBEYW1hZ2VFZmZlY3Q1RSA9IDxEYW1hZ2VFZmZlY3Q1RT5pdGVtRWZmZWN0O1xyXG4gICAgICAgIGNvbnN0IGRpZTogRGljZSA9IHtcclxuICAgICAgICAgICAgZmFjZXM6IHNvdXJjZS5kaWUuZmFjZXMsXHJcbiAgICAgICAgICAgIGFtb3VudDogc291cmNlLmRpZS5hbW91bnRcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHRvZG8gLSBpbXBsZW1lbnQgcHJvcGVybHkgZm9yIGZpeGVkIGRhbWFnZVxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ0FERCc6XHJcbiAgICAgICAgICAgICAgICBkaWUuYW1vdW50ID0gc291cmNlLmRpZS5hbW91bnQgKyB0aGlzLmFtb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdNVUxUSVBMWSc6XHJcbiAgICAgICAgICAgICAgICBkaWUuYW1vdW50ID0gc291cmNlLmRpZS5hbW91bnQgKiB0aGlzLmFtb3VudDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHNvdXJjZS5tZXRob2QpIHtcclxuICAgICAgICAgICAgY2FzZSBcIkZJWEVEXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gRGFtYWdlRWZmZWN0NUUuZml4ZWREYW1hZ2Uoc291cmNlLnR5cGUsIHNvdXJjZS5hbW91bnQsIHNvdXJjZS5ib251cyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIlJPTExFRFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIERhbWFnZUVmZmVjdDVFLnJvbGxlZERhbWFnZShzb3VyY2UudHlwZSwgZGllLCBzb3VyY2UuYm9udXMpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbWF0Y2hlcyhpdGVtRWZmZWN0OiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+KTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1FZmZlY3QgaW5zdGFuY2VvZiBEYW1hZ2VFZmZlY3Q1RTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgU2F2aW5nVGhyb3dNb2RpZmllcjVFIGltcGxlbWVudHMgSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+IHtcclxuICAgIG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZDtcclxuICAgIHZhbHVlOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IobW9kZTogTW9kaWZpY2F0aW9uTWV0aG9kLCB2YWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcclxuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgdHJhbnNmb3JtKGl0ZW1FZmZlY3Q6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT4pOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+IHtcclxuICAgICAgICBpZiAoIXRoaXMubWF0Y2hlcyhpdGVtRWZmZWN0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgU2F2aW5nVGhyb3dNb2RpZmllcjVFIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gYSBTYXZpbmdUaHJvd0VmZmVjdDVFJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHNvdXJjZTogU2F2aW5nVGhyb3dFZmZlY3Q1RSA9IDxTYXZpbmdUaHJvd0VmZmVjdDVFPml0ZW1FZmZlY3Q7XHJcbiAgICAgICAgbGV0IGRjOiBudW1iZXI7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSAnQUREJzpcclxuICAgICAgICAgICAgICAgIGRjID0gc291cmNlLmRjICsgdGhpcy52YWx1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdNVUxUSVBMWSc6XHJcbiAgICAgICAgICAgICAgICBkYyA9IHNvdXJjZS5kYyAqIHRoaXMudmFsdWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTYXZpbmdUaHJvd0VmZmVjdDVFKHNvdXJjZS5hYmlsaXR5LCBkYywgc291cmNlLnNjYWxpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIG1hdGNoZXMoaXRlbUVmZmVjdDogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPik6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBpdGVtRWZmZWN0IGluc3RhbmNlb2YgU2F2aW5nVGhyb3dFZmZlY3Q1RTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgQWxjaGVtaWNhbFJlc3VsdDVFIGltcGxlbWVudHMgQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzY3JpcHRpb25QYXJ0czogc3RyaW5nW10gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2Vzc2VuY2VDb21iaW5hdGlvbjogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9lZmZlY3RzOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2VmZmVjdE1vZGlmaWVyczogSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihidWlsZGVyPzogQWxjaGVtaWNhbFJlc3VsdDVFLkJ1aWxkZXIpIHtcclxuICAgICAgICBpZiAoYnVpbGRlcikge1xyXG4gICAgICAgICAgICB0aGlzLl9kZXNjcmlwdGlvblBhcnRzID0gYnVpbGRlci5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgdGhpcy5fZXNzZW5jZUNvbWJpbmF0aW9uID0gYnVpbGRlci5lc3NlbmNlQ29tYmluYXRpb247XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdHMgPSBidWlsZGVyLmVmZmVjdHM7XHJcbiAgICAgICAgICAgIHRoaXMuX2VmZmVjdE1vZGlmaWVycyA9IGJ1aWxkZXIuZWZmZWN0TW9kaWZpZXJzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHVwbGljYXRlKCk6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4ge1xyXG4gICAgICAgIGNvbnN0IG90aGVyID0gbmV3IEFsY2hlbWljYWxSZXN1bHQ1RSgpO1xyXG4gICAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uUGFydHMuZm9yRWFjaCgodmFsdWU6IHN0cmluZykgPT4gb3RoZXIuZGVzY3JpcHRpb25QYXJ0cy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5fZXNzZW5jZUNvbWJpbmF0aW9uLmZvckVhY2goKHZhbHVlOiBzdHJpbmcpID0+IG90aGVyLmVzc2VuY2VDb21iaW5hdGlvbi5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5fZWZmZWN0cy5mb3JFYWNoKCh2YWx1ZTogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPikgPT4gb3RoZXIuZWZmZWN0cy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgdGhpcy5fZWZmZWN0TW9kaWZpZXJzLmZvckVhY2goKHZhbHVlOiBJdGVtRWZmZWN0TW9kaWZpZXI8SXRlbURhdGE1ZT4pID0+IG90aGVyLmVmZmVjdE1vZGlmaWVycy5wdXNoKHZhbHVlKSk7XHJcbiAgICAgICAgcmV0dXJuIG90aGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBkZXNjcmlwdGlvbigpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kZXNjcmlwdGlvblBhcnRzLmpvaW4oJyAnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZXNzZW5jZUNvbWJpbmF0aW9uKCk6IHN0cmluZ1tdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXNzZW5jZUNvbWJpbmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBlZmZlY3RzKCk6IEl0ZW1FZmZlY3Q8SXRlbURhdGE1ZT5bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VmZmVjdHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVmZmVjdE1vZGlmaWVycygpOiBJdGVtRWZmZWN0TW9kaWZpZXI8SXRlbURhdGE1ZT5bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VmZmVjdE1vZGlmaWVycztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZGVzY3JpcHRpb25QYXJ0cygpOiBzdHJpbmdbXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uUGFydHM7XHJcbiAgICB9XHJcblxyXG4gICAgYXNJdGVtRGF0YSgpOiBJdGVtRGF0YTVlIHtcclxuICAgICAgICBjb25zdCByZXN1bHQ6IEl0ZW1EYXRhNWUgPSB7fTtcclxuICAgICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLl9kZXNjcmlwdGlvblBhcnRzLm1hcCgoZGVzY3JpcHRpb25QYXJ0OiBzdHJpbmcpID0+IGA8cD4ke2Rlc2NyaXB0aW9uUGFydH08L3A+YCkuam9pbignXFxuJyksXHJcbiAgICAgICAgICAgIGNoYXQ6ICcnLFxyXG4gICAgICAgICAgICB1bmlkZW50aWZpZWQ6ICcnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgbW9kaWZpZWRFZmZlY3RzOiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuICAgICAgICB0aGlzLl9lZmZlY3RzLmZvckVhY2goKGVmZmVjdDogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPikgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gZWZmZWN0O1xyXG4gICAgICAgICAgICB0aGlzLl9lZmZlY3RNb2RpZmllcnMuZm9yRWFjaCgobW9kaWZpZXI6IEl0ZW1FZmZlY3RNb2RpZmllcjxJdGVtRGF0YTVlPikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyLm1hdGNoZXMoZWZmZWN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG1vZGlmaWVyLnRyYW5zZm9ybShlZmZlY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbW9kaWZpZWRFZmZlY3RzLnB1c2gocmVzdWx0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtb2RpZmllZEVmZmVjdHMuZm9yRWFjaCgoZWZmZWN0OiBJdGVtRWZmZWN0PEl0ZW1EYXRhNWU+KSA9PiBlZmZlY3QuYXBwbHlUbyhyZXN1bHQpKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbWJpbmVXaXRoKHNvdXJjZTogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPik6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGY6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSB0aGlzLmR1cGxpY2F0ZSgpO1xyXG4gICAgICAgIGNvbnN0IG90aGVyOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gc291cmNlLmR1cGxpY2F0ZSgpO1xyXG4gICAgICAgIHNlbGYuZXNzZW5jZUNvbWJpbmF0aW9uLnB1c2goLi4ub3RoZXIuZXNzZW5jZUNvbWJpbmF0aW9uKVxyXG4gICAgICAgIHNlbGYuZGVzY3JpcHRpb25QYXJ0cy5wdXNoKG90aGVyLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICBzZWxmLmVmZmVjdHMucHVzaCguLi5vdGhlci5lZmZlY3RzKTtcclxuICAgICAgICBzZWxmLmVmZmVjdE1vZGlmaWVycy5wdXNoKC4uLm90aGVyLmVmZmVjdE1vZGlmaWVycyk7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCk6IEFsY2hlbWljYWxSZXN1bHQ1RS5CdWlsZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxSZXN1bHQ1RS5CdWlsZGVyKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBBbGNoZW1pY2FsUmVzdWx0NUUge1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBCdWlsZGVyIHtcclxuXHJcbiAgICAgICAgcHVibGljIGRlc2NyaXB0aW9uOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBlc3NlbmNlQ29tYmluYXRpb246IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgcHVibGljIHJlc3VsdGFudEl0ZW06IENvbXBlbmRpdW1FbnRyeTtcclxuICAgICAgICBwdWJsaWMgZWZmZWN0czogSXRlbUVmZmVjdDxJdGVtRGF0YTVlPltdID0gW107XHJcbiAgICAgICAgcHVibGljIGVmZmVjdE1vZGlmaWVyczogSXRlbUVmZmVjdE1vZGlmaWVyPEl0ZW1EYXRhNWU+W10gPSBbXTtcclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhEZXNjcmlwdGlvbih2YWx1ZTogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24ucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhFc3NlbmNlQ29tYmluYXRpb24odmFsdWU6IHN0cmluZ1tdKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZXNzZW5jZUNvbWJpbmF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhSZXN1bHRhbnRJdGVtKGNvbXBlbmRpdW1LZXk6IHN0cmluZywgZW50cnlJZDogc3RyaW5nKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzdWx0YW50SXRlbSA9IHtzeXN0ZW1JZDogY29tcGVuZGl1bUtleSwgcGFydElkOiBlbnRyeUlkfTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoUm9sbGVkRGFtYWdlKGRpY2U6IERpY2UsIHR5cGU6IERhbWFnZVR5cGU1RSwgYm9udXM/OiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2goRGFtYWdlRWZmZWN0NUUucm9sbGVkRGFtYWdlKHR5cGUsIGRpY2UsIGJvbnVzKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEZpeGVkRGFtYWdlKGFtb3VudDogbnVtYmVyLCB0eXBlOiBEYW1hZ2VUeXBlNUUsIGJvbnVzPzogbnVtYmVyKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKERhbWFnZUVmZmVjdDVFLmZpeGVkRGFtYWdlKHR5cGUsIGFtb3VudCwgYm9udXMpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoU2F2aW5nVGhyb3coYWJpbGl0eTogQWJpbGl0eVR5cGU1RSwgZGM6IG51bWJlciwgc2NhbGluZzogJ2ZsYXQnKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5wdXNoKG5ldyBTYXZpbmdUaHJvd0VmZmVjdDVFKGFiaWxpdHksIGRjLCBzY2FsaW5nKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aER1cmF0aW9uKHVuaXRzOiBEdXJhdGlvblR5cGU1ZSwgdmFsdWU/OiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IEVmZmVjdER1cmF0aW9uNUUodW5pdHMsIHZhbHVlKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2l0aEFvRUV4dGVuZGVyKG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZCwgdmFsdWU6IG51bWJlciwgYXJlYVR5cGU6QW9FVHlwZSk6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdE1vZGlmaWVycy5wdXNoKG5ldyBBb0VFeHRlbmRlcjVFKG1vZGUsIHZhbHVlLCBhcmVhVHlwZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhEYW1hZ2VNb2RpZmllcihtb2RlOiBNb2RpZmljYXRpb25NZXRob2QsIHZhbHVlOiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RNb2RpZmllcnMucHVzaChuZXcgRGFtYWdlTW9kaWZpZXI1RShtb2RlLCB2YWx1ZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdpdGhTYXZpbmdUaHJvd01vZGlmaWVyKG1vZGU6IE1vZGlmaWNhdGlvbk1ldGhvZCwgdmFsdWU6IG51bWJlcik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmVmZmVjdE1vZGlmaWVycy5wdXNoKG5ldyBTYXZpbmdUaHJvd01vZGlmaWVyNUUobW9kZSwgdmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB3aXRoVGFyZ2V0KHVuaXRzOiBUYXJnZXRVbml0VHlwZTVlLCB2YWx1ZTogbnVtYmVyLCB0eXBlOiBUYXJnZXRUeXBlNWUpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5lZmZlY3RzLnB1c2gobmV3IEVmZmVjdFRhcmdldDVFKHVuaXRzLCB2YWx1ZSwgdHlwZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyBidWlsZCgpOiBBbGNoZW1pY2FsUmVzdWx0NUUge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsY2hlbWljYWxSZXN1bHQ1RSh0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IHtBbGNoZW1pY2FsUmVzdWx0NUV9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/AlchemicalResult5E.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts":
/*!*******************************************************!*\
  !*** ./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts ***!
  \*******************************************************/
/*! exports provided: DefaultEssenceCombiner5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DefaultEssenceCombiner5E\", function() { return DefaultEssenceCombiner5E; });\n/* harmony import */ var _core_EssenceCombiner__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/EssenceCombiner */ \"./src/scripts/core/EssenceCombiner.ts\");\n\r\nclass DefaultEssenceCombiner5E extends _core_EssenceCombiner__WEBPACK_IMPORTED_MODULE_0__[\"AbstractEssenceCombiner\"] {\r\n    constructor(builder) {\r\n        super(builder.maxComponents, builder.maxEssences, builder.knownAlchemicalResults, builder.resultantItem);\r\n    }\r\n    static builder() {\r\n        return new DefaultEssenceCombiner5E.Builder();\r\n    }\r\n    combineAlchemicalResults(effects) {\r\n        return effects.reduce((left, right) => left.combineWith(right));\r\n    }\r\n}\r\n(function (DefaultEssenceCombiner5E) {\r\n    class Builder {\r\n        withMaxEssences(value) {\r\n            this.maxEssences = value;\r\n            return this;\r\n        }\r\n        withMaxComponents(value) {\r\n            this.maxComponents = value;\r\n            return this;\r\n        }\r\n        withKnownAlchemicalResults(value) {\r\n            this.knownAlchemicalResults = value;\r\n            return this;\r\n        }\r\n        withResultantItem(resultantItem) {\r\n            this.resultantItem = resultantItem;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new DefaultEssenceCombiner5E(this);\r\n        }\r\n    }\r\n    DefaultEssenceCombiner5E.Builder = Builder;\r\n})(DefaultEssenceCombiner5E || (DefaultEssenceCombiner5E = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9EZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUudHM/MDM2MCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBa0Y7QUFLbEYsTUFBTSx3QkFBeUIsU0FBUSw2RUFBbUM7SUFFdEUsWUFBWSxPQUF5QztRQUNqRCxLQUFLLENBQUMsT0FBTyxDQUFDLGFBQWEsRUFBRSxPQUFPLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxzQkFBc0IsRUFBRSxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDN0csQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLE9BQU8sSUFBSSx3QkFBd0IsQ0FBQyxPQUFPLEVBQUU7SUFDakQsQ0FBQztJQUVELHdCQUF3QixDQUFDLE9BQXVDO1FBQzVELE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNwRSxDQUFDO0NBRUo7QUFFRCxXQUFVLHdCQUF3QjtJQUU5QixNQUFhLE9BQU87UUFNVCxlQUFlLENBQUMsS0FBYTtZQUNoQyxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztZQUN6QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUJBQWlCLENBQUMsS0FBYTtZQUNsQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMzQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sMEJBQTBCLENBQUMsS0FBc0M7WUFDcEUsSUFBSSxDQUFDLHNCQUFzQixHQUFHLEtBQUssQ0FBQztZQUNwQyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUJBQWlCLENBQUMsYUFBZ0M7WUFDckQsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7WUFDbkMsT0FBTyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUVNLEtBQUs7WUFDUixPQUFPLElBQUksd0JBQXdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUMsQ0FBQztLQUVKO0lBOUJZLGdDQUFPLFVBOEJuQjtBQUVMLENBQUMsRUFsQ1Msd0JBQXdCLEtBQXhCLHdCQUF3QixRQWtDakM7QUFFZ0MiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9kbmQ1ZS9EZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0Fic3RyYWN0RXNzZW5jZUNvbWJpbmVyLCBBbGNoZW1pY2FsUmVzdWx0fSBmcm9tIFwiLi4vY29yZS9Fc3NlbmNlQ29tYmluZXJcIjtcclxuaW1wb3J0IHtBbGNoZW1pY2FsUmVzdWx0U2V0fSBmcm9tIFwiLi4vY29yZS9BbGNoZW1pY2FsUmVzdWx0U2V0XCI7XHJcbmltcG9ydCB7SXRlbURhdGE1ZX0gZnJvbSBcIi4uLy4uL2dsb2JhbFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5cclxuY2xhc3MgRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFIGV4dGVuZHMgQWJzdHJhY3RFc3NlbmNlQ29tYmluZXI8SXRlbURhdGE1ZT4ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJ1aWxkZXI6IERlZmF1bHRFc3NlbmNlQ29tYmluZXI1RS5CdWlsZGVyKSB7XHJcbiAgICAgICAgc3VwZXIoYnVpbGRlci5tYXhDb21wb25lbnRzLCBidWlsZGVyLm1heEVzc2VuY2VzLCBidWlsZGVyLmtub3duQWxjaGVtaWNhbFJlc3VsdHMsIGJ1aWxkZXIucmVzdWx0YW50SXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyKCk6IERlZmF1bHRFc3NlbmNlQ29tYmluZXI1RS5CdWlsZGVyIHtcclxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRFc3NlbmNlQ29tYmluZXI1RS5CdWlsZGVyKClcclxuICAgIH1cclxuXHJcbiAgICBjb21iaW5lQWxjaGVtaWNhbFJlc3VsdHMoZWZmZWN0czogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPltdKTogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiB7XHJcbiAgICAgICAgcmV0dXJuIGVmZmVjdHMucmVkdWNlKChsZWZ0LCByaWdodCkgPT4gbGVmdC5jb21iaW5lV2l0aChyaWdodCkpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubmFtZXNwYWNlIERlZmF1bHRFc3NlbmNlQ29tYmluZXI1RSB7XHJcblxyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXIge1xyXG4gICAgICAgIHB1YmxpYyBtYXhFc3NlbmNlczogbnVtYmVyO1xyXG4gICAgICAgIHB1YmxpYyBtYXhDb21wb25lbnRzOiBudW1iZXI7XHJcbiAgICAgICAgcHVibGljIGtub3duQWxjaGVtaWNhbFJlc3VsdHM6IEFsY2hlbWljYWxSZXN1bHRTZXQ8SXRlbURhdGE1ZT47XHJcbiAgICAgICAgcHVibGljIHJlc3VsdGFudEl0ZW06IENyYWZ0aW5nQ29tcG9uZW50O1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aE1heEVzc2VuY2VzKHZhbHVlOiBudW1iZXIpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhFc3NlbmNlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoTWF4Q29tcG9uZW50cyh2YWx1ZTogbnVtYmVyKTogQnVpbGRlciB7XHJcbiAgICAgICAgICAgIHRoaXMubWF4Q29tcG9uZW50cyA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoS25vd25BbGNoZW1pY2FsUmVzdWx0cyh2YWx1ZTogQWxjaGVtaWNhbFJlc3VsdFNldDxJdGVtRGF0YTVlPik6IEJ1aWxkZXIge1xyXG4gICAgICAgICAgICB0aGlzLmtub3duQWxjaGVtaWNhbFJlc3VsdHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aFJlc3VsdGFudEl0ZW0ocmVzdWx0YW50SXRlbTogQ3JhZnRpbmdDb21wb25lbnQpOiBCdWlsZGVyIHtcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHRhbnRJdGVtID0gcmVzdWx0YW50SXRlbTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RXNzZW5jZUNvbWJpbmVyNUUodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7RGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFfSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts\n");

/***/ }),

/***/ "./src/scripts/dnd5e/Inventory5E.ts":
/*!******************************************!*\
  !*** ./src/scripts/dnd5e/Inventory5E.ts ***!
  \******************************************/
/*! exports provided: Inventory5E */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Inventory5E\", function() { return Inventory5E; });\n/* harmony import */ var _game_CraftingInventory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../game/CraftingInventory */ \"./src/scripts/game/CraftingInventory.ts\");\n/* harmony import */ var _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../game/InventoryRecord */ \"./src/scripts/game/InventoryRecord.ts\");\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_Ingredient__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/Ingredient */ \"./src/scripts/core/Ingredient.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Inventory5E extends _game_CraftingInventory__WEBPACK_IMPORTED_MODULE_0__[\"CraftingInventory\"] {\r\n    constructor(actor) {\r\n        super(actor);\r\n        this._componentDirectory = new Map();\r\n        this._recipeDirectory = new Map();\r\n        this._supportedGameSystems = [_core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__[\"GameSystemType\"].DND5E];\r\n        this.index();\r\n    }\r\n    index() {\r\n        if (!this._actor) {\r\n            throw new Error(`No Actor was set for this Inventory to index`);\r\n        }\r\n        const items = Array.from(this._actor.items.values());\r\n        this._componentDirectory.clear();\r\n        this._recipeDirectory.clear();\r\n        const candidateItems = items.filter(this.shouldIndex(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].types.allowableItems));\r\n        const uniqueComponentTypes = candidateItems.map((item) => item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.partId))\r\n            .filter((partId, index, partIds) => partIds.indexOf(partId) === index);\r\n        uniqueComponentTypes.forEach((partId) => {\r\n            const inventoryRecord = candidateItems.filter((candidateItem) => candidateItem.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.partId) === partId)\r\n                .map((item) => _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                .withItem(item)\r\n                .withActor(this.actor)\r\n                .withTotalQuantity(item.data.data.quantity)\r\n                .withFabricateItemType(item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.fabricateItemType))\r\n                .withFabricateItem(this.lookUp(item))\r\n                .build())\r\n                .reduce((left, right) => left.combineWith(right));\r\n            this.applyItemTypeTreatment(inventoryRecord, (record) => this._componentDirectory.set(partId, record), (record) => this._recipeDirectory.set(partId, record));\r\n        });\r\n    }\r\n    lookUp(item) {\r\n        const systemId = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.systemId);\r\n        const craftingSystem = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_7__[\"CraftingSystemRegistry\"].getSystemByCompendiumPackKey(systemId);\r\n        if (!craftingSystem) {\r\n            throw new Error(`Unable to look up crafting System '${systemId}' when indexing Item '${item._id}'. `);\r\n        }\r\n        const itemType = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.fabricateItemType);\r\n        const partId = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.partId);\r\n        switch (itemType) {\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE:\r\n                const recipe = craftingSystem.getRecipeByPartId(partId);\r\n                if (recipe) {\r\n                    return recipe;\r\n                }\r\n                throw new Error(`Unable to look up Recipe with Part ID '${partId}' from Crafting System \r\n                    '${craftingSystem.compendiumPackKey}. '`);\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT:\r\n                const craftingComponent = craftingSystem.getComponentByPartId(partId);\r\n                if (craftingComponent) {\r\n                    return craftingComponent;\r\n                }\r\n                throw new Error(`Unable to look up Crafting Component with Part ID '${partId}' from Crafting System \r\n                    '${craftingSystem.compendiumPackKey}. '`);\r\n            default:\r\n                throw new Error(`Unrecognized Fabricate Item Type of '${itemType}' for Item '${item._id}'. \r\n                    The allowable values are 'COMPONENT' and 'RECIPE'. `);\r\n        }\r\n    }\r\n    applyItemTypeTreatment(inventoryRecord, craftingComponentConsumer, recipeConsumer) {\r\n        switch (inventoryRecord.fabricateItemType) {\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT:\r\n                craftingComponentConsumer(inventoryRecord);\r\n                break;\r\n            case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE:\r\n                recipeConsumer(inventoryRecord);\r\n                break;\r\n            default:\r\n                throw new Error(`Unrecognized Fabricate Item Type '${inventoryRecord.fabricateItemType}' for Inventory \r\n                    Record ${inventoryRecord.fabricateItem.compendiumEntry}. The allowable values are 'COMPONENT' and \r\n                    'RECIPE'. `);\r\n        }\r\n    }\r\n    shouldIndex(allowableItems) {\r\n        return (item) => {\r\n            if (allowableItems.indexOf(item.type) < 0) {\r\n                return false;\r\n            }\r\n            const type = item.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_2__[\"default\"].flagKeys.item.fabricateItemType);\r\n            if (!type) {\r\n                return false;\r\n            }\r\n            return type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT || type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE;\r\n        };\r\n    }\r\n    add(component, amountToAdd = 1, customData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (customData) {\r\n                return this.addCustomItem(component, amountToAdd, customData);\r\n            }\r\n            const recordForType = this._componentDirectory.get(component.partId);\r\n            if (!recordForType) {\r\n                const compendium = game.packs.get(component.systemId);\r\n                const item = yield compendium.getEntity(component.partId);\r\n                item.data.data.quantity = amountToAdd;\r\n                const createdItem = yield this._actor.createEmbeddedEntity('OwnedItem', item);\r\n                const inventoryRecord = _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                    .withActor(this._actor)\r\n                    .withItem(createdItem)\r\n                    .withTotalQuantity(createdItem.data.quantity)\r\n                    .withFabricateItem(component)\r\n                    .build();\r\n                this._componentDirectory.set(component.partId, inventoryRecord);\r\n                return inventoryRecord;\r\n            }\r\n            else {\r\n                recordForType.itemsOfType.sort((left, right) => left.data.data.quantity - right.data.data.quantity);\r\n                const item = recordForType.itemsOfType[0];\r\n                const updatedQuantityForItem = item.data.data.quantity + amountToAdd;\r\n                // @ts-ignore\r\n                yield this.actor.updateEmbeddedEntity('OwnedItem', { _id: item.id, data: { quantity: updatedQuantityForItem } });\r\n                recordForType.totalQuantity = recordForType.totalQuantity + amountToAdd;\r\n                return recordForType;\r\n            }\r\n        });\r\n    }\r\n    addCustomItem(component, amountToAdd, customData) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const compendium = game.packs.get(component.systemId);\r\n            const item = yield compendium.getEntity(component.partId);\r\n            item.data.data.quantity = amountToAdd;\r\n            const data = duplicate(item.data);\r\n            mergeObject(data.data, customData);\r\n            const recordForType = this._componentDirectory.get(component.partId);\r\n            const createdItem = yield this._actor.createEmbeddedEntity('OwnedItem', data);\r\n            if (recordForType) {\r\n                recordForType.totalQuantity = recordForType.totalQuantity + amountToAdd;\r\n                return recordForType;\r\n            }\r\n            else {\r\n                const inventoryRecord = _game_InventoryRecord__WEBPACK_IMPORTED_MODULE_1__[\"InventoryRecord\"].builder()\r\n                    .withActor(this._actor)\r\n                    .withItem(createdItem)\r\n                    .withTotalQuantity(createdItem.data.quantity)\r\n                    .withFabricateItem(component)\r\n                    .build();\r\n                this._componentDirectory.set(component.partId, inventoryRecord);\r\n                return inventoryRecord;\r\n            }\r\n        });\r\n    }\r\n    get contents() {\r\n        const recipes = this.recipes;\r\n        const components = this.components;\r\n        return recipes.concat(components);\r\n    }\r\n    remove(component, amountToRemove = 1) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.contains(_core_Ingredient__WEBPACK_IMPORTED_MODULE_6__[\"Ingredient\"].builder().withQuantity(amountToRemove).withComponent(component).build())) {\r\n                throw new Error(`Cannot remove ${amountToRemove} ${component.name} from Inventory for Actor ${this.actorId} - \r\n                there is not enough of the component in their inventory! `);\r\n            }\r\n            const recordForType = this._componentDirectory.get(component.partId);\r\n            recordForType.itemsOfType = recordForType.itemsOfType.sort((left, right) => left.data.data.quantity - right.data.data.quantity);\r\n            let removed = 0;\r\n            let currentItemIndex = 0;\r\n            while (removed < amountToRemove) {\r\n                const thisItem = recordForType.itemsOfType[currentItemIndex];\r\n                const remaining = amountToRemove - removed;\r\n                if (remaining < thisItem.data.data.quantity) {\r\n                    const updatedQuantity = thisItem.data.data.quantity - remaining;\r\n                    // @ts-ignore\r\n                    yield this.actor.updateEmbeddedEntity('OwnedItem', {\r\n                        _id: thisItem.id,\r\n                        data: { quantity: updatedQuantity }\r\n                    });\r\n                    recordForType.totalQuantity = updatedQuantity;\r\n                    removed += amountToRemove;\r\n                }\r\n                else {\r\n                    const amountRemoved = thisItem.data.data.quantity;\r\n                    // @ts-ignore\r\n                    yield this.actor.deleteEmbeddedEntity('OwnedItem', thisItem.id);\r\n                    removed += amountRemoved;\r\n                    recordForType.totalQuantity = recordForType.totalQuantity - amountRemoved;\r\n                }\r\n                currentItemIndex++;\r\n            }\r\n            const remainingItems = recordForType.itemsOfType.filter((item) => item.data.data.quantity > 0);\r\n            recordForType.itemsOfType = remainingItems;\r\n            if (remainingItems.length === 0) {\r\n                this._componentDirectory.delete(component.partId);\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    updateQuantityFor(item) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!item) {\r\n                throw new Error('Unable to update Inventory quantity for null Item. ');\r\n            }\r\n            const fabricateFlags = item.flags.fabricate;\r\n            if (!fabricateFlags) {\r\n                return; // Not a Fabricate Item\r\n            }\r\n            const partId = fabricateFlags.identity.partId;\r\n            if (!partId) {\r\n                throw new Error(`Unable to update Inventory quantity for Item ${item._id} with no Fabricate Part ID set in flag data. `);\r\n            }\r\n            let inventoryRecordForType;\r\n            if (fabricateFlags.type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].COMPONENT) {\r\n                inventoryRecordForType = this._componentDirectory.get(partId);\r\n            }\r\n            else if (fabricateFlags.type === _game_CompendiumData__WEBPACK_IMPORTED_MODULE_3__[\"FabricateItemType\"].RECIPE) {\r\n                inventoryRecordForType = this._recipeDirectory.get(partId);\r\n            }\r\n            if (!inventoryRecordForType) {\r\n                return this.update();\r\n            }\r\n            if (inventoryRecordForType.itemsOfType.length <= 1) {\r\n                inventoryRecordForType.totalQuantity = item.data.quantity;\r\n                return inventoryRecordForType;\r\n            }\r\n            const totalExcludingChanged = inventoryRecordForType.itemsOfType.filter((managedItem) => managedItem.id !== item._id)\r\n                .map((managedItem) => managedItem.data.data.quantity)\r\n                .reduce((left, right) => left + right, 0);\r\n            inventoryRecordForType.totalQuantity = totalExcludingChanged + item.data.quantity;\r\n        });\r\n    }\r\n    denormalizedContainedComponents() {\r\n        return Array.from(this._componentDirectory.values()).map((record) => {\r\n            const denormalizedComponents = [];\r\n            for (let i = 0; i < record.totalQuantity; i++) {\r\n                denormalizedComponents.push(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_4__[\"CraftingComponent\"].builder()\r\n                    .withName(record.fabricateItem.name)\r\n                    .withEssences(record.fabricateItem.essences)\r\n                    .withPartId(record.fabricateItem.partId)\r\n                    .withSystemId(record.fabricateItem.systemId)\r\n                    .withImageUrl(record.fabricateItem.imageUrl)\r\n                    .build());\r\n            }\r\n            return denormalizedComponents;\r\n        }).reduce((left, right) => left.concat(right), []);\r\n    }\r\n    update() {\r\n        this.index();\r\n    }\r\n    get components() {\r\n        return Array.from(this._componentDirectory.values());\r\n    }\r\n    get recipes() {\r\n        return Array.from(this._recipeDirectory.values());\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9kbmQ1ZS9JbnZlbnRvcnk1RS50cz9iMzcxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNEQ7QUFDSjtBQUNqQjtBQUMyQztBQUN0QjtBQUNOO0FBQ1I7QUFHOEI7QUFNNUUsTUFBTSxXQUFZLFNBQVEseUVBQWlCO0lBSXZDLFlBQVksS0FBVTtRQUNsQixLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFKQSx3QkFBbUIsR0FBb0QsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNqRixxQkFBZ0IsR0FBeUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUloRixJQUFJLENBQUMscUJBQXFCLEdBQUcsQ0FBQyxtRUFBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRU8sS0FBSztRQUNULElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO1NBQ25FO1FBQ0QsTUFBTSxLQUFLLEdBQVEsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFOUIsTUFBTSxjQUFjLEdBQVcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLG1EQUFVLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7UUFDL0YsTUFBTSxvQkFBb0IsR0FBYSxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBVSxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLG1EQUFVLENBQUMsTUFBTSxDQUFDLElB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TSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pHLENBQUM7SUFFRCxNQUFNO1FBQ0YsSUFBSSxDQUFDLEtBQUssRUFBRTtJQUNoQixDQUFDO0lBRUQsSUFBSSxVQUFVO1FBQ1YsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUM7SUFDdEQsQ0FBQztDQUNKO0FBRW1CIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvZG5kNWUvSW52ZW50b3J5NUUudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nSW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9DcmFmdGluZ0ludmVudG9yeVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZH0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5UmVjb3JkXCI7XHJcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7RmFicmljYXRlQ29tcGVuZGl1bURhdGEsIEZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi4vZ2FtZS9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0dhbWVTeXN0ZW1UeXBlfSBmcm9tIFwiLi4vY29yZS9HYW1lU3lzdGVtVHlwZVwiO1xyXG5pbXBvcnQge0luZ3JlZGllbnR9IGZyb20gXCIuLi9jb3JlL0luZ3JlZGllbnRcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jb3JlL1JlY2lwZVwiO1xyXG5pbXBvcnQge0l0ZW1EYXRhNWV9IGZyb20gXCIuLi8uLi9nbG9iYWxcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5fSBmcm9tIFwiLi4vcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7RmFicmljYXRlSXRlbX0gZnJvbSBcIi4uL2NvcmUvRmFicmljYXRlSXRlbVwiO1xyXG5cclxudHlwZSBSZWNpcGVDb25zdW1lciA9IChmYWJyaWNhdGVJdGVtOiBJbnZlbnRvcnlSZWNvcmQ8UmVjaXBlPikgPT4gdm9pZDtcclxudHlwZSBDcmFmdGluZ0NvbXBvbmVudENvbnN1bWVyID0gKGZhYnJpY2F0ZUl0ZW06IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4pID0+IHZvaWQ7XHJcblxyXG5jbGFzcyBJbnZlbnRvcnk1RSBleHRlbmRzIENyYWZ0aW5nSW52ZW50b3J5IHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2NvbXBvbmVudERpcmVjdG9yeTogTWFwPHN0cmluZywgSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50Pj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9yZWNpcGVEaXJlY3Rvcnk6IE1hcDxzdHJpbmcsIEludmVudG9yeVJlY29yZDxSZWNpcGU+PiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhY3RvcjogYW55KSB7XHJcbiAgICAgICAgc3VwZXIoYWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zID0gW0dhbWVTeXN0ZW1UeXBlLkRORDVFXTtcclxuICAgICAgICB0aGlzLmluZGV4KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbmRleCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2FjdG9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQWN0b3Igd2FzIHNldCBmb3IgdGhpcyBJbnZlbnRvcnkgdG8gaW5kZXhgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXRlbXM6IGFueSA9IEFycmF5LmZyb20odGhpcy5fYWN0b3IuaXRlbXMudmFsdWVzKCkpO1xyXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudERpcmVjdG9yeS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMuX3JlY2lwZURpcmVjdG9yeS5jbGVhcigpO1xyXG5cclxuICAgICAgICBjb25zdCBjYW5kaWRhdGVJdGVtczogSXRlbVtdID0gaXRlbXMuZmlsdGVyKHRoaXMuc2hvdWxkSW5kZXgoUHJvcGVydGllcy50eXBlcy5hbGxvd2FibGVJdGVtcykpO1xyXG4gICAgICAgIGNvbnN0IHVuaXF1ZUNvbXBvbmVudFR5cGVzOiBzdHJpbmdbXSA9IGNhbmRpZGF0ZUl0ZW1zLm1hcCgoaXRlbTogSXRlbSkgPT4gaXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5wYXJ0SWQpKVxyXG4gICAgICAgICAgICAuZmlsdGVyKChwYXJ0SWQ6IHN0cmluZywgaW5kZXg6IG51bWJlciwgcGFydElkczogc3RyaW5nW10pID0+IHBhcnRJZHMuaW5kZXhPZihwYXJ0SWQpID09PSBpbmRleCk7XHJcblxyXG4gICAgICAgIHVuaXF1ZUNvbXBvbmVudFR5cGVzLmZvckVhY2goKHBhcnRJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGludmVudG9yeVJlY29yZDogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+ID0gY2FuZGlkYXRlSXRlbXMuZmlsdGVyKChjYW5kaWRhdGVJdGVtOiBJdGVtKSA9PiBjYW5kaWRhdGVJdGVtLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5pdGVtLnBhcnRJZCkgPT09IHBhcnRJZClcclxuICAgICAgICAgICAgICAgIC5tYXAoKGl0ZW06IEl0ZW08SXRlbURhdGE1ZT4pID0+IEludmVudG9yeVJlY29yZC5idWlsZGVyKClcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEl0ZW0oaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEFjdG9yKHRoaXMuYWN0b3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhUb3RhbFF1YW50aXR5KGl0ZW0uZGF0YS5kYXRhLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgICAgIC53aXRoRmFicmljYXRlSXRlbVR5cGUoaXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5mYWJyaWNhdGVJdGVtVHlwZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhGYWJyaWNhdGVJdGVtKHRoaXMubG9va1VwKGl0ZW0pKVxyXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpKVxyXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgobGVmdDogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+LCByaWdodDogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+KSA9PiBsZWZ0LmNvbWJpbmVXaXRoKHJpZ2h0KSk7XHJcbiAgICAgICAgICAgIHRoaXMuYXBwbHlJdGVtVHlwZVRyZWF0bWVudChpbnZlbnRvcnlSZWNvcmQsXHJcbiAgICAgICAgICAgICAgICAocmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiB0aGlzLl9jb21wb25lbnREaXJlY3Rvcnkuc2V0KHBhcnRJZCwgcmVjb3JkKSxcclxuICAgICAgICAgICAgICAgIChyZWNvcmQ6IEludmVudG9yeVJlY29yZDxSZWNpcGU+KSA9PiB0aGlzLl9yZWNpcGVEaXJlY3Rvcnkuc2V0KHBhcnRJZCwgcmVjb3JkKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb29rVXAoaXRlbTogSXRlbSk6IEZhYnJpY2F0ZUl0ZW0ge1xyXG4gICAgICAgIGNvbnN0IHN5c3RlbUlkID0gaXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5zeXN0ZW1JZCk7XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW0gPSBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoc3lzdGVtSWQpO1xyXG4gICAgICAgIGlmICghY3JhZnRpbmdTeXN0ZW0pIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9vayB1cCBjcmFmdGluZyBTeXN0ZW0gJyR7c3lzdGVtSWR9JyB3aGVuIGluZGV4aW5nIEl0ZW0gJyR7aXRlbS5faWR9Jy4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGl0ZW1UeXBlOiBGYWJyaWNhdGVJdGVtVHlwZSA9IGl0ZW0uZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBQcm9wZXJ0aWVzLmZsYWdLZXlzLml0ZW0uZmFicmljYXRlSXRlbVR5cGUpO1xyXG4gICAgICAgIGNvbnN0IHBhcnRJZDogc3RyaW5nID0gaXRlbS5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuaXRlbS5wYXJ0SWQpO1xyXG4gICAgICAgIHN3aXRjaCAoaXRlbVR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGYWJyaWNhdGVJdGVtVHlwZS5SRUNJUEU6XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNpcGU6IFJlY2lwZSA9IGNyYWZ0aW5nU3lzdGVtLmdldFJlY2lwZUJ5UGFydElkKHBhcnRJZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjaXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY2lwZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvb2sgdXAgUmVjaXBlIHdpdGggUGFydCBJRCAnJHtwYXJ0SWR9JyBmcm9tIENyYWZ0aW5nIFN5c3RlbSBcclxuICAgICAgICAgICAgICAgICAgICAnJHtjcmFmdGluZ1N5c3RlbS5jb21wZW5kaXVtUGFja0tleX0uICdgKTtcclxuICAgICAgICAgICAgY2FzZSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQ6XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjcmFmdGluZ0NvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQgPSBjcmFmdGluZ1N5c3RlbS5nZXRDb21wb25lbnRCeVBhcnRJZChwYXJ0SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNyYWZ0aW5nQ29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyYWZ0aW5nQ29tcG9uZW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9vayB1cCBDcmFmdGluZyBDb21wb25lbnQgd2l0aCBQYXJ0IElEICcke3BhcnRJZH0nIGZyb20gQ3JhZnRpbmcgU3lzdGVtIFxyXG4gICAgICAgICAgICAgICAgICAgICcke2NyYWZ0aW5nU3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5fS4gJ2ApO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQgRmFicmljYXRlIEl0ZW0gVHlwZSBvZiAnJHtpdGVtVHlwZX0nIGZvciBJdGVtICcke2l0ZW0uX2lkfScuIFxyXG4gICAgICAgICAgICAgICAgICAgIFRoZSBhbGxvd2FibGUgdmFsdWVzIGFyZSAnQ09NUE9ORU5UJyBhbmQgJ1JFQ0lQRScuIGApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwbHlJdGVtVHlwZVRyZWF0bWVudChpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxGYWJyaWNhdGVJdGVtPixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmFmdGluZ0NvbXBvbmVudENvbnN1bWVyOiBDcmFmdGluZ0NvbXBvbmVudENvbnN1bWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZUNvbnN1bWVyOiBSZWNpcGVDb25zdW1lcikge1xyXG4gICAgICAgIHN3aXRjaCAoaW52ZW50b3J5UmVjb3JkLmZhYnJpY2F0ZUl0ZW1UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuQ09NUE9ORU5UOlxyXG4gICAgICAgICAgICAgICAgY3JhZnRpbmdDb21wb25lbnRDb25zdW1lcig8SW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50Pj5pbnZlbnRvcnlSZWNvcmQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgRmFicmljYXRlSXRlbVR5cGUuUkVDSVBFOlxyXG4gICAgICAgICAgICAgICAgcmVjaXBlQ29uc3VtZXIoPEludmVudG9yeVJlY29yZDxSZWNpcGU+PmludmVudG9yeVJlY29yZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIEZhYnJpY2F0ZSBJdGVtIFR5cGUgJyR7aW52ZW50b3J5UmVjb3JkLmZhYnJpY2F0ZUl0ZW1UeXBlfScgZm9yIEludmVudG9yeSBcclxuICAgICAgICAgICAgICAgICAgICBSZWNvcmQgJHtpbnZlbnRvcnlSZWNvcmQuZmFicmljYXRlSXRlbS5jb21wZW5kaXVtRW50cnl9LiBUaGUgYWxsb3dhYmxlIHZhbHVlcyBhcmUgJ0NPTVBPTkVOVCcgYW5kIFxyXG4gICAgICAgICAgICAgICAgICAgICdSRUNJUEUnLiBgKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3VsZEluZGV4KGFsbG93YWJsZUl0ZW1zOiBzdHJpbmdbXSkge1xyXG4gICAgICAgIHJldHVybiAoaXRlbTogSXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWxsb3dhYmxlSXRlbXMuaW5kZXhPZihpdGVtLnR5cGUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBpdGVtLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5pdGVtLmZhYnJpY2F0ZUl0ZW1UeXBlKTtcclxuICAgICAgICAgICAgaWYgKCF0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHR5cGUgPT09IEZhYnJpY2F0ZUl0ZW1UeXBlLkNPTVBPTkVOVCB8fCB0eXBlID09PSBGYWJyaWNhdGVJdGVtVHlwZS5SRUNJUEU7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhZGQoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCwgYW1vdW50VG9BZGQ6IG51bWJlciA9IDEsIGN1c3RvbURhdGE/OiBhbnkpOiBQcm9taXNlPEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4+IHtcclxuICAgICAgICBpZiAoY3VzdG9tRGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hZGRDdXN0b21JdGVtKGNvbXBvbmVudCwgYW1vdW50VG9BZGQsIGN1c3RvbURhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZWNvcmRGb3JUeXBlOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+ID0gdGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LmdldChjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICBpZiAoIXJlY29yZEZvclR5cGUpIHtcclxuICAgICAgICAgICAgY29uc3QgY29tcGVuZGl1bTogQ29tcGVuZGl1bSA9IGdhbWUucGFja3MuZ2V0KGNvbXBvbmVudC5zeXN0ZW1JZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW06IEVudGl0eTxJdGVtRGF0YTVlPiA9IGF3YWl0IGNvbXBlbmRpdW0uZ2V0RW50aXR5KGNvbXBvbmVudC5wYXJ0SWQpO1xyXG4gICAgICAgICAgICBpdGVtLmRhdGEuZGF0YS5xdWFudGl0eSA9IGFtb3VudFRvQWRkO1xyXG4gICAgICAgICAgICBjb25zdCBjcmVhdGVkSXRlbTogYW55ID0gYXdhaXQgdGhpcy5fYWN0b3IuY3JlYXRlRW1iZWRkZWRFbnRpdHkoJ093bmVkSXRlbScsIGl0ZW0pO1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4gPSBJbnZlbnRvcnlSZWNvcmQuYnVpbGRlcjxDcmFmdGluZ0NvbXBvbmVudD4oKVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rvcih0aGlzLl9hY3RvcilcclxuICAgICAgICAgICAgICAgIC53aXRoSXRlbShjcmVhdGVkSXRlbSlcclxuICAgICAgICAgICAgICAgIC53aXRoVG90YWxRdWFudGl0eShjcmVhdGVkSXRlbS5kYXRhLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgLndpdGhGYWJyaWNhdGVJdGVtKGNvbXBvbmVudClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnREaXJlY3Rvcnkuc2V0KGNvbXBvbmVudC5wYXJ0SWQsIGludmVudG9yeVJlY29yZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnZlbnRvcnlSZWNvcmQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVjb3JkRm9yVHlwZS5pdGVtc09mVHlwZS5zb3J0KChsZWZ0OiBJdGVtPEl0ZW1EYXRhNWU+LCByaWdodDogSXRlbTxJdGVtRGF0YTVlPikgPT4gbGVmdC5kYXRhLmRhdGEucXVhbnRpdHkgLSByaWdodC5kYXRhLmRhdGEucXVhbnRpdHkpO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtOiBhbnkgPSByZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlWzBdO1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkUXVhbnRpdHlGb3JJdGVtID0gaXRlbS5kYXRhLmRhdGEucXVhbnRpdHkgKyBhbW91bnRUb0FkZDtcclxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLnVwZGF0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCB7X2lkOiBpdGVtLmlkLCBkYXRhOiB7cXVhbnRpdHk6IHVwZGF0ZWRRdWFudGl0eUZvckl0ZW19fSk7XHJcbiAgICAgICAgICAgIHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSA9IHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSArIGFtb3VudFRvQWRkO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkRm9yVHlwZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyBhZGRDdXN0b21JdGVtKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIGFtb3VudFRvQWRkOiBudW1iZXIsIGN1c3RvbURhdGE6IEl0ZW1EYXRhNWUpOiBQcm9taXNlPEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4+IHtcclxuICAgICAgICBjb25zdCBjb21wZW5kaXVtOiBDb21wZW5kaXVtID0gZ2FtZS5wYWNrcy5nZXQoY29tcG9uZW50LnN5c3RlbUlkKTtcclxuICAgICAgICBjb25zdCBpdGVtOiBFbnRpdHk8SXRlbURhdGE1ZT4gPSBhd2FpdCBjb21wZW5kaXVtLmdldEVudGl0eShjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICBpdGVtLmRhdGEuZGF0YS5xdWFudGl0eSA9IGFtb3VudFRvQWRkO1xyXG4gICAgICAgIGNvbnN0IGRhdGE6IEVudGl0eS5EYXRhPEl0ZW1EYXRhNWU+ID0gZHVwbGljYXRlKGl0ZW0uZGF0YSk7XHJcbiAgICAgICAgbWVyZ2VPYmplY3QoZGF0YS5kYXRhLCBjdXN0b21EYXRhKTtcclxuICAgICAgICBjb25zdCByZWNvcmRGb3JUeXBlOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+ID0gdGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LmdldChjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICBjb25zdCBjcmVhdGVkSXRlbTogYW55ID0gYXdhaXQgdGhpcy5fYWN0b3IuY3JlYXRlRW1iZWRkZWRFbnRpdHkoJ093bmVkSXRlbScsIGRhdGEpO1xyXG4gICAgICAgIGlmIChyZWNvcmRGb3JUeXBlKSB7XHJcbiAgICAgICAgICAgIHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSA9IHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSArIGFtb3VudFRvQWRkO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkRm9yVHlwZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4gPSBJbnZlbnRvcnlSZWNvcmQuYnVpbGRlcjxDcmFmdGluZ0NvbXBvbmVudD4oKVxyXG4gICAgICAgICAgICAgICAgLndpdGhBY3Rvcih0aGlzLl9hY3RvcilcclxuICAgICAgICAgICAgICAgIC53aXRoSXRlbShjcmVhdGVkSXRlbSlcclxuICAgICAgICAgICAgICAgIC53aXRoVG90YWxRdWFudGl0eShjcmVhdGVkSXRlbS5kYXRhLnF1YW50aXR5KVxyXG4gICAgICAgICAgICAgICAgLndpdGhGYWJyaWNhdGVJdGVtKGNvbXBvbmVudClcclxuICAgICAgICAgICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb21wb25lbnREaXJlY3Rvcnkuc2V0KGNvbXBvbmVudC5wYXJ0SWQsIGludmVudG9yeVJlY29yZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpbnZlbnRvcnlSZWNvcmQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldCBjb250ZW50cygpOiBJbnZlbnRvcnlSZWNvcmQ8RmFicmljYXRlSXRlbT5bXSB7XHJcbiAgICAgICAgY29uc3QgcmVjaXBlczogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+W10gPSB0aGlzLnJlY2lwZXM7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50czogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+W10gPSB0aGlzLmNvbXBvbmVudHM7XHJcbiAgICAgICAgcmV0dXJuIHJlY2lwZXMuY29uY2F0KGNvbXBvbmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlbW92ZShjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50LCBhbW91bnRUb1JlbW92ZTogbnVtYmVyID0gMSk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIGlmICghdGhpcy5jb250YWlucyhJbmdyZWRpZW50LmJ1aWxkZXIoKS53aXRoUXVhbnRpdHkoYW1vdW50VG9SZW1vdmUpLndpdGhDb21wb25lbnQoY29tcG9uZW50KS5idWlsZCgpKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCByZW1vdmUgJHthbW91bnRUb1JlbW92ZX0gJHtjb21wb25lbnQubmFtZX0gZnJvbSBJbnZlbnRvcnkgZm9yIEFjdG9yICR7dGhpcy5hY3RvcklkfSAtIFxyXG4gICAgICAgICAgICAgICAgdGhlcmUgaXMgbm90IGVub3VnaCBvZiB0aGUgY29tcG9uZW50IGluIHRoZWlyIGludmVudG9yeSEgYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlY29yZEZvclR5cGU6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4gPSB0aGlzLl9jb21wb25lbnREaXJlY3RvcnkuZ2V0KGNvbXBvbmVudC5wYXJ0SWQpO1xyXG4gICAgICAgIHJlY29yZEZvclR5cGUuaXRlbXNPZlR5cGUgPSByZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlLnNvcnQoKGxlZnQ6IEl0ZW08SXRlbURhdGE1ZT4sIHJpZ2h0OiBJdGVtPEl0ZW1EYXRhNWU+KSA9PiBsZWZ0LmRhdGEuZGF0YS5xdWFudGl0eSAtIHJpZ2h0LmRhdGEuZGF0YS5xdWFudGl0eSk7XHJcbiAgICAgICAgbGV0IHJlbW92ZWQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgbGV0IGN1cnJlbnRJdGVtSW5kZXggPSAwO1xyXG4gICAgICAgIHdoaWxlIChyZW1vdmVkIDwgYW1vdW50VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgY29uc3QgdGhpc0l0ZW06IGFueSA9IHJlY29yZEZvclR5cGUuaXRlbXNPZlR5cGVbY3VycmVudEl0ZW1JbmRleF07XHJcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGFtb3VudFRvUmVtb3ZlIC0gcmVtb3ZlZDtcclxuICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8IHRoaXNJdGVtLmRhdGEuZGF0YS5xdWFudGl0eSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFF1YW50aXR5ID0gdGhpc0l0ZW0uZGF0YS5kYXRhLnF1YW50aXR5IC0gcmVtYWluaW5nO1xyXG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hY3Rvci51cGRhdGVFbWJlZGRlZEVudGl0eSgnT3duZWRJdGVtJywge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogdGhpc0l0ZW0uaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge3F1YW50aXR5OiB1cGRhdGVkUXVhbnRpdHl9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSA9IHVwZGF0ZWRRdWFudGl0eTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZWQgKz0gYW1vdW50VG9SZW1vdmU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnRSZW1vdmVkOiBudW1iZXIgPSB0aGlzSXRlbS5kYXRhLmRhdGEucXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFjdG9yLmRlbGV0ZUVtYmVkZGVkRW50aXR5KCdPd25lZEl0ZW0nLCB0aGlzSXRlbS5pZCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVkICs9IGFtb3VudFJlbW92ZWQ7XHJcbiAgICAgICAgICAgICAgICByZWNvcmRGb3JUeXBlLnRvdGFsUXVhbnRpdHkgPSByZWNvcmRGb3JUeXBlLnRvdGFsUXVhbnRpdHkgLSBhbW91bnRSZW1vdmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1cnJlbnRJdGVtSW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVtYWluaW5nSXRlbXM6IEl0ZW1bXSA9IHJlY29yZEZvclR5cGUuaXRlbXNPZlR5cGUuZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0uZGF0YS5kYXRhLnF1YW50aXR5ID4gMCk7XHJcbiAgICAgICAgcmVjb3JkRm9yVHlwZS5pdGVtc09mVHlwZSA9IHJlbWFpbmluZ0l0ZW1zO1xyXG4gICAgICAgIGlmIChyZW1haW5pbmdJdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdGhpcy5fY29tcG9uZW50RGlyZWN0b3J5LmRlbGV0ZShjb21wb25lbnQucGFydElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFzeW5jIHVwZGF0ZVF1YW50aXR5Rm9yKGl0ZW06IEl0ZW0uRGF0YTxJdGVtRGF0YTVlPik6IFByb21pc2U8SW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+IHwgdm9pZD4ge1xyXG4gICAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byB1cGRhdGUgSW52ZW50b3J5IHF1YW50aXR5IGZvciBudWxsIEl0ZW0uICcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmYWJyaWNhdGVGbGFnczogRmFicmljYXRlQ29tcGVuZGl1bURhdGEgPSBpdGVtLmZsYWdzLmZhYnJpY2F0ZTtcclxuICAgICAgICBpZiAoIWZhYnJpY2F0ZUZsYWdzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm90IGEgRmFicmljYXRlIEl0ZW1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFydElkOiBzdHJpbmcgPSBmYWJyaWNhdGVGbGFncy5pZGVudGl0eS5wYXJ0SWQ7XHJcbiAgICAgICAgaWYgKCFwYXJ0SWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gdXBkYXRlIEludmVudG9yeSBxdWFudGl0eSBmb3IgSXRlbSAke2l0ZW0uX2lkfSB3aXRoIG5vIEZhYnJpY2F0ZSBQYXJ0IElEIHNldCBpbiBmbGFnIGRhdGEuIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaW52ZW50b3J5UmVjb3JkRm9yVHlwZTogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+O1xyXG4gICAgICAgIGlmIChmYWJyaWNhdGVGbGFncy50eXBlID09PSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQpIHtcclxuICAgICAgICAgICAgaW52ZW50b3J5UmVjb3JkRm9yVHlwZSA9IHRoaXMuX2NvbXBvbmVudERpcmVjdG9yeS5nZXQocGFydElkKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZhYnJpY2F0ZUZsYWdzLnR5cGUgPT09IEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRSkge1xyXG4gICAgICAgICAgICBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlID0gdGhpcy5fcmVjaXBlRGlyZWN0b3J5LmdldChwYXJ0SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWludmVudG9yeVJlY29yZEZvclR5cGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpbnZlbnRvcnlSZWNvcmRGb3JUeXBlLml0ZW1zT2ZUeXBlLmxlbmd0aCA8PSAxKSB7XHJcbiAgICAgICAgICAgIGludmVudG9yeVJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSA9IGl0ZW0uZGF0YS5xdWFudGl0eTtcclxuICAgICAgICAgICAgcmV0dXJuIGludmVudG9yeVJlY29yZEZvclR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRvdGFsRXhjbHVkaW5nQ2hhbmdlZCA9IGludmVudG9yeVJlY29yZEZvclR5cGUuaXRlbXNPZlR5cGUuZmlsdGVyKChtYW5hZ2VkSXRlbTogSXRlbTxJdGVtRGF0YTVlPikgPT4gbWFuYWdlZEl0ZW0uaWQgIT09IGl0ZW0uX2lkKVxyXG4gICAgICAgICAgICAubWFwKChtYW5hZ2VkSXRlbTogYW55KSA9PiBtYW5hZ2VkSXRlbS5kYXRhLmRhdGEucXVhbnRpdHkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ICsgcmlnaHQsIDApO1xyXG4gICAgICAgIGludmVudG9yeVJlY29yZEZvclR5cGUudG90YWxRdWFudGl0eSA9IHRvdGFsRXhjbHVkaW5nQ2hhbmdlZCArIGl0ZW0uZGF0YS5xdWFudGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVub3JtYWxpemVkQ29udGFpbmVkQ29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jb21wb25lbnREaXJlY3RvcnkudmFsdWVzKCkpLm1hcCgocmVjb3JkOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbm9ybWFsaXplZENvbXBvbmVudHM6IENyYWZ0aW5nQ29tcG9uZW50W10gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvcmQudG90YWxRdWFudGl0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBkZW5vcm1hbGl6ZWRDb21wb25lbnRzLnB1c2goQ3JhZnRpbmdDb21wb25lbnQuYnVpbGRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhOYW1lKHJlY29yZC5mYWJyaWNhdGVJdGVtLm5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhFc3NlbmNlcyhyZWNvcmQuZmFicmljYXRlSXRlbS5lc3NlbmNlcylcclxuICAgICAgICAgICAgICAgICAgICAud2l0aFBhcnRJZChyZWNvcmQuZmFicmljYXRlSXRlbS5wYXJ0SWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLndpdGhTeXN0ZW1JZChyZWNvcmQuZmFicmljYXRlSXRlbS5zeXN0ZW1JZClcclxuICAgICAgICAgICAgICAgICAgICAud2l0aEltYWdlVXJsKHJlY29yZC5mYWJyaWNhdGVJdGVtLmltYWdlVXJsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5idWlsZCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGVub3JtYWxpemVkQ29tcG9uZW50cztcclxuICAgICAgICB9KS5yZWR1Y2UoKGxlZnQ6IENyYWZ0aW5nQ29tcG9uZW50W10sIHJpZ2h0OiBDcmFmdGluZ0NvbXBvbmVudFtdKSA9PiBsZWZ0LmNvbmNhdChyaWdodCksIFtdKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5pbmRleCgpXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNvbXBvbmVudHMoKTogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PltdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jb21wb25lbnREaXJlY3RvcnkudmFsdWVzKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCByZWNpcGVzKCk6IEludmVudG9yeVJlY29yZDxSZWNpcGU+W10ge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX3JlY2lwZURpcmVjdG9yeS52YWx1ZXMoKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7SW52ZW50b3J5NUV9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/dnd5e/Inventory5E.ts\n");

/***/ }),

/***/ "./src/scripts/game/CompendiumData.ts":
/*!********************************************!*\
  !*** ./src/scripts/game/CompendiumData.ts ***!
  \********************************************/
/*! exports provided: FabricateItemType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FabricateItemType\", function() { return FabricateItemType; });\nvar FabricateItemType;\r\n(function (FabricateItemType) {\r\n    FabricateItemType[\"RECIPE\"] = \"RECIPE\";\r\n    FabricateItemType[\"COMPONENT\"] = \"COMPONENT\";\r\n})(FabricateItemType || (FabricateItemType = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0NvbXBlbmRpdW1EYXRhLnRzPzBlMTIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBLElBQUssaUJBR0o7QUFIRCxXQUFLLGlCQUFpQjtJQUNsQixzQ0FBaUI7SUFDakIsNENBQXVCO0FBQzNCLENBQUMsRUFISSxpQkFBaUIsS0FBakIsaUJBQWlCLFFBR3JCO0FBa0M0SSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2dhbWUvQ29tcGVuZGl1bURhdGEudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FjdGlvblR5cGV9IGZyb20gXCIuLi9jb3JlL0FjdGlvblR5cGVcIjtcclxuXHJcbmVudW0gRmFicmljYXRlSXRlbVR5cGUge1xyXG4gICAgUkVDSVBFID0gJ1JFQ0lQRScsXHJcbiAgICBDT01QT05FTlQgPSAnQ09NUE9ORU5UJ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29tcGVuZGl1bUVudHJ5IHtcclxuICAgIHN5c3RlbUlkOiBzdHJpbmc7XHJcbiAgICBwYXJ0SWQ6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZUNvbXBvbmVudEZsYWdzIHtcclxuICAgIGVzc2VuY2VzOiBzdHJpbmdbXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZUluZ3JlZGllbnRGbGFncyB7XHJcbiAgICBxdWFudGl0eTogbnVtYmVyLFxyXG4gICAgY29uc3VtZWQ6IGJvb2xlYW4sXHJcbiAgICBwYXJ0SWQ6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEZhYnJpY2F0ZVJlc3VsdEZsYWdzIHtcclxuICAgIGFjdGlvbjogQWN0aW9uVHlwZSxcclxuICAgIHBhcnRJZDogc3RyaW5nLFxyXG4gICAgcXVhbnRpdHk6IG51bWJlclxyXG59XHJcblxyXG5pbnRlcmZhY2UgRmFicmljYXRlQ29tcGVuZGl1bURhdGEge1xyXG4gICAgdHlwZTogRmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICBpZGVudGl0eTogQ29tcGVuZGl1bUVudHJ5O1xyXG4gICAgcmVjaXBlPzoge1xyXG4gICAgICAgIGVzc2VuY2VzOiBzdHJpbmdbXSxcclxuICAgICAgICBpbmdyZWRpZW50czogRmFicmljYXRlSW5ncmVkaWVudEZsYWdzW10sXHJcbiAgICAgICAgcmVzdWx0czogRmFicmljYXRlUmVzdWx0RmxhZ3NbXVxyXG4gICAgfTtcclxuICAgIGNvbXBvbmVudD86IEZhYnJpY2F0ZUNvbXBvbmVudEZsYWdzO1xyXG59XHJcblxyXG5leHBvcnQge0ZhYnJpY2F0ZUNvbXBlbmRpdW1EYXRhLCBGYWJyaWNhdGVJdGVtVHlwZSwgRmFicmljYXRlSW5ncmVkaWVudEZsYWdzLCBGYWJyaWNhdGVSZXN1bHRGbGFncywgRmFicmljYXRlQ29tcG9uZW50RmxhZ3MsIENvbXBlbmRpdW1FbnRyeX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/game/CompendiumData.ts\n");

/***/ }),

/***/ "./src/scripts/game/CraftingInventory.ts":
/*!***********************************************!*\
  !*** ./src/scripts/game/CraftingInventory.ts ***!
  \***********************************************/
/*! exports provided: CraftingInventory */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingInventory\", function() { return CraftingInventory; });\nclass CraftingInventory {\r\n    constructor(actor) {\r\n        this._actor = actor;\r\n        this._supportedGameSystems = [];\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get actorId() {\r\n        return this._actor.id;\r\n    }\r\n    get supportedGameSystems() {\r\n        return this._supportedGameSystems;\r\n    }\r\n    get size() {\r\n        return this.contents.length;\r\n    }\r\n    supportsGameSystem(gameSystem) {\r\n        return this._supportedGameSystems.some((supported) => supported === gameSystem);\r\n    }\r\n    contains(ingredient) {\r\n        const quantity = this.components.filter((candidate) => candidate.fabricateItem.sharesType(ingredient))\r\n            .map((candidate) => candidate.totalQuantity)\r\n            .reduce((left, right) => left + right, 0);\r\n        return ingredient.quantity <= quantity;\r\n    }\r\n    hasAll(components) {\r\n        const componentCountById = new Map();\r\n        components.forEach((component) => {\r\n            if (componentCountById.has(component.partId)) {\r\n                const currentCount = componentCountById.get(component.partId);\r\n                componentCountById.set(component.partId, currentCount + 1);\r\n            }\r\n            else {\r\n                componentCountById.set(component.partId, 1);\r\n            }\r\n        });\r\n        componentCountById.forEach((amountRequired, partId) => {\r\n            const inventoryRecordForType = this.components.find((record) => record.fabricateItem.partId === partId);\r\n            if (!inventoryRecordForType || inventoryRecordForType.totalQuantity < amountRequired) {\r\n                return false;\r\n            }\r\n        });\r\n        return true;\r\n    }\r\n    hasAllIngredientsFor(recipe) {\r\n        return this.hasAllNamedIngredients(recipe) && this.hasAllEssences(recipe);\r\n    }\r\n    hasAllEssences(recipe) {\r\n        const outstandingEssencesByType = new Map();\r\n        if (!recipe.essences || recipe.essences.length === 0) {\r\n            return true;\r\n        }\r\n        recipe.essences.forEach((essence) => {\r\n            if (outstandingEssencesByType.has(essence)) {\r\n                outstandingEssencesByType.set(essence, outstandingEssencesByType.get(essence) + 1);\r\n            }\r\n            else {\r\n                outstandingEssencesByType.set(essence, 1);\r\n            }\r\n        });\r\n        for (let i = 0; i < this.components.length; i++) {\r\n            const thisRecord = this.components[i];\r\n            if (thisRecord.fabricateItem.essences) {\r\n                thisRecord.fabricateItem.essences.forEach((essence) => {\r\n                    if (outstandingEssencesByType.has(essence)) {\r\n                        const remaining = outstandingEssencesByType.get(essence);\r\n                        const contribution = thisRecord.totalQuantity;\r\n                        if (remaining <= contribution) {\r\n                            outstandingEssencesByType.delete(essence);\r\n                        }\r\n                        else {\r\n                            outstandingEssencesByType.set(essence, remaining - contribution);\r\n                        }\r\n                    }\r\n                });\r\n                if (outstandingEssencesByType.size === 0) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    hasAllNamedIngredients(recipe) {\r\n        const ingredientsByType = new Map();\r\n        let failedToFind = false;\r\n        let duplicatedIngredient = false;\r\n        recipe.ingredients.forEach((ingredient) => {\r\n            const present = this.contains(ingredient);\r\n            if (!present) {\r\n                failedToFind = true;\r\n                return;\r\n            }\r\n            const occurrences = ingredientsByType.get(ingredient.component.partId) + 1;\r\n            ingredientsByType.set(ingredient.component.partId, occurrences);\r\n            if (occurrences > 1) {\r\n                duplicatedIngredient = true;\r\n            }\r\n        });\r\n        if (duplicatedIngredient) {\r\n            throw new Error(`One or more ingredients were duplicated in a call to CraftingInventory.containsMany(ingredients: Ingredient[]). \r\n            Recipe[name='${recipe.name}',id='${recipe.partId}'] seems to be mis-configured! Recipes should be specified as \r\n            Ingredient[Mud, 2], not [Ingredient[Mud, 1], Ingredient[Mud 1]]. `);\r\n        }\r\n        return !failedToFind;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0NyYWZ0aW5nSW52ZW50b3J5LnRzP2Q3N2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUE7QUFBQTtBQUFBLE1BQWUsaUJBQWlCO0lBSzVCLFlBQXNCLEtBQVk7UUFDOUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLE9BQU87UUFDUCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO0lBQzFCLENBQUM7SUFFRCxJQUFJLG9CQUFvQjtRQUNwQixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN0QyxDQUFDO0lBUUQsSUFBSSxJQUFJO1FBQ0osT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNoQyxDQUFDO0lBRU0sa0JBQWtCLENBQUMsVUFBMEI7UUFDaEQsT0FBTyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBeUIsRUFBRSxFQUFFLENBQUMsU0FBUyxLQUFLLFVBQVUsQ0FBQyxDQUFDO0lBQ3BHLENBQUM7SUFJRCxRQUFRLENBQUMsVUFBc0I7UUFDM0IsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUE2QyxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQzthQUNySSxHQUFHLENBQUMsQ0FBQyxTQUF5QyxFQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDO2FBQzNFLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRSxDQUFDLElBQUksR0FBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENB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QUFDLE1BQU07OEVBQ2tCLENBQUMsQ0FBQztTQUN2RTtRQUNELE9BQU8sQ0FBQyxZQUFZLENBQUM7SUFDekIsQ0FBQztDQVVKO0FBRXlCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvZ2FtZS9DcmFmdGluZ0ludmVudG9yeS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnlSZWNvcmR9IGZyb20gXCIuLi9nYW1lL0ludmVudG9yeVJlY29yZFwiO1xyXG5pbXBvcnQge0dhbWVTeXN0ZW1UeXBlfSBmcm9tIFwiLi4vY29yZS9HYW1lU3lzdGVtVHlwZVwiO1xyXG5pbXBvcnQge0luZ3JlZGllbnR9IGZyb20gXCIuLi9jb3JlL0luZ3JlZGllbnRcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uL2NvcmUvQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jb3JlL1JlY2lwZVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuLi9jb3JlL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmFic3RyYWN0IGNsYXNzIENyYWZ0aW5nSW52ZW50b3J5IGltcGxlbWVudHMgSW52ZW50b3J5IHtcclxuXHJcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgX2FjdG9yOiBhbnk7XHJcbiAgICBwcm90ZWN0ZWQgX3N1cHBvcnRlZEdhbWVTeXN0ZW1zOiBHYW1lU3lzdGVtVHlwZVtdO1xyXG5cclxuICAgIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihhY3RvcjogQWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9hY3RvciA9IGFjdG9yO1xyXG4gICAgICAgIHRoaXMuX3N1cHBvcnRlZEdhbWVTeXN0ZW1zID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdG9yKCk6IEFjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdG9ySWQoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0b3IuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHN1cHBvcnRlZEdhbWVTeXN0ZW1zKCk6IEdhbWVTeXN0ZW1UeXBlW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcztcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBnZXQgY29udGVudHMoKTogSW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+W107XHJcblxyXG4gICAgYWJzdHJhY3QgZ2V0IGNvbXBvbmVudHMoKTogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PltdO1xyXG5cclxuICAgIGFic3RyYWN0IGdldCByZWNpcGVzKCk6IEludmVudG9yeVJlY29yZDxSZWNpcGU+W107XHJcblxyXG4gICAgZ2V0IHNpemUoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50cy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN1cHBvcnRzR2FtZVN5c3RlbShnYW1lU3lzdGVtOiBHYW1lU3lzdGVtVHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zdXBwb3J0ZWRHYW1lU3lzdGVtcy5zb21lKChzdXBwb3J0ZWQ6IEdhbWVTeXN0ZW1UeXBlKSA9PiBzdXBwb3J0ZWQgPT09IGdhbWVTeXN0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBhZGQoY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCwgcXVhbnRpdHk/OiBudW1iZXIpOiBQcm9taXNlPEludmVudG9yeVJlY29yZDxGYWJyaWNhdGVJdGVtPj47XHJcblxyXG4gICAgY29udGFpbnMoaW5ncmVkaWVudDogSW5ncmVkaWVudCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IHF1YW50aXR5ID0gdGhpcy5jb21wb25lbnRzLmZpbHRlcigoY2FuZGlkYXRlOiBJbnZlbnRvcnlSZWNvcmQ8Q3JhZnRpbmdDb21wb25lbnQ+KSA9PiBjYW5kaWRhdGUuZmFicmljYXRlSXRlbS5zaGFyZXNUeXBlKGluZ3JlZGllbnQpKVxyXG4gICAgICAgICAgICAubWFwKChjYW5kaWRhdGU6IEludmVudG9yeVJlY29yZDxGYWJyaWNhdGVJdGVtPikgPT4gY2FuZGlkYXRlLnRvdGFsUXVhbnRpdHkpXHJcbiAgICAgICAgICAgIC5yZWR1Y2UoKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0ICsgcmlnaHQsIDApO1xyXG4gICAgICAgIHJldHVybiBpbmdyZWRpZW50LnF1YW50aXR5IDw9IHF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIGhhc0FsbChjb21wb25lbnRzOiBDcmFmdGluZ0NvbXBvbmVudFtdKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgY29tcG9uZW50Q291bnRCeUlkOiBNYXA8c3RyaW5nLCBudW1iZXI+ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICAgICAgICBjb21wb25lbnRzLmZvckVhY2goKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudENvdW50QnlJZC5oYXMoY29tcG9uZW50LnBhcnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb3VudCA9IGNvbXBvbmVudENvdW50QnlJZC5nZXQoY29tcG9uZW50LnBhcnRJZCk7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnRDb3VudEJ5SWQuc2V0KGNvbXBvbmVudC5wYXJ0SWQsIGN1cnJlbnRDb3VudCArIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50Q291bnRCeUlkLnNldChjb21wb25lbnQucGFydElkLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbXBvbmVudENvdW50QnlJZC5mb3JFYWNoKChhbW91bnRSZXF1aXJlZDogbnVtYmVyLCBwYXJ0SWQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlbnRvcnlSZWNvcmRGb3JUeXBlID0gdGhpcy5jb21wb25lbnRzLmZpbmQoKHJlY29yZDogSW52ZW50b3J5UmVjb3JkPENyYWZ0aW5nQ29tcG9uZW50PikgPT4gcmVjb3JkLmZhYnJpY2F0ZUl0ZW0ucGFydElkID09PSBwYXJ0SWQpO1xyXG4gICAgICAgICAgICBpZiAoIWludmVudG9yeVJlY29yZEZvclR5cGUgfHwgaW52ZW50b3J5UmVjb3JkRm9yVHlwZS50b3RhbFF1YW50aXR5IDwgYW1vdW50UmVxdWlyZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhhc0FsbEluZ3JlZGllbnRzRm9yKHJlY2lwZTogUmVjaXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQWxsTmFtZWRJbmdyZWRpZW50cyhyZWNpcGUpICYmIHRoaXMuaGFzQWxsRXNzZW5jZXMocmVjaXBlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGhhc0FsbEVzc2VuY2VzKHJlY2lwZTogUmVjaXBlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3Qgb3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZTogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XHJcbiAgICAgICAgaWYgKCFyZWNpcGUuZXNzZW5jZXMgfHwgcmVjaXBlLmVzc2VuY2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVjaXBlLmVzc2VuY2VzLmZvckVhY2goKGVzc2VuY2U6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBpZiAob3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZS5oYXMoZXNzZW5jZSkpIHtcclxuICAgICAgICAgICAgICAgIG91dHN0YW5kaW5nRXNzZW5jZXNCeVR5cGUuc2V0KGVzc2VuY2UsIG91dHN0YW5kaW5nRXNzZW5jZXNCeVR5cGUuZ2V0KGVzc2VuY2UpICsgMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLnNldChlc3NlbmNlLCAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb21wb25lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRoaXNSZWNvcmQ6IEludmVudG9yeVJlY29yZDxDcmFmdGluZ0NvbXBvbmVudD4gPSB0aGlzLmNvbXBvbmVudHNbaV07XHJcbiAgICAgICAgICAgIGlmICh0aGlzUmVjb3JkLmZhYnJpY2F0ZUl0ZW0uZXNzZW5jZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXNSZWNvcmQuZmFicmljYXRlSXRlbS5lc3NlbmNlcy5mb3JFYWNoKChlc3NlbmNlOiBzdHJpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZS5oYXMoZXNzZW5jZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nOiBudW1iZXIgPSBvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLmdldChlc3NlbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJpYnV0aW9uID0gdGhpc1JlY29yZC50b3RhbFF1YW50aXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVtYWluaW5nIDw9IGNvbnRyaWJ1dGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZS5kZWxldGUoZXNzZW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRzdGFuZGluZ0Vzc2VuY2VzQnlUeXBlLnNldChlc3NlbmNlLCByZW1haW5pbmcgLSBjb250cmlidXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3V0c3RhbmRpbmdFc3NlbmNlc0J5VHlwZS5zaXplID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFzQWxsTmFtZWRJbmdyZWRpZW50cyhyZWNpcGU6IFJlY2lwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGNvbnN0IGluZ3JlZGllbnRzQnlUeXBlID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcclxuICAgICAgICBsZXQgZmFpbGVkVG9GaW5kOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGR1cGxpY2F0ZWRJbmdyZWRpZW50OiBib29sZWFuID0gZmFsc2U7XHJcbiAgICAgICAgcmVjaXBlLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcHJlc2VudDogYm9vbGVhbiA9IHRoaXMuY29udGFpbnMoaW5ncmVkaWVudCk7XHJcbiAgICAgICAgICAgIGlmICghcHJlc2VudCkge1xyXG4gICAgICAgICAgICAgICAgZmFpbGVkVG9GaW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvY2N1cnJlbmNlcyA9IGluZ3JlZGllbnRzQnlUeXBlLmdldChpbmdyZWRpZW50LmNvbXBvbmVudC5wYXJ0SWQpICsgMTtcclxuICAgICAgICAgICAgaW5ncmVkaWVudHNCeVR5cGUuc2V0KGluZ3JlZGllbnQuY29tcG9uZW50LnBhcnRJZCwgb2NjdXJyZW5jZXMpO1xyXG4gICAgICAgICAgICBpZiAob2NjdXJyZW5jZXMgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVkSW5ncmVkaWVudCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoZHVwbGljYXRlZEluZ3JlZGllbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBPbmUgb3IgbW9yZSBpbmdyZWRpZW50cyB3ZXJlIGR1cGxpY2F0ZWQgaW4gYSBjYWxsIHRvIENyYWZ0aW5nSW52ZW50b3J5LmNvbnRhaW5zTWFueShpbmdyZWRpZW50czogSW5ncmVkaWVudFtdKS4gXHJcbiAgICAgICAgICAgIFJlY2lwZVtuYW1lPScke3JlY2lwZS5uYW1lfScsaWQ9JyR7cmVjaXBlLnBhcnRJZH0nXSBzZWVtcyB0byBiZSBtaXMtY29uZmlndXJlZCEgUmVjaXBlcyBzaG91bGQgYmUgc3BlY2lmaWVkIGFzIFxyXG4gICAgICAgICAgICBJbmdyZWRpZW50W011ZCwgMl0sIG5vdCBbSW5ncmVkaWVudFtNdWQsIDFdLCBJbmdyZWRpZW50W011ZCAxXV0uIGApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gIWZhaWxlZFRvRmluZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVtb3ZlKGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQsIHF1YW50aXR5PzogbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPjtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgdXBkYXRlKCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZVF1YW50aXR5Rm9yKGl0ZW06IGFueSk6IFByb21pc2U8SW52ZW50b3J5UmVjb3JkPEZhYnJpY2F0ZUl0ZW0+IHwgdm9pZD47XHJcblxyXG4gICAgYWJzdHJhY3QgZGVub3JtYWxpemVkQ29udGFpbmVkQ29tcG9uZW50cygpOiBDcmFmdGluZ0NvbXBvbmVudFtdO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ0ludmVudG9yeX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/game/CraftingInventory.ts\n");

/***/ }),

/***/ "./src/scripts/game/InventoryRecord.ts":
/*!*********************************************!*\
  !*** ./src/scripts/game/InventoryRecord.ts ***!
  \*********************************************/
/*! exports provided: InventoryRecord */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRecord\", function() { return InventoryRecord; });\nclass InventoryRecord {\r\n    constructor(builder) {\r\n        this._actor = builder.actor;\r\n        this._itemsOfType = builder.itemsOfType;\r\n        this._totalQuantity = builder.totalQuantity;\r\n        this._fabricateItem = builder.fabricateItem;\r\n        this._fabricateItemType = builder.fabricateItemType;\r\n    }\r\n    static builder() {\r\n        return new InventoryRecord.Builder();\r\n    }\r\n    combineWith(other) {\r\n        if (!this.fabricateItem.sharesType(other.fabricateItem)) {\r\n            throw new Error(`Unable to combine Inventory Records for different Fabricate Item types: ${this.fabricateItem.partId} | ${other.fabricateItem.partId}`);\r\n        }\r\n        if (this.actor.id !== other.actor.id) {\r\n            throw new Error(`Unable to combine inventory records from different Actors: ${this.actor.id} | ${other.actor.id}`);\r\n        }\r\n        return InventoryRecord.builder()\r\n            .withFabricateItem(this.fabricateItem)\r\n            .withActor(this.actor)\r\n            .withItems(this.itemsOfType)\r\n            .withItems(other.itemsOfType)\r\n            .withTotalQuantity(this.totalQuantity + other.totalQuantity)\r\n            .build();\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    get itemsOfType() {\r\n        return this._itemsOfType;\r\n    }\r\n    set itemsOfType(value) {\r\n        this._itemsOfType = value;\r\n    }\r\n    get totalQuantity() {\r\n        return this._totalQuantity;\r\n    }\r\n    set totalQuantity(value) {\r\n        this._totalQuantity = value;\r\n    }\r\n    get fabricateItem() {\r\n        return this._fabricateItem;\r\n    }\r\n    get fabricateItemType() {\r\n        return this._fabricateItemType;\r\n    }\r\n}\r\n(function (InventoryRecord) {\r\n    class Builder {\r\n        constructor() {\r\n            this.itemsOfType = [];\r\n        }\r\n        withActor(value) {\r\n            this.actor = value;\r\n            return this;\r\n        }\r\n        withItem(value) {\r\n            this.itemsOfType.push(value);\r\n            return this;\r\n        }\r\n        withItems(value) {\r\n            this.itemsOfType.push(...value);\r\n            return this;\r\n        }\r\n        withFabricateItem(value) {\r\n            this.fabricateItem = value;\r\n            return this;\r\n        }\r\n        withTotalQuantity(value) {\r\n            this.totalQuantity = value;\r\n            return this;\r\n        }\r\n        withFabricateItemType(value) {\r\n            this.fabricateItemType = value;\r\n            return this;\r\n        }\r\n        build() {\r\n            return new InventoryRecord(this);\r\n        }\r\n    }\r\n    InventoryRecord.Builder = Builder;\r\n})(InventoryRecord || (InventoryRecord = {}));\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9nYW1lL0ludmVudG9yeVJlY29yZC50cz9lZDA1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0FBQUE7QUFBQSxNQUFNLGVBQWU7SUFPakIsWUFBWSxPQUFtQztRQUMzQyxJQUFJLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7UUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztRQUM1QyxJQUFJLENBQUMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxhQUFhLENBQUM7UUFDNUMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQztJQUN4RCxDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQU87UUFDakIsT0FBTyxJQUFJLGVBQWUsQ0FBQyxPQUFPLEVBQUssQ0FBQztJQUM1QyxDQUFDO0lBRU0sV0FBVyxDQUFDLEtBQXlCO1FBQ3hDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEVBQUU7WUFDckQsTUFBTSxJQUFJLEtBQUssQ0FBQywyRUFBMkUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLE1BQU0sS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO1NBQzNKO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRTtZQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLDhEQUE4RCxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7U0FDdEg7UUFDRCxPQUFPLGVBQWUsQ0FBQyxPQUFPLEVBQUs7YUFDOUIsaUJBQWlCLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQzthQUNyQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQzthQUNyQixTQUFTLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQzthQUMzQixTQUFTLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQzthQUM1QixpQkFBaUIsQ0FBQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUM7YUFDM0QsS0FBSyxFQUFFLENBQUM7SUFDakIsQ0FBQztJQUVELElBQUksS0FBSztRQUNMLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLFdBQVcsQ0FBQyxLQUFhO1FBQ3pCLElBQUksQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO0lBQzlCLENBQUM7SUFFRCxJQUFJLGFBQWE7UUFDYixPQUFPLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDL0IsQ0FBQztJQUVELElBQUksYUFBYSxDQUFDLEtBQWE7UUFDM0IsSUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUM7SUFDaEMsQ0FBQztJQUVELElBQUksYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUMvQixDQUFDO0lBRUQsSUFBSSxpQkFBaUI7UUFDakIsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7SUFDbkMsQ0FBQztDQUNKO0FBRUQsV0FBVSxlQUFlO0lBQ3JCLE1BQWEsT0FBTztRQUFwQjtZQUVXLGdCQUFXLEdBQVcsRUFBRSxDQUFDO1FBdUNwQyxDQUFDO1FBbENVLFNBQVMsQ0FBQyxLQUFZO1lBQ3pCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQ25CLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFFTSxRQUFRLENBQUMsS0FBVztZQUN2QixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUM3QixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sU0FBUyxDQUFDLEtBQWE7WUFDMUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUNoQyxPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUJBQWlCLENBQUMsS0FBUTtZQUM3QixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMzQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0saUJBQWlCLENBQUMsS0FBYTtZQUNsQyxJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztZQUMzQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0scUJBQXFCLENBQUMsS0FBd0I7WUFDakQsSUFBSSxDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQztZQUMvQixPQUFPLElBQUksQ0FBQztRQUNoQixDQUFDO1FBRU0sS0FBSztZQUNSLE9BQU8sSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDckMsQ0FBQztLQUVKO0lBekNZLHVCQUFPLFVBeUNuQjtBQUNMLENBQUMsRUEzQ1MsZUFBZSxLQUFmLGVBQWUsUUEyQ3hCO0FBRXVCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvZ2FtZS9JbnZlbnRvcnlSZWNvcmQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0ZhYnJpY2F0ZUl0ZW1UeXBlfSBmcm9tIFwiLi9Db21wZW5kaXVtRGF0YVwiO1xyXG5pbXBvcnQge0ZhYnJpY2F0ZUl0ZW19IGZyb20gXCIuLi9jb3JlL0ZhYnJpY2F0ZUl0ZW1cIjtcclxuXHJcbmNsYXNzIEludmVudG9yeVJlY29yZDxUIGV4dGVuZHMgRmFicmljYXRlSXRlbT4ge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfYWN0b3I6IEFjdG9yO1xyXG4gICAgcHJpdmF0ZSBfaXRlbXNPZlR5cGU6IEl0ZW1bXTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2ZhYnJpY2F0ZUl0ZW06IFQ7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9mYWJyaWNhdGVJdGVtVHlwZTogRmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICBwcml2YXRlIF90b3RhbFF1YW50aXR5OiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYnVpbGRlcjogSW52ZW50b3J5UmVjb3JkLkJ1aWxkZXI8VD4pIHtcclxuICAgICAgICB0aGlzLl9hY3RvciA9IGJ1aWxkZXIuYWN0b3I7XHJcbiAgICAgICAgdGhpcy5faXRlbXNPZlR5cGUgPSBidWlsZGVyLml0ZW1zT2ZUeXBlO1xyXG4gICAgICAgIHRoaXMuX3RvdGFsUXVhbnRpdHkgPSBidWlsZGVyLnRvdGFsUXVhbnRpdHk7XHJcbiAgICAgICAgdGhpcy5fZmFicmljYXRlSXRlbSA9IGJ1aWxkZXIuZmFicmljYXRlSXRlbTtcclxuICAgICAgICB0aGlzLl9mYWJyaWNhdGVJdGVtVHlwZSA9IGJ1aWxkZXIuZmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBidWlsZGVyPFQgZXh0ZW5kcyBGYWJyaWNhdGVJdGVtPigpOiBJbnZlbnRvcnlSZWNvcmQuQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbnZlbnRvcnlSZWNvcmQuQnVpbGRlcjxUPigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb21iaW5lV2l0aChvdGhlcjogSW52ZW50b3J5UmVjb3JkPFQ+KTogSW52ZW50b3J5UmVjb3JkPFQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZmFicmljYXRlSXRlbS5zaGFyZXNUeXBlKG90aGVyLmZhYnJpY2F0ZUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGNvbWJpbmUgSW52ZW50b3J5IFJlY29yZHMgZm9yIGRpZmZlcmVudCBGYWJyaWNhdGUgSXRlbSB0eXBlczogJHt0aGlzLmZhYnJpY2F0ZUl0ZW0ucGFydElkfSB8ICR7b3RoZXIuZmFicmljYXRlSXRlbS5wYXJ0SWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFjdG9yLmlkICE9PSBvdGhlci5hY3Rvci5pZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBjb21iaW5lIGludmVudG9yeSByZWNvcmRzIGZyb20gZGlmZmVyZW50IEFjdG9yczogJHt0aGlzLmFjdG9yLmlkfSB8ICR7b3RoZXIuYWN0b3IuaWR9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBJbnZlbnRvcnlSZWNvcmQuYnVpbGRlcjxUPigpXHJcbiAgICAgICAgICAgIC53aXRoRmFicmljYXRlSXRlbSh0aGlzLmZhYnJpY2F0ZUl0ZW0pXHJcbiAgICAgICAgICAgIC53aXRoQWN0b3IodGhpcy5hY3RvcilcclxuICAgICAgICAgICAgLndpdGhJdGVtcyh0aGlzLml0ZW1zT2ZUeXBlKVxyXG4gICAgICAgICAgICAud2l0aEl0ZW1zKG90aGVyLml0ZW1zT2ZUeXBlKVxyXG4gICAgICAgICAgICAud2l0aFRvdGFsUXVhbnRpdHkodGhpcy50b3RhbFF1YW50aXR5ICsgb3RoZXIudG90YWxRdWFudGl0eSlcclxuICAgICAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFjdG9yKCk6IEFjdG9yIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGl0ZW1zT2ZUeXBlKCk6IEl0ZW1bXSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zT2ZUeXBlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBpdGVtc09mVHlwZSh2YWx1ZTogSXRlbVtdKSB7XHJcbiAgICAgICAgdGhpcy5faXRlbXNPZlR5cGUgPSB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgdG90YWxRdWFudGl0eSgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90b3RhbFF1YW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB0b3RhbFF1YW50aXR5KHZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl90b3RhbFF1YW50aXR5ID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhYnJpY2F0ZUl0ZW0oKTogVCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZhYnJpY2F0ZUl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZhYnJpY2F0ZUl0ZW1UeXBlKCk6IEZhYnJpY2F0ZUl0ZW1UeXBlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmFicmljYXRlSXRlbVR5cGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbm5hbWVzcGFjZSBJbnZlbnRvcnlSZWNvcmQge1xyXG4gICAgZXhwb3J0IGNsYXNzIEJ1aWxkZXI8VCBleHRlbmRzIEZhYnJpY2F0ZUl0ZW0+IHtcclxuICAgICAgICBwdWJsaWMgYWN0b3IhOiBBY3RvcjtcclxuICAgICAgICBwdWJsaWMgaXRlbXNPZlR5cGU6IEl0ZW1bXSA9IFtdO1xyXG4gICAgICAgIHB1YmxpYyBmYWJyaWNhdGVJdGVtITogVDtcclxuICAgICAgICBwdWJsaWMgdG90YWxRdWFudGl0eSE6IG51bWJlcjtcclxuICAgICAgICBwdWJsaWMgZmFicmljYXRlSXRlbVR5cGU6IEZhYnJpY2F0ZUl0ZW1UeXBlO1xyXG5cclxuICAgICAgICBwdWJsaWMgd2l0aEFjdG9yKHZhbHVlOiBBY3Rvcik6IEJ1aWxkZXI8VD4ge1xyXG4gICAgICAgICAgICB0aGlzLmFjdG9yID0gdmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhJdGVtKHZhbHVlOiBJdGVtKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNPZlR5cGUucHVzaCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhJdGVtcyh2YWx1ZTogSXRlbVtdKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuaXRlbXNPZlR5cGUucHVzaCguLi52YWx1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcHVibGljIHdpdGhGYWJyaWNhdGVJdGVtKHZhbHVlOiBUKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFicmljYXRlSXRlbSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoVG90YWxRdWFudGl0eSh2YWx1ZTogbnVtYmVyKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMudG90YWxRdWFudGl0eSA9IHZhbHVlO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHB1YmxpYyB3aXRoRmFicmljYXRlSXRlbVR5cGUodmFsdWU6IEZhYnJpY2F0ZUl0ZW1UeXBlKTogQnVpbGRlcjxUPiB7XHJcbiAgICAgICAgICAgIHRoaXMuZmFicmljYXRlSXRlbVR5cGUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwdWJsaWMgYnVpbGQoKTogSW52ZW50b3J5UmVjb3JkPFQ+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnZlbnRvcnlSZWNvcmQodGhpcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtJbnZlbnRvcnlSZWNvcmR9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/game/InventoryRecord.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTab.ts":
/*!**********************************************!*\
  !*** ./src/scripts/interface/CraftingTab.ts ***!
  \**********************************************/
/*! exports provided: CraftingTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingTab\", function() { return CraftingTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _dnd5e_Inventory5E__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dnd5e/Inventory5E */ \"./src/scripts/dnd5e/Inventory5E.ts\");\n/* harmony import */ var _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../registries/InventoryRegistry */ \"./src/scripts/registries/InventoryRegistry.ts\");\n/* harmony import */ var _CraftingTabDTO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CraftingTabDTO */ \"./src/scripts/interface/CraftingTabDTO.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nclass CraftingTab {\r\n    constructor(actorApplication, actor) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = actorApplication;\r\n        this._actor = actor;\r\n        let inventory = _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].getFor(actor.id);\r\n        if (inventory) {\r\n            this._inventory = inventory;\r\n        }\r\n        else {\r\n            inventory = new _dnd5e_Inventory5E__WEBPACK_IMPORTED_MODULE_1__[\"Inventory5E\"](actor);\r\n            _registries_InventoryRegistry__WEBPACK_IMPORTED_MODULE_2__[\"InventoryRegistry\"].addFor(actor.id, inventory);\r\n            this._inventory = inventory;\r\n        }\r\n    }\r\n    static bind(actorApplication, sheetHtml, eventData) {\r\n        const actor = game.actors.get(eventData.actor._id);\r\n        if (!game.user.isGM || !actor.owner) {\r\n            return;\r\n        }\r\n        let tab = CraftingTab.tabs.get(actorApplication.id);\r\n        if (!tab) {\r\n            tab = new CraftingTab(actorApplication, actor);\r\n            CraftingTab.tabs.set(actorApplication.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToCharacterSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const craftingTabDTO = new _CraftingTabDTO__WEBPACK_IMPORTED_MODULE_3__[\"CraftingTabDTO\"](_registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].getAllSystems(), this._inventory, this._actor);\r\n            yield craftingTabDTO.init();\r\n            let template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.craftingTab, craftingTabDTO);\r\n            let element = this._sheetHtml.find('.crafting-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-crafting').append(template);\r\n            }\r\n            this.handleActorSheetEvents(craftingTabDTO);\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(CraftingTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToCharacterSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($('<a class=\"item fabricate-crafting\" data-tab=\"fabricate-crafting\">Crafting</a>'));\r\n        $(sheetHtml.find(`.sheet-body`)).append($('<div class=\"tab fabricate-crafting\" data-group=\"primary\" data-tab=\"fabricate-crafting\"></div>'));\r\n    }\r\n    handleActorSheetEvents(craftingTabDTO) {\r\n        this._sheetHtml.find('.add-crafting-component').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const componentId = event.currentTarget.getAttribute('data-component-id');\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            let hopperContentsForSystem = this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            if (!hopperContentsForSystem) {\r\n                hopperContentsForSystem = [];\r\n            }\r\n            const component = hopperContentsForSystem.find((item) => item.entryId === componentId);\r\n            if (!component) {\r\n                const component = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].getSystemByCompendiumPackKey(craftingSystemId).getComponentByPartId(componentId);\r\n                hopperContentsForSystem.push({ name: component.name, quantity: 1, imageUrl: component.imageUrl, entryId: component.compendiumEntry.partId });\r\n            }\r\n            else {\r\n                component.quantity = component.quantity + 1;\r\n            }\r\n            this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`, hopperContentsForSystem);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.remove-crafting-component').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const componentId = event.currentTarget.getAttribute('data-component-id');\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            let hopperContentsForSystem = this._actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            const matchingRecord = hopperContentsForSystem.find((recordData) => recordData.entryId === componentId);\r\n            matchingRecord.quantity = matchingRecord.quantity - 1;\r\n            const nonZeroRecords = hopperContentsForSystem.filter((recordData) => recordData.quantity > 0);\r\n            this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`, nonZeroRecords);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.clear-components.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            yield this._actor.unsetFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('.craft-from-components.craft-button').click(() => __awaiter(this, void 0, void 0, function* () {\r\n            const craftingSystemId = craftingTabDTO.crafting.selectedSystemId;\r\n            const hopperContents = craftingTabDTO.inventory.preparedComponents;\r\n            if (!hopperContents || hopperContents.length === 0) {\r\n                return;\r\n            }\r\n            console.log(`Craft for system ${craftingSystemId} with ${hopperContents.length} components`);\r\n            const craftingSystem = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].getSystemByCompendiumPackKey(craftingSystemId);\r\n            const craftingComponents = hopperContents.map((hopperItem) => craftingSystem.getComponentByPartId(hopperItem.entryId));\r\n            yield this._actor.unsetFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, `crafting.${craftingSystemId}.hopper`);\r\n            yield craftingSystem.craftWithComponents(this._actor.id, craftingComponents);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n        this._sheetHtml.find('select[name=\"fabricate.crafting.selectedSystem\"]').change((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const systemIdToActivate = event.target.value;\r\n            yield this._actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, 'crafting.selectedSystemId', systemIdToActivate);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-crafting[data-tab=\"${CraftingTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nCraftingTab.tabs = new Map();\r\nCraftingTab.tabKey = 'fabricate-crafting';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWIudHM/YzFlZiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBRVU7QUFDaUI7QUFDbEI7QUFDNEI7QUFXNUUsTUFBTSxXQUFXO0lBdUJiLFlBQVksZ0JBQXFCLEVBQUUsS0FBWTtRQWpCdkMscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBa0J0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZ0JBQWdCLENBQUM7UUFDMUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDcEIsSUFBSSxTQUFTLEdBQUcsK0VBQWlCLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuRCxJQUFJLFNBQVMsRUFBRTtZQUNYLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1NBQy9CO2FBQU07WUFDSCxTQUFTLEdBQUcsSUFBSSw4REFBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25DLCtFQUFpQixDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxDQUFDO1lBQzlDLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1NBQy9CO0lBQ0wsQ0FBQztJQXhCTSxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFxQixFQUFFLFNBQXNCLEVBQUUsU0FBYztRQUM1RSxNQUFNLEtBQUssR0FBVSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUc7WUFDbEMsT0FBTztTQUNWO1FBQ0QsSUFBSSxHQUFHLEdBQWdCLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFD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QUUsMkJBQTJCLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztZQUVuRyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1lBQzdCLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ3hCLENBQUMsRUFBQyxDQUFDO0lBRVAsQ0FBQztJQUVPLGFBQWE7UUFDakIsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxrQ0FBa0MsV0FBVyxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hILENBQUM7O0FBM0p1QixnQkFBSSxHQUE2QixJQUFJLEdBQUcsRUFBRSxDQUFDO0FBT3BELGtCQUFNLEdBQVcsb0JBQW9CLENBQUM7QUF1SmhCIiwiZmlsZSI6Ii4vc3JjL3NjcmlwdHMvaW50ZXJmYWNlL0NyYWZ0aW5nVGFiLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BlcnRpZXMgZnJvbSBcIi4uL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9nYW1lL0ludmVudG9yeVwiO1xyXG5pbXBvcnQge0ludmVudG9yeTVFfSBmcm9tIFwiLi4vZG5kNWUvSW52ZW50b3J5NUVcIjtcclxuaW1wb3J0IHtJbnZlbnRvcnlSZWdpc3RyeX0gZnJvbSBcIi4uL3JlZ2lzdHJpZXMvSW52ZW50b3J5UmVnaXN0cnlcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1RhYkRUT30gZnJvbSBcIi4vQ3JhZnRpbmdUYWJEVE9cIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5fSBmcm9tIFwiLi4vcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nQ29tcG9uZW50XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcblxyXG5pbnRlcmZhY2UgSW52ZW50b3J5UmVjb3JkRGF0YSB7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBlbnRyeUlkOiBzdHJpbmc7XHJcbiAgICBxdWFudGl0eTogbnVtYmVyO1xyXG4gICAgaW1hZ2VVcmw6IHN0cmluZztcclxufVxyXG5cclxuY2xhc3MgQ3JhZnRpbmdUYWIge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgdGFiczogTWFwPHN0cmluZywgQ3JhZnRpbmdUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIHByaXZhdGUgX3NoZWV0QXBwbGljYXRpb246IGFueTtcclxuICAgIHByaXZhdGUgX3NoZWV0SHRtbDogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaW52ZW50b3J5OiBJbnZlbnRvcnk7XHJcbiAgICBwcml2YXRlIF9zdXBwcmVzc2VkSW5OYXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgX2FjdG9yOiBBY3RvcjtcclxuICAgIHByaXZhdGUgc3RhdGljIHRhYktleTogc3RyaW5nID0gJ2ZhYnJpY2F0ZS1jcmFmdGluZyc7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBiaW5kKGFjdG9yQXBwbGljYXRpb246IGFueSwgc2hlZXRIdG1sOiBIVE1MRWxlbWVudCwgZXZlbnREYXRhOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBhY3RvcjogQWN0b3IgPSBnYW1lLmFjdG9ycy5nZXQoZXZlbnREYXRhLmFjdG9yLl9pZCk7XHJcbiAgICAgICAgaWYgKCFnYW1lLnVzZXIuaXNHTSB8fCAhYWN0b3Iub3duZXIgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHRhYjogQ3JhZnRpbmdUYWIgPSBDcmFmdGluZ1RhYi50YWJzLmdldChhY3RvckFwcGxpY2F0aW9uLmlkKTtcclxuICAgICAgICBpZiAoIXRhYikge1xyXG4gICAgICAgICAgICB0YWIgPSBuZXcgQ3JhZnRpbmdUYWIoYWN0b3JBcHBsaWNhdGlvbiwgYWN0b3IpO1xyXG4gICAgICAgICAgICBDcmFmdGluZ1RhYi50YWJzLnNldChhY3RvckFwcGxpY2F0aW9uLmlkLCB0YWIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YWIuaW5pdChzaGVldEh0bWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFjdG9yQXBwbGljYXRpb246IGFueSwgYWN0b3I6IEFjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fc2hlZXRBcHBsaWNhdGlvbiA9IGFjdG9yQXBwbGljYXRpb247XHJcbiAgICAgICAgdGhpcy5fYWN0b3IgPSBhY3RvcjtcclxuICAgICAgICBsZXQgaW52ZW50b3J5ID0gSW52ZW50b3J5UmVnaXN0cnkuZ2V0Rm9yKGFjdG9yLmlkKTtcclxuICAgICAgICBpZiAoaW52ZW50b3J5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmVudG9yeSA9IGludmVudG9yeTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnZlbnRvcnkgPSBuZXcgSW52ZW50b3J5NUUoYWN0b3IpO1xyXG4gICAgICAgICAgICBJbnZlbnRvcnlSZWdpc3RyeS5hZGRGb3IoYWN0b3IuaWQsIGludmVudG9yeSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmVudG9yeSA9IGludmVudG9yeTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KHNoZWV0SHRtbDogYW55KSB7XHJcbiAgICAgICAgdGhpcy5fc2hlZXRIdG1sID0gc2hlZXRIdG1sO1xyXG4gICAgICAgIHRoaXMuYWRkVGFiVG9DaGFyYWN0ZXJTaGVldChzaGVldEh0bWwpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgY3JhZnRpbmdUYWJEVE8gPSBuZXcgQ3JhZnRpbmdUYWJEVE8oQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5nZXRBbGxTeXN0ZW1zKCksIHRoaXMuX2ludmVudG9yeSwgdGhpcy5fYWN0b3IpO1xyXG4gICAgICAgIGF3YWl0IGNyYWZ0aW5nVGFiRFRPLmluaXQoKTtcclxuICAgICAgICBsZXQgdGVtcGxhdGU6IEhUTUxFbGVtZW50ID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUoUHJvcGVydGllcy5tb2R1bGUudGVtcGxhdGVzLmNyYWZ0aW5nVGFiLCBjcmFmdGluZ1RhYkRUTyk7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmNyYWZ0aW5nLXRhYi1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy50YWIuZmFicmljYXRlLWNyYWZ0aW5nJykuYXBwZW5kKHRlbXBsYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlQWN0b3JTaGVldEV2ZW50cyhjcmFmdGluZ1RhYkRUTyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zdXBwcmVzc2VkSW5OYXYgJiYgIXRoaXMuaXNBY3RpdmVJbk5hdigpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NoZWV0QXBwbGljYXRpb24uX3RhYnNbMF0uYWN0aXZhdGUoQ3JhZnRpbmdUYWIudGFiS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFRhYlRvQ2hhcmFjdGVyU2hlZXQoc2hlZXRIdG1sOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0YWJzID0gc2hlZXRIdG1sLmZpbmQoYC50YWJzW2RhdGEtZ3JvdXA9XCJwcmltYXJ5XCJdYCk7XHJcbiAgICAgICAgdGFicy5hcHBlbmQoJChcclxuICAgICAgICAgICAgJzxhIGNsYXNzPVwiaXRlbSBmYWJyaWNhdGUtY3JhZnRpbmdcIiBkYXRhLXRhYj1cImZhYnJpY2F0ZS1jcmFmdGluZ1wiPkNyYWZ0aW5nPC9hPidcclxuICAgICAgICApKTtcclxuXHJcbiAgICAgICAgJChzaGVldEh0bWwuZmluZChgLnNoZWV0LWJvZHlgKSkuYXBwZW5kKCQoXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGFiIGZhYnJpY2F0ZS1jcmFmdGluZ1wiIGRhdGEtZ3JvdXA9XCJwcmltYXJ5XCIgZGF0YS10YWI9XCJmYWJyaWNhdGUtY3JhZnRpbmdcIj48L2Rpdj4nXHJcbiAgICAgICAgKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBoYW5kbGVBY3RvclNoZWV0RXZlbnRzKGNyYWZ0aW5nVGFiRFRPOiBDcmFmdGluZ1RhYkRUTyk6IHZvaWQge1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmFkZC1jcmFmdGluZy1jb21wb25lbnQnKS5jbGljayhhc3luYyAoZXZlbnQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21wb25lbnQtaWQnKTtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1JZDogc3RyaW5nID0gY3JhZnRpbmdUYWJEVE8uY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBob3BwZXJDb250ZW50c0ZvclN5c3RlbTogSW52ZW50b3J5UmVjb3JkRGF0YVtdID0gdGhpcy5fYWN0b3IuZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBgY3JhZnRpbmcuJHtjcmFmdGluZ1N5c3RlbUlkfS5ob3BwZXJgKTtcclxuICAgICAgICAgICAgaWYgKCFob3BwZXJDb250ZW50c0ZvclN5c3RlbSkge1xyXG4gICAgICAgICAgICAgICAgaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0gPSBbXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBob3BwZXJDb250ZW50c0ZvclN5c3RlbS5maW5kKChpdGVtOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiBpdGVtLmVudHJ5SWQgPT09IGNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudDogQ3JhZnRpbmdDb21wb25lbnQgPSBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoY3JhZnRpbmdTeXN0ZW1JZCkuZ2V0Q29tcG9uZW50QnlQYXJ0SWQoY29tcG9uZW50SWQpO1xyXG4gICAgICAgICAgICAgICAgaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0ucHVzaCh7bmFtZTogY29tcG9uZW50Lm5hbWUsIHF1YW50aXR5OiAxLCBpbWFnZVVybDogY29tcG9uZW50LmltYWdlVXJsLCBlbnRyeUlkOiBjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LnBhcnRJZH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb21wb25lbnQucXVhbnRpdHkgPSBjb21wb25lbnQucXVhbnRpdHkgKyAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9hY3Rvci5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIGBjcmFmdGluZy4ke2NyYWZ0aW5nU3lzdGVtSWR9LmhvcHBlcmAsIGhvcHBlckNvbnRlbnRzRm9yU3lzdGVtKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLnJlbW92ZS1jcmFmdGluZy1jb21wb25lbnQnKS5jbGljayhhc3luYyAoZXZlbnQ6IGFueSkgPT4ge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50SWQgPSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb21wb25lbnQtaWQnKTtcclxuICAgICAgICAgICAgY29uc3QgY3JhZnRpbmdTeXN0ZW1JZDogc3RyaW5nID0gY3JhZnRpbmdUYWJEVE8uY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1JZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBob3BwZXJDb250ZW50c0ZvclN5c3RlbTogSW52ZW50b3J5UmVjb3JkRGF0YVtdID0gdGhpcy5fYWN0b3IuZ2V0RmxhZyhQcm9wZXJ0aWVzLm1vZHVsZS5uYW1lLCBgY3JhZnRpbmcuJHtjcmFmdGluZ1N5c3RlbUlkfS5ob3BwZXJgKTtcclxuICAgICAgICAgICAgY29uc3QgbWF0Y2hpbmdSZWNvcmQgPSBob3BwZXJDb250ZW50c0ZvclN5c3RlbS5maW5kKChyZWNvcmREYXRhOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiByZWNvcmREYXRhLmVudHJ5SWQgPT09IGNvbXBvbmVudElkKTtcclxuICAgICAgICAgICAgbWF0Y2hpbmdSZWNvcmQucXVhbnRpdHkgPSBtYXRjaGluZ1JlY29yZC5xdWFudGl0eSAtIDE7XHJcbiAgICAgICAgICAgIGNvbnN0IG5vblplcm9SZWNvcmRzID0gaG9wcGVyQ29udGVudHNGb3JTeXN0ZW0uZmlsdGVyKChyZWNvcmREYXRhOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiByZWNvcmREYXRhLnF1YW50aXR5ID4gMCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9hY3Rvci5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIGBjcmFmdGluZy4ke2NyYWZ0aW5nU3lzdGVtSWR9LmhvcHBlcmAsIG5vblplcm9SZWNvcmRzKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmNsZWFyLWNvbXBvbmVudHMuY3JhZnQtYnV0dG9uJykuY2xpY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1N5c3RlbUlkOiBzdHJpbmcgPSBjcmFmdGluZ1RhYkRUTy5jcmFmdGluZy5zZWxlY3RlZFN5c3RlbUlkO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hY3Rvci51bnNldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSB0cnVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnLmNyYWZ0LWZyb20tY29tcG9uZW50cy5jcmFmdC1idXR0b24nKS5jbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtSWQ6IHN0cmluZyA9IGNyYWZ0aW5nVGFiRFRPLmNyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtSWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGhvcHBlckNvbnRlbnRzOiBJbnZlbnRvcnlSZWNvcmREYXRhW10gPSBjcmFmdGluZ1RhYkRUTy5pbnZlbnRvcnkucHJlcGFyZWRDb21wb25lbnRzO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFob3BwZXJDb250ZW50cyB8fCBob3BwZXJDb250ZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYENyYWZ0IGZvciBzeXN0ZW0gJHtjcmFmdGluZ1N5c3RlbUlkfSB3aXRoICR7aG9wcGVyQ29udGVudHMubGVuZ3RofSBjb21wb25lbnRzYCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW0gPSBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmdldFN5c3RlbUJ5Q29tcGVuZGl1bVBhY2tLZXkoY3JhZnRpbmdTeXN0ZW1JZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNyYWZ0aW5nQ29tcG9uZW50cyA9IGhvcHBlckNvbnRlbnRzLm1hcCgoaG9wcGVySXRlbTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4gY3JhZnRpbmdTeXN0ZW0uZ2V0Q29tcG9uZW50QnlQYXJ0SWQoaG9wcGVySXRlbS5lbnRyeUlkKSk7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9hY3Rvci51bnNldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgYGNyYWZ0aW5nLiR7Y3JhZnRpbmdTeXN0ZW1JZH0uaG9wcGVyYCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGNyYWZ0aW5nU3lzdGVtLmNyYWZ0V2l0aENvbXBvbmVudHModGhpcy5fYWN0b3IuaWQsIGNyYWZ0aW5nQ29tcG9uZW50cyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdXBwcmVzc2VkSW5OYXYgPSB0cnVlO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLnJlbmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwuZmluZCgnc2VsZWN0W25hbWU9XCJmYWJyaWNhdGUuY3JhZnRpbmcuc2VsZWN0ZWRTeXN0ZW1cIl0nKS5jaGFuZ2UoYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc3lzdGVtSWRUb0FjdGl2YXRlOiBzdHJpbmcgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuX2FjdG9yLnNldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgJ2NyYWZ0aW5nLnNlbGVjdGVkU3lzdGVtSWQnLCBzeXN0ZW1JZFRvQWN0aXZhdGUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZW5kZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FjdGl2ZUluTmF2KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAkKHRoaXMuX3NoZWV0SHRtbCkuZmluZChgYS5mYWJyaWNhdGUtY3JhZnRpbmdbZGF0YS10YWI9XCIke0NyYWZ0aW5nVGFiLnRhYktleX1cIl1gKS5oYXNDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdUYWIsIEludmVudG9yeVJlY29yZERhdGF9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTab.ts\n");

/***/ }),

/***/ "./src/scripts/interface/CraftingTabDTO.ts":
/*!*************************************************!*\
  !*** ./src/scripts/interface/CraftingTabDTO.ts ***!
  \*************************************************/
/*! exports provided: CraftingTabDTO */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingTabDTO\", function() { return CraftingTabDTO; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\nclass CraftingTabDTO {\r\n    constructor(craftingSystems, inventory, actor) {\r\n        this._recipeData = [];\r\n        this._craftingSystems = craftingSystems;\r\n        this._inventory = inventory;\r\n        this._actor = actor;\r\n    }\r\n    get crafting() {\r\n        return this._craftingSystemData;\r\n    }\r\n    get recipes() {\r\n        return this._recipeData;\r\n    }\r\n    get inventory() {\r\n        return this._inventoryContents;\r\n    }\r\n    get actor() {\r\n        return this._actor;\r\n    }\r\n    init() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this._craftingSystemData = yield this.prepareCraftingSystemData(this._craftingSystems, this._actor);\r\n            if (this._craftingSystemData.hasEnabledSystems) {\r\n                const selectedCraftingSystem = this._craftingSystems.find((system) => system.compendiumPackKey === this._craftingSystemData.selectedSystemId);\r\n                this._recipeData = this.prepareRecipeDataForSystem(selectedCraftingSystem, this._actor, this._inventory);\r\n                this._inventoryContents = this.prepareInventoryDataForSystem(selectedCraftingSystem, this._actor, this._inventory);\r\n            }\r\n        });\r\n    }\r\n    prepareCraftingSystemData(craftingSystems, actor) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let enabledSystems = 0;\r\n            const craftingSystemsInfo = [];\r\n            const storedSystemId = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem);\r\n            craftingSystems.forEach((system) => {\r\n                if (system.enabled) {\r\n                    enabledSystems++;\r\n                }\r\n                craftingSystemsInfo.push({\r\n                    disabled: !system.enabled,\r\n                    compendiumPackKey: system.compendiumPackKey,\r\n                    name: system.name,\r\n                    selected: system.compendiumPackKey === storedSystemId\r\n                });\r\n            });\r\n            const hasEnabledSystems = enabledSystems > 0;\r\n            if (storedSystemId) {\r\n                return {\r\n                    systems: craftingSystemsInfo,\r\n                    hasEnabledSystems: hasEnabledSystems,\r\n                    selectedSystemId: storedSystemId\r\n                };\r\n            }\r\n            else if (hasEnabledSystems) {\r\n                const firstEnabledSystem = craftingSystemsInfo.find((systemInfo) => !systemInfo.disabled);\r\n                firstEnabledSystem.selected = true;\r\n                yield actor.setFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.selectedCraftingSystem, firstEnabledSystem.compendiumPackKey);\r\n                return {\r\n                    systems: craftingSystemsInfo,\r\n                    hasEnabledSystems: hasEnabledSystems,\r\n                    selectedSystemId: firstEnabledSystem.compendiumPackKey\r\n                };\r\n            }\r\n        });\r\n    }\r\n    prepareRecipeDataForSystem(craftingSystem, actor, inventory) {\r\n        const storedKnownRecipes = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.knownRecipesForSystem(craftingSystem.compendiumPackKey));\r\n        const knownRecipes = storedKnownRecipes ? storedKnownRecipes : [];\r\n        const recipeData = [];\r\n        craftingSystem.recipes.forEach((recipe) => recipeData.push({\r\n            name: recipe.name,\r\n            entryId: recipe.entryId,\r\n            known: knownRecipes.includes(recipe.entryId),\r\n            craftable: inventory.hasAllIngredientsFor(recipe)\r\n        }));\r\n        return recipeData;\r\n    }\r\n    prepareInventoryDataForSystem(craftingSystem, actor, inventory) {\r\n        const inventoryContents = {\r\n            ownedComponents: [],\r\n            preparedComponents: []\r\n        };\r\n        inventory.contents.filter((inventoryRecord) => inventoryRecord.componentType.compendiumEntry.compendiumKey === craftingSystem.compendiumPackKey)\r\n            .forEach((inventoryRecord) => {\r\n            inventoryContents.ownedComponents.push({\r\n                name: inventoryRecord.componentType.name,\r\n                entryId: inventoryRecord.componentType.compendiumEntry.entryId,\r\n                quantity: inventoryRecord.totalQuantity,\r\n                imageUrl: inventoryRecord.componentType.imageUrl\r\n            });\r\n        });\r\n        const savedHopperContents = actor.getFlag(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].flagKeys.actor.hopperForSystem(craftingSystem.compendiumPackKey));\r\n        if (savedHopperContents) {\r\n            inventoryContents.preparedComponents = savedHopperContents;\r\n            savedHopperContents.forEach((hopperItem) => {\r\n                const inventoryItem = inventoryContents.ownedComponents.find((inventoryItem) => inventoryItem.entryId === hopperItem.entryId);\r\n                if (inventoryItem) {\r\n                    inventoryItem.quantity = inventoryItem.quantity - hopperItem.quantity;\r\n                }\r\n            });\r\n            inventoryContents.ownedComponents = inventoryContents.ownedComponents.filter((inventoryItem) => inventoryItem.quantity > 0);\r\n        }\r\n        return inventoryContents;\r\n    }\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvQ3JhZnRpbmdUYWJEVE8udHM/NmI4NyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFJdUM7QUE0QnZDLE1BQU0sY0FBYztJQVVoQixZQUFZLGVBQWlDLEVBQUUsU0FBb0IsRUFBRSxLQUFZO1FBSHpFLGdCQUFXLEdBQWlCLEVBQUUsQ0FBQztRQUluQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsZUFBZSxDQUFDO1FBQ3hDLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztJQUNwQyxDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1AsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQzVCLENBQUM7SUFFRCxJQUFJLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztJQUNuQyxDQUFDO0lBRUQsSUFBSSxLQUFLO1FBQ0wsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLENBQUM7SUFFSyxJQUFJOztZQUNOLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBRXBHLElBQUksSUFBSSxDQUFDLG1CQUFtQixDQUFDLGlCQUFpQixFQUFFO2dCQUM1QyxNQUFNLHNCQUFzQixHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFzQixFQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEtBQUssSUFBSSxDQUFDLG1CQUFtQixDQUFDLGdCQUFnQixDQUFDLENBQUM7Z0JBRTlKLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLDBCQUEw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LE1BQU0sYUFBYSxHQUFHLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFrQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsT0FBTyxLQUFLLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDbkosSUFBSSxhQUFhLEVBQUU7b0JBQ2YsYUFBYSxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUM7aUJBQ3pFO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFDSCxpQkFBaUIsQ0FBQyxlQUFlLEdBQUcsaUJBQWlCLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLGFBQWtDLEVBQUUsRUFBRSxDQUFDLGFBQWEsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDcEo7UUFDRCxPQUFPLGlCQUFpQixDQUFDO0lBQzdCLENBQUM7Q0FDSjtBQUVzQiIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL2ludGVyZmFjZS9DcmFmdGluZ1RhYkRUTy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5fSBmcm9tIFwiLi4vZ2FtZS9JbnZlbnRvcnlcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuLi9jb3JlL1JlY2lwZVwiO1xyXG5pbXBvcnQge0ludmVudG9yeVJlY29yZH0gZnJvbSBcIi4uL2dhbWUvSW52ZW50b3J5UmVjb3JkXCI7XHJcbmltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7SW52ZW50b3J5UmVjb3JkRGF0YX0gZnJvbSBcIi4vQ3JhZnRpbmdUYWJcIjtcclxuXHJcbmludGVyZmFjZSBDcmFmdGluZ1N5c3RlbURhdGEge1xyXG4gICAgc2VsZWN0ZWRTeXN0ZW1JZDogc3RyaW5nO1xyXG4gICAgaGFzRW5hYmxlZFN5c3RlbXM6IGJvb2xlYW47XHJcbiAgICBzeXN0ZW1zOiBDcmFmdGluZ1N5c3RlbUluZm9bXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIENyYWZ0aW5nU3lzdGVtSW5mbyB7XHJcbiAgICBkaXNhYmxlZDogYm9vbGVhbjtcclxuICAgIGNvbXBlbmRpdW1QYWNrS2V5OiBzdHJpbmc7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICBzZWxlY3RlZDogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFJlY2lwZURhdGEge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgZW50cnlJZDogc3RyaW5nO1xyXG4gICAga25vd246IGJvb2xlYW47XHJcbiAgICBjcmFmdGFibGU6IGJvb2xlYW47XHJcbn1cclxuXHJcbmludGVyZmFjZSBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICBvd25lZENvbXBvbmVudHM6IEludmVudG9yeVJlY29yZERhdGFbXTtcclxuICAgIHByZXBhcmVkQ29tcG9uZW50czogSW52ZW50b3J5UmVjb3JkRGF0YVtdO1xyXG59XHJcblxyXG5jbGFzcyBDcmFmdGluZ1RhYkRUTyB7XHJcblxyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfY3JhZnRpbmdTeXN0ZW1zOiBDcmFmdGluZ1N5c3RlbVtdO1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaW52ZW50b3J5OiBJbnZlbnRvcnk7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9hY3RvcjogQWN0b3I7XHJcblxyXG4gICAgcHJpdmF0ZSBfY3JhZnRpbmdTeXN0ZW1EYXRhOiBDcmFmdGluZ1N5c3RlbURhdGE7XHJcbiAgICBwcml2YXRlIF9yZWNpcGVEYXRhOiBSZWNpcGVEYXRhW10gPSBbXTtcclxuICAgIHByaXZhdGUgX2ludmVudG9yeUNvbnRlbnRzOiBJbnZlbnRvcnlDb250ZW50cztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihjcmFmdGluZ1N5c3RlbXM6IENyYWZ0aW5nU3lzdGVtW10sIGludmVudG9yeTogSW52ZW50b3J5LCBhY3RvcjogQWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9jcmFmdGluZ1N5c3RlbXMgPSBjcmFmdGluZ1N5c3RlbXM7XHJcbiAgICAgICAgdGhpcy5faW52ZW50b3J5ID0gaW52ZW50b3J5O1xyXG4gICAgICAgIHRoaXMuX2FjdG9yID0gYWN0b3I7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNyYWZ0aW5nKCk6IENyYWZ0aW5nU3lzdGVtRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyYWZ0aW5nU3lzdGVtRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcmVjaXBlcygpOiBSZWNpcGVEYXRhW10ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNpcGVEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpbnZlbnRvcnkoKTogSW52ZW50b3J5Q29udGVudHMge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZlbnRvcnlDb250ZW50cztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYWN0b3IoKTogQWN0b3Ige1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBpbml0KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMuX2NyYWZ0aW5nU3lzdGVtRGF0YSA9IGF3YWl0IHRoaXMucHJlcGFyZUNyYWZ0aW5nU3lzdGVtRGF0YSh0aGlzLl9jcmFmdGluZ1N5c3RlbXMsIHRoaXMuX2FjdG9yKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NyYWZ0aW5nU3lzdGVtRGF0YS5oYXNFbmFibGVkU3lzdGVtcykge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZENyYWZ0aW5nU3lzdGVtID0gdGhpcy5fY3JhZnRpbmdTeXN0ZW1zLmZpbmQoKHN5c3RlbTogQ3JhZnRpbmdTeXN0ZW0pID0+IHN5c3RlbS5jb21wZW5kaXVtUGFja0tleSA9PT0gdGhpcy5fY3JhZnRpbmdTeXN0ZW1EYXRhLnNlbGVjdGVkU3lzdGVtSWQpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fcmVjaXBlRGF0YSA9IHRoaXMucHJlcGFyZVJlY2lwZURhdGFGb3JTeXN0ZW0oc2VsZWN0ZWRDcmFmdGluZ1N5c3RlbSwgdGhpcy5fYWN0b3IsIHRoaXMuX2ludmVudG9yeSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9pbnZlbnRvcnlDb250ZW50cyA9IHRoaXMucHJlcGFyZUludmVudG9yeURhdGFGb3JTeXN0ZW0oc2VsZWN0ZWRDcmFmdGluZ1N5c3RlbSx0aGlzLl9hY3RvciwgdGhpcy5faW52ZW50b3J5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcHJlcGFyZUNyYWZ0aW5nU3lzdGVtRGF0YShjcmFmdGluZ1N5c3RlbXM6IENyYWZ0aW5nU3lzdGVtW10sIGFjdG9yOiBBY3Rvcik6IFByb21pc2U8Q3JhZnRpbmdTeXN0ZW1EYXRhPiB7XHJcbiAgICAgICAgbGV0IGVuYWJsZWRTeXN0ZW1zOiBudW1iZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0IGNyYWZ0aW5nU3lzdGVtc0luZm86IENyYWZ0aW5nU3lzdGVtSW5mb1tdID0gW107XHJcbiAgICAgICAgY29uc3Qgc3RvcmVkU3lzdGVtSWQgPSBhY3Rvci5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuYWN0b3Iuc2VsZWN0ZWRDcmFmdGluZ1N5c3RlbSk7XHJcbiAgICAgICAgY3JhZnRpbmdTeXN0ZW1zLmZvckVhY2goKHN5c3RlbTogQ3JhZnRpbmdTeXN0ZW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKHN5c3RlbS5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkU3lzdGVtcysrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNyYWZ0aW5nU3lzdGVtc0luZm8ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogIXN5c3RlbS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgY29tcGVuZGl1bVBhY2tLZXk6IHN5c3RlbS5jb21wZW5kaXVtUGFja0tleSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IHN5c3RlbS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHN5c3RlbS5jb21wZW5kaXVtUGFja0tleSA9PT0gc3RvcmVkU3lzdGVtSWRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBoYXNFbmFibGVkU3lzdGVtczogYm9vbGVhbiA9IGVuYWJsZWRTeXN0ZW1zID4gMDtcclxuICAgICAgICBpZiAoc3RvcmVkU3lzdGVtSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN5c3RlbXM6IGNyYWZ0aW5nU3lzdGVtc0luZm8sXHJcbiAgICAgICAgICAgICAgICBoYXNFbmFibGVkU3lzdGVtczogaGFzRW5hYmxlZFN5c3RlbXMsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFN5c3RlbUlkOiBzdG9yZWRTeXN0ZW1JZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChoYXNFbmFibGVkU3lzdGVtcykge1xyXG4gICAgICAgICAgICBjb25zdCBmaXJzdEVuYWJsZWRTeXN0ZW0gPSBjcmFmdGluZ1N5c3RlbXNJbmZvLmZpbmQoKHN5c3RlbUluZm86IENyYWZ0aW5nU3lzdGVtSW5mbykgPT4gIXN5c3RlbUluZm8uZGlzYWJsZWQpO1xyXG4gICAgICAgICAgICBmaXJzdEVuYWJsZWRTeXN0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhd2FpdCBhY3Rvci5zZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuYWN0b3Iuc2VsZWN0ZWRDcmFmdGluZ1N5c3RlbSwgZmlyc3RFbmFibGVkU3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHN5c3RlbXM6IGNyYWZ0aW5nU3lzdGVtc0luZm8sXHJcbiAgICAgICAgICAgICAgICBoYXNFbmFibGVkU3lzdGVtczogaGFzRW5hYmxlZFN5c3RlbXMsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFN5c3RlbUlkOiBmaXJzdEVuYWJsZWRTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcmVwYXJlUmVjaXBlRGF0YUZvclN5c3RlbShjcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW0sIGFjdG9yOiBBY3RvciwgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiBSZWNpcGVEYXRhW10ge1xyXG4gICAgICAgIGNvbnN0IHN0b3JlZEtub3duUmVjaXBlczogc3RyaW5nW10gPSBhY3Rvci5nZXRGbGFnKFByb3BlcnRpZXMubW9kdWxlLm5hbWUsIFByb3BlcnRpZXMuZmxhZ0tleXMuYWN0b3Iua25vd25SZWNpcGVzRm9yU3lzdGVtKGNyYWZ0aW5nU3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5KSk7XHJcbiAgICAgICAgY29uc3Qga25vd25SZWNpcGVzOiBzdHJpbmdbXSA9IHN0b3JlZEtub3duUmVjaXBlcyA/IHN0b3JlZEtub3duUmVjaXBlcyA6IFtdO1xyXG4gICAgICAgIGNvbnN0IHJlY2lwZURhdGE6IFJlY2lwZURhdGFbXSA9IFtdO1xyXG4gICAgICAgIGNyYWZ0aW5nU3lzdGVtLnJlY2lwZXMuZm9yRWFjaCgocmVjaXBlOiBSZWNpcGUpID0+XHJcbiAgICAgICAgICAgIHJlY2lwZURhdGEucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiByZWNpcGUubmFtZSxcclxuICAgICAgICAgICAgICAgIGVudHJ5SWQ6IHJlY2lwZS5lbnRyeUlkLFxyXG4gICAgICAgICAgICAgICAga25vd246IGtub3duUmVjaXBlcy5pbmNsdWRlcyhyZWNpcGUuZW50cnlJZCksXHJcbiAgICAgICAgICAgICAgICBjcmFmdGFibGU6IGludmVudG9yeS5oYXNBbGxJbmdyZWRpZW50c0ZvcihyZWNpcGUpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gcmVjaXBlRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVwYXJlSW52ZW50b3J5RGF0YUZvclN5c3RlbShjcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW0sIGFjdG9yOiBBY3RvciwgaW52ZW50b3J5OiBJbnZlbnRvcnkpOiBJbnZlbnRvcnlDb250ZW50cyB7XHJcbiAgICAgICAgY29uc3QgaW52ZW50b3J5Q29udGVudHM6IEludmVudG9yeUNvbnRlbnRzID0ge1xyXG4gICAgICAgICAgICBvd25lZENvbXBvbmVudHM6IFtdLFxyXG4gICAgICAgICAgICBwcmVwYXJlZENvbXBvbmVudHM6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludmVudG9yeS5jb250ZW50cy5maWx0ZXIoKGludmVudG9yeVJlY29yZDogSW52ZW50b3J5UmVjb3JkKSA9PiBpbnZlbnRvcnlSZWNvcmQuY29tcG9uZW50VHlwZS5jb21wZW5kaXVtRW50cnkuY29tcGVuZGl1bUtleSA9PT0gY3JhZnRpbmdTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXkpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKChpbnZlbnRvcnlSZWNvcmQ6IEludmVudG9yeVJlY29yZCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW52ZW50b3J5Q29udGVudHMub3duZWRDb21wb25lbnRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGludmVudG9yeVJlY29yZC5jb21wb25lbnRUeXBlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZW50cnlJZDogaW52ZW50b3J5UmVjb3JkLmNvbXBvbmVudFR5cGUuY29tcGVuZGl1bUVudHJ5LmVudHJ5SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IGludmVudG9yeVJlY29yZC50b3RhbFF1YW50aXR5LFxyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiBpbnZlbnRvcnlSZWNvcmQuY29tcG9uZW50VHlwZS5pbWFnZVVybFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNhdmVkSG9wcGVyQ29udGVudHM6IEludmVudG9yeVJlY29yZERhdGFbXSA9IGFjdG9yLmdldEZsYWcoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgUHJvcGVydGllcy5mbGFnS2V5cy5hY3Rvci5ob3BwZXJGb3JTeXN0ZW0oY3JhZnRpbmdTeXN0ZW0uY29tcGVuZGl1bVBhY2tLZXkpKTtcclxuICAgICAgICBpZiAoc2F2ZWRIb3BwZXJDb250ZW50cykge1xyXG4gICAgICAgICAgICBpbnZlbnRvcnlDb250ZW50cy5wcmVwYXJlZENvbXBvbmVudHMgPSBzYXZlZEhvcHBlckNvbnRlbnRzO1xyXG4gICAgICAgICAgICBzYXZlZEhvcHBlckNvbnRlbnRzLmZvckVhY2goKGhvcHBlckl0ZW06IEludmVudG9yeVJlY29yZERhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGludmVudG9yeUl0ZW0gPSBpbnZlbnRvcnlDb250ZW50cy5vd25lZENvbXBvbmVudHMuZmluZCgoaW52ZW50b3J5SXRlbTogSW52ZW50b3J5UmVjb3JkRGF0YSkgPT4gaW52ZW50b3J5SXRlbS5lbnRyeUlkID09PSBob3BwZXJJdGVtLmVudHJ5SWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGludmVudG9yeUl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnZlbnRvcnlJdGVtLnF1YW50aXR5ID0gaW52ZW50b3J5SXRlbS5xdWFudGl0eSAtIGhvcHBlckl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnZlbnRvcnlDb250ZW50cy5vd25lZENvbXBvbmVudHMgPSBpbnZlbnRvcnlDb250ZW50cy5vd25lZENvbXBvbmVudHMuZmlsdGVyKChpbnZlbnRvcnlJdGVtOiBJbnZlbnRvcnlSZWNvcmREYXRhKSA9PiBpbnZlbnRvcnlJdGVtLnF1YW50aXR5ID4gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpbnZlbnRvcnlDb250ZW50cztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHtDcmFmdGluZ1RhYkRUT30iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/interface/CraftingTabDTO.ts\n");

/***/ }),

/***/ "./src/scripts/interface/ItemRecipeTab.ts":
/*!************************************************!*\
  !*** ./src/scripts/interface/ItemRecipeTab.ts ***!
  \************************************************/
/*! exports provided: ItemRecipeTab */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ItemRecipeTab\", function() { return ItemRecipeTab; });\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _core_Recipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass ItemRecipeTab {\r\n    constructor(itemApplication) {\r\n        this._suppressedInNav = false;\r\n        this._sheetApplication = itemApplication;\r\n        this._item = itemApplication.item;\r\n        this._recipe = _core_Recipe__WEBPACK_IMPORTED_MODULE_1__[\"Recipe\"].fromFlags(itemApplication.item.data.flags.fabricate);\r\n        this._craftingSystem = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_2__[\"CraftingSystemRegistry\"].getSystemByRecipeId(this._recipe.entryId);\r\n        this._recipe.ingredients.forEach((ingredient) => {\r\n            const component = ingredient.component;\r\n            component.imageUrl = this._craftingSystem.getComponentByPartId(component.compendiumEntry.partId).imageUrl;\r\n        });\r\n        this._recipe.results.forEach((result) => {\r\n            const component = result.item;\r\n            component.imageUrl = this._craftingSystem.getComponentByPartId(component.compendiumEntry.partId).imageUrl;\r\n        });\r\n    }\r\n    static bind(itemApplication, sheetHtml) {\r\n        if ((!itemApplication.item.data.flags.fabricate) || (itemApplication.item.data.flags.fabricate.type !== ItemRecipeTab.recipeType)) {\r\n            return;\r\n        }\r\n        let tab = ItemRecipeTab.tabs.get(itemApplication.id);\r\n        if (!tab) {\r\n            tab = new ItemRecipeTab(itemApplication);\r\n            ItemRecipeTab.tabs.set(itemApplication.id, tab);\r\n        }\r\n        tab.init(sheetHtml);\r\n    }\r\n    init(sheetHtml) {\r\n        this._sheetHtml = sheetHtml;\r\n        this.addTabToItemSheet(sheetHtml);\r\n        this.render();\r\n    }\r\n    render() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const template = yield renderTemplate(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.templates.recipeTab, { recipe: this._recipe, item: this._item, system: this._craftingSystem });\r\n            const element = this._sheetHtml.find('.recipe-tab-content');\r\n            if (element && element.length) {\r\n                element.replaceWith(template);\r\n            }\r\n            else {\r\n                this._sheetHtml.find('.tab.fabricate-recipe').append(template);\r\n            }\r\n            this.handleItemSheetEvents();\r\n            if (this._suppressedInNav && !this.isActiveInNav()) {\r\n                this._sheetApplication._tabs[0].activate(ItemRecipeTab.tabKey);\r\n                this._suppressedInNav = false;\r\n            }\r\n        });\r\n    }\r\n    addTabToItemSheet(sheetHtml) {\r\n        const tabs = sheetHtml.find(`.tabs[data-group=\"primary\"]`);\r\n        tabs.append($(`<a class=\"item fabricate-recipe\" data-tab=\"${ItemRecipeTab.tabKey}\">Recipe</a>`));\r\n        $(sheetHtml.find(`.sheet-body`)).append($(`<div class=\"tab fabricate-recipe\" data-group=\"primary\" data-tab=\"${ItemRecipeTab.tabKey}\"></div>`));\r\n    }\r\n    handleItemSheetEvents() {\r\n        this._sheetHtml.find('.craft-button').click((event) => __awaiter(this, void 0, void 0, function* () {\r\n            const recipeId = event.target.getAttribute('data-recipe-id');\r\n            const actorId = event.target.getAttribute('data-actor-id');\r\n            yield this._craftingSystem.craft(actorId, recipeId);\r\n            this._suppressedInNav = true;\r\n            yield this.render();\r\n        }));\r\n    }\r\n    isActiveInNav() {\r\n        return $(this._sheetHtml).find(`a.fabricate-recipe[data-tab=\"${ItemRecipeTab.tabKey}\"]`).hasClass('active');\r\n    }\r\n}\r\nItemRecipeTab.recipeType = _Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].types.recipe;\r\nItemRecipeTab.tabs = new Map();\r\nItemRecipeTab.tabKey = 'fabricate-recipe';\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cz8wY2I3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXVDO0FBQ0Q7QUFDc0M7QUFNNUUsTUFBTSxhQUFhO0lBeUJmLFlBQVksZUFBb0I7UUFmeEIscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBZ0J0QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsZUFBZSxDQUFDO1FBQ3pDLElBQUksQ0FBQyxLQUFLLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQztRQUNsQyxJQUFJLENBQUMsT0FBTyxHQUFHLG1EQUFNLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzRSxJQUFJLENBQUMsZUFBZSxHQUFHLHlGQUFzQixDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEYsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBc0IsRUFBRSxFQUFFO1lBQ3hELE1BQU0sU0FBUyxHQUFzQixVQUFVLENBQUMsU0FBUyxDQUFDO1lBQzFELFNBQVMsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFFBQVEsQ0FBQztRQUM5RyxDQUFDLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQXNCLEVBQUUsRUFBRTtZQUNwRCxNQUFNLFNBQVMsR0FBc0IsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNqRCxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsb0JBQW9CLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMs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Q0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzdELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQzNELE1BQU0sSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ3BELElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUM7WUFDN0IsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDeEIsQ0FBQyxFQUFDLENBQUM7SUFDUCxDQUFDO0lBRU8sYUFBYTtRQUNqQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLGdDQUFnQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDaEgsQ0FBQzs7QUFyRnVCLHdCQUFVLEdBQVcsbURBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO0FBQzdDLGtCQUFJLEdBQStCLElBQUksR0FBRyxFQUFFLENBQUM7QUFTdEQsb0JBQU0sR0FBVyxrQkFBa0IsQ0FBQztBQThFakMiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9pbnRlcmZhY2UvSXRlbVJlY2lwZVRhYi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuLi9Qcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7UmVjaXBlfSBmcm9tIFwiLi4vY29yZS9SZWNpcGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5fSBmcm9tIFwiLi4vcmVnaXN0cmllcy9DcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5XCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdTeXN0ZW19IGZyb20gXCIuLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcbmltcG9ydCB7SW5ncmVkaWVudH0gZnJvbSBcIi4uL2NvcmUvSW5ncmVkaWVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nQ29tcG9uZW50fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ0NvbXBvbmVudFwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nUmVzdWx0fSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ1Jlc3VsdFwiO1xyXG5cclxuY2xhc3MgSXRlbVJlY2lwZVRhYiB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSByZWNpcGVUeXBlOiBzdHJpbmcgPSBQcm9wZXJ0aWVzLnR5cGVzLnJlY2lwZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IHRhYnM6IE1hcDxzdHJpbmcsIEl0ZW1SZWNpcGVUYWI+ID0gbmV3IE1hcCgpO1xyXG5cclxuICAgIC8vIEB0cy1pZ25vcmVcclxuICAgIHByaXZhdGUgX3NoZWV0QXBwbGljYXRpb246IGFueTtcclxuICAgIHByaXZhdGUgX3NoZWV0SHRtbDogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfaXRlbTogYW55O1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBfcmVjaXBlOiBSZWNpcGU7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IF9jcmFmdGluZ1N5c3RlbTogQ3JhZnRpbmdTeXN0ZW07XHJcbiAgICBwcml2YXRlIF9zdXBwcmVzc2VkSW5OYXY6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHByaXZhdGUgc3RhdGljIHRhYktleTogc3RyaW5nID0gJ2ZhYnJpY2F0ZS1yZWNpcGUnO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYmluZChpdGVtQXBwbGljYXRpb246IGFueSwgc2hlZXRIdG1sOiBIVE1MRWxlbWVudCk6IHZvaWQge1xyXG4gICAgICAgIGlmICgoIWl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlKSB8fCAoaXRlbUFwcGxpY2F0aW9uLml0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGUudHlwZSAhPT0gSXRlbVJlY2lwZVRhYi5yZWNpcGVUeXBlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0YWI6IEl0ZW1SZWNpcGVUYWIgPSBJdGVtUmVjaXBlVGFiLnRhYnMuZ2V0KGl0ZW1BcHBsaWNhdGlvbi5pZCk7XHJcbiAgICAgICAgaWYgKCF0YWIpIHtcclxuICAgICAgICAgICAgdGFiID0gbmV3IEl0ZW1SZWNpcGVUYWIoaXRlbUFwcGxpY2F0aW9uKTtcclxuICAgICAgICAgICAgSXRlbVJlY2lwZVRhYi50YWJzLnNldChpdGVtQXBwbGljYXRpb24uaWQsIHRhYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhYi5pbml0KHNoZWV0SHRtbCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoaXRlbUFwcGxpY2F0aW9uOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uID0gaXRlbUFwcGxpY2F0aW9uO1xyXG4gICAgICAgIHRoaXMuX2l0ZW0gPSBpdGVtQXBwbGljYXRpb24uaXRlbTtcclxuICAgICAgICB0aGlzLl9yZWNpcGUgPSBSZWNpcGUuZnJvbUZsYWdzKGl0ZW1BcHBsaWNhdGlvbi5pdGVtLmRhdGEuZmxhZ3MuZmFicmljYXRlKTtcclxuICAgICAgICB0aGlzLl9jcmFmdGluZ1N5c3RlbSA9IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuZ2V0U3lzdGVtQnlSZWNpcGVJZCh0aGlzLl9yZWNpcGUuZW50cnlJZCk7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlLmluZ3JlZGllbnRzLmZvckVhY2goKGluZ3JlZGllbnQ6IEluZ3JlZGllbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50OiBDcmFmdGluZ0NvbXBvbmVudCA9IGluZ3JlZGllbnQuY29tcG9uZW50O1xyXG4gICAgICAgICAgICBjb21wb25lbnQuaW1hZ2VVcmwgPSB0aGlzLl9jcmFmdGluZ1N5c3RlbS5nZXRDb21wb25lbnRCeVBhcnRJZChjb21wb25lbnQuY29tcGVuZGl1bUVudHJ5LnBhcnRJZCkuaW1hZ2VVcmw7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fcmVjaXBlLnJlc3VsdHMuZm9yRWFjaCgocmVzdWx0OiBDcmFmdGluZ1Jlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQ6IENyYWZ0aW5nQ29tcG9uZW50ID0gcmVzdWx0Lml0ZW07XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5pbWFnZVVybCA9IHRoaXMuX2NyYWZ0aW5nU3lzdGVtLmdldENvbXBvbmVudEJ5UGFydElkKGNvbXBvbmVudC5jb21wZW5kaXVtRW50cnkucGFydElkKS5pbWFnZVVybDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGluaXQoc2hlZXRIdG1sOiBhbnkpIHtcclxuICAgICAgICB0aGlzLl9zaGVldEh0bWwgPSBzaGVldEh0bWw7XHJcbiAgICAgICAgdGhpcy5hZGRUYWJUb0l0ZW1TaGVldChzaGVldEh0bWwpO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhc3luYyByZW5kZXIoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGU6IEhUTUxFbGVtZW50ID0gYXdhaXQgcmVuZGVyVGVtcGxhdGUoUHJvcGVydGllcy5tb2R1bGUudGVtcGxhdGVzLnJlY2lwZVRhYiwge3JlY2lwZTogdGhpcy5fcmVjaXBlLCBpdGVtOiB0aGlzLl9pdGVtLCBzeXN0ZW06IHRoaXMuX2NyYWZ0aW5nU3lzdGVtfSk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3NoZWV0SHRtbC5maW5kKCcucmVjaXBlLXRhYi1jb250ZW50Jyk7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5yZXBsYWNlV2l0aCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hlZXRIdG1sLmZpbmQoJy50YWIuZmFicmljYXRlLXJlY2lwZScpLmFwcGVuZCh0ZW1wbGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZUl0ZW1TaGVldEV2ZW50cygpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc3VwcHJlc3NlZEluTmF2ICYmICF0aGlzLmlzQWN0aXZlSW5OYXYoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zaGVldEFwcGxpY2F0aW9uLl90YWJzWzBdLmFjdGl2YXRlKEl0ZW1SZWNpcGVUYWIudGFiS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5fc3VwcHJlc3NlZEluTmF2ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkVGFiVG9JdGVtU2hlZXQoc2hlZXRIdG1sOiBhbnkpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCB0YWJzID0gc2hlZXRIdG1sLmZpbmQoYC50YWJzW2RhdGEtZ3JvdXA9XCJwcmltYXJ5XCJdYCk7XHJcbiAgICAgICAgdGFicy5hcHBlbmQoJChcclxuICAgICAgICAgICAgYDxhIGNsYXNzPVwiaXRlbSBmYWJyaWNhdGUtcmVjaXBlXCIgZGF0YS10YWI9XCIke0l0ZW1SZWNpcGVUYWIudGFiS2V5fVwiPlJlY2lwZTwvYT5gXHJcbiAgICAgICAgKSk7XHJcblxyXG4gICAgICAgICQoc2hlZXRIdG1sLmZpbmQoYC5zaGVldC1ib2R5YCkpLmFwcGVuZCgkKFxyXG4gICAgICAgICAgICBgPGRpdiBjbGFzcz1cInRhYiBmYWJyaWNhdGUtcmVjaXBlXCIgZGF0YS1ncm91cD1cInByaW1hcnlcIiBkYXRhLXRhYj1cIiR7SXRlbVJlY2lwZVRhYi50YWJLZXl9XCI+PC9kaXY+YFxyXG4gICAgICAgICkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaGFuZGxlSXRlbVNoZWV0RXZlbnRzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3NoZWV0SHRtbC5maW5kKCcuY3JhZnQtYnV0dG9uJykuY2xpY2soYXN5bmMgKGV2ZW50OiBhbnkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcmVjaXBlSWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXJlY2lwZS1pZCcpO1xyXG4gICAgICAgICAgICBjb25zdCBhY3RvcklkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1hY3Rvci1pZCcpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9jcmFmdGluZ1N5c3RlbS5jcmFmdChhY3RvcklkLCByZWNpcGVJZCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1cHByZXNzZWRJbk5hdiA9IHRydWU7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVuZGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FjdGl2ZUluTmF2KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiAkKHRoaXMuX3NoZWV0SHRtbCkuZmluZChgYS5mYWJyaWNhdGUtcmVjaXBlW2RhdGEtdGFiPVwiJHtJdGVtUmVjaXBlVGFiLnRhYktleX1cIl1gKS5oYXNDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7SXRlbVJlY2lwZVRhYn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/interface/ItemRecipeTab.ts\n");

/***/ }),

/***/ "./src/scripts/module.ts":
/*!*******************************!*\
  !*** ./src/scripts/module.ts ***!
  \*******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Properties */ \"./src/scripts/Properties.ts\");\n/* harmony import */ var _game_CompendiumData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./game/CompendiumData */ \"./src/scripts/game/CompendiumData.ts\");\n/* harmony import */ var _core_Recipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core/Recipe */ \"./src/scripts/core/Recipe.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n/* harmony import */ var _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./registries/CraftingSystemRegistry */ \"./src/scripts/registries/CraftingSystemRegistry.ts\");\n/* harmony import */ var _application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./application/FabricateLifecycle */ \"./src/scripts/application/FabricateLifecycle.ts\");\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Enable as needed for dev. Do not release!\r\n// CONFIG.debug.hooks = true;\r\nHooks.once('ready', loadCraftingSystems);\r\nHooks.once('ready', () => {\r\n    _application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_5__[\"FabricateLifecycle\"].init();\r\n});\r\nfunction loadCraftingSystems() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let systemSpecifications = _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].systemSpecifications;\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpecifications.length} crafting systems. `);\r\n        systemSpecifications.forEach(_application_FabricateLifecycle__WEBPACK_IMPORTED_MODULE_5__[\"FabricateLifecycle\"].registerCraftingSystemSettings);\r\n        systemSpecifications.forEach(loadCraftingSystem);\r\n        const systemNames = systemSpecifications.map((systemSpec) => systemSpec.name);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpecifications.length} crafting systems: ${systemNames.join(', ')} `);\r\n    });\r\n}\r\n/**\r\n * Loads a single Crafting System from a System Specification, which must include a Compendium Pack Key. Item data from\r\n * the Compendium Pack is used to load the Recipes and Crafting Components into the system from the compendium. The\r\n * Fabricator, supported systems and name provided in the spec are all preserved\r\n *\r\n * @param systemSpec A partially populated `CraftingSystem.Builder` to which the Recipes and Components will be added\r\n * once imported from the Compendium. Must specify a Compendium Pack Key.\r\n * */\r\nfunction loadCraftingSystem(systemSpec) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // todo - on import to crafting system index set images\r\n        // todo - add images to recipes and index on import to crafting system\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loading ${systemSpec.name} from Compendium pack ${systemSpec.compendiumPackKey}. `);\r\n        if (systemSpec.supportedGameSystems.indexOf(game.system.id) < 0) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | ${systemSpec.name} does not support ${game.system.id}! `);\r\n            return;\r\n        }\r\n        let systemPack = game.packs.get(systemSpec.compendiumPackKey);\r\n        let content = yield loadCompendiumContent(systemPack, 10);\r\n        content.forEach((item) => {\r\n            let itemConfig = item.data.flags.fabricate;\r\n            switch (itemConfig.type) {\r\n                case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItemType\"].COMPONENT:\r\n                    systemSpec.withComponent(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_3__[\"CraftingComponent\"].fromFlags(itemConfig, item.name, item.img));\r\n                    break;\r\n                case _game_CompendiumData__WEBPACK_IMPORTED_MODULE_1__[\"FabricateItemType\"].RECIPE:\r\n                    systemSpec.withRecipe(_core_Recipe__WEBPACK_IMPORTED_MODULE_2__[\"Recipe\"].fromFlags(itemConfig, item.name));\r\n                    break;\r\n                default:\r\n                    throw new Error(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Unable to load item ${item.id}. Could not determine Fabricate Entity Type. `);\r\n            }\r\n        });\r\n        const enabled = game.settings.get(_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.name, systemSpec.compendiumPackKey + '.enabled');\r\n        systemSpec.isEnabled(enabled);\r\n        let system = systemSpec.build();\r\n        _registries_CraftingSystemRegistry__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystemRegistry\"].register(system);\r\n        console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Loaded ${systemSpec.name}. `);\r\n    });\r\n}\r\n/**\r\n * Fallback awaiter for loading compendium content, as this was observed to be unreliable during development after the\r\n * game 'ready' Hook was fired\r\n *\r\n * @param compendium The Compendium from which to reliably load the Content\r\n * @param maxAttempts The maximum number of times to attempt loading Compendium Content\r\n * */\r\nfunction loadCompendiumContent(compendium, maxAttempts) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let content = yield compendium.getContent();\r\n        let attempts = 0;\r\n        while ((!content || (content.length === 0)) && (attempts <= maxAttempts)) {\r\n            console.log(`${_Properties__WEBPACK_IMPORTED_MODULE_0__[\"default\"].module.label} | Waiting for content in Compendium Pack ${compendium.id} (Attempt ${attempts} of ${maxAttempts}. `);\r\n            yield wait(1000);\r\n            attempts++;\r\n            content = yield compendium.getContent();\r\n        }\r\n        return content;\r\n    });\r\n}\r\n/**\r\n * Simple async awaiter delay function\r\n * @param delay The number of millis to wait before resolving\r\n * @return a promise that resolves once the delay period has elapsed\r\n * */\r\nfunction wait(delay) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return new Promise(resolve => setTimeout(resolve, delay));\r\n    });\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tb2R1bGUudHM/NTk0MyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQXNDO0FBQzJDO0FBQzVDO0FBQ3NCO0FBQ2dCO0FBQ1A7QUFHcEUsNENBQTRDO0FBQzVDLDZCQUE2QjtBQUU3QixLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3pDLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRTtJQUNyQixrRkFBa0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUM5QixDQUFDLENBQUMsQ0FBQztBQUVILFNBQWUsbUJBQW1COztRQUM5QixJQUFJLG9CQUFvQixHQUFHLHlGQUFzQixDQUFDLG9CQUFvQixDQUFDO1FBQ3ZFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxtREFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLGNBQWMsb0JBQW9CLENBQUMsTUFBTSxxQkFBcUIsQ0FBQyxDQUFDO1FBQ3RHLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxrRkFBa0IsQ0FBQyw4QkFBOEIsQ0FBQyxDQUFDO1FBQ2hGLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sV0FBVyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDLFVBQWtDLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0RyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsbURBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxhQUFhLG9CQUFvQixDQUFDLE1BQU0sc0JBQXNCLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25JLENBQUM7Q0FBQTtBQUVEOzs7Ozs7O0tBT0s7QUFDTCxTQUFlLGtCQUFrQixDQUFDLFVBQWtDOztRQUNoRSx1REFBdUQ7UUFDdkQsc0VBQXNFO1FBQ3RF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R0FBRyxNQUFNLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUMzQztRQUNELE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7Q0FBQTtBQUVEOzs7O0tBSUs7QUFDTCxTQUFlLElBQUksQ0FBQyxLQUFhOztRQUM3QixPQUFPLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzlELENBQUM7Q0FBQSIsImZpbGUiOiIuL3NyYy9zY3JpcHRzL21vZHVsZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9wZXJ0aWVzIGZyb20gXCIuL1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSwgRmFicmljYXRlSXRlbVR5cGV9IGZyb20gXCIuL2dhbWUvQ29tcGVuZGl1bURhdGFcIjtcclxuaW1wb3J0IHtSZWNpcGV9IGZyb20gXCIuL2NvcmUvUmVjaXBlXCI7XHJcbmltcG9ydCB7Q3JhZnRpbmdDb21wb25lbnR9IGZyb20gXCIuL2NvcmUvQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5fSBmcm9tIFwiLi9yZWdpc3RyaWVzL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnlcIjtcclxuaW1wb3J0IHtGYWJyaWNhdGVMaWZlY3ljbGV9IGZyb20gXCIuL2FwcGxpY2F0aW9uL0ZhYnJpY2F0ZUxpZmVjeWNsZVwiO1xyXG5pbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi9jb3JlL0NyYWZ0aW5nU3lzdGVtXCI7XHJcblxyXG4vLyBFbmFibGUgYXMgbmVlZGVkIGZvciBkZXYuIERvIG5vdCByZWxlYXNlIVxyXG4vLyBDT05GSUcuZGVidWcuaG9va3MgPSB0cnVlO1xyXG5cclxuSG9va3Mub25jZSgncmVhZHknLCBsb2FkQ3JhZnRpbmdTeXN0ZW1zKTtcclxuSG9va3Mub25jZSgncmVhZHknLCAoKSA9PiB7XHJcbiAgICBGYWJyaWNhdGVMaWZlY3ljbGUuaW5pdCgpO1xyXG59KTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDcmFmdGluZ1N5c3RlbXMoKSB7XHJcbiAgICBsZXQgc3lzdGVtU3BlY2lmaWNhdGlvbnMgPSBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LnN5c3RlbVNwZWNpZmljYXRpb25zO1xyXG4gICAgY29uc29sZS5sb2coYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgTG9hZGluZyAke3N5c3RlbVNwZWNpZmljYXRpb25zLmxlbmd0aH0gY3JhZnRpbmcgc3lzdGVtcy4gYCk7XHJcbiAgICBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5mb3JFYWNoKEZhYnJpY2F0ZUxpZmVjeWNsZS5yZWdpc3RlckNyYWZ0aW5nU3lzdGVtU2V0dGluZ3MpO1xyXG4gICAgc3lzdGVtU3BlY2lmaWNhdGlvbnMuZm9yRWFjaChsb2FkQ3JhZnRpbmdTeXN0ZW0pO1xyXG4gICAgY29uc3Qgc3lzdGVtTmFtZXMgPSBzeXN0ZW1TcGVjaWZpY2F0aW9ucy5tYXAoKHN5c3RlbVNwZWM6IENyYWZ0aW5nU3lzdGVtLkJ1aWxkZXIpID0+IHN5c3RlbVNwZWMubmFtZSk7XHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkZWQgJHtzeXN0ZW1TcGVjaWZpY2F0aW9ucy5sZW5ndGh9IGNyYWZ0aW5nIHN5c3RlbXM6ICR7c3lzdGVtTmFtZXMuam9pbignLCAnKX0gYCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2FkcyBhIHNpbmdsZSBDcmFmdGluZyBTeXN0ZW0gZnJvbSBhIFN5c3RlbSBTcGVjaWZpY2F0aW9uLCB3aGljaCBtdXN0IGluY2x1ZGUgYSBDb21wZW5kaXVtIFBhY2sgS2V5LiBJdGVtIGRhdGEgZnJvbVxyXG4gKiB0aGUgQ29tcGVuZGl1bSBQYWNrIGlzIHVzZWQgdG8gbG9hZCB0aGUgUmVjaXBlcyBhbmQgQ3JhZnRpbmcgQ29tcG9uZW50cyBpbnRvIHRoZSBzeXN0ZW0gZnJvbSB0aGUgY29tcGVuZGl1bS4gVGhlXHJcbiAqIEZhYnJpY2F0b3IsIHN1cHBvcnRlZCBzeXN0ZW1zIGFuZCBuYW1lIHByb3ZpZGVkIGluIHRoZSBzcGVjIGFyZSBhbGwgcHJlc2VydmVkXHJcbiAqXHJcbiAqIEBwYXJhbSBzeXN0ZW1TcGVjIEEgcGFydGlhbGx5IHBvcHVsYXRlZCBgQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcmAgdG8gd2hpY2ggdGhlIFJlY2lwZXMgYW5kIENvbXBvbmVudHMgd2lsbCBiZSBhZGRlZFxyXG4gKiBvbmNlIGltcG9ydGVkIGZyb20gdGhlIENvbXBlbmRpdW0uIE11c3Qgc3BlY2lmeSBhIENvbXBlbmRpdW0gUGFjayBLZXkuXHJcbiAqICovXHJcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDcmFmdGluZ1N5c3RlbShzeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKSB7XHJcbiAgICAvLyB0b2RvIC0gb24gaW1wb3J0IHRvIGNyYWZ0aW5nIHN5c3RlbSBpbmRleCBzZXQgaW1hZ2VzXHJcbiAgICAvLyB0b2RvIC0gYWRkIGltYWdlcyB0byByZWNpcGVzIGFuZCBpbmRleCBvbiBpbXBvcnQgdG8gY3JhZnRpbmcgc3lzdGVtXHJcbiAgICBjb25zb2xlLmxvZyhgJHtQcm9wZXJ0aWVzLm1vZHVsZS5sYWJlbH0gfCBMb2FkaW5nICR7c3lzdGVtU3BlYy5uYW1lfSBmcm9tIENvbXBlbmRpdW0gcGFjayAke3N5c3RlbVNwZWMuY29tcGVuZGl1bVBhY2tLZXl9LiBgKTtcclxuICAgIGlmIChzeXN0ZW1TcGVjLnN1cHBvcnRlZEdhbWVTeXN0ZW1zLmluZGV4T2YoZ2FtZS5zeXN0ZW0uaWQpIDwgMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8ICR7c3lzdGVtU3BlYy5uYW1lfSBkb2VzIG5vdCBzdXBwb3J0ICR7Z2FtZS5zeXN0ZW0uaWR9ISBgKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgc3lzdGVtUGFjazogQ29tcGVuZGl1bSA9IGdhbWUucGFja3MuZ2V0KHN5c3RlbVNwZWMuY29tcGVuZGl1bVBhY2tLZXkpXHJcbiAgICBsZXQgY29udGVudCA9IGF3YWl0IGxvYWRDb21wZW5kaXVtQ29udGVudChzeXN0ZW1QYWNrLCAxMCk7XHJcbiAgICBjb250ZW50LmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgIGxldCBpdGVtQ29uZmlnOiBGYWJyaWNhdGVDb21wZW5kaXVtRGF0YSA9IGl0ZW0uZGF0YS5mbGFncy5mYWJyaWNhdGU7XHJcbiAgICAgICAgc3dpdGNoIChpdGVtQ29uZmlnLnR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSBGYWJyaWNhdGVJdGVtVHlwZS5DT01QT05FTlQ6XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW1TcGVjLndpdGhDb21wb25lbnQoQ3JhZnRpbmdDb21wb25lbnQuZnJvbUZsYWdzKGl0ZW1Db25maWcsIGl0ZW0ubmFtZSwgaXRlbS5pbWcpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEZhYnJpY2F0ZUl0ZW1UeXBlLlJFQ0lQRTpcclxuICAgICAgICAgICAgICAgIHN5c3RlbVNwZWMud2l0aFJlY2lwZShSZWNpcGUuZnJvbUZsYWdzKGl0ZW1Db25maWcsIGl0ZW0ubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7UHJvcGVydGllcy5tb2R1bGUubGFiZWx9IHwgVW5hYmxlIHRvIGxvYWQgaXRlbSAke2l0ZW0uaWR9LiBDb3VsZCBub3QgZGV0ZXJtaW5lIEZhYnJpY2F0ZSBFbnRpdHkgVHlwZS4gYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBjb25zdCBlbmFibGVkID0gZ2FtZS5zZXR0aW5ncy5nZXQoUHJvcGVydGllcy5tb2R1bGUubmFtZSwgc3lzdGVtU3BlYy5jb21wZW5kaXVtUGFja0tleSArICcuZW5hYmxlZCcpO1xyXG4gICAgc3lzdGVtU3BlYy5pc0VuYWJsZWQoZW5hYmxlZCk7XHJcbiAgICBsZXQgc3lzdGVtOiBDcmFmdGluZ1N5c3RlbSA9IHN5c3RlbVNwZWMuYnVpbGQoKTtcclxuICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkucmVnaXN0ZXIoc3lzdGVtKTtcclxuICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IExvYWRlZCAke3N5c3RlbVNwZWMubmFtZX0uIGApO1xyXG59XHJcblxyXG4vKipcclxuICogRmFsbGJhY2sgYXdhaXRlciBmb3IgbG9hZGluZyBjb21wZW5kaXVtIGNvbnRlbnQsIGFzIHRoaXMgd2FzIG9ic2VydmVkIHRvIGJlIHVucmVsaWFibGUgZHVyaW5nIGRldmVsb3BtZW50IGFmdGVyIHRoZVxyXG4gKiBnYW1lICdyZWFkeScgSG9vayB3YXMgZmlyZWRcclxuICpcclxuICogQHBhcmFtIGNvbXBlbmRpdW0gVGhlIENvbXBlbmRpdW0gZnJvbSB3aGljaCB0byByZWxpYWJseSBsb2FkIHRoZSBDb250ZW50XHJcbiAqIEBwYXJhbSBtYXhBdHRlbXB0cyBUaGUgbWF4aW11bSBudW1iZXIgb2YgdGltZXMgdG8gYXR0ZW1wdCBsb2FkaW5nIENvbXBlbmRpdW0gQ29udGVudFxyXG4gKiAqL1xyXG5hc3luYyBmdW5jdGlvbiBsb2FkQ29tcGVuZGl1bUNvbnRlbnQoY29tcGVuZGl1bTogQ29tcGVuZGl1bSwgbWF4QXR0ZW1wdHM6IG51bWJlcik6IFByb21pc2U8RW50aXR5PHt9PltdPiB7XHJcbiAgICBsZXQgY29udGVudDogRW50aXR5W10gPSBhd2FpdCBjb21wZW5kaXVtLmdldENvbnRlbnQoKTtcclxuICAgIGxldCBhdHRlbXB0czogbnVtYmVyID0gMDtcclxuICAgIHdoaWxlICgoIWNvbnRlbnQgfHwgKGNvbnRlbnQubGVuZ3RoID09PSAwKSkgJiYgKGF0dGVtcHRzIDw9IG1heEF0dGVtcHRzKSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke1Byb3BlcnRpZXMubW9kdWxlLmxhYmVsfSB8IFdhaXRpbmcgZm9yIGNvbnRlbnQgaW4gQ29tcGVuZGl1bSBQYWNrICR7Y29tcGVuZGl1bS5pZH0gKEF0dGVtcHQgJHthdHRlbXB0c30gb2YgJHttYXhBdHRlbXB0c30uIGApO1xyXG4gICAgICAgIGF3YWl0IHdhaXQoMTAwMCk7XHJcbiAgICAgICAgYXR0ZW1wdHMrKztcclxuICAgICAgICBjb250ZW50ID0gYXdhaXQgY29tcGVuZGl1bS5nZXRDb250ZW50KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29udGVudDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSBhc3luYyBhd2FpdGVyIGRlbGF5IGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSBkZWxheSBUaGUgbnVtYmVyIG9mIG1pbGxpcyB0byB3YWl0IGJlZm9yZSByZXNvbHZpbmdcclxuICogQHJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBvbmNlIHRoZSBkZWxheSBwZXJpb2QgaGFzIGVsYXBzZWRcclxuICogKi9cclxuYXN5bmMgZnVuY3Rpb24gd2FpdChkZWxheTogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XHJcbn1cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scripts/module.ts\n");

/***/ }),

/***/ "./src/scripts/registries/CraftingSystemRegistry.ts":
/*!**********************************************************!*\
  !*** ./src/scripts/registries/CraftingSystemRegistry.ts ***!
  \**********************************************************/
/*! exports provided: CraftingSystemRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CraftingSystemRegistry\", function() { return CraftingSystemRegistry; });\n/* harmony import */ var _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/CraftingSystem */ \"./src/scripts/core/CraftingSystem.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_Fabricator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Fabricator */ \"./src/scripts/core/Fabricator.ts\");\n/* harmony import */ var _system_definitions_AlchemistsSuppliesV11__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./system_definitions/AlchemistsSuppliesV11 */ \"./src/scripts/registries/system_definitions/AlchemistsSuppliesV11.ts\");\n\r\n\r\n\r\nclass CraftingSystemRegistry {\r\n    constructor() {\r\n        if (CraftingSystemRegistry.instance) {\r\n            throw new Error('CraftingSystemRegistry is a singleton. Use `CraftingSystemRegistry.getInstance()` instead. ');\r\n        }\r\n    }\r\n    static getInstance() {\r\n        return CraftingSystemRegistry.instance;\r\n    }\r\n    static register(system) {\r\n        CraftingSystemRegistry.craftingSystemsByCompendiumKey.set(system.compendiumPackKey, system);\r\n        CraftingSystemRegistry.resolveRecipesForSystem(system);\r\n    }\r\n    static resolveRecipesForSystem(system) {\r\n        system.recipes.forEach((recipe) => {\r\n            CraftingSystemRegistry.craftingSystemsByRecipeId.set(recipe.partId, system);\r\n        });\r\n    }\r\n    static getSystemByCompendiumPackKey(id) {\r\n        if (CraftingSystemRegistry.craftingSystemsByCompendiumKey.has(id)) {\r\n            return CraftingSystemRegistry.craftingSystemsByCompendiumKey.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Compendium Pack Key ${id}. `);\r\n    }\r\n    static getSystemByRecipeId(id) {\r\n        if (CraftingSystemRegistry.craftingSystemsByRecipeId.has(id)) {\r\n            return CraftingSystemRegistry.craftingSystemsByRecipeId.get(id);\r\n        }\r\n        throw new Error(`No Crafting system is registered with Fabricate for the Recipe ${id}. `);\r\n    }\r\n    static getAllSystems() {\r\n        return Array.from(CraftingSystemRegistry.craftingSystemsByCompendiumKey.values());\r\n    }\r\n    static get systemSpecifications() {\r\n        return this._systemSpecifications;\r\n    }\r\n    static declareSpecification(spec) {\r\n        CraftingSystemRegistry._systemSpecifications.push(spec);\r\n    }\r\n}\r\nCraftingSystemRegistry.instance = new CraftingSystemRegistry();\r\nCraftingSystemRegistry.craftingSystemsByCompendiumKey = new Map();\r\nCraftingSystemRegistry.craftingSystemsByRecipeId = new Map();\r\nCraftingSystemRegistry._systemSpecifications = [];\r\nconst testSystemSpec = _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_0__[\"CraftingSystem\"].builder()\r\n    .withName('Child\\'s Play')\r\n    .withEnableHint('Enable the test Crafting System for Fabricate?')\r\n    .withCompendiumPackKey('fabricate.fabricate-test')\r\n    .withSupportedGameSystem(_core_GameSystemType__WEBPACK_IMPORTED_MODULE_1__[\"GameSystemType\"].DND5E)\r\n    .withFabricator(new _core_Fabricator__WEBPACK_IMPORTED_MODULE_2__[\"DefaultFabricator\"]());\r\nCraftingSystemRegistry.declareSpecification(testSystemSpec);\r\n\r\nCraftingSystemRegistry.declareSpecification(_system_definitions_AlchemistsSuppliesV11__WEBPACK_IMPORTED_MODULE_3__[\"AlchemistsSuppliesSystemSpec\"]);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHM/MTlmYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBc0Q7QUFFQTtBQUNEO0FBRXJELE1BQU0sc0JBQXNCO0lBT3hCO1FBQ0ksSUFBSSxzQkFBc0IsQ0FBQyxRQUFRLEVBQUU7WUFDakMsTUFBTSxJQUFJLEtBQUssQ0FBQyw2RkFBNkYsQ0FBQyxDQUFDO1NBQ2xIO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxXQUFXO1FBQ3JCLE9BQU8sc0JBQXNCLENBQUMsUUFBUSxDQUFDO0lBQzNDLENBQUM7SUFFTSxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQXNCO1FBQ3pDLHNCQUFzQixDQUFDLDhCQUE4QixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDNUYsc0JBQXNCLENBQUMsdUJBQXVCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVPLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxNQUFzQjtRQUN6RCxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQWMsRUFBRSxFQUFFO1lBQ3RDLHNCQUFzQixDQUFDLHlCQUF5QixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ2hGLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVNLE1BQU0sQ0FBQyw0QkFBNEIsQ0FBQyxFQUFTO1FBQ2hELElBQUksc0JBQXNCLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQy9ELE9BQU8sc0JBQXNCLENBQUMsOEJBQThCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3hFO1FBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQywrRUFBK0UsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUMzRyxDQUFDO0lBRU0sTUFBTSxDQUFDLG1CQUFtQixDQUFDLEVBQVM7UUFDdkMsSUFBSSxzQkFBc0IsQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDMUQsT0FBTyxzQkFBc0IsQ0FBQyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDbkU7UUFDRCxNQUFNLElBQUksS0FBSyxDQUFDLGtFQUFrRSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzlGLENBQUM7SUFFTSxNQUFNLENBQUMsYUFBYTtRQUN2QixPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsOEJBQThCLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBRU0sTUFBTSxLQUFLLG9CQUFvQjtRQUNsQyxPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztJQUN0QyxDQUFDO0lBRU0sTUFBTSxDQUFDLG9CQUFvQixDQUFDLElBQTRCO1FBQzNELHNCQUFzQixDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1RCxDQUFDOztBQW5EYywrQkFBUSxHQUEyQixJQUFJLHNCQUFzQixFQUFFLENBQUM7QUFFaEUscURBQThCLEdBQWdDLElBQUksR0FBRyxFQUEwQixDQUFDO0FBQ2hHLGdEQUF5QixHQUFnQyxJQUFJLEdBQUcsRUFBMEIsQ0FBQztBQUMzRiw0Q0FBcUIsR0FBNkIsRUFBRSxDQUFDO0FBbUR4RSxNQUFNLGNBQWMsR0FBMkIsbUVBQWMsQ0FBQyxPQUFPLEVBQUU7S0FDbEUsUUFBUSxDQUFDLGVBQWUsQ0FBQztLQUN6QixjQUFjLENBQUMsZ0RBQWdELENBQUM7S0FDaEUscUJBQXFCLENBQUMsMEJBQTBCLENBQUM7S0FDakQsdUJBQXVCLENBQUMsbUVBQWMsQ0FBQyxLQUFLLENBQUM7S0FDN0MsY0FBYyxDQUFDLElBQUksa0VBQWlCLEVBQUUsQ0FBQyxDQUFDO0FBQzdDLHNCQUFzQixDQUFDLG9CQUFvQixDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBRTJCO0FBQ3ZGLHNCQUFzQixDQUFDLG9CQUFvQixDQUFDLHNHQUE0QixDQUFDLENBQUM7QUFFM0MiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NyYWZ0aW5nU3lzdGVtfSBmcm9tIFwiLi4vY29yZS9DcmFmdGluZ1N5c3RlbVwiO1xyXG5pbXBvcnQge1JlY2lwZX0gZnJvbSBcIi4uL2NvcmUvUmVjaXBlXCI7XHJcbmltcG9ydCB7R2FtZVN5c3RlbVR5cGV9IGZyb20gXCIuLi9jb3JlL0dhbWVTeXN0ZW1UeXBlXCI7XHJcbmltcG9ydCB7RGVmYXVsdEZhYnJpY2F0b3J9IGZyb20gXCIuLi9jb3JlL0ZhYnJpY2F0b3JcIjtcclxuXHJcbmNsYXNzIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkgPSBuZXcgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeSgpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGNyYWZ0aW5nU3lzdGVtc0J5Q29tcGVuZGl1bUtleTogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPigpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3JhZnRpbmdTeXN0ZW1zQnlSZWNpcGVJZDogTWFwPHN0cmluZywgQ3JhZnRpbmdTeXN0ZW0+ID0gbmV3IE1hcDxzdHJpbmcsIENyYWZ0aW5nU3lzdGVtPigpO1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3N5c3RlbVNwZWNpZmljYXRpb25zOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBpZiAoQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NyYWZ0aW5nU3lzdGVtUmVnaXN0cnkgaXMgYSBzaW5nbGV0b24uIFVzZSBgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5nZXRJbnN0YW5jZSgpYCBpbnN0ZWFkLiAnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5IHtcclxuICAgICAgICByZXR1cm4gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5pbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIHJlZ2lzdGVyKHN5c3RlbTogQ3JhZnRpbmdTeXN0ZW0pOiB2b2lkIHtcclxuICAgICAgICBDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5Q29tcGVuZGl1bUtleS5zZXQoc3lzdGVtLmNvbXBlbmRpdW1QYWNrS2V5LCBzeXN0ZW0pO1xyXG4gICAgICAgIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkucmVzb2x2ZVJlY2lwZXNGb3JTeXN0ZW0oc3lzdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyByZXNvbHZlUmVjaXBlc0ZvclN5c3RlbShzeXN0ZW06IENyYWZ0aW5nU3lzdGVtKTogdm9pZCB7XHJcbiAgICAgICAgc3lzdGVtLnJlY2lwZXMuZm9yRWFjaCgocmVjaXBlOiBSZWNpcGUpID0+IHtcclxuICAgICAgICAgICAgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5jcmFmdGluZ1N5c3RlbXNCeVJlY2lwZUlkLnNldChyZWNpcGUucGFydElkLCBzeXN0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U3lzdGVtQnlDb21wZW5kaXVtUGFja0tleShpZDpzdHJpbmcpOiBDcmFmdGluZ1N5c3RlbSB7XHJcbiAgICAgICAgaWYgKENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmhhcyhpZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIENyYWZ0aW5nU3lzdGVtUmVnaXN0cnkuY3JhZnRpbmdTeXN0ZW1zQnlDb21wZW5kaXVtS2V5LmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBDb21wZW5kaXVtIFBhY2sgS2V5ICR7aWR9LiBgKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldFN5c3RlbUJ5UmVjaXBlSWQoaWQ6c3RyaW5nKTogQ3JhZnRpbmdTeXN0ZW0ge1xyXG4gICAgICAgIGlmIChDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5UmVjaXBlSWQuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5jcmFmdGluZ1N5c3RlbXNCeVJlY2lwZUlkLmdldChpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gQ3JhZnRpbmcgc3lzdGVtIGlzIHJlZ2lzdGVyZWQgd2l0aCBGYWJyaWNhdGUgZm9yIHRoZSBSZWNpcGUgJHtpZH0uIGApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0QWxsU3lzdGVtcygpOiBDcmFmdGluZ1N5c3RlbVtdIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShDcmFmdGluZ1N5c3RlbVJlZ2lzdHJ5LmNyYWZ0aW5nU3lzdGVtc0J5Q29tcGVuZGl1bUtleS52YWx1ZXMoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXQgc3lzdGVtU3BlY2lmaWNhdGlvbnMoKTogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlcltdIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3lzdGVtU3BlY2lmaWNhdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBkZWNsYXJlU3BlY2lmaWNhdGlvbihzcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyKSB7XHJcbiAgICAgICAgQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5fc3lzdGVtU3BlY2lmaWNhdGlvbnMucHVzaChzcGVjKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IHRlc3RTeXN0ZW1TcGVjOiBDcmFmdGluZ1N5c3RlbS5CdWlsZGVyID0gQ3JhZnRpbmdTeXN0ZW0uYnVpbGRlcigpXHJcbiAgICAud2l0aE5hbWUoJ0NoaWxkXFwncyBQbGF5JylcclxuICAgIC53aXRoRW5hYmxlSGludCgnRW5hYmxlIHRoZSB0ZXN0IENyYWZ0aW5nIFN5c3RlbSBmb3IgRmFicmljYXRlPycpXHJcbiAgICAud2l0aENvbXBlbmRpdW1QYWNrS2V5KCdmYWJyaWNhdGUuZmFicmljYXRlLXRlc3QnKVxyXG4gICAgLndpdGhTdXBwb3J0ZWRHYW1lU3lzdGVtKEdhbWVTeXN0ZW1UeXBlLkRORDVFKVxyXG4gICAgLndpdGhGYWJyaWNhdG9yKG5ldyBEZWZhdWx0RmFicmljYXRvcigpKTtcclxuQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5kZWNsYXJlU3BlY2lmaWNhdGlvbih0ZXN0U3lzdGVtU3BlYyk7XHJcblxyXG5pbXBvcnQge0FsY2hlbWlzdHNTdXBwbGllc1N5c3RlbVNwZWN9IGZyb20gJy4vc3lzdGVtX2RlZmluaXRpb25zL0FsY2hlbWlzdHNTdXBwbGllc1YxMSdcclxuQ3JhZnRpbmdTeXN0ZW1SZWdpc3RyeS5kZWNsYXJlU3BlY2lmaWNhdGlvbihBbGNoZW1pc3RzU3VwcGxpZXNTeXN0ZW1TcGVjKTtcclxuXHJcbmV4cG9ydCB7Q3JhZnRpbmdTeXN0ZW1SZWdpc3RyeX0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scripts/registries/CraftingSystemRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/registries/InventoryRegistry.ts":
/*!*****************************************************!*\
  !*** ./src/scripts/registries/InventoryRegistry.ts ***!
  \*****************************************************/
/*! exports provided: InventoryRegistry */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InventoryRegistry\", function() { return InventoryRegistry; });\nclass InventoryRegistry {\r\n    constructor() {\r\n        if (InventoryRegistry.instance) {\r\n            throw new Error('InventoryRegistry is a singleton. Use `InventoryRegistry.getInstance()` instead. ');\r\n        }\r\n    }\r\n    static getInstance() {\r\n        return InventoryRegistry.instance;\r\n    }\r\n    static addFor(actorId, inventory) {\r\n        if (this._managedInventories.has(actorId)) {\r\n            throw new Error(`The Crafting Inventory for Actor[${actorId}] is already managed by Fabricate and should not be overridden. `);\r\n        }\r\n        this._managedInventories.set(actorId, inventory);\r\n    }\r\n    static getFor(actorId) {\r\n        return this._managedInventories.get(actorId);\r\n    }\r\n}\r\nInventoryRegistry.instance = new InventoryRegistry();\r\nInventoryRegistry._managedInventories = new Map();\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzPzE4MzYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBLE1BQU0saUJBQWlCO0lBTW5CO1FBQ0ksSUFBSSxpQkFBaUIsQ0FBQyxRQUFRLEVBQUU7WUFDNUIsTUFBTSxJQUFJLEtBQUssQ0FBQyxtRkFBbUYsQ0FBQyxDQUFDO1NBQ3hHO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxXQUFXO1FBQ3JCLE9BQU8saUJBQWlCLENBQUMsUUFBUSxDQUFDO0lBQ3RDLENBQUM7SUFFTSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQWUsRUFBRSxTQUFvQjtRQUN0RCxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDdkMsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQ0FBb0MsT0FBTyxrRUFBa0UsQ0FBQyxDQUFDO1NBQ2xJO1FBQ0QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVNLE1BQU0sQ0FBQyxNQUFNLENBQUMsT0FBZTtRQUNoQyxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakQsQ0FBQzs7QUF2QmMsMEJBQVEsR0FBc0IsSUFBSSxpQkFBaUIsRUFBRSxDQUFDO0FBRXRELHFDQUFtQixHQUEyQixJQUFJLEdBQUcsRUFBcUIsQ0FBQztBQXdCcEUiLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL0ludmVudG9yeVJlZ2lzdHJ5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbnZlbnRvcnl9IGZyb20gXCIuLi9nYW1lL0ludmVudG9yeVwiO1xyXG5cclxuY2xhc3MgSW52ZW50b3J5UmVnaXN0cnkge1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBJbnZlbnRvcnlSZWdpc3RyeSA9IG5ldyBJbnZlbnRvcnlSZWdpc3RyeSgpO1xyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIF9tYW5hZ2VkSW52ZW50b3JpZXM6IE1hcDxzdHJpbmcsIEludmVudG9yeT4gPSBuZXcgTWFwPHN0cmluZywgSW52ZW50b3J5PigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGlmIChJbnZlbnRvcnlSZWdpc3RyeS5pbnN0YW5jZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmVudG9yeVJlZ2lzdHJ5IGlzIGEgc2luZ2xldG9uLiBVc2UgYEludmVudG9yeVJlZ2lzdHJ5LmdldEluc3RhbmNlKClgIGluc3RlYWQuICcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEludmVudG9yeVJlZ2lzdHJ5IHtcclxuICAgICAgICByZXR1cm4gSW52ZW50b3J5UmVnaXN0cnkuaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRGb3IoYWN0b3JJZDogc3RyaW5nLCBpbnZlbnRvcnk6IEludmVudG9yeSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLl9tYW5hZ2VkSW52ZW50b3JpZXMuaGFzKGFjdG9ySWQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIENyYWZ0aW5nIEludmVudG9yeSBmb3IgQWN0b3JbJHthY3RvcklkfV0gaXMgYWxyZWFkeSBtYW5hZ2VkIGJ5IEZhYnJpY2F0ZSBhbmQgc2hvdWxkIG5vdCBiZSBvdmVycmlkZGVuLiBgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlZEludmVudG9yaWVzLnNldChhY3RvcklkLCBpbnZlbnRvcnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0Rm9yKGFjdG9ySWQ6IHN0cmluZyk6IEludmVudG9yeSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hbmFnZWRJbnZlbnRvcmllcy5nZXQoYWN0b3JJZCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7SW52ZW50b3J5UmVnaXN0cnl9Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/InventoryRegistry.ts\n");

/***/ }),

/***/ "./src/scripts/registries/system_definitions/AlchemistsSuppliesV11.ts":
/*!****************************************************************************!*\
  !*** ./src/scripts/registries/system_definitions/AlchemistsSuppliesV11.ts ***!
  \****************************************************************************/
/*! exports provided: AlchemistsSuppliesSystemSpec */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AlchemistsSuppliesSystemSpec\", function() { return AlchemistsSuppliesSystemSpec; });\n/* harmony import */ var _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dnd5e/AlchemicalResult5E */ \"./src/scripts/dnd5e/AlchemicalResult5E.ts\");\n/* harmony import */ var _core_AlchemicalResultSet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/AlchemicalResultSet */ \"./src/scripts/core/AlchemicalResultSet.ts\");\n/* harmony import */ var _dnd5e_DefaultEssenceCombiner5E__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../dnd5e/DefaultEssenceCombiner5E */ \"./src/scripts/dnd5e/DefaultEssenceCombiner5E.ts\");\n/* harmony import */ var _core_Fabricator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/Fabricator */ \"./src/scripts/core/Fabricator.ts\");\n/* harmony import */ var _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/CraftingSystem */ \"./src/scripts/core/CraftingSystem.ts\");\n/* harmony import */ var _core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/GameSystemType */ \"./src/scripts/core/GameSystemType.ts\");\n/* harmony import */ var _core_CraftingComponent__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/CraftingComponent */ \"./src/scripts/core/CraftingComponent.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst blinding = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['EARTH', 'EARTH'])\r\n    .withDescription('Release a burst of stinging dust. Affected ' +\r\n    'targets are blinded for the next round.')\r\n    .build();\r\nconst prone = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['WATER', 'WATER'])\r\n    .withDescription('Release a puddle of slippery oil. Affected ' +\r\n    'targets immediately fall prone.')\r\n    .build();\r\nconst lightning = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['AIR', 'AIR'])\r\n    .withDescription('Deal 1d4 lightning damage on contact. ' +\r\n    'Double damage to targets touching a metal ' +\r\n    'surface or using metal weapons or armor.')\r\n    .withRolledDamage({ faces: 4, amount: 1 }, 'lightning')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst fire = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['FIRE', 'FIRE'])\r\n    .withDescription('Deal 1d4 fire damage on contact. Double ' +\r\n    'damage to targets with cloth or leather armor.')\r\n    .withRolledDamage({ faces: 4, amount: 1 }, 'fire')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst gel = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['EARTH', 'WATER'])\r\n    .withDescription('Release gel that sticks to targets. Each round,' +\r\n    'any damage-dealing effects continue to deal 1 ' +\r\n    'damage each until an action is used to remove ' +\r\n    'the gel with a DC 10 Dexterity check.')\r\n    .withFixedDamage(1, 'none')\r\n    .withSavingThrow('dex', 10, 'flat')\r\n    .withDuration('special')\r\n    .build();\r\nconst slow = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['WATER', 'AIR'])\r\n    .withDescription('Deal 1d4 cold damage on contact. Reduce ' +\r\n    'target speed by 10 feet for the next round.')\r\n    .withRolledDamage({ faces: 4, amount: 1 }, 'cold')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst spray = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['AIR', 'FIRE'])\r\n    .withDescription('Release concentrated mist in all directions. ' +\r\n    'Increase the radius of all effects by 5 feet.')\r\n    .withAoEExtender('ADD', 5, 'radius')\r\n    .build();\r\nconst acid = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['FIRE', 'EARTH'])\r\n    .withDescription('Deal 1d8 acid damage on contact.')\r\n    .withRolledDamage({ faces: 8, amount: 1 }, 'acid')\r\n    .withTarget('none', 1, 'creature')\r\n    .build();\r\nconst doubleDamageDie = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['POSITIVE_ENERGY'])\r\n    .withDescription('Roll double the number of all damage dice.')\r\n    .withDamageModifier('MULTIPLY', 2)\r\n    .build();\r\nconst increaseDC = _dnd5e_AlchemicalResult5E__WEBPACK_IMPORTED_MODULE_0__[\"AlchemicalResult5E\"].builder()\r\n    .withEssenceCombination(['NEGATIVE_ENERGY'])\r\n    .withDescription('Increase the DC to avoid bomb effects by 2.')\r\n    .withSavingThrowModifier('ADD', 2)\r\n    .build();\r\nconst knownAlchemicalResults = _core_AlchemicalResultSet__WEBPACK_IMPORTED_MODULE_1__[\"AlchemicalResultSet\"].builder()\r\n    .withResult(blinding)\r\n    .withResult(prone)\r\n    .withResult(lightning)\r\n    .withResult(fire)\r\n    .withResult(gel)\r\n    .withResult(slow)\r\n    .withResult(spray)\r\n    .withResult(acid)\r\n    .withResult(doubleDamageDie)\r\n    .withResult(increaseDC)\r\n    .build();\r\nconst essenceCombiner = _dnd5e_DefaultEssenceCombiner5E__WEBPACK_IMPORTED_MODULE_2__[\"DefaultEssenceCombiner5E\"].builder()\r\n    .withMaxComponents(6)\r\n    .withMaxEssences(6)\r\n    .withKnownAlchemicalResults(knownAlchemicalResults)\r\n    .withResultantItem(_core_CraftingComponent__WEBPACK_IMPORTED_MODULE_6__[\"CraftingComponent\"].builder()\r\n    .withName('Alchemical Bomb')\r\n    .withImageUrl('systems/dnd5e/icons/items/inventory/bomb.jpg')\r\n    .withPartId('90z9nOwmGnP4aUUk')\r\n    .withSystemId('fabricate.alchemists-supplies-v11')\r\n    .withEssences([])\r\n    .build())\r\n    .build();\r\nconst fabricator = new _core_Fabricator__WEBPACK_IMPORTED_MODULE_3__[\"EssenceCombiningFabricator\"](essenceCombiner);\r\nconst AlchemistsSuppliesSystemSpec = _core_CraftingSystem__WEBPACK_IMPORTED_MODULE_4__[\"CraftingSystem\"].builder()\r\n    .withName('Alchemist\\'s Supplies v1.1')\r\n    .withCompendiumPackKey('fabricate.alchemists-supplies-v11')\r\n    .withEnableHint('Enable the Alchemist\\'s Supplies v1.1 crafting system by /u/calculusChild?')\r\n    .withSupportedGameSystem(_core_GameSystemType__WEBPACK_IMPORTED_MODULE_5__[\"GameSystemType\"].DND5E)\r\n    .withFabricator(fabricator);\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL3N5c3RlbV9kZWZpbml0aW9ucy9BbGNoZW1pc3RzU3VwcGxpZXNWMTEudHM/OTBjOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBa0U7QUFDQztBQUVXO0FBQ2I7QUFDUjtBQUNBO0FBQ007QUFFL0QsTUFBTSxRQUFRLEdBQWlDLDRFQUFrQixDQUFDLE9BQU8sRUFBRTtLQUN0RSxzQkFBc0IsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztLQUMxQyxlQUFlLENBQUMsNkNBQTZDO0lBQzFELHlDQUF5QyxDQUFDO0tBQzdDLEtBQUssRUFBRSxDQUFDO0FBRWIsTUFBTSxLQUFLLEdBQWlDLDRFQUFrQixDQUFDLE9BQU8sRUFBRTtLQUNuRSxzQkFBc0IsQ0FBQyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztLQUMxQyxlQUFlLENBQUMsNkNBQTZDO0lBQzFELGlDQUFpQyxDQUFDO0tBQ3JDLEtBQUssRUFBRSxDQUFDO0FBRWIsTUFBTSxTQUFTLEdBQWlDLDRFQUFrQixDQUFDLE9BQU8sRUFBRTtLQUN2RSxzQkFBc0IsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN0QyxlQUFlLENBQUMsd0NBQXdDO0lBQ3JELDRDQUE0QztJQUM1QywwQ0FBMEMsQ0FBQztLQUM5QyxnQkFBZ0IsQ0FBQyxFQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxFQUFFLFdBQVcsQ0FBQztLQUNwRCxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUM7S0FDakMsS0FBSyxFQUFFLENBQUM7QUFFYixNQUFNLElBQUksR0FBaUMsNEVBQWtCLENBQUMsT0FBTyxFQUFFO0tBQ2xFLHNCQUFzQixDQUFDLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxD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QUFJLENBQUM7S0FDaEIsVUFBVSxDQUFDLGVBQWUsQ0FBQztLQUMzQixVQUFVLENBQUMsVUFBVSxDQUFDO0tBQ3RCLEtBQUssRUFBRSxDQUFDO0FBRWIsTUFBTSxlQUFlLEdBQWdDLHdGQUF3QixDQUFDLE9BQU8sRUFBRTtLQUNsRixpQkFBaUIsQ0FBQyxDQUFDLENBQUM7S0FDcEIsZUFBZSxDQUFDLENBQUMsQ0FBQztLQUNsQiwwQkFBMEIsQ0FBQyxzQkFBc0IsQ0FBQztLQUNsRCxpQkFBaUIsQ0FBQyx5RUFBaUIsQ0FBQyxPQUFPLEVBQUU7S0FDekMsUUFBUSxDQUFDLGlCQUFpQixDQUFDO0tBQzNCLFlBQVksQ0FBQyw4Q0FBOEMsQ0FBQztLQUM1RCxVQUFVLENBQUMsa0JBQWtCLENBQUM7S0FDOUIsWUFBWSxDQUFDLG1DQUFtQyxDQUFDO0tBQ2pELFlBQVksQ0FBQyxFQUFFLENBQUM7S0FDaEIsS0FBSyxFQUFFLENBQUM7S0FDWixLQUFLLEVBQUUsQ0FBQztBQUViLE1BQU0sVUFBVSxHQUEyQyxJQUFJLDJFQUEwQixDQUFhLGVBQWUsQ0FBQyxDQUFDO0FBRXZILE1BQU0sNEJBQTRCLEdBQTJCLG1FQUFjLENBQUMsT0FBTyxFQUFFO0tBQ2hGLFFBQVEsQ0FBQyw0QkFBNEIsQ0FBQztLQUN0QyxxQkFBcUIsQ0FBQyxtQ0FBbUMsQ0FBQztLQUMxRCxjQUFjLENBQUMsNEVBQTRFLENBQUM7S0FDNUYsdUJBQXVCLENBQUMsbUVBQWMsQ0FBQyxLQUFLLENBQUM7S0FDN0MsY0FBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBRU0iLCJmaWxlIjoiLi9zcmMvc2NyaXB0cy9yZWdpc3RyaWVzL3N5c3RlbV9kZWZpbml0aW9ucy9BbGNoZW1pc3RzU3VwcGxpZXNWMTEudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FsY2hlbWljYWxSZXN1bHR9IGZyb20gXCIuLi8uLi9jb3JlL0FsY2hlbWljYWxSZXN1bHRcIjtcclxuaW1wb3J0IHtJdGVtRGF0YTVlfSBmcm9tIFwiLi4vLi4vLi4vZ2xvYmFsXCI7XHJcbmltcG9ydCB7QWxjaGVtaWNhbFJlc3VsdDVFfSBmcm9tIFwiLi4vLi4vZG5kNWUvQWxjaGVtaWNhbFJlc3VsdDVFXCI7XHJcbmltcG9ydCB7QWxjaGVtaWNhbFJlc3VsdFNldH0gZnJvbSBcIi4uLy4uL2NvcmUvQWxjaGVtaWNhbFJlc3VsdFNldFwiO1xyXG5pbXBvcnQge0Vzc2VuY2VDb21iaW5lcn0gZnJvbSBcIi4uLy4uL2NvcmUvRXNzZW5jZUNvbWJpbmVyXCI7XHJcbmltcG9ydCB7RGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFfSBmcm9tIFwiLi4vLi4vZG5kNWUvRGVmYXVsdEVzc2VuY2VDb21iaW5lcjVFXCI7XHJcbmltcG9ydCB7RXNzZW5jZUNvbWJpbmluZ0ZhYnJpY2F0b3J9IGZyb20gXCIuLi8uLi9jb3JlL0ZhYnJpY2F0b3JcIjtcclxuaW1wb3J0IHtDcmFmdGluZ1N5c3RlbX0gZnJvbSBcIi4uLy4uL2NvcmUvQ3JhZnRpbmdTeXN0ZW1cIjtcclxuaW1wb3J0IHtHYW1lU3lzdGVtVHlwZX0gZnJvbSBcIi4uLy4uL2NvcmUvR2FtZVN5c3RlbVR5cGVcIjtcclxuaW1wb3J0IHtDcmFmdGluZ0NvbXBvbmVudH0gZnJvbSBcIi4uLy4uL2NvcmUvQ3JhZnRpbmdDb21wb25lbnRcIjtcclxuXHJcbmNvbnN0IGJsaW5kaW5nOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydFQVJUSCcsICdFQVJUSCddKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignUmVsZWFzZSBhIGJ1cnN0IG9mIHN0aW5naW5nIGR1c3QuIEFmZmVjdGVkICcgK1xyXG4gICAgICAgICd0YXJnZXRzIGFyZSBibGluZGVkIGZvciB0aGUgbmV4dCByb3VuZC4nKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBwcm9uZTogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHQ1RS5idWlsZGVyKClcclxuICAgIC53aXRoRXNzZW5jZUNvbWJpbmF0aW9uKFsnV0FURVInLCAnV0FURVInXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ1JlbGVhc2UgYSBwdWRkbGUgb2Ygc2xpcHBlcnkgb2lsLiBBZmZlY3RlZCAnICtcclxuICAgICAgICAndGFyZ2V0cyBpbW1lZGlhdGVseSBmYWxsIHByb25lLicpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IGxpZ2h0bmluZzogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHQ1RS5idWlsZGVyKClcclxuICAgIC53aXRoRXNzZW5jZUNvbWJpbmF0aW9uKFsnQUlSJywgJ0FJUiddKVxyXG4gICAgLndpdGhEZXNjcmlwdGlvbignRGVhbCAxZDQgbGlnaHRuaW5nIGRhbWFnZSBvbiBjb250YWN0LiAnICtcclxuICAgICAgICAnRG91YmxlIGRhbWFnZSB0byB0YXJnZXRzIHRvdWNoaW5nIGEgbWV0YWwgJyArXHJcbiAgICAgICAgJ3N1cmZhY2Ugb3IgdXNpbmcgbWV0YWwgd2VhcG9ucyBvciBhcm1vci4nKVxyXG4gICAgLndpdGhSb2xsZWREYW1hZ2Uoe2ZhY2VzOiA0LCBhbW91bnQ6IDF9LCAnbGlnaHRuaW5nJylcclxuICAgIC53aXRoVGFyZ2V0KCdub25lJywgMSwgJ2NyZWF0dXJlJylcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3QgZmlyZTogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHQ1RS5idWlsZGVyKClcclxuICAgIC53aXRoRXNzZW5jZUNvbWJpbmF0aW9uKFsnRklSRScsICdGSVJFJ10pXHJcbiAgICAud2l0aERlc2NyaXB0aW9uKCdEZWFsIDFkNCBmaXJlIGRhbWFnZSBvbiBjb250YWN0LiBEb3VibGUgJyArXHJcbiAgICAgICAgJ2RhbWFnZSB0byB0YXJnZXRzIHdpdGggY2xvdGggb3IgbGVhdGhlciBhcm1vci4nKVxyXG4gICAgLndpdGhSb2xsZWREYW1hZ2Uoe2ZhY2VzOiA0LCBhbW91bnQ6IDF9LCAnZmlyZScpXHJcbiAgICAud2l0aFRhcmdldCgnbm9uZScsIDEsICdjcmVhdHVyZScpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbmNvbnN0IGdlbDogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHQ1RS5idWlsZGVyKClcclxuICAgIC53aXRoRXNzZW5jZUNvbWJpbmF0aW9uKFsnRUFSVEgnLCAnV0FURVInXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ1JlbGVhc2UgZ2VsIHRoYXQgc3RpY2tzIHRvIHRhcmdldHMuIEVhY2ggcm91bmQsJyArXHJcbiAgICAgICAgJ2FueSBkYW1hZ2UtZGVhbGluZyBlZmZlY3RzIGNvbnRpbnVlIHRvIGRlYWwgMSAnICtcclxuICAgICAgICAnZGFtYWdlIGVhY2ggdW50aWwgYW4gYWN0aW9uIGlzIHVzZWQgdG8gcmVtb3ZlICcgK1xyXG4gICAgICAgICd0aGUgZ2VsIHdpdGggYSBEQyAxMCBEZXh0ZXJpdHkgY2hlY2suJylcclxuICAgIC53aXRoRml4ZWREYW1hZ2UoMSwgJ25vbmUnKVxyXG4gICAgLndpdGhTYXZpbmdUaHJvdygnZGV4JywgMTAsICdmbGF0JylcclxuICAgIC53aXRoRHVyYXRpb24oJ3NwZWNpYWwnKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBzbG93OiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydXQVRFUicsICdBSVInXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ0RlYWwgMWQ0IGNvbGQgZGFtYWdlIG9uIGNvbnRhY3QuIFJlZHVjZSAnICtcclxuICAgICAgICAndGFyZ2V0IHNwZWVkIGJ5IDEwIGZlZXQgZm9yIHRoZSBuZXh0IHJvdW5kLicpXHJcbiAgICAud2l0aFJvbGxlZERhbWFnZSh7ZmFjZXM6IDQsIGFtb3VudDogMX0sICdjb2xkJylcclxuICAgIC53aXRoVGFyZ2V0KCdub25lJywgMSwgJ2NyZWF0dXJlJylcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3Qgc3ByYXk6IEFsY2hlbWljYWxSZXN1bHQ8SXRlbURhdGE1ZT4gPSBBbGNoZW1pY2FsUmVzdWx0NUUuYnVpbGRlcigpXHJcbiAgICAud2l0aEVzc2VuY2VDb21iaW5hdGlvbihbJ0FJUicsICdGSVJFJ10pXHJcbiAgICAud2l0aERlc2NyaXB0aW9uKCdSZWxlYXNlIGNvbmNlbnRyYXRlZCBtaXN0IGluIGFsbCBkaXJlY3Rpb25zLiAnICtcclxuICAgICAgICAnSW5jcmVhc2UgdGhlIHJhZGl1cyBvZiBhbGwgZWZmZWN0cyBieSA1IGZlZXQuJylcclxuICAgIC53aXRoQW9FRXh0ZW5kZXIoJ0FERCcsIDUsICdyYWRpdXMnKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBhY2lkOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydGSVJFJywgJ0VBUlRIJ10pXHJcbiAgICAud2l0aERlc2NyaXB0aW9uKCdEZWFsIDFkOCBhY2lkIGRhbWFnZSBvbiBjb250YWN0LicpXHJcbiAgICAud2l0aFJvbGxlZERhbWFnZSh7ZmFjZXM6IDgsIGFtb3VudDogMX0sICdhY2lkJylcclxuICAgIC53aXRoVGFyZ2V0KCdub25lJywgMSwgJ2NyZWF0dXJlJylcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3QgZG91YmxlRGFtYWdlRGllOiBBbGNoZW1pY2FsUmVzdWx0PEl0ZW1EYXRhNWU+ID0gQWxjaGVtaWNhbFJlc3VsdDVFLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhFc3NlbmNlQ29tYmluYXRpb24oWydQT1NJVElWRV9FTkVSR1knXSlcclxuICAgIC53aXRoRGVzY3JpcHRpb24oJ1JvbGwgZG91YmxlIHRoZSBudW1iZXIgb2YgYWxsIGRhbWFnZSBkaWNlLicpXHJcbiAgICAud2l0aERhbWFnZU1vZGlmaWVyKCdNVUxUSVBMWScsMilcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3QgaW5jcmVhc2VEQzogQWxjaGVtaWNhbFJlc3VsdDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHQ1RS5idWlsZGVyKClcclxuICAgIC53aXRoRXNzZW5jZUNvbWJpbmF0aW9uKFsnTkVHQVRJVkVfRU5FUkdZJ10pXHJcbiAgICAud2l0aERlc2NyaXB0aW9uKCdJbmNyZWFzZSB0aGUgREMgdG8gYXZvaWQgYm9tYiBlZmZlY3RzIGJ5IDIuJylcclxuICAgIC53aXRoU2F2aW5nVGhyb3dNb2RpZmllcignQUREJywgMilcclxuICAgIC5idWlsZCgpO1xyXG5cclxuY29uc3Qga25vd25BbGNoZW1pY2FsUmVzdWx0czogQWxjaGVtaWNhbFJlc3VsdFNldDxJdGVtRGF0YTVlPiA9IEFsY2hlbWljYWxSZXN1bHRTZXQuYnVpbGRlcigpXHJcbiAgICAud2l0aFJlc3VsdChibGluZGluZylcclxuICAgIC53aXRoUmVzdWx0KHByb25lKVxyXG4gICAgLndpdGhSZXN1bHQobGlnaHRuaW5nKVxyXG4gICAgLndpdGhSZXN1bHQoZmlyZSlcclxuICAgIC53aXRoUmVzdWx0KGdlbClcclxuICAgIC53aXRoUmVzdWx0KHNsb3cpXHJcbiAgICAud2l0aFJlc3VsdChzcHJheSlcclxuICAgIC53aXRoUmVzdWx0KGFjaWQpXHJcbiAgICAud2l0aFJlc3VsdChkb3VibGVEYW1hZ2VEaWUpXHJcbiAgICAud2l0aFJlc3VsdChpbmNyZWFzZURDKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBlc3NlbmNlQ29tYmluZXI6IEVzc2VuY2VDb21iaW5lcjxJdGVtRGF0YTVlPiA9IERlZmF1bHRFc3NlbmNlQ29tYmluZXI1RS5idWlsZGVyKClcclxuICAgIC53aXRoTWF4Q29tcG9uZW50cyg2KVxyXG4gICAgLndpdGhNYXhFc3NlbmNlcyg2KVxyXG4gICAgLndpdGhLbm93bkFsY2hlbWljYWxSZXN1bHRzKGtub3duQWxjaGVtaWNhbFJlc3VsdHMpXHJcbiAgICAud2l0aFJlc3VsdGFudEl0ZW0oQ3JhZnRpbmdDb21wb25lbnQuYnVpbGRlcigpXHJcbiAgICAgICAgLndpdGhOYW1lKCdBbGNoZW1pY2FsIEJvbWInKVxyXG4gICAgICAgIC53aXRoSW1hZ2VVcmwoJ3N5c3RlbXMvZG5kNWUvaWNvbnMvaXRlbXMvaW52ZW50b3J5L2JvbWIuanBnJylcclxuICAgICAgICAud2l0aFBhcnRJZCgnOTB6OW5Pd21HblA0YVVVaycpXHJcbiAgICAgICAgLndpdGhTeXN0ZW1JZCgnZmFicmljYXRlLmFsY2hlbWlzdHMtc3VwcGxpZXMtdjExJylcclxuICAgICAgICAud2l0aEVzc2VuY2VzKFtdKVxyXG4gICAgICAgIC5idWlsZCgpKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG5jb25zdCBmYWJyaWNhdG9yOiBFc3NlbmNlQ29tYmluaW5nRmFicmljYXRvcjxJdGVtRGF0YTVlPiA9IG5ldyBFc3NlbmNlQ29tYmluaW5nRmFicmljYXRvcjxJdGVtRGF0YTVlPihlc3NlbmNlQ29tYmluZXIpO1xyXG5cclxuY29uc3QgQWxjaGVtaXN0c1N1cHBsaWVzU3lzdGVtU3BlYzogQ3JhZnRpbmdTeXN0ZW0uQnVpbGRlciA9IENyYWZ0aW5nU3lzdGVtLmJ1aWxkZXIoKVxyXG4gICAgLndpdGhOYW1lKCdBbGNoZW1pc3RcXCdzIFN1cHBsaWVzIHYxLjEnKVxyXG4gICAgLndpdGhDb21wZW5kaXVtUGFja0tleSgnZmFicmljYXRlLmFsY2hlbWlzdHMtc3VwcGxpZXMtdjExJylcclxuICAgIC53aXRoRW5hYmxlSGludCgnRW5hYmxlIHRoZSBBbGNoZW1pc3RcXCdzIFN1cHBsaWVzIHYxLjEgY3JhZnRpbmcgc3lzdGVtIGJ5IC91L2NhbGN1bHVzQ2hpbGQ/JylcclxuICAgIC53aXRoU3VwcG9ydGVkR2FtZVN5c3RlbShHYW1lU3lzdGVtVHlwZS5ETkQ1RSlcclxuICAgIC53aXRoRmFicmljYXRvcihmYWJyaWNhdG9yKTtcclxuXHJcbmV4cG9ydCB7QWxjaGVtaXN0c1N1cHBsaWVzU3lzdGVtU3BlY307Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scripts/registries/system_definitions/AlchemistsSuppliesV11.ts\n");

/***/ })

/******/ });